System.register("alis/app.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-splitter>\n    <ons-splitter-side id="menu" ref="_menu" side="left" collapse swipeable swipe-target-width="1">\n      <ons-page>\n        <ons-list modifier="noborder">\n          <ons-list-item repeat.for="nav of router.navigation" click.delegate="navigateTo(nav)" modifier="nodivider">\n            <span class="center">${nav.title}</span>\n          </ons-list-item>\n        </ons-list>\n      </ons-page>\n    </ons-splitter-side>\n    <ons-splitter-content>\n      <ons-navigator></ons-navigator>\n    </ons-splitter-content>\n  </ons-splitter>\n</template>\n')}}}),System.register("alis/app.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","./services/db"],function(a,b){"use strict";var c,d,e,f,g,h,i;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.inject},function(a){f=a.Database}],execute:function(){a("App",i=(g=e(f))(h=function(){function a(b){c(this,a),this.db=b}return d(a,[{key:"activate",value:function(){return this.db.loadData().catch(function(){})}},{key:"configureRouter",value:function(a,b){a.title="Höranlagen",a.map([{route:["","home"],name:"home",moduleId:"./pages/home",nav:!1},{route:"list",name:"list",moduleId:"./pages/list",nav:!1,options:{animation:"lift"}},{route:"help",name:"help",moduleId:"./pages/help/index",nav:!0,title:"Hilfe",settings:{}},{route:"help/reception",name:"help-reception",moduleId:"./pages/help/reception",nav:!1,title:"Drahtloser Empfang",settings:{category:"help"}},{route:"help/hearing-loop",name:"help-hearing-loop",moduleId:"./pages/help/hearing-loop",nav:!1,title:"Informationen zu Höranlagen",settings:{category:"help"}},{route:"help/symbols",name:"help-symbols",moduleId:"./pages/help/symbols",nav:!1,title:"Symbole",settings:{category:"help"}},{route:"sponsors",name:"sponsors",moduleId:"./pages/sponsors",nav:!0,title:"Sponsoren",settings:{}},{route:"impressum",name:"impressum",moduleId:"./pages/impressum",nav:!0,title:"Impressum",settings:{}},{route:"room/:id",name:"room",moduleId:"./pages/room/info",nav:!1},{route:"room/:id/plan",name:"room-plan",moduleId:"./pages/room/plan",nav:!1}]),this.router=b}},{key:"navigateTo",value:function(a){this._menu.close(),this.router.navigateToRoute(a.config.name)}}]),a}())||h),a("App",i)}}}),System.register("alis/environment.js",[],function(a,b){"use strict";return{setters:[],execute:function(){a("default",{debug:!0,testing:!1})}}}),System.register("alis/main.js",["aurelia-binding","aurelia-bootstrapper","aurelia-event-aggregator","aurelia-framework","aurelia-dependency-injection","aurelia-history-browser","aurelia-loader-default","aurelia-logging-console","aurelia-metadata","aurelia-pal-browser","aurelia-path","aurelia-polyfills","aurelia-route-recognizer","aurelia-router","aurelia-templating","aurelia-templating-binding","aurelia-templating-resources","aurelia-templating-router","aurelia-onsenui","whatwg-fetch","./environment"],function(a,b){"use strict";function c(a){a.use.basicConfiguration().history().plugin("aurelia-onsenui").feature("alis/resources"),d.debug&&a.use.developmentLogging(),d.testing&&a.use.plugin("aurelia-testing"),a.start().then(function(){return a.setRoot()})}var d;return a("configure",c),{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){d=a.default}],execute:function(){}}}),System.register("alis/pages/help/hearing-loop.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <iframe width="100%" src="https://www.youtube.com/embed/pOHBhKu7pO8" frameborder="0" allowfullscreen></iframe>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/help/hearing-loop.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("HearingLoop",e=function(){function a(){c(this,a)}return d(a,[{key:"activate",value:function(a,b){this.title=b.title}}]),a}()),a("HearingLoop",e)}}}),System.register("alis/pages/help/index.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <ons-list>\n      <ons-list-item repeat.for="item of navigation" click.delegate="navigateTo(item)">\n        ${item.title}\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/help/index.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","aurelia-router"],function(a,b){"use strict";var c,d,e,f,g,h,i;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.inject},function(a){f=a.Router}],execute:function(){a("Index",i=(g=e(f))(h=function(){function a(b){c(this,a),this.router=b,this.navigation=b.routes.filter(function(a){return"help"===a.settings.category})}return d(a,[{key:"activate",value:function(a,b){this.title=b.title}},{key:"navigateTo",value:function(a){this.router.navigateToRoute(a.name)}}]),a}())||h),a("Index",i)}}}),System.register("alis/pages/help/reception.css!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",".page .page__background {\n  background-color: #fff;\n}\n")}}}),System.register("alis/pages/help/reception.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <require from ="./reception.css"></require>\n  <ons-page class="page">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <div>\n      <img width="100%" src="https://zeta.hoeranlagenverzeichnis.ch/images/InduktiveAntenne.jpg" alt="">\n    </div>\n    <div style="margin:0 10px 10px;">\n      Ein Hörsystem vergfügt in der Regel über eine induktive Antenne,\n      die für das Telefonieren mit einem Smartphone vorgesehen ist. Schalten\n      Sie Ihr Hörsystem auf induktivem Empfang um, und der Gesprächspartner\n      wird klar und deutlich verständlich, ohne Hintergrundlärm. Fragen Sie\n      Ihren Hörsystemakustiker, wie dieser induktiver Empfang eingeschaltet\n      wird.\n    </div>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/help/reception.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Reception",e=function(){function a(){c(this,a)}return d(a,[{key:"activate",value:function(a,b){this.title=b.title}}]),a}()),a("Reception",e)}}}),System.register("alis/pages/help/symbols.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <ons-list>\n      <ons-list-header>Technologien</ons-list-header>\n      <ons-list-item repeat.for="technology of technologies">\n        <span class="left" style="align-self:flex-start;">\n          <img src="${technology.image}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          <span class="list-item__title">${technology.title}</span>\n          <span class="list-item__subtitle">${technology.description}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n    <ons-list>\n      <ons-list-header>Bewertungen</ons-list-header>\n      <ons-list-item repeat.for="rating of ratings">\n        <span class="left" style="align-self:flex-start;">\n          <img src="${rating.image}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          <span class="list-item__title">${rating.title}</span>\n          <span class="list-item__subtitle">${rating.description}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/help/symbols.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","../../services/db"],function(a,b){"use strict";var c,d,e,f,g,h,i;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.inject},function(a){f=a.Database}],execute:function(){a("Symbols",i=(g=e(f))(h=function(){function a(b){c(this,a),this.db=b}return d(a,[{key:"activate",value:function(a,b){this.title=b.title,this.technologies=this.db.data.technologies,this.ratings=[{image:this.getRatingImageUrl(1),title:"Grüne Raute",description:"Geprüfte Höranlage gemäss Norm."},{image:this.getRatingImageUrl(2),title:"Gelbe Raute",description:"Überprüfte Höranlage (nicht nach Norm geprüft oder mit Mängeln)."},{image:this.getRatingImageUrl(3),title:"Weisse Raute",description:"Nicht überprüfte Höranlage, keine Bewertung. "}]}},{key:"getRatingImageUrl",value:function(a){var b="resources/symbols/";switch(a){case 1:b+="r32_green.png";break;case 2:b+="r32_yellow.png";break;default:b+="r32_white.png"}return b}}]),a}())||h),a("Symbols",i)}}}),System.register("alis/pages/home.css!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",".leaflet-system-icon div {\n  background-color: #4E342E;\n  border-radius: 50%;\n  border: 1.5px solid #ffffff;\n  line-height: 25px;\n  font-size: 12px;\n  color: #ffffff;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n.leaflet-system-icon div span {\n  color: #fff;\n}\n.leaflet-system-icon .ion {\n  font-size: 17px;\n  line-height: 1em;\n  vertical-align: -2px;\n}\n.leaflet-system-icon .mki {\n  font-size: 20px;\n  line-height: 1em;\n}\n.leaflet-system-icon .mki.mki-chapel,\n.leaflet-system-icon .mki.mki-building {\n  vertical-align: -2px;\n  font-size: 22px;\n}\n.leaflet-system-icon .mki.mki-museum {\n  vertical-align: -1px;\n}\n.leaflet-system-icon .mki.mki-court_house {\n  vertical-align: -2px;\n}\n.leaflet-system-icon .mki.mki-theatre {\n  vertical-align: -3px;\n}\n\n.marker-cluster-small {\n  line-height: 22px;\n}\n.marker-cluster-medium {\n  line-height: 26px;\n}\n.marker-cluster-large {\n  line-height: 30px;\n}\n\n.marker-cluster {\n\tbackground-clip: padding-box;\n\tborder-radius: 100%;\n  font-size: 12px;\n  background-color: rgba(78, 56, 42, 0.6);\n  border: 5px solid rgba(78, 56, 42, 0.2);\n}\n.marker-cluster div {\n\ttext-align: center;\n\tborder-radius: 15px;\n  color: #fff;\n  line-height: inherit;\n}\n\n.leaflet-container .leaflet-google-mutant .gmnoprint {\n  display: none;\n}\n.leaflet-container .leaflet-google-mutant .gmnoprint.gm-style-cc {\n  display: inherit;\n}\n\n.toolbar.searchbar {\n  padding: 5px 10px 0;\n}\n\n.toolbar.searchbar.floating + .page__background + .page__content {\n    margin-top: -1px;\n    top: 0;\n}\n\n.toolbar.searchbar.toolbar--transparent .center {\n  box-shadow: 0 1px 5px rgba(0,0,0,.3);\n  border-color: transparent;\n}\n\n.toolbar.searchbar .toolbar-button {\n  color: #666;\n  margin: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  border: none;\n}\n.toolbar.searchbar.toolbar--material .toolbar-button--material {\n  color: #666;\n  margin: 0;\n  border: none;\n}\n.toolbar.searchbar.toolbar--material .toolbar-button--material .ons-icon,\n.toolbar.searchbar.toolbar--material .ons-icon  {\n  width: 22px;\n  font-size: 22px;\n  text-align: center;\n}\n.toolbar.searchbar .toolbar-button .ons-icon, .toolbar.searchbar .ons-icon {\n  width: 17px;\n  text-align: center;\n}\n\n.toolbar.searchbar .left, .toolbar.searchbar .right {\n  min-width: auto;\n  width: auto;\n}\n.toolbar.searchbar .center {\n  flex: 1;\n  display: flex;\n  height: 34px;\n  line-height: 34px;\n  border-radius: 4px;\n  background-color: #fff;\n  max-width: 100%;\n}\n.toolbar.searchbar.toolbar--material .center {\n  height: 46px;\n  line-height: 46px;\n}\n.toolbar.searchbar .search-input {\n  width: 100%;\n  height: 100%;\n  background-image: none;\n  background-color: transparent;\n  border: none;\n  font-size: 17px;\n  padding: 0 8px;\n  line-height: inherit;\n}\n\n.card {\n  margin: 10px;\n  /*border: 1px solid #ccc;*/\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 10px;\n  box-shadow: 0 1px 5px rgba(0,0,0,.3);\n}\n\n.category-item {\n  width: 33%;\n  text-align:center;\n}\n.category-item .category-label {\n  padding-top:5px;\n  font-size:13px;\n  max-width:100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #666;\n}\n\n.category-item .ons-icon {\n  font-size: 30px;\n}\n.category-item .ons-icon.mki {\n  font-size: 34px;\n}\n.category-item .ons-icon.mki.mki-chapel,\n.category-item .ons-icon.mki.mki-building {\n  font-size: 38px;\n  margin-top: 2px;\n}\n.category-item .ons-icon.mki.mki-museum,\n.category-item .ons-icon.mki.mki-court_house {\n  margin-top: 2px;\n}\n\n.category-item .ons-icon.mki.mki-theatre {\n  margin-top: 3px;\n}\n")}}}),System.register("alis/pages/home.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <require from="./home.css"></require>\n  <ons-page>\n    <ons-toolbar modifier="" class="searchbar">\n      <div class="left">\n      </div>\n      <div class="center">\n        <ons-toolbar-button click.delegate="showMenu()">\n          <ons-icon icon="ion-navicon, material:md-menu"></ons-icon>\n        </ons-toolbar-button>\n        <div style="flex:1" click.delegate="showSearch()">\n          <input type="search" class="search-input" placeholder="Höranlage suchen..." value.bind="searchText" />\n        </div>\n        <ons-toolbar-button if.bind="searchText" click.delegate="clearSearch()">\n          <ons-icon icon="ion-ios-close-empty, material:md-close"></ons-icon>\n        </ons-toolbar-button>\n      </div>\n      <div class="right">\n      </div>\n    </ons-toolbar>\n    <div style="display:flex;flex-direction:column;height:100%;">\n      <div ref="_map" style="flex:1;width:100%;"></div>\n      <div show.bind="selection" style="position:relative;max-height:60%;height:auto;z-index:10000;display:flex;" ref="roomlist">\n        <ons-button style="position:fixed;right:0;left:auto;margin-top:-16px;z-index:10000;" modifier="quiet">\n          <ons-icon icon="ion-record,material:md-circle" size="2x" style="color:#fff;"></ons-icon>\n        </ons-button>\n        <ons-button click.trigger="deselect()" style="position:fixed;right:0;left:auto;margin-top:-16px;z-index:10001;" modifier="quiet">\n          <ons-icon icon="ion-ios-close,material:md-close-circle" size="2x"></ons-icon>\n        </ons-button>\n        <ons-list style="flex:1;overflow-y:scroll;">\n          <template if.bind="selection.rooms.length === 1">\n            <ons-list-header if.bind="selection.name && selection.name !== getRoomName(selection.rooms[0])">\n              <span>${selection.name}</span>\n            </ons-list-header>\n            <template repeat.for="org of selection.organisations">\n              <ons-list-item repeat.for="room of org.rooms" tappable click.trigger="showRoom(room)" style="margin-bottom:0px;">\n                <span class="list-item__title">\n                  <span>${getRoomName(room)}</span>\n                </span>\n                <span class="list-item__subtitle" if.bind="room.organisation">\n                  <span>${room.organisation}</span>\n                </span>\n              </ons-list-item>\n            </template>\n          </template>\n          <template if.bind="selection.rooms.length > 1">\n            <ons-list-header if.bind="selection.name">\n              <span>${selection.name}</span>\n            </ons-list-header>\n              <template repeat.for="org of selection.organisations">\n                <ons-list-item repeat.for="room of org.rooms" tappable click.trigger="showRoom(room)" style="margin-bottom:0px;">\n                  <span class="list-item__title">\n                    <span>${getRoomName(room)}</span>\n                  </span>\n                  <span class="list-item__subtitle" if.bind="room.organisation">\n                    <span>${room.organisation}</span>\n                  </span>\n                </ons-list-item>\n              </template>\n          </template>\n        </ons-list>\n      </div>\n      \x3c!-- <ons-bottom-toolbar show.bind="!selection" style="position:relative;">\n        <div style="line-height:44px;padding:0 16px;" click.trigger="showList()">\n            Liste anzeigen\n        </div>\n      </ons-bottom-toolbar> --\x3e\n    </div>\n  </ons-page>\n    <ons-modal ref="_search">\n      <ons-page>\n        <ons-toolbar modifier="transparent" class="searchbar">\n          <div class="left">\n          </div>\n          <div class="center">\n            <ons-toolbar-button click.delegate="cancelSearch()">\n              <ons-icon icon="ion-ios-arrow-back, material:md-arrow-left"></ons-icon>\n            </ons-toolbar-button>\n            <form style="flex:1;" submit.delegate="onSearch()">\n              <input ref="_searchinput" type="search" class="search-input" placeholder="Höranlage suchen..." value.bind="currentSearchText" input.trigger="onSearchInput()" />\n            </form>\n            <ons-toolbar-button show.bind="currentSearchText" click.delegate="clearCurrentSearch()">\n              <ons-icon icon="ion-ios-close-empty, material:md-close"></ons-icon>\n            </ons-toolbar-button>\n          </div>\n          <div class="right">\n          </div>\n        </ons-toolbar>\n        <div class="card" if.bind="!currentSearchText">\n          <div style="display:flex;flex-wrap:wrap;align-items:flex-start;">\n            <div class="category-item" repeat.for="category of categories">\n              <div style="padding:10px 5px;" click.delegate="searchCategory(category)">\n                <ons-button css="width:48px;height:48px;border-radius:100%;line-height:48px;padding:0;background-color:${category.icon.color};">\n                  <span class="category ons-icon ${category.icon.prefix} ${category.icon.prefix}-${category.icon.name}"></span>\n                </ons-button>\n                <div class="category-label">${category.typ}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="card" style="padding:0;" if.bind="currentSearchText">\n          <ons-list>\n            <ons-list-item repeat.for="location of currentResults.locations" tappable modifier="longdivider" click.delegate="onLocationResultClick(location)">\n              <div class="left"></div>\n              <div class="center">\n                <span class="list-item__title">${location.name}</span>\n              </div>\n            </ons-list-item>\n            <template repeat.for="building of currentResults.buildings">\n              <ons-list-item repeat.for="org of building.organisations" tappable modifier="longdivider" click.delegate="onBuildingResultClick(building)">\n                <div class="left"></div>\n                <div class="center">\n                  <span class="list-item__title">${building.name || org.name}</span>\n                  <span class="list-item__subtitle">\n                    <span if.bind="building.name">${org.name}</span>\n                    <br if.bind="building.name"/>\n                    <span>${building.strasse_nr}, ${building.plz} ${building.ort}</span>\n                  </span>\n                </div>\n              </ons-list-item>\n            </template>\n          </ons-list>\n        </div>\n      </ons-page>\n    </ons-modal>\n</template>\n')}}}),System.register("alis/services/search.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","./db"],function(a,b){"use strict";var c,d,e,f,g,h,i;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.inject},function(a){f=a.Database}],execute:function(){a("Search",i=(g=e(f))(h=function(){function a(b){c(this,a),this.db=b}return d(a,[{key:"execute",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,d={locations:[],buildings:[]};if(a=a.trim(),a.length<3)return d;a=a.toLowerCase().split(" ").filter(function(a){return""!==a});for(var e=0;e<this.db.data.locations.length;e++){for(var f=this.db.data.locations[e],g=(f.name+" "+f.plzs).toLowerCase(),h=0,i=0;i<a.length;i++){var j=a[i];g.indexOf(j)>-1&&h++}if(h===a.length&&d.locations.push(f),3===d.locations.length)break}for(var k=function(e){var f=b.db.data.buildings[e],g=f.name+" "+f.strasse_nr+" "+f.ort+" "+f.plz+" "+f.kanton.kantonkuerzel;f.organisations.forEach(function(a){g=g+" "+a.name}),f.rooms.forEach(function(a){var c=b.db.data.roomtypes.find(function(b){return b.typID===a.typID});g=g+" "+c.typ}),g=g.toLowerCase();for(var h=0,i=0;i<a.length;i++){var j=a[i];g.indexOf(j)>-1&&h++}if(h===a.length&&d.buildings.push(f),d.buildings.length===c)return"break"},l=0;l<this.db.data.buildings.length;l++){if("break"===k(l))break}return d}}]),a}())||h),a("Search",i)}}}),System.register("alis/services/storage.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Storage",e=function(){function a(){c(this,a),this.stores={local:localStorage,session:sessionStorage}}return d(a,[{key:"getItem",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";return JSON.parse(this.stores[b].getItem(a))}},{key:"setItem",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"local";this.stores[c].setItem(a,JSON.stringify(b))}}]),a}()),a("Storage",e)}}}),System.register("alis/pages/home.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","onsenui","aurelia-router","aurelia-framework","../services/db","../services/search","../services/storage"],function(a,b){"use strict";function c(a,b,c,d){c&&Object.defineProperty(a,b,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(d):void 0})}function d(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return{setters:[function(a){e=a.default},function(a){f=a.default},function(a){g=a.default},function(a){h=a.Router},function(a){i=a.inject,j=a.bindable},function(a){k=a.Database},function(a){l=a.Search},function(a){m=a.Storage}],execute:function(){a("Home",s=(n=i(h,k,m,l))((p=function(){function a(b,d,f,g){e(this,a),c(this,"selection",q,this),c(this,"currentResults",r,this),this.router=b,this.db=d,this.storage=f,this.search=g}return f(a,[{key:"attached",value:function(){g.platform.isAndroid()&&this._map.classList.add("map--material"),this.map=L.map(this._map,{attributionControl:!1}),this.basemap=L.gridLayer.googleMutant({type:"roadmap",styles:[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}]}).addTo(this.map),this.buildingsLayer=L.markerClusterGroup({maxClusterRadius:function(a){return a<13?80:a<15?50:a<17?30:20},iconCreateFunction:function(a){var b=a.getChildCount(),c=" marker-cluster-",d=22;return b<10?c+="small":b<100?(c+="medium",d=26):(c+="large",d=30),new L.DivIcon({html:"<div>"+b+"</div>",className:"marker-cluster"+c,iconSize:d})}}).addTo(this.map),this.markers=L.featureGroup().addTo(this.map),this.locateControl=L.control.locate({showPopup:!1,locateControl:{}}).addTo(this.map),this.locateControl._start=this.locateControl.start.bind(this.locateControl),this.locateControl._stop=this.locateControl.stop.bind(this.locateControl),this.locateControl._setView=this.locateControl.setView.bind(this.locateControl),this.locateControl.stop=this.onLocateControlStop.bind(this),this.locateControl.start=this.onLocateControlStart.bind(this),this.locateControl.setView=this.onLocateControlSetView.bind(this);var a=this.storage.getItem("mapbounds");a?this.map.fitBounds(a):this.map.setView([46.801111,8.226667],7),this.storage.getItem("geolocation")&&this.locateControl.start(),this.map.on("moveend",this.updateMapView,this),this.markers.on("click",this.onMarkerClick,this),this.buildingsLayer.on("click",this.onBuildingClick,this),this.buildingsLayer.on("dblclick",this.onBuildingDoubleClick,this),this.buildings=this.db.data.buildings,this.categories=this.db.data.roomtypes}},{key:"onBuildingClick",value:function(a){this.selection===a.layer.data&&1===this.selection.rooms.length?this.showRoom(this.selection.rooms[0]):this.selection=a.layer.data}},{key:"onBuildingDoubleClick",value:function(a){this.selection=a.layer.data,1===this.selection.rooms.length&&this.showRoom(this.selection.rooms[0])}},{key:"onMarkerClick",value:function(a){this.selection&&1===this.selection.rooms.length&&this.showRoom(this.selection.rooms[0])}},{key:"deselect",value:function(){this.selection=null}},{key:"selectionChanged",value:function(a,b){var c=this;this.markers.clearLayers(),a?function(){var b=L.marker([a.lat,a.lng]);c.markers.addLayer(b),c.roomlist.scrollTop=0,setTimeout(function(){c.map.invalidateSize({pan:!1}),c.map.getBounds().contains(b.getLatLng())||(c.locateControl._onDrag(),c.map.setView(b.getLatLng(),c.map.getZoom()),b._bringToFront())},50)}():setTimeout(function(){c.map.invalidateSize({pan:!1})},50)}},{key:"updateMapView",value:function(a){var b=a.target.getBounds();this.storage.setItem("mapbounds",[[b.getSouth(),b.getWest()],[b.getNorth(),b.getEast()]])}},{key:"onLocateControlStart",value:function(){this.storage.setItem("geolocation",!0),this.locateControl.isLocatingStart=!0,this.locateControl._start()}},{key:"onLocateControlStop",value:function(){this.storage.setItem("geolocation",!1),this.locateControl._stop()}},{key:"onLocateControlSetView",value:function(){this.locateControl.isLocatingStart?(this.locateControl.isLocatingStart=!1,this.locateControl.options.keepCurrentZoomLevel=!1,this.locateControl.options.locateOptions.maxZoom=this.map.getZoom()<15?15:this.map.getZoom(),this.locateControl._setView(),this.locateControl.options.keepCurrentZoomLevel=!0,this.locateControl.options.locateOptions.maxZoom=1/0):this.locateControl._setView()}},{key:"getRoomName",value:function(a){var b=(a.raum+" "+a.raumnummer).trim();if(b||(b=a.gebaeude),!b){b=this.db.data.roomtypes.find(function(b){return b.typID===a.typID}).typ}return b}},{key:"showMenu",value:function(){document.getElementById("menu").open()}},{key:"showSearch",value:function(){this._search.show(),this._searchinput.focus(),this.isSearching=!0,this.currentSearchText=this.searchText,this.currentResults=this.results}},{key:"cancelSearch",value:function(){this._search.hide(),this.currentSearchText="",this.currentResults={},this.isSearching=!1}},{key:"clearSearch",value:function(){this.searchText=this.currentSearchText="",this.buildings=this.db.data.buildings,this.selection=null}},{key:"showList",value:function(){this.router.navigateToRoute("list")}},{key:"showRoom",value:function(a){this.router.navigateToRoute("room",{id:a.anlageID})}},{key:"searchCategory",value:function(a){this.isFiltered=!0,this._search.hide(),this.searchText=this.currentSearchText=a.typ,this.buildings=this.db.queryBuildingsByRoomType(a),this.results=this.currentResults={buildings:this.buildings,locations:[]},this.selection=null,this.zoomToNearest()}},{key:"zoomToNearest",value:function(){var a=this.map.getCenter(),b=L.GeometryUtil.closestLayer(this.map,this.buildingsLayer.getLayers(),a);if(!this.map.getBounds().contains(b.layer.getLatLng())){var c=L.latLngBounds(b.layer.getLatLng(),a);this.locateControl._onDrag(),this.map.fitBounds(c,{maxZoom:this.map.getZoom(),padding:[40,40]})}}},{key:"clearCurrentSearch",value:function(){this.currentSearchText="",this.currentResults={buildings:[],locations:[]},this._searchinput.focus()}},{key:"onBuildingResultClick",value:function(a){var b=this;this.isFiltered||(this.buildings=this.db.data.buildings),this.searchText=this.currentSearchText,this.results=this.currentResults,this.selection=null,this._search.hide(),this.map.once("moveend",function(){b.selection=a}),this.locateControl._onDrag(),this.map.setView([a.lat,a.lng],17)}},{key:"onLocationResultClick",value:function(a){this.isFiltered||(this.buildings=this.db.data.buildings),this.searchText=this.currentSearchText,this.results=this.currentResults,this.selection=null,this._search.hide(),this.locateControl._onDrag(),this.map.fitBounds(a.bounds)}},{key:"onSearch",value:function(){this.currentResults=this.search.execute(this.currentSearchText,20)}},{key:"onSearchInput",value:function(){this.isFiltered=!1,this.currentResults=this.search.execute(this._searchinput.value,10)}},{key:"buildings",set:function(a){var b=this;this.buildingsLayer.clearLayers(),a.forEach(function(a){var c=void 0,d=a.icon;c=d?L.divIcon({className:"leaflet-system-icon",iconSize:28,html:'<div style="background-color:'+d.color+'"><span class="ons-icon '+d.prefix+" "+d.prefix+"-"+d.name+'"></span></div>'}):L.divIcon({className:"leaflet-system-icon",iconSize:28,html:"<div>"+a.rooms.length+"</div>"});var e=L.marker([a.lat,a.lng],{icon:c});e.data=a,b.buildingsLayer.addLayer(e)})},get:function(){return this.buildingsLayer.getLayers().map(function(a){return a.data})}}]),a}(),q=d(p.prototype,"selection",[j],{enumerable:!0,initializer:null}),r=d(p.prototype,"currentResults",[j],{enumerable:!0,initializer:null}),o=p))||o),a("Home",s)}}}),System.register("alis/pages/impressum.css!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",".page .page__background {\n  background-color: #fff;\n}\n\n.page h2 {\n  font-size: 17px;\n  font-weight: 500;\n}\n\n.page.page--material h2 {\n  font-size: 20px;\n}\n")}}}),System.register("alis/pages/impressum.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <require from ="./impressum.css"></require>\n  <ons-page class="page">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <div style="margin: 0 10px">\n      <p>\n        <strong>Adresse</strong><br/>\n        Verantwortlich für den Inhalt dieser App ist:<br/><br/>\n        IGGH Interessengemeinschaft Gehörlose und Hörbehinderte<br/>\n        Belpstrasse 24<br/>\n        3007 Bern\n      </p>\n      <h2>Disclaimer</h2>\n      <p>\n        <strong>Keine Garantie</strong><br/>\n        Die Inhalte dieser App stellen ein unverbindliches\n        Informationsangebot dar. Die IGGH gewährleistet weder deren Aktualität,\n        Richtigkeit, Zuverlässigkeit, Vollständigkeit noch deren Qualität.\n        Die Nutzung erfolgt auf eigenes Risiko der Besucherin oder des\n        Besuchers. Die IGGH haftet auf keinen Fall für Schäden oder\n        Folgeschäden materieller oder ideeller Art, die sich aus der Nutzung\n        oder Nichtnutzung der angebotenen Informationen, aus der\n        missbräuchlichen Verwendung oder als Folge von technischen Störungen\n        ergeben. Die IGGH behält sich die Veränderung oder Löschung von\n        Informationen jederzeit und ohne vorherige Ankündigung vor.<br/><br/>\n\n        <strong>Haftungsbeschränkung</strong><br/>\n        Die IGGH haftet für keinen direkten oder indirekten Schaden, der durch\n        den Zugriff oder die Nutzung dieser App oder der darin\n        veröffentlichten Informationen entstand.<br/><br/>\n\n        <strong>Verknüpfte Internetseiten</strong><br/>\n        Die IGGH überprüft keine der mit den IGGH-Internetseiten verknüpften\n        Seiten und übernimmt keine Haftung für deren Inhalt und für allfällige\n        angebotene Leistungen. Der Besuch solcher Seiten erfolgt auf eigenes\n        Risiko der Nutzerin / des Nutzers.<br/><br/>\n\n        <strong>Datenschutz</strong><br/>\n        Die IGGH behandelt die ihr überlassenen persönlichen Daten streng\n        vertraulich und schützt die Interessen der Nutzerinnen und Nutzer.\n        Persönliche Daten werden weder an Dritte verkauft noch weitergegeben.\n        Die IGGH bemüht sich in angemessener Weise, die Datenbanken vor\n        fremden Zugriffen, Verlusten und Missbrauch oder vor Fälschung zu\n        schützen. Die IGGH kann dafür aber keine Garantie übernehmen.<br/><br/>\n        Die Internetseite der IGGH ist grundsätzlich ohne Angaben von\n        Personalien zugänglich. In enger Zusammenarbeit mit den\n        Hosting-Partnern bemühen wir uns, die Datenbanken mit allen Mitteln\n        vor fremden Zugriffen, Verlusten, Missbrauch oder vor Fälschung zu\n        schützen. Beim Besuch registrieren die Webserver des Hosting-Providers\n        der IGGH unpersönliche Nutzungsdaten. Die Logfiles geben Auskunft über\n        die Anzahl Zugriffe auf die Homepage der IGGH. Die Nutzungsdaten\n        werden nicht mit persönlichen Daten verknüpft.<br/><br/>\n        Eine Ausnahme bildet die freiwillige Kontaktaufnahme mit uns. Alle\n        Dateien, die Sie uns übermitteln, werden streng vertraulich behandelt.\n        Wir erfassen und speichern sie nur soweit, wie es Ihre Anmeldung und\n        Anfrage erfordert. Der Zugang zu dieser App und die Übertragung\n        von E-Mails an uns sind unverschlüsselt. Es ist theoretisch möglich,\n        dass Dateien unvollständig oder von Dritten eingesehen werden könnten.\n        Aus diesem Grund bitten wir Sie, uns keine vertraulichen Daten per\n        E-Mail zu übermitteln. Anfragen, welche wir per E-Mail erhalten,\n        beantworten wir üblicherweise auch per E-Mail. Sollten Sie dies nicht\n        wünschen, bitten wir Sie, dies in Ihrer Anfrage anzumerken.<br/><br/>\n\n        <strong>Copyright</strong><br/>\n        Für sämtliche Inhalte dieser App (Bilder, Grafiken, Texte, Video\n        usw.) hat die IGGH das Urheberrecht (alle Rechte vorbehalten). Durch\n        das Herunterladen oder Kopieren von Inhalten, Bildern, Fotos und\n        anderen Dateien werden keinerlei Rechte bezüglich der Inhalte\n        übertragen. Für die Reproduktion und Weitergabe jeglicher Elemente ist\n        die schriftliche Zustimmung der IGGH im Voraus einzuholen.<br/><br/>\n\n        Copyright © IGGH Interessengemeinschaft, Gehörlose und Hörbehinderte<br/>\n        Belpstrasse 24, 3007 Bern\n      </p>\n    </div>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/impressum.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js"],function(a,b){"use strict";var c,d;return{setters:[function(a){c=a.default}],execute:function(){a("Impressum",d=function a(){c(this,a)}),a("Impressum",d)}}}),System.register("alis/pages/list.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">${title}</div>\n    </ons-toolbar>\n\n    Some content ...\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/list.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","aurelia-framework","aurelia-router"],function(a,b){"use strict";var c,d,e,f,g,h;return{setters:[function(a){c=a.default},function(a){d=a.inject},function(a){e=a.Router}],execute:function(){a("List",h=(f=d(e))(g=function a(b){c(this,a),this.title="Anlagen",this.router=b})||g),a("List",h)}}}),System.register("alis/pages/room/info.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">${getRoomName()}</div>\n    </ons-toolbar>\n    <div if.bind="getPhotoUrl()" css="background-image:url(\'${getPhotoUrl()}\');background-repeat:no-repeat;background-size:cover;background-position:center;width:100%;height:35%;">\n    </div>\n    <ons-list>\n      <ons-list-item if.bind="data.strasse_nr || data.plz || data.org" tappable>\n        <span class="left">\n          <ons-icon icon="ion-ios-location,material:md-pin" fixed-width="true"></ons-icon>\n        </span>\n        <span class="center">\n          ${data.gebaeude}<template if.bind="data.organisation && data.gebaeude">, </template>${data.organisation}<br/>\n          ${data.strasse_nr}, ${data.plz} ${data.ort}\n      </ons-list-item>\n      <ons-list-item if.bind="data.webadresse" click.trigger="openWebsite()" tappable modifier="chevron" >\n        <span class="left">\n          <ons-icon icon="md-globe" fixed-width="true"></ons-icon>\n        </span>\n        <span class="center">Website</span>\n      </ons-list-item>\n      <ons-list-item tappable modifier="chevron" if.bind="hasRoomPlan()" click.trigger="showRoomPlan()">\n        <span class="left" style="">\n          <ons-icon icon="ion-map" fixed-width="true"></ons-icon>\n        </span>\n        <span class="center">\n          Raumplan\n        </span>\n      </ons-list-item>\n      <ons-list-header>\n        Höranlage\n      </ons-list-header>\n      <ons-list-item>\n        <span class="left" style="">\n          <img src="${getTechImageUrl()}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          ${getTechName()}\n        </span>\n      </ons-list-item>\n      <ons-list-item>\n        <span class="left" style="">\n          <img src="${getRatingImageUrl()}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          ${getRatingName()}\n        </span>\n      </ons-list-item>\n      <ons-list-item if.bind="data.bemerkung">\n        ${data.bemerkung}\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/room/info.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","aurelia-router","../../services/db"],function(a,b){"use strict";var c,d,e,f,g,h,i,j;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.inject},function(a){f=a.Router},function(a){g=a.Database}],execute:function(){a("Info",j=(h=e(f,g))(i=function(){function a(b,d){c(this,a),this.router=b,this.db=d}return d(a,[{key:"activate",value:function(a){var b=parseInt(a.id);this.data=this.db.data.systems.find(function(a){return a.id===b})}},{key:"getRoomName",value:function(){var a=this,b=(this.data.raum+" "+this.data.raumnummer).trim();if(b||(b=this.data.gebaeude),!b){b=this.db.data.roomtypes.find(function(b){return b.typID===a.data.typID}).typ}return b}},{key:"openWebsite",value:function(){window.open(this.data.webadresse,"_system")}},{key:"hasRoomPlan",value:function(){return"transp.png"!==this.data.plan1_dateiname||"transp.png"!==this.data.plan2_dateiname}},{key:"showRoomPlan",value:function(){this.router.navigateToRoute("room-plan",{id:this.data.id})}},{key:"getPhotoUrl",value:function(){var a=this.data.foto_dateiname;return a&&"transp.png"!==a?"//www.zeta.hoeranlagenverzeichnis.ch/admin/images/image_front/"+a:null}},{key:"getTechImageUrl",value:function(){var a=this;return"resources/symbols/"+this.db.data.technologies.find(function(b){return b.techID===a.data.techID}).technologie+".png"}},{key:"getTechName",value:function(){var a=this;return this.db.data.technologies.find(function(b){return b.techID===a.data.techID}).technologie}},{key:"getRatingImageUrl",value:function(){var a="resources/symbols/";switch(this.data.bewertung){case 1:a+="r32_green.png";break;case 2:a+="r32_yellow.png";break;default:a+="r32_white.png"}return a}},{key:"getRatingName",value:function(){var a="";switch(this.data.bewertung){case 1:a="Geprüfte Höranlage gemäss Norm";break;case 2:a="Geprüfte Höranlage nicht nach Norm";break;default:a="Nicht überprüfte Höranlage"}return a}}]),a}())||i),a("Info",j)}}}),System.register("alis/pages/room/plan.css!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default","ons-select.no-underbar select.select-input--material {\n  background-image: none;\n  padding: 0;\n}\n")}}}),System.register("alis/pages/room/plan.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <require from="./plan.css"></require>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">${getRoomName()}</div>\n    </ons-toolbar>\n    <ons-list if.bind="plans.length > 0" style="display:flex;flex-direction:column;height:100%;">\n      <ons-list-item modifier="longdivider" if.bind="plans.length === 1">\n        Raumplan\n      </ons-list-item>\n      <ons-list-item modifier="longdivider" if.bind="plans.length > 1">\n        <ons-select style="width:100%;" value.bind="plan" class="no-underbar">\n          <option repeat.for="plan of plans" value.bind="plan.value">${plan.text}</option>\n        </ons-select>\n      </ons-list-item>\n      <ons-list-item style="flex:1;padding:0 0 0 0;">\n        <div class="center" style="min-height:auto;padding:1px 0 0 0"><div ref="planmap" style="width:100%;height:100%;"></div></div>\n      </ons-list-item>\n    </ons-list>\n    <div if.bind="plans.length === 0" style="padding:0 12px;">\n      <p>\n        Für diesen Raum wurden keine Pläne gefunden.\n      </p>\n    </div>\n  </ons-page>\n</template>\n')}}}),System.register("alis/models/building.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","../services/db"],function(a,b){"use strict";var c,d,e,f,g;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.Container},function(a){f=a.Database}],execute:function(){a("Building",g=function(){function a(b){c(this,a),Object.assign(this,b),this.db=e.instance.get(f)}return d(a,[{key:"icon",get:function(){var a=this.roomtypes;return 1===a.length?a[0].icon:null}},{key:"roomtypes",get:function(){return this.rooms.reduce(function(a,b){var c=b.roomtype;return-1===a.indexOf(c)&&a.push(c),a},[])}}],[{key:"tablename",get:function(){return"buildings"}}]),a}()),a("Building",g)}}}),System.register("alis/models/canton.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Canton",e=function(){function a(b){c(this,a),Object.assign(this,b)}return d(a,[{key:"id",get:function(){return this.kantonID}}],[{key:"tablename",get:function(){return"cantons"}}]),a}()),a("Canton",e)}}}),System.register("alis/models/location.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Location",e=function(){function a(b){c(this,a),Object.assign(this,b)}return d(a,null,[{key:"tablename",get:function(){return"locations"}}]),a}()),a("Location",e)}}}),System.register("alis/models/organisation.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Organisation",e=function(){function a(b){c(this,a),Object.assign(this,b)}return d(a,null,[{key:"tablename",get:function(){return"organisations"}}]),a}()),a("Organisation",e)}}}),System.register("alis/models/room-type.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e,f;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){e={1:{name:"building",prefix:"mki",color:"#2E7D32"},2:{name:"university",prefix:"mki",color:"#283593"},3:{name:"chapel",prefix:"mki",color:"#F9A825"},4:{name:"museum",prefix:"mki",color:"#F57C00"},5:{name:"court_house",prefix:"mki",color:"#AD1457"},6:{name:"document-text",prefix:"ion",color:"#9E9D24"},7:{name:"ios-people",prefix:"ion",color:"#6A1B9A"},8:{name:"cinema",prefix:"mki",color:"#C62828"},9:{name:"theatre",prefix:"mki",color:"#00838F"}},a("RoomType",f=function(){function a(b){c(this,a),Object.assign(this,b)}return d(a,[{key:"id",get:function(){return this.typID}},{key:"icon",get:function(){return e[this.id]}}],[{key:"tablename",get:function(){return"roomtypes"}}]),a}()),a("RoomType",f)}}}),System.register("alis/models/system.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","../services/db"],function(a,b){"use strict";var c,d,e,f,g;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.Container},function(a){f=a.Database}],execute:function(){a("System",g=function(){function a(b){c(this,a),Object.assign(this,b),this.db=e.instance.get(f)}return d(a,[{key:"id",get:function(){return this.anlageID}},{key:"roomtype",get:function(){var a=this;return this.db.data.roomtypes.find(function(b){return b.id===a.typID})}}],[{key:"tablename",get:function(){return"systems"}}]),a}()),a("System",g)}}}),System.register("alis/models/technology.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e,f;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){e={1:{description:"Empfang induktiv (Modus/Programm des Hörgerätes auf T stellen)."},2:{description:"Empfang über Infrarot (mit Empfangsgerät und Halsschlaufe induktiv)."},3:{description:"Empfang über Funk (mit Empfangsgerät und Halsschlaufe induktiv)."}},a("Technology",f=function(){function a(b){c(this,a),Object.assign(this,b),Object.assign(this,e[this.id])}return d(a,[{key:"id",get:function(){return this.techID}},{key:"title",get:function(){return this.technologie}},{key:"image",get:function(){return"resources/symbols/"+this.title+".png"}}],[{key:"tablename",get:function(){return"technologies"}}]),a}()),a("Technology",f)}}}),System.register("alis/services/db.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-fetch-client","../models/building","../models/canton","../models/location","../models/organisation","../models/room-type","../models/system","../models/technology"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l,m;return{setters:[function(a){c=a.default},function(a){d=a.default},function(a){e=a.HttpClient},function(a){f=a.Building},function(a){g=a.Canton},function(a){h=a.Location},function(a){i=a.Organisation},function(a){j=a.RoomType},function(a){k=a.System},function(a){l=a.Technology}],execute:function(){a("Database",m=function(){function a(){c(this,a),this.resetData(),this.http=new e,this.http.configure(function(a){a.useStandardConfiguration().withBaseUrl("//www.zeta.hoeranlagenverzeichnis.ch/query.php?").withDefaults({headers:{}}).withInterceptor({request:function(a){return console.log("Requesting "+a.method+" "+a.url),a},response:function(a){return console.log("Received "+a.status+" "+a.url),a}})})}return d(a,[{key:"resetData",value:function(){this.data={}}},{key:"loadData",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=[g,j,k,l];return!0===b||0===Object.keys(this.data).length?(this.resetData(),Promise.all(c.map(function(b){var c=b.tablename;return a.http.fetch("table="+c).then(function(a){return a.json()}).then(function(d){a.data[c]=d.results.map(function(a){return new b(a)})}).catch(function(b){console.error(b),a.data[c]=[]})})).then(function(){return a.processData(),a.data})):Promise.resolve(this.data)}},{key:"processData",value:function(){var a=this.data[k.tablename],b=this.data[g.tablename],c={},d={},e={};this.data[f.tablename]=[],this.data[h.tablename]=[],this.data[i.tablename]=[],a.forEach(function(a){a.gebaeudeID=a.plz+"-"+a.strasse_nr+"-"+a.gebaeude,a.organisationID=""+a.organisation,a.locationID=a.ort.trim();var e=c[a.gebaeudeID],g=d[a.locationID];e||(e=new f({id:a.gebaeudeID,name:a.gebaeude,lat:a.lat,lng:a.lng,strasse_nr:a.strasse_nr,plz:a.plz,ort:a.ort,kanton:b.find(function(b){return b.kantonID===a.kantonID}),kantonID:a.kantonID,rooms:[],organisations:[]}),c[a.gebaeudeID]=e),g||(g=new h({id:a.locationID,name:a.locationID,plzs:[],bounds:L.latLngBounds()}),d[a.locationID]=g);var j=e.organisations.find(function(b){return b.id===a.organisationID});j||(j=new i({id:a.organisationID,name:a.organisation,rooms:[]}),e.organisations.push(j)),e.rooms.push(a),j.rooms.push(a),g.bounds.extend(L.latLng(a.lat,a.lng)),-1===g.plzs.indexOf(a.plz)&&g.plzs.push(a.plz)}),this.data[f.tablename]=Object.keys(c).map(function(a){return c[a]}),this.data[h.tablename]=Object.keys(d).map(function(a){return d[a]}),this.data[i.tablename]=Object.keys(e).map(function(a){return e[a]})}},{key:"queryBuildingsByRoomType",value:function(a){return this.data.buildings.reduce(function(b,c){var d=c.rooms.filter(function(b){return b.typID===a.typID});return d.length>0&&function(){var e=new f(c);e.rooms=d,e.organisations=[],c.organisations.forEach(function(b){var c=b.rooms.filter(function(b){return b.typID===a.typID});if(c.length>0){var d=new i(b);d.rooms=c,e.organisations.push(d)}}),b.push(e)}(),b},[])}}]),a}()),a("Database",m)}}}),System.register("alis/pages/room/plan.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js","aurelia-framework","../../services/db"],function(a,b){"use strict";function c(a,b,c,d){c&&Object.defineProperty(a,b,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(d):void 0})}function d(a,b,c,d,e){var f={};return Object.keys(d).forEach(function(a){f[a]=d[a]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f),e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null),f}var e,f,g,h,i,j,k,l,m,n;return{setters:[function(a){e=a.default},function(a){f=a.default},function(a){g=a.inject,h=a.bindable},function(a){i=a.Database}],execute:function(){a("Plan",n=(j=g(i))((l=function(){function a(b,d){e(this,a),c(this,"plan",m,this),this.db=b}return f(a,[{key:"activate",value:function(a){var b=this,c=[],d=parseInt(a.id);return this.data=this.db.data.systems.find(function(a){return a.id===d}),this.plans=[],"transp.png"!==this.data.plan1_dateiname&&function(){var a={value:b.data.plan1_dateiname,text:"transp.png"!==b.data.plan2_dateiname?"Raumplan "+(Object.keys(b.plans).length+1):"Raumplan",url:"//www.zeta.hoeranlagenverzeichnis.ch/admin/images/image_room1/"+b.data.plan1_dateiname};c.push(new Promise(function(b,c){var d=new Image;d.onload=function(){var c=256/d.width;a.layer=L.imageOverlay(a.url,[[0,0],[d.height*c,d.width*c]]),b()},d.src=a.url})),b.plans.push(a)}(),"transp.png"!==this.data.plan2_dateiname&&function(){var a={value:b.data.plan2_dateiname,text:"transp.png"!==b.data.plan1_dateiname?"Raumplan "+(Object.keys(b.plans).length+1):"Raumplan",url:"//www.zeta.hoeranlagenverzeichnis.ch/admin/images/image_room2/"+b.data.plan2_dateiname};c.push(new Promise(function(b,c){var d=new Image;d.onload=function(){var c=256/d.width;a.layer=L.imageOverlay(a.url,[[0,0],[d.height*c,d.width*c]]),b()},d.src=a.url})),b.plans.push(a)}(),Promise.all(c)}},{key:"attached",value:function(){this.plans.length>0&&(this.map=L.map(this.planmap,{crs:L.CRS.Simple,attributionControl:!1,maxZoom:4}),this.plan=this.plans[0].value)}},{key:"getRoomName",value:function(){var a=this,b=(this.data.raum+" "+this.data.raumnummer).trim();if(b||(b=this.data.gebaeude),!b){b=this.db.data.roomtypes.find(function(b){return b.typID===a.data.typID}).typ}return b}},{key:"planChanged",value:function(a,b){if(b){var c=this.getPlan(b);this.map.removeLayer(c.layer)}if(a){var d=this.getPlan(a);this.map.addLayer(d.layer),this.map.fitBounds(d.layer.getBounds()),this.map.setMaxBounds(d.layer.getBounds())}}},{key:"getPlan",value:function(a){return this.plans.find(function(b){return b.value===a})}}]),a}(),m=d(l.prototype,"plan",[h],{enumerable:!0,initializer:null}),k=l))||k),a("Plan",n)}}}),System.register("alis/pages/sponsors.html!node_modules/systemjs-plugin-text/text.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("__useDefault",c=!0),a("__useDefault",c),a("default",'<template>\n  <ons-page class="page">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <ons-list>\n      <ons-list-item repeat.for="sponsor of sponsors" modifier="longdivider" click.delegate="openWebsite(sponsor)">\n        <span class="center" style="padding-right:14px;">\n          <img if.bind="sponsor.logo" src="${sponsor.logo}" alt="${sponsor.title}" style="max-width:100%;max-height:120px;">\n          <span if.bind="!sponsor.logo" class="list-item__title">${sponsor.title}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n')}}}),System.register("alis/pages/sponsors.js",["node_modules/systemjs-plugin-babel/babel-helpers/classCallCheck.js","node_modules/systemjs-plugin-babel/babel-helpers/createClass.js"],function(a,b){"use strict";var c,d,e;return{setters:[function(a){c=a.default},function(a){d=a.default}],execute:function(){a("Sponsors",e=function(){function a(){c(this,a)}return d(a,[{key:"activate",value:function(a,b){this.title=b.title,this.sponsors=[{title:"pro audito schweiz",link:"http://www.proaudito.ch",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_pa_hoch.png"},{title:"Eidgenössische Büro für die Gleichstellung von Menschen mit Behinderung EBGB",link:"http://www.edi.admin.ch/ebgb",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_ebgb_hoch.png"},{title:"Denk an mich",link:"http://www.denkanmich.ch",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_dam_hoch.png"},{title:"Sonos",link:"http://www.sonos-info.ch",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_sonos_2015.png"},{title:"Oertli Stiftung",link:"http://www.oertlistiftung.ch/",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_oertli_stiftung.png"},{title:"Paul Hess Stiftung",link:"",logo:""},{title:"Katholische Kirche Region Bern",link:"http://www.kathbern.ch/",logo:"https://zeta.hoeranlagenverzeichnis.ch/pictures/logo_kathbe.png"}]}},{key:"openWebsite",value:function(a){a.link&&window.open(a.link,"_system")}}]),a}()),a("Sponsors",e)}}}),System.register("alis/resources/index.js",[],function(a,b){"use strict";function c(a){}return a("configure",c),{setters:[],execute:function(){}}});