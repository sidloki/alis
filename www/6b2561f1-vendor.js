!function(t){t.$fuse$=t,function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function e(t){var e,i,n,r;for(i=1,n=arguments.length;i<n;i++){r=arguments[i];for(e in r)t[e]=r[e]}return t}function i(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++te,t._leaflet_id}function r(t,e,i){var n,r,o,s;return s=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function o(t,e,i){var n=e[1],r=e[0],o=n-r;return t===n&&i?t:((t-r)%o+o)%o+r}function s(){return!1}function a(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return u(t).split(/\s+/)}function c(t,e){t.hasOwnProperty("options")||(t.options=t.options?Jt(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function h(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}function d(t,e){return t.replace(ee,function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}function p(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function f(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,i=Math.max(0,16-(e-re));return re=e+i,window.setTimeout(t,i)}function v(t,e,n){if(!n||oe!==m)return oe.call(window,i(t,e));t.call(e)}function g(t){t&&se.call(window,t)}function _(){}function y(t){if(L&&L.Mixin){t=ie(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}function w(t,e,i){return t instanceof b?t:ie(t)?new b(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,i)}function k(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function x(t,e){return!t||t instanceof k?t:new k(t,e)}function C(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function E(t,e){return t instanceof C?t:new C(t,e)}function O(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function S(t,e,i){return t instanceof O?t:ie(t)&&"object"!=typeof t[0]?3===t.length?new O(t[0],t[1],t[2]):2===t.length?new O(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new O(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new O(t,e,i)}function P(t,e,i,n){if(ie(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function A(t,e,i,n){return new P(t,e,i,n)}function M(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t,e){var i,n,r,o,s,a,u="";for(i=0,r=t.length;i<r;i++){for(n=0,o=(s=t[i]).length;n<o;n++)a=s[n],u+=(n?"L":"M")+a.x+" "+a.y;u+=e?Ge?"z":"x":""}return u||"M0 0"}function j(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function I(t,e,i,n){return"touchstart"===e?N(t,i,n):"touchmove"===e?V(t,i,n):"touchend"===e&&q(t,i,n),this}function R(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener($e,n,!1):"touchmove"===e?t.removeEventListener(Qe,n,!1):"touchend"===e&&(t.removeEventListener(Ke,n,!1),t.removeEventListener(Je,n,!1)),this}function N(t,e,n){var r=i(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(ti.indexOf(t.target.tagName)<0))return;K(t)}F(t,e)});t["_leaflet_touchstart"+n]=r,t.addEventListener($e,r,!1),ii||(document.documentElement.addEventListener($e,B,!0),document.documentElement.addEventListener(Qe,D,!0),document.documentElement.addEventListener(Ke,z,!0),document.documentElement.addEventListener(Je,z,!0),ii=!0)}function B(t){ei[t.pointerId]=t,ni++}function D(t){ei[t.pointerId]&&(ei[t.pointerId]=t)}function z(t){delete ei[t.pointerId],ni--}function F(t,e){t.touches=[];for(var i in ei)t.touches.push(ei[i]);t.changedTouches=[t],e(t)}function V(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&F(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(Qe,n,!1)}function q(t,e,i){var n=function(t){F(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(Ke,n,!1),t.addEventListener(Je,n,!1)}function H(t,e,i){function n(t){var e;if(Ve){if(!ke||"mouse"===t.pointerType)return;e=ni}else e=t.touches.length;if(!(e>1)){var i=Date.now(),n=i-(o||i);s=t.touches?t.touches[0]:t,a=n>0&&n<=u,o=i}}function r(t){if(a&&!s.cancelBubble){if(Ve){if(!ke||"mouse"===t.pointerType)return;var i,n,r={};for(n in s)i=s[n],r[n]=i&&i.bind?i.bind(s):i;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[si+ri+i]=n,t[si+oi+i]=r,t[si+"dblclick"+i]=e,t.addEventListener(ri,n,!1),t.addEventListener(oi,r,!1),t.addEventListener("dblclick",e,!1),this}function U(t,e){var i=t[si+ri+e],n=t[si+oi+e],r=t[si+"dblclick"+e];return t.removeEventListener(ri,i,!1),t.removeEventListener(oi,n,!1),ke||t.removeEventListener("dblclick",r,!1),this}function Z(t,e,i,n){if("object"==typeof e)for(var r in e)G(t,r,e[r],i);else for(var o=0,s=(e=l(e)).length;o<s;o++)G(t,e[o],i,n);return this}function W(t,e,i,n){if("object"==typeof e)for(var r in e)Y(t,r,e[r],i);else if(e)for(var o=0,s=(e=l(e)).length;o<s;o++)Y(t,e[o],i,n);else{for(var a in t[ai])Y(t,a,t[ai][a]);delete t[ai]}return this}function G(t,e,i,r){var o=e+n(i)+(r?"_"+n(r):"");if(t[ai]&&t[ai][o])return this;var s=function(e){return i.call(r||t,e||window.event)},a=s;Ve&&0===e.indexOf("touch")?I(t,e,s,o):!qe||"dblclick"!==e||!H||Ve&&Oe?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,rt(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&Ce&&(s=function(t){ot(t,a)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):H(t,s,o),t[ai]=t[ai]||{},t[ai][o]=s}function Y(t,e,i,r){var o=e+n(i)+(r?"_"+n(r):""),s=t[ai]&&t[ai][o];if(!s)return this;Ve&&0===e.indexOf("touch")?R(t,e,o):qe&&"dblclick"===e&&U?U(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[ai][o]=null}function X(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,nt(t),this}function $(t){return G(t,"mousewheel",X),this}function Q(t){return Z(t,"mousedown touchstart dblclick",X),G(t,"click",it),this}function K(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function J(t){return K(t),X(t),this}function tt(t,e){if(!e)return new b(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new b(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)}function et(t){return ke?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ui:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function it(t){li[t.type]=!0}function nt(t){var e=li[t.type];return li[t.type]=!1,e}function rt(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}function ot(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=pe&&i-pe;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?J(t):(pe=i,e(t))}function st(t){return"string"==typeof t?document.getElementById(t):t}function at(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function ut(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function lt(t){var e=t.parentNode;e&&e.removeChild(t)}function ct(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ht(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function dt(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pt(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=gt(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function ft(t,e){if(void 0!==t.classList)for(var i=l(e),n=0,r=i.length;n<r;n++)t.classList.add(i[n]);else if(!pt(t,e)){var o=gt(t);vt(t,(o?o+" ":"")+e)}}function mt(t,e){void 0!==t.classList?t.classList.remove(e):vt(t,u((" "+gt(t)+" ").replace(" "+e+" "," ")))}function vt(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function gt(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function _t(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&yt(t,e)}function yt(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function bt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function wt(t,e,i){var n=e||new b(0,0);t.style[hi]=(je?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function kt(t,e){t._leaflet_pos=e,Ne?wt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function xt(t){return t._leaflet_pos||new b(0,0)}function Ct(){Z(window,"dragstart",K)}function Et(){W(window,"dragstart",K)}function Lt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ot(),mi=t,vi=t.style.outline,t.style.outline="none",Z(window,"keydown",Ot))}function Ot(){mi&&(mi.style.outline=vi,mi=void 0,vi=void 0,W(window,"keydown",Ot))}function St(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Tt(t,i),t=At(t,i)}function Pt(t,e,i){return Math.sqrt(Bt(t,e,i,!0))}function At(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,Mt(t,n,e,0,i-1);var r,o=[];for(r=0;r<i;r++)n[r]&&o.push(t[r]);return o}function Mt(t,e,i,n,r){var o,s,a,u=0;for(s=n+1;s<=r-1;s++)(a=Bt(t[s],t[n],t[r],!0))>u&&(o=s,u=a);u>i&&(e[o]=1,Mt(t,e,i,n,o),Mt(t,e,i,o,r))}function Tt(t,e){for(var i=[t[0]],n=1,r=0,o=t.length;n<o;n++)Nt(t[n],t[r])>e&&(i.push(t[n]),r=n);return r<o-1&&i.push(t[o-1]),i}function jt(t,e,i,n,r){var o,s,a,u=n?Li:Rt(t,i),l=Rt(e,i);for(Li=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=Rt(s=It(t,e,o=u||l,i,r),i),o===u?(t=s,u=a):(e=s,l=a)}}function It(t,e,i,n,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=n.min,c=n.max;return 8&i?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&i?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&i?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&i&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new b(o,s,r)}function Rt(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Nt(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function Bt(t,e,i,n){var r,o=e.x,s=e.y,a=i.x-o,u=i.y-s,l=a*a+u*u;return l>0&&((r=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=i.x,s=i.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,n?a*a+u*u:new b(o,s)}function Dt(t){return!ie(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function zt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(t)}function Ft(t,e,i){var n,r,o,s,a,u,l,c,h,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Rt(t[r],e);for(s=0;s<4;s++){for(c=d[s],n=[],r=0,o=(l=t.length)-1;r<l;o=r++)a=t[r],u=t[o],a._code&c?u._code&c||((h=It(u,a,c,e,i))._code=Rt(h,e),n.push(h)):(u._code&c&&((h=It(u,a,c,e,i))._code=Rt(h,e),n.push(h)),n.push(a));t=n}return t}function Vt(t,e){var i,n,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||qt;if(!a&&!s)return null;switch(s.type){case"Point":return i=c(a),l?l(t,i):new Gi(i);case"MultiPoint":for(r=0,o=a.length;r<o;r++)i=c(a[r]),u.push(l?l(t,i):new Gi(i));return new Hi(u);case"LineString":case"MultiLineString":return n=Ht(a,"LineString"===s.type?0:1,c),new Qi(n,e);case"Polygon":case"MultiPolygon":return n=Ht(a,"Polygon"===s.type?1:2,c),new Ki(n,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=Vt({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Hi(u);default:throw new Error("Invalid GeoJSON object.")}}function qt(t){return new O(t[1],t[0],t[2])}function Ht(t,e,i){for(var n,r=[],o=0,s=t.length;o<s;o++)n=e?Ht(t[o],e-1,i):(i||qt)(t[o]),r.push(n);return r}function Ut(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function Zt(t,e,i,n){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?Zt(t[o],e-1,i,n):Ut(t[o],n));return!e&&i&&r.push(r[0]),r}function Wt(t,i){return t.feature?e({},t.feature,{geometry:i}):Gt(i)}function Gt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Yt(t,e){return new Ji(t,e)}function Xt(t,e){return new cn(t,e)}function $t(t){return We?new pn(t):null}function Qt(t){return Ge||Ye?new gn(t):null}var Kt=Object.freeze;Object.freeze=function(t){return t};var Jt=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),te=0,ee=/\{ *([\w_\-]+) *\}/g,ie=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",re=0,oe=window.requestAnimationFrame||f("RequestAnimationFrame")||m,se=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},ae=(Object.freeze||Object)({freeze:Kt,extend:e,create:Jt,bind:i,lastId:te,stamp:n,throttle:r,wrapNum:o,falseFn:s,formatNum:a,trim:u,splitWords:l,setOptions:c,getParamString:h,template:d,isArray:ie,indexOf:p,emptyImageUrl:ne,requestFn:oe,cancelFn:se,requestAnimFrame:v,cancelAnimFrame:g});_.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,r=Jt(n);r.constructor=i,i.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(i[o]=this[o]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(y(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(Jt(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},i},_.include=function(t){return e(this.prototype,t),this},_.mergeOptions=function(t){return e(this.prototype.options,t),this},_.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var ue={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var r=0,o=(t=l(t)).length;r<o;r++)this._on(t[r],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var r=0,o=(t=l(t)).length;r<o;r++)this._off(t[r],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var r={fn:e,ctx:i},o=n,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===i)return;o.push(r)},_off:function(t,e,i){var n,r,o;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(r=0,o=n.length;r<o;r++){var a=n[r];if(a.ctx===i&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(r,1)}}else{for(r=0,o=n.length;r<o;r++)n[r].fn=s;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var r=e({},i,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target},t),!0)}};ue.addEventListener=ue.on,ue.removeEventListener=ue.clearAllEventListeners=ue.off,ue.addOneTimeEventListener=ue.once,ue.fireEvent=ue.fire,ue.hasEventListeners=ue.listens;var le=_.extend(ue);b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(w(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(w(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var e=(t=w(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=w(t)).x===this.x&&t.y===this.y},contains:function(t){return t=w(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},k.prototype={extend:function(t){return t=w(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof b?w(t):x(t))instanceof k?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=x(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>=e.x&&n.x<=i.x,s=r.y>=e.y&&n.y<=i.y;return o&&s},overlaps:function(t){t=x(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>e.x&&n.x<i.x,s=r.y>e.y&&n.y<i.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},C.prototype={extend:function(t){var e,i,n=this._southWest,r=this._northEast;if(t instanceof O)e=t,i=t;else{if(!(t instanceof C))return t?this.extend(S(t)||E(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||r?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new O(e.lat,e.lng),this._northEast=new O(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new C(new O(e.lat-n,e.lng-r),new O(i.lat+n,i.lng+r))},getCenter:function(){return new O((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new O(this.getNorth(),this.getWest())},getSouthEast:function(){return new O(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof O||"lat"in t?S(t):E(t);var e,i,n=this._southWest,r=this._northEast;return t instanceof C?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=r.lat&&e.lng>=n.lng&&i.lng<=r.lng},intersects:function(t){t=E(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&n.lat<=i.lat,s=r.lng>=e.lng&&n.lng<=i.lng;return o&&s},overlaps:function(t){t=E(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&n.lat<i.lat,s=r.lng>e.lng&&n.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=E(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},O.prototype={equals:function(t,e){return!!t&&(t=S(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return he.distance(this,S(t))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return E([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new O(this.lat,this.lng,this.alt)}};var ce={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new k(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new O(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,r=e.lng-i.lng;if(0===n&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new C(new O(o.lat-n,o.lng-r),new O(s.lat-n,s.lng-r))}},he=e({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(o,1))}}),de={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=Math.sin(n*e);return new b(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new O((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new k([-t,-t],[t,t])}()};P.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var pe,fe,me,ve,ge=e({},he,{code:"EPSG:3857",projection:de,transformation:function(){var t=.5/(Math.PI*de.R);return A(t,.5,-t,.5)}()}),_e=e({},ge,{code:"EPSG:900913"}),ye=document.documentElement.style,be="ActiveXObject"in window,we=be&&!document.addEventListener,ke="msLaunchUri"in navigator&&!("documentMode"in document),xe=j("webkit"),Ce=j("android"),Ee=j("android 2")||j("android 3"),Le=!!window.opera,Oe=j("chrome"),Se=j("gecko")&&!xe&&!Le&&!be,Pe=!Oe&&j("safari"),Ae=j("phantom"),Me="OTransition"in ye,Te=0===navigator.platform.indexOf("Win"),je=be&&"transition"in ye,Ie="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ee,Re="MozPerspective"in ye,Ne=!window.L_DISABLE_3D&&(je||Ie||Re)&&!Me&&!Ae,Be="undefined"!=typeof orientation||j("mobile"),De=Be&&xe,ze=Be&&Ie,Fe=!window.PointerEvent&&window.MSPointerEvent,Ve=!(!window.PointerEvent&&!Fe),qe=!window.L_NO_TOUCH&&(Ve||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),He=Be&&Le,Ue=Be&&Se,Ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,We=!!document.createElement("canvas").getContext,Ge=!(!document.createElementNS||!M("svg").createSVGRect),Ye=!Ge&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Xe=(Object.freeze||Object)({ie:be,ielt9:we,edge:ke,webkit:xe,android:Ce,android23:Ee,opera:Le,chrome:Oe,gecko:Se,safari:Pe,phantom:Ae,opera12:Me,win:Te,ie3d:je,webkit3d:Ie,gecko3d:Re,any3d:Ne,mobile:Be,mobileWebkit:De,mobileWebkit3d:ze,msPointer:Fe,pointer:Ve,touch:qe,mobileOpera:He,mobileGecko:Ue,retina:Ze,canvas:We,svg:Ge,vml:Ye}),$e=Fe?"MSPointerDown":"pointerdown",Qe=Fe?"MSPointerMove":"pointermove",Ke=Fe?"MSPointerUp":"pointerup",Je=Fe?"MSPointerCancel":"pointercancel",ti=["INPUT","SELECT","OPTION"],ei={},ii=!1,ni=0,ri=Fe?"MSPointerDown":Ve?"pointerdown":"touchstart",oi=Fe?"MSPointerUp":Ve?"pointerup":"touchend",si="_leaflet_",ai="_leaflet_events",ui=Te&&Oe?2*window.devicePixelRatio:Se?window.devicePixelRatio:1,li={},ci=(Object.freeze||Object)({on:Z,off:W,stopPropagation:X,disableScrollPropagation:$,disableClickPropagation:Q,preventDefault:K,stop:J,getMousePosition:tt,getWheelDelta:et,fakeStop:it,skipped:nt,isExternalTarget:rt,addListener:Z,removeListener:W}),hi=bt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),di=bt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pi="webkitTransition"===di||"OTransition"===di?di+"End":"transitionend";if("onselectstart"in document)fe=function(){Z(window,"selectstart",K)},me=function(){W(window,"selectstart",K)};else{var fi=bt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fe=function(){if(fi){var t=document.documentElement.style;ve=t[fi],t[fi]="none"}},me=function(){fi&&(document.documentElement.style[fi]=ve,ve=void 0)}}var mi,vi,gi=(Object.freeze||Object)({TRANSFORM:hi,TRANSITION:di,TRANSITION_END:pi,get:st,getStyle:at,create:ut,remove:lt,empty:ct,toFront:ht,toBack:dt,hasClass:pt,addClass:ft,removeClass:mt,setClass:vt,getClass:gt,setOpacity:_t,testProp:bt,setTransform:wt,setPosition:kt,getPosition:xt,disableTextSelection:fe,enableTextSelection:me,disableImageDrag:Ct,enableImageDrag:Et,preventOutline:Lt,restoreOutline:Ot}),_i=le.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=xt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=v(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),kt(this._el,i),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),yi=le.extend({options:{crs:ge,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(S(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=di&&Ne&&!He&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Z(this._proxy,pi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(S(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ne?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ne?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof b?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/n),s=this.containerPointToLatLng(r.add(o));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():E(t);var i=w(e.paddingTopLeft||e.padding||[0,0]),n=w(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(n));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=E(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=w(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _i,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ft(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){function n(t){var e=(g*g-m*m+(t?-1:1)*b*b*_*_)/(2*(t?g:m)*b*_),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function r(t){
return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return r(t)/o(t)}function a(t){return m*(o(w)/o(w+y*t))}function u(t){return m*(o(w)*s(w+y*t)-r(w))/b}function l(t){return 1-Math.pow(1-t,1.5)}function c(){var i=(Date.now()-k)/C,n=l(i)*x;i<=1?(this._flyToFrame=v(c,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(u(n)/_)),f),this.getScaleZoom(m/a(n),f),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(!1===(i=i||{}).animate||!Ne)return this.setView(t,e,i);this._stop();var h=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),f=this._zoom;t=S(t),e=void 0===e?f:e;var m=Math.max(p.x,p.y),g=m*this.getZoomScale(f,e),_=d.distanceTo(h)||1,y=1.42,b=y*y,w=n(0),k=Date.now(),x=(n(1)-w)/y,C=i.duration?1e3*i.duration:1e3*x*.8;return this._moveStart(!0),c.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=E(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,E(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=n.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new O(t.coords.latitude,t.coords.longitude),i=e.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var r=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(r,n.maxZoom):r)}var o={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=ut("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new C(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=E(t),i=w(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(i),l=x(this.project(a,n),this.project(s,n)).getSize(),c=Ne?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,p=e?Math.max(h,d):Math.min(h,d);return n=this.getScaleZoom(p,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(r,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new k(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(S(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(w(t),e)},layerPointToLatLng:function(t){var e=w(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(S(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(S(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(E(t))},distance:function(t,e){return this.options.crs.distance(S(t),S(e))},containerPointToLayerPoint:function(t){return w(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return w(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(w(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(S(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=st(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Z(e,"scroll",this._onScroll,this),this._containerId=n(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne,ft(t,"leaflet-container"+(qe?" leaflet-touch":"")+(Ze?" leaflet-retina":"")+(we?" leaflet-oldie":"")+(Pe?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=at(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(t.markerPane,"leaflet-zoom-hide"),ft(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){kt(this._mapPane,new b(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){kt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var e=t?W:Z;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ne&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=v(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((i=this._targets[n(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!rt(s,t))break;if(r.push(i),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!rt(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!nt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Lt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,i))).length){var o=n[0];"contextmenu"===i&&o.listens(i,!0)&&K(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.options&&"icon"in o.options;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<n.length;u++)if(n[u].fire(i,s,!0),s.originalEvent._stopped||!1===n[u].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return xt(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return x([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),r=this.getSize().divideBy(2),o=new k(n.subtract(r),n.add(r)),s=this._getBoundsOffset(o,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new k(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=x(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),r=n.min.subtract(t.min),o=n.max.subtract(t.max);return new b(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=Ne?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=hi,i=this._proxy.style[e];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();wt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r)||(v(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,r){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),v(function(){this._moveEnd(!0)},this))}}),bi=_.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return ft(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),wi=function(t){return new bi(t)};yi.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=i+t+" "+i+r;e[t+r]=ut("div",o,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=ut("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)lt(this._controlCorners[t]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ki=bi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){c(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return bi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(n(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ft(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):mt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ut("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Q(e),$(e);var n=this._form=ut("form",t+"-list");i&&(this._map.on("click",this.collapse,this),Ce||Z(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=ut("a",t+"-toggle",e);r.href="#",r.title="Layers",qe?(Z(r,"click",J),Z(r,"click",this.expand,this)):Z(r,"focus",this.expand,this),i||this.expand(),this._baseLayersList=ut("div",t+"-base",n),this._separator=ut("div",t+"-separator",n),this._overlaysList=ut("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&n(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ct(this._baseLayersList),ct(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,r=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(n(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=n(t.layer),Z(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return i.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),xi=bi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ut("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,r){var o=ut("a",i,n);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Q(o),Z(o,"click",J),Z(o,"click",r,this),Z(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";mt(this._zoomInButton,e),mt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ft(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ft(this._zoomInButton,e)}});yi.mergeOptions({zoomControl:!0}),yi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xi,this.addControl(this.zoomControl))});var Ci=bi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ut("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ut("div",e,i)),t.imperial&&(this._iScale=ut("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,r=3.2808399*t;r>5280?(e=r/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Ei=bi.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Q(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});yi.mergeOptions({attributionControl:!0}),yi.addInitHook(function(){this.options.attributionControl&&(new Ei).addTo(this)}),bi.Layers=ki,bi.Zoom=xi,bi.Scale=Ci,bi.Attribution=Ei,wi.layers=function(t,e,i){return new ki(t,e,i)},wi.zoom=function(t){return new xi(t)},wi.scale=function(t){return new Ci(t)},wi.attribution=function(t){return new Ei(t)};var Li,Oi=_.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Si={Events:ue},Pi=qe?"touchstart mousedown":"mousedown",Ai={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Mi={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ti=le.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){c(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Z(this._dragStartTarget,Pi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(),W(this._dragStartTarget,Pi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!pt(this._element,"leaflet-zoom-anim")&&!(Ti._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Ti._dragging=this,this._preventOutline&&Lt(this._element),Ct(),fe(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new b(e.clientX,e.clientY),Z(document,Mi[t.type],this._onMove,this),Z(document,Ai[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new b(e.clientX,e.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(K(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=xt(this._element).subtract(i),ft(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=v(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),kt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in Mi)W(document,Mi[t],this._onMove,this),W(document,Ai[t],this._onUp,this);Et(),me(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ti._dragging=!1}}),ji=(Object.freeze||Object)({simplify:St,pointToSegmentDistance:Pt,closestPointOnSegment:function(t,e,i){return Bt(t,e,i)},clipSegment:jt,_getEdgeIntersection:It,_getBitCode:Rt,_sqClosestPointOnSegment:Bt,isFlat:Dt,_flat:zt}),Ii=(Object.freeze||Object)({clipPolygon:Ft}),Ri={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new O(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Ni={R:6378137,R_MINOR:6356752.314245179,bounds:new k([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new b(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new O(a*i,t.x*i/n)}},Bi=(Object.freeze||Object)({LonLat:Ri,Mercator:Ni,SphericalMercator:de}),Di=e({},he,{code:"EPSG:3395",projection:Ni,transformation:function(){var t=.5/(Math.PI*Ni.R);return A(t,.5,-t,.5)}()}),zi=e({},he,{code:"EPSG:4326",projection:Ri,transformation:A(1/180,1,-1/180,.5)}),Fi=e({},ce,{projection:Ri,transformation:A(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});ce.Earth=he,ce.EPSG3395=Di,ce.EPSG3857=ge,ce.EPSG900913=_e,ce.EPSG4326=zi,ce.Simple=Fi;var Vi=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),
this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});yi.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=n(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=n(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?ie(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=n(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qi=Vi.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),Hi=qi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),qi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),qi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new C;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ui=_.extend({initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var r=w(n),o=w("shadow"===e&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Ze&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Zi=Ui.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Zi.imagePath||(Zi.imagePath=this._detectIconPath()),(this.options.imagePath||Zi.imagePath)+Ui.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ut("div","leaflet-default-icon-path",document.body),e=at(t,"background-image")||at(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),Wi=Oi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ti(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=xt(e._icon),r=e._map.layerPointToLatLng(n);i&&kt(i,n),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gi=Vi.extend({options:{icon:new Zi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=S(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),ft(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ft(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(t){kt(this._icon,t),this._shadow&&kt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;_t(this._icon,t),this._shadow&&_t(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Yi=Vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(qe?10:0)}}),Xi=Yi.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=S(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=S(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Yi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new k(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),$i=Xi.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),c(this,i),this._latlng=S(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new C(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===he.distance){var r=Math.PI/180,o=this._mRadius/he.R/r,s=i.project([e+o,t]),a=i.project([e-o,t]),u=s.add(a).divideBy(2),l=i.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-i.project([l,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-s.y),1)}else{var h=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}}),Qi=Yi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,r=null,o=Bt,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],i=u[l],!0);h<n&&(n=h,r=o(t,e,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<u-1;t++)if(r=a[t],o=a[t+1],i=r.distanceTo(o),(n+=i)>e)return s=(n-e)/i,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=S(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new C,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Dt(t),n=0,r=t.length;n<r;n++)i?(e[n]=S(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new b(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,r,o=t[0]instanceof O,s=t.length;if(o){for(r=[],n=0;n<s;n++)r[n]=this._map.latLngToLayerPoint(t[n]),i.extend(r[n]);e.push(r)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,r,o,s,a,u=this._parts;for(e=0,n=0,r=this._rings.length;e<r;e++)for(i=0,o=(a=this._rings[e]).length;i<o-1;i++)(s=jt(a[i],a[i+1],t,i,!0))&&(u[n]=u[n]||[],u[n].push(s[0]),s[1]===a[i+1]&&i!==o-2||(u[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=St(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,o=this._parts.length;i<o;i++)for(n=0,r=(s=(a=this._parts[i]).length)-1;n<s;r=n++)if((e||0!==n)&&Pt(t,a[r],a[n])<=u)return!0;return!1}});Qi._flat=zt;var Ki=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=s=a=0,t=0,e=c-1;t<c;e=t++)i=l[t],n=l[e],r=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*r,a+=(i.y+n.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Qi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof O&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Qi.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new b(e,e);if(t=new k(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,o=this._rings.length;r<o;r++)(n=Ft(this._rings[r],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,r,o,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(u=(e=this._parts[r]).length)-1;o<u;s=o++)i=e[o],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||Qi.prototype._containsPoint.call(this,t,!0)}}),Ji=Hi.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,r=ie(t)?t:t.features;if(r){for(e=0,i=r.length;e<i;e++)((n=r[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Vt(t,o);return s?(s.feature=Gt(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),tn={toGeoJSON:function(t){return Wt(this,{type:"Point",coordinates:Ut(this.getLatLng(),t)})}};Gi.include(tn),$i.include(tn),Xi.include(tn),Qi.include({toGeoJSON:function(t){var e=!Dt(this._latlngs),i=Zt(this._latlngs,e?1:0,!1,t);return Wt(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Ki.include({toGeoJSON:function(t){var e=!Dt(this._latlngs),i=e&&!Dt(this._latlngs[0]),n=Zt(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Wt(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),qi.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Wt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(i)n.push(r.geometry);else{var o=Gt(r);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}}),i?Wt(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var en=Yt,nn=Vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=E(e),c(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ht(this._image),this},bringToBack:function(){return this._map&&dt(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=E(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=ut("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=s,t.onmousemove=s,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;wt(this._image,i,e)},_reset:function(){var t=this._image,e=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();kt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){_t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),rn=nn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ut("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=i(this.fire,this,"load"),!t){ie(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var n=0;n<this._url.length;n++){var r=ut("source");r.src=this._url[n],e.appendChild(r)}}}}),on=Vi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&_t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&_t(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(_t(this._container,0),this._removeTimeout=setTimeout(i(lt,void 0,this._container),200)):lt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=S(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ht(this._container),this},bringToBack:function(){return this._map&&dt(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=w(this.options.offset),i=this._getAnchor();this._zoomAnimated?kt(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),sn=on.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){on.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yi||this._source.on("preclick",X))},onRemove:function(t){on.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yi||this._source.off("preclick",X))},getEvents:function(){var t=on.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ut("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ut("div",t+"-content-wrapper",e);if(this._contentNode=ut("div",t+"-content",i),Q(i),$(this._contentNode),Z(i,"contextmenu",X),this._tipContainer=ut("div",t+"-tip-container",e),this._tip=ut("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ut("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",Z(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,r=this.options.maxHeight;r&&n>r?(e.height=r+"px",ft(t,"leaflet-popup-scrolled")):mt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();kt(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(at(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,r=new b(this._containerLeft,-i-this._containerBottom);r._add(xt(this._container));var o=t.layerPointToContainerPoint(r),s=w(this.options.autoPanPadding),a=w(this.options.autoPanPaddingTopLeft||s),u=w(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;o.x+n+u.x>l.x&&(c=o.x+n-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+i+u.y>l.y&&(h=o.y+i-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),J(t)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});yi.mergeOptions({closePopupOnClick:!0}),yi.include({openPopup:function(t,e,i){return t instanceof sn||(t=new sn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Vi.include({bindPopup:function(t,e){return t instanceof sn?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new sn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Vi||(e=t,t=this),t instanceof Hi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(J(t),e instanceof Yi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var an=on.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){on.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){on.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=on.prototype.getEvents.call(this);return qe&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,u=w(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(w(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(w(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(w(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<n.x?(o="right",t=t.add(w(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(w(s+l.x-u.x,a/2-l.y-u.y,!0))),mt(i,"leaflet-tooltip-right"),mt(i,"leaflet-tooltip-left"),mt(i,"leaflet-tooltip-top"),mt(i,"leaflet-tooltip-bottom"),ft(i,"leaflet-tooltip-"+o),kt(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&_t(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});yi.include({openTooltip:function(t,e,i){return t instanceof an||(t=new an(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Vi.include({bindTooltip:function(t,e){return t instanceof an?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new an(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),qe&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Vi||(e=t,
t=this),t instanceof Hi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ft(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(mt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var un=Ui.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=w(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ui.Default=Zi;var ln=Vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),r=0,o=i.length;r<o;r++)e=i[r].style.zIndex,i[r]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we){_t(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);_t(r.el,o),o<1?e=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(g(this._fadeFrame),this._fadeFrame=v(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(lt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],r=this._map;return n||((n=this._levels[t]={}).el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,r.getCenter(),r.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)lt(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,n){var r=Math.floor(t/2),o=Math.floor(e/2),s=i-1,a=new b(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>n&&this._retainParent(r,o,s,n))},_retainChildren:function(t,e,i,n){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new b(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i+1<n&&this._retainChildren(r,o,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;n&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),r=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();Ne?wt(t.el,r,n):kt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*n);return new k(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new k(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new b(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var p=new b(d,h);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||s.push(p))}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return E(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),r=n.add(i),o=new C(e.unproject(n,t.z),e.unproject(r,t.z));return this.options.noWrap||e.wrapLatLngBounds(o),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new b(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ft(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,we&&this.options.opacity<1&&_t(t,this.options.opacity),Ce&&!Ee&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&v(i(this._tileReady,this,t,null,o)),kt(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(_t(n.el,0),g(this._fadeFrame),this._fadeFrame=v(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ft(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we||!this._map._fadeAnimated?v(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),cn=ln.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=c(this,e)).detectRetina&&Ze&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),Ce||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Z(n,"load",i(this._tileOnLoad,this,e,n)),Z(n,"error",i(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var i={r:Ze?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return d(this._url,e(i,this.options))},_tileOnLoad:function(t,e){we?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.src!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=ne,lt(e)))}}),hn=cn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var r in i)r in this.options||(n[r]=i[r]);i=c(this,i),n.width=n.height=i.tileSize*(i.detectRetina&&Ze?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,cn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===zi?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),o=cn.prototype.getTileUrl.call(this,t);return o+h(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});cn.WMS=hn,Xt.wms=function(t,e){return new hn(t,e)};var dn=Vi.extend({options:{padding:.1},initialize:function(t){c(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=xt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=r.multiplyBy(-i).add(n).add(r).subtract(s);Ne?wt(this._container,a,i):kt(this._container,a)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pn=dn.extend({getEvents:function(){var t=dn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){dn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Z(t,"mousemove",r(this._onMouseMove,32,this),this),Z(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Z(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,lt(this._container),W(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var t in this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},dn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Ze?2:1;kt(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Ze&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){dn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||v(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++)o=s[i][n],u[n?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=t._radius,r=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(e.x,e.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(it(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(mt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,r=this._drawFirst;r;r=r.next)(i=r.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(ft(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),mn={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(dn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=fn("shape");ft(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=fn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;lt(e),t.removeInteractiveTarget(e),delete this._layers[n(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,r=t._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(e||(e=t._stroke=fn("stroke")),r.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=ie(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(r.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=fn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ht(t._container)},_bringToBack:function(t){dt(t._container)}},vn=Ye?fn:M,gn=dn.extend({getEvents:function(){var t=dn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=vn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),W(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){dn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),kt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=vn("path");t.options.className&&ft(e,t.options.className),t.options.interactive&&ft(e,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,T(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n="a"+i+","+(t._radiusY||i)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ht(t._path)},_bringToBack:function(t){dt(t._path)}});Ye&&gn.include(mn),yi.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&$t()||Qt()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=gn&&Qt({pane:t})||pn&&$t({pane:t}),this._paneRenderers[t]=e),e}});var _n=Ki.extend({initialize:function(t,e){Ki.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=E(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});gn.create=vn,gn.pointsToPath=T,Ji.geometryToLayer=Vt,Ji.coordsToLatLng=qt,Ji.coordsToLatLngs=Ht,Ji.latLngToCoords=Ut,Ji.latLngsToCoords=Zt,Ji.getFeature=Wt,Ji.asFeature=Gt,yi.mergeOptions({boxZoom:!0});var yn=Oi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Z(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),fe(),Ct(),this._startPoint=this._map.mouseEventToContainerPoint(t),Z(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k(this._point,this._startPoint),i=e.getSize();kt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(lt(this._box),mt(this._container,"leaflet-crosshair")),me(),Et(),W(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new C(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});yi.addInitHook("addHandler","boxZoom",yn),yi.mergeOptions({doubleClickZoom:!0});var bn=Oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,r=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});yi.addInitHook("addHandler","doubleClickZoom",bn),yi.mergeOptions({dragging:!0,inertia:!Ee,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wn=Oi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ti(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=E(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{
var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(i.inertiaDeceleration*s),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),v(function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});yi.addInitHook("addHandler","dragging",wn),yi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var kn=Oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Z(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;e<i;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;e<i;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;e<i;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;e<i;e++)n[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;e<i;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;e<i;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){Z(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=w(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup)return;n.closePopup()}J(t)}}});yi.addInitHook("addHandler","keyboard",kn),yi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xn=Oi.extend({addHooks:function(){Z(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=et(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),J(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(r/i)*i:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});yi.addInitHook("addHandler","scrollWheelZoom",xn),yi.mergeOptions({tap:!0,tapTolerance:15});var Cn=Oi.extend({addHooks:function(){Z(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(K(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ft(n,"leaflet-active"),this._holdTimeout=setTimeout(i(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Z(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),W(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&mt(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});qe&&!Ve&&yi.addInitHook("addHandler","tap",Cn),yi.mergeOptions({touchZoom:qe&&!Ee,bounceAtZoomLimits:!0});var En=Oi.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),Z(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Z(document,"touchmove",this._onTouchMove,this),Z(document,"touchend",this._onTouchEnd,this),K(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),g(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=v(a,this,!0),K(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),W(document,"touchmove",this._onTouchMove),W(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});yi.addInitHook("addHandler","touchZoom",En),yi.BoxZoom=yn,yi.DoubleClickZoom=bn,yi.Drag=wn,yi.Keyboard=kn,yi.ScrollWheelZoom=xn,yi.Tap=Cn,yi.TouchZoom=En;var Ln=window.L;window.L=t,Object.freeze=Kt,t.version="1.2.0",t.noConflict=function(){return window.L=Ln,this},t.Control=bi,t.control=wi,t.Browser=Xe,t.Evented=le,t.Mixin=Si,t.Util=ae,t.Class=_,t.Handler=Oi,t.extend=e,t.bind=i,t.stamp=n,t.setOptions=c,t.DomEvent=ci,t.DomUtil=gi,t.PosAnimation=_i,t.Draggable=Ti,t.LineUtil=ji,t.PolyUtil=Ii,t.Point=b,t.point=w,t.Bounds=k,t.bounds=x,t.Transformation=P,t.transformation=A,t.Projection=Bi,t.LatLng=O,t.latLng=S,t.LatLngBounds=C,t.latLngBounds=E,t.CRS=ce,t.GeoJSON=Ji,t.geoJSON=Yt,t.geoJson=en,t.Layer=Vi,t.LayerGroup=qi,t.layerGroup=function(t){return new qi(t)},t.FeatureGroup=Hi,t.featureGroup=function(t){return new Hi(t)},t.ImageOverlay=nn,t.imageOverlay=function(t,e,i){return new nn(t,e,i)},t.VideoOverlay=rn,t.videoOverlay=function(t,e,i){return new rn(t,e,i)},t.DivOverlay=on,t.Popup=sn,t.popup=function(t,e){return new sn(t,e)},t.Tooltip=an,t.tooltip=function(t,e){return new an(t,e)},t.Icon=Ui,t.icon=function(t){return new Ui(t)},t.DivIcon=un,t.divIcon=function(t){return new un(t)},t.Marker=Gi,t.marker=function(t,e){return new Gi(t,e)},t.TileLayer=cn,t.tileLayer=Xt,t.GridLayer=ln,t.gridLayer=function(t){return new ln(t)},t.SVG=gn,t.svg=Qt,t.Renderer=dn,t.Canvas=pn,t.canvas=$t,t.Path=Yi,t.CircleMarker=Xi,t.circleMarker=function(t,e){return new Xi(t,e)},t.Circle=$i,t.circle=function(t,e,i){return new $i(t,e,i)},t.Polyline=Qi,t.polyline=function(t,e){return new Qi(t,e)},t.Polygon=Ki,t.polygon=function(t,e){return new Ki(t,e)},t.Rectangle=_n,t.rectangle=function(t,e){return new _n(t,e)},t.Map=yi,t.map=function(t,e){return new yi(t,e)}}),function(t,e,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,r=this._nonPointGroup,o=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,u=t.length,l=0,c=!0;if(this._map){var h=(new Date).getTime(),d=L.bind(function(){for(var p=(new Date).getTime();u>l;l++){if(o&&0==l%200){if((new Date).getTime()-p>s)break}if((i=t[l])instanceof L.LayerGroup)c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(i,t),u=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var f=i.__parent.getAllChildMarkers(),m=f[0]===i?f[1]:f[0];n.removeLayer(m)}}else r.addLayer(i),e||this.fire("layeradd",{layer:i})}a&&a(l,u,(new Date).getTime()-h),l===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var p=this._needsClustering;u>l;l++)i=t[l],i instanceof L.LayerGroup?(c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(i,t),u=t.length):i.getLatLng?this.hasLayer(i)||p.push(i):r.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,r=this._featureGroup,o=this._nonPointGroup,s=!0;if(!this._map){for(e=0;n>e;e++)i=t[e],i instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),o.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),u=n;for(e=0;u>e;e++)i=a[e],i instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),u=a.length):this._unspiderfyLayer(i)}for(e=0;n>e;e++)i=t[e],i instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),r.hasLayer(i)&&(r.removeLayer(i),i.clusterShow&&i.clusterShow())):(o.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,r,o=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),n=o.length-1;n>=0;n--){for(i=!0,r=s.length-1;r>=0;r--)if(s[r].layer===o[n]){i=!1;break}i&&t.call(e,o[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,r=this._map.getMinZoom();e>=r&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,i){var n=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,s=this._map,a=this._map.getMinZoom();e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,c=l._markers;for(this._arraySplice(c,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(o.removeLayer(l),i||o.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this._map.getMinZoom(),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var r=t;r>=e;r--)this._gridClusters[r]=new L.DistanceGrid(n(r)),this._gridUnclustered[r]=new L.DistanceGrid(n(r));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,r=this._gridClusters,o=this._gridUnclustered,s=this._map.getMinZoom();for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){i=this._map.project(t.getLatLng(),e);var a=r[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=o[e].getNearObject(i)){var u=a.__parent;u&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);r[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var c=l;for(n=e-1;n>u._zoom;n--)c=new this._markerCluster(this,n,c),r[n].addObject(c,this._map.project(a.getLatLng(),n));return u._addChild(c),void this._removeFromGridUnclustered(a,e)}o[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==i&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),r=0;for(e=e||[];r<n.length;r++)i=n[r],i instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),r=this._featureGroup,o=this._map.getMinZoom();this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,o,function(o){var s,a=o._latlng,u=o._markers;for(n.contains(a)||(a=null),o._isSingleParent()&&t+1===e?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,n)):(o.clusterHide(),o._recursivelyAddChildrenToMap(a,e,n)),i=u.length-1;i>=0;i--)s=u[i],n.contains(s._latlng)||r.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),r.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,o,function(t){r.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),r=this._map.getMinZoom();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,e+1,i);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,r,function(t){t._recursivelyRemoveChildrenFromMap(n,r,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),r=this._zoom+1,o=i.getZoom();e.length>0&&n>r;){r++;var s=[];for(t=0;t<e.length;t++)s=s.concat(e[t]._childClusters);e=s}n>r?this._group._map.setView(this._latlng,r):o>=n?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,r=this._markers,o=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<r.length;t++)i=r[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<o.length;t++)e=o[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,function(t){var i,n,r=t._markers;for(i=r.length-1;i>=0;i--)n=r[i],n._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,r=t._childClusters;for(i=r.length-1;i>=0;i--)n=r[i],n._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,function(r){r._recursivelyAnimateChildrenIn(t,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&&i-1===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(t,e,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,function(n){if(e!==n._zoom)for(var r=n._markers.length-1;r>=0;r--){var o=n._markers[r];i.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.clusterHide&&o.clusterHide()),n._group._featureGroup.addLayer(o))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){
this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var r,o;this._recursively(t,e-1,i-1,function(t){for(o=t._markers.length-1;o>=0;o--)r=t._markers[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)r=t._childClusters[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(t,e,i,n,r){var o,s,a=this._childClusters,u=this._zoom;if(u>=e&&(n&&n(this),r&&u===i&&r(this)),e>u||i>u)for(o=a.length-1;o>=0;o--)s=a[o],t.intersects(s._bounds)&&s._recursively(t,e,i,n,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),r=this._grid,o=r[n]=r[n]||{},s=o[i]=o[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,r=this._getCoord(e.x),o=this._getCoord(e.y),s=this._grid,a=s[o]=s[o]||{},u=a[r]=a[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=u.length;n>i;i++)if(u[i]===t)return u.splice(i,1),1===n&&delete a[r],!0},eachObject:function(t,e){var i,n,r,o,s,a,u=this._grid;for(i in u){s=u[i];for(n in s)for(a=s[n],r=0,o=a.length;o>r;r++)t.call(e,a[r])&&(r--,o--)}},getNearObject:function(t){var e,i,n,r,o,s,a,u,l=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=c-1;c+1>=e;e++)if(r=this._grid[e])for(i=l-1;l+1>=i;i++)if(o=r[i])for(n=0,s=o.length;s>n;n++)a=o[n],u=this._sqDist(h[L.Util.stamp(a)],t),d>u&&(d=u,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,r,o=0,s=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],(r=this.getDistant(n,t))>0&&(a.push(n),r>o&&(o=r,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,r=!1,o=!1,s=null,a=null,u=null,l=null,c=null,h=null;for(e=t.length-1;e>=0;e--){var d=t[e];(!1===i||d.lat>i)&&(s=d,i=d.lat),(!1===n||d.lat<n)&&(a=d,n=d.lat),(!1===r||d.lng>r)&&(u=d,r=d.lng),(!1===o||d.lng<o)&&(l=d,o=d.lng)}return n!==i?(h=a,c=s):(h=l,c=u),[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t))}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,r=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,r):(r.y+=10,t=this._generatePointsCircle(e.length,r)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),o=r/this._2PI,s=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*s,a[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,r=n*this._spiralLengthStart,o=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,u=[];for(u.length=t,i=t-1;i>=0;i--)a+=o/r+5e-4*i,u[i]=new L.Point(e.x+r*Math.cos(a),e.y+r*Math.sin(a))._round(),r+=s/a;return u},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,r=i._featureGroup,o=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:o}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,r,o,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)o=a.layerPointToLatLng(e[i]),n=t[i],r=new L.Polyline([this._latlng,o],l),a.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(o),n.setZIndexOffset&&n.setZIndexOffset(1e6),u.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,r,o,s,a,u,l=this,c=this._group,h=c._map,d=c._featureGroup,p=this._latlng,f=h.latLngToLayerPoint(p),m=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),g=v.opacity;for(g===i&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=g,c._ignoreMove=!0,n=0;n<t.length;n++)r=t[n],u=h.layerPointToLatLng(e[n]),o=new L.Polyline([p,u],v),h.addLayer(o),r._spiderLeg=o,m&&(s=o._path,a=s.getTotalLength()+.1,s.style.strokeDasharray=a,s.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),d.addLayer(r),r._setPos&&r._setPos(f);for(c._forceLayout(),c._animationStart(),n=t.length-1;n>=0;n--)u=h.layerPointToLatLng(e[n]),r=t[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(u),r.clusterShow&&r.clusterShow(),m&&(o=r._spiderLeg,s=o._path,s.style.strokeDashoffset=0,o.setStyle({opacity:g}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,r,o,s,a=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),i=d.length-1;i>=0;i--)e=d[i],e._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(h),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&c.removeLayer(e),p&&(n=e._spiderLeg,r=n._path,o=r.getTotalLength()+.1,r.style.strokeDashoffset=o,n.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(i=d.length-1;i>=0;i--)e=d[i],e._spiderLeg&&t++;for(i=d.length-1;i>=0;i--)e=d[i],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(t,e){"function"==typeof define&&define.amd?define(["leaflet"],t):"object"==typeof exports&&(void 0!==e&&e.L?module.exports=t(L):module.exports=t(require("leaflet"))),void 0!==e&&e.L&&(e.L.Control.Locate=t(L))}(function(t){var e=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:t.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(e){for(var i in e)"object"==typeof this.options[i]?t.extend(this.options[i],e[i]):this.options[i]=e[i];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(e){var i=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");return this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null,this._link=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",i),this._link.title=this.options.strings.title,this._icon=t.DomUtil.create(this.options.iconElementTag,this.options.icon,this._link),t.DomEvent.on(this._link,"click",t.DomEvent.stopPropagation).on(this._link,"click",t.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),i},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){var t=this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView;switch(t){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds){var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;e.bind(this._map)(this._prevBounds)}}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel){var t=this.options.flyTo?this._map.flyTo:this._map.panTo;t.bind(this._map)([this._event.latitude,this._event.longitude])}else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;t.bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var e=this._event.accuracy,i=this._event.latlng;if(this.options.drawCircle){var n=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(i).setRadius(e).setStyle(n):this._circle=t.circle(i,e,n).addTo(this._layer)}var r,o;if(this.options.metric?(r=e.toFixed(0),o=this.options.strings.metersUnit):(r=(3.2808399*e).toFixed(0),o=this.options.strings.feetUnit),this.options.drawMarker){var s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(i),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(i,s).addTo(this._layer)}var a=this.options.strings.popup;this.options.showPopup&&a&&this._marker&&this._marker.bindPopup(t.Util.template(a,{distance:r,unit:o}))._popup.setLatLng(i)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(e){"requesting"==e?(t.DomUtil.removeClasses(this._container,"active following"),t.DomUtil.addClasses(this._container,"requesting"),t.DomUtil.removeClasses(this._icon,this.options.icon),t.DomUtil.addClasses(this._icon,this.options.iconLoading)):"active"==e?(t.DomUtil.removeClasses(this._container,"requesting following"),t.DomUtil.addClasses(this._container,"active"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)):"following"==e&&(t.DomUtil.removeClasses(this._container,"requesting"),t.DomUtil.addClasses(this._container,"active following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon))},_cleanClasses:function(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return t.control.locate=function(e){return new t.Control.Locate(e)},function(){var e=function(e,i,n){n=n.split(" "),n.forEach(function(n){t.DomUtil[e].call(this,i,n)})};t.DomUtil.addClasses=function(t,i){e("addClass",t,i)},t.DomUtil.removeClasses=function(t,i){e("removeClass",t,i)}}(),e},window),L.GridLayer.GoogleMutant=L.GridLayer.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(t,e){var i=0,n=null;n=setInterval(function(){return i>=10?(clearInterval(n),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(n),t(window.google)):void i++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(t){L.GridLayer.prototype.onAdd.call(this,t),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=t,this._initMutant(),t.on("viewreset",this._reset,this),t.on("move",this._update,this),t.on("zoomend",this._handleZoomAnim,this),t.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),t._controlCorners.bottomright.style.marginBottom="20px",t._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var e in this._subLayers)this._subLayers[e].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(t,e){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var i=google.maps[t],n=new i(e);return n.setMap(this._mutant),this._subLayers[t]=n,n}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var i=t[e],n=0;n<i.addedNodes.length;++n){var r=i.addedNodes[n];r instanceof HTMLImageElement?this._onMutatedImage(r):r instanceof HTMLElement&&Array.prototype.forEach.call(r.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,i=t.src.match(this._roadRegexp),n=0;if(i?(e={z:i[1],x:i[2],y:i[3]},this._imagesPerTile>1&&(t.style.zIndex=1,n=1)):(i=t.src.match(this._satRegexp),i&&(e={x:i[1],y:i[2],z:i[3]}),n=0),e){var r=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var o=r+"/"+n;if(this._freshTiles[o]=t,o in this._tileCallbacks&&this._tileCallbacks[o])this._tileCallbacks[o].pop()(t),this._tileCallbacks[o].length||delete this._tileCallbacks[o];else if(this._tiles[r]){var s=this._tiles[r].el,a=0===n?s.firstChild:s.firstChild.nextSibling,u=this._clone(t);s.replaceChild(u,a)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,e){var i=this._tileCoordsToKey(t),n=L.DomUtil.create("div");n.dataset.pending=this._imagesPerTile,e=e.bind(this,null,n);for(var r=0;r<this._imagesPerTile;r++){var o=i+"/"+r;if(o in this._freshTiles){var s=this._freshTiles[o];n.appendChild(this._clone(s)),n.dataset.pending--}else this._tileCallbacks[o]=this._tileCallbacks[o]||[],this._tileCallbacks[o].push(function(t){return function(i){t.appendChild(this._clone(i)),t.dataset.pending--,parseInt(t.dataset.pending)||e()}.bind(this)}.bind(this)(n))}return parseInt(n.dataset.pending)||L.Util.requestAnimFrame(e),n},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var i=this._map.getZoom(),n=i!==Math.round(i),r=this._mutant.getZoom();n||i==r||(this._mutant.setZoom(i),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),i=t.split(":")[2],n=this._mutant.getBounds(),r=n.getSouthWest(),o=n.getNorthEast(),s=L.latLngBounds([[r.lat(),r.lng()],[o.lat(),o.lng()]]),a=0;a<this._imagesPerTile;a++){var u=t+"/"+a;if(u in this._freshTiles){var l=this._map&&this._keyToBounds(t);this._map&&l.overlaps(s)&&i==e||delete this._freshTiles[u]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)},function(){function t(t,i){this.title=t.title,this.stateName=t.stateName?t.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=e(t.icon),this.onClick=L.Util.bind(t.onClick?t.onClick:function(){},i)}function e(t){var e;return t.match(/[&;=<>"']/)?e=t:(t=t.replace(/(^\s*|\s*$)/g,""),e=L.DomUtil.create("span",""),0===t.indexOf("fa-")?L.DomUtil.addClass(e,"fa "+t):0===t.indexOf("glyphicon-")?L.DomUtil.addClass(e,"glyphicon "+t):L.DomUtil.addClass(e,t),e=e.outerHTML),e}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(t,e){e&&L.Util.setOptions(this,e),this._buildContainer(),this._buttons=[];for(var i=0;i<t.length;i++)t[i]._bar=this,t[i]._container=t[i].button,this._buttons.push(t[i]),this.container.appendChild(t[i].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(t){this._map=t;for(var e=0;e<this._buttons.length;e++)this._buttons[e]._map=t;var i=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return L.DomUtil.addClass(i,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}}),L.easyBar=function(){for(var t=[L.Control.EasyBar],e=0;e<arguments.length;e++)t.push(arguments[e]);return new(Function.prototype.bind.apply(L.Control.EasyBar,t))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(e,i,n,r){this.options.states=[],null!=r&&(this.options.id=r),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof e&&"function"==typeof i&&this.options.states.push({icon:e,onClick:i,title:"string"==typeof n?n:""}),this._states=[];for(var o=0;o<this.options.states.length;o++)this._states.push(new t(this.options.states[o],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),"button"===this.options.tagName&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(t){L.DomEvent.stop(t),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var t=0;t<this._states.length;t++)this.button.appendChild(this._states[t].icon)},_currentState:{stateName:"unnamed",icon:function(){return document.createElement("span")}()},_states:null,state:function(t){return"string"==typeof t?this._activateStateNamed(t):"number"==typeof t&&this._activateState(this._states[t]),this},_activateStateNamed:function(t){for(var e=0;e<this._states.length;e++)this._states[e].stateName==t&&this._activateState(this._states[e])},_activateState:function(t){if(t!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(t.icon),this.button.removeChild(this._currentState.icon)),t.title?this.button.title=t.title:this.button.removeAttribute("title");for(var e=0;e<this._states.length;e++)L.DomUtil.removeClass(this._states[e].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[e].icon,t.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,t.stateName+"-active"),this._currentState=t}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(t){var e=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=e,this._container=e.container,this._anonymousBar.container},removeFrom:function(t){return this._map===t&&this.remove(),this}}),L.easyButton=function(){var t=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,t))}}(),function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(t){"use strict";return t.Polyline._flat=t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))},distanceSegment:function(e,i,n,r){var o=e.latLngToLayerPoint(i),s=e.latLngToLayerPoint(n),a=e.latLngToLayerPoint(r);return t.LineUtil.pointToSegmentDistance(o,s,a)},readableDistance:function(t,e){var i,n="imperial"!==e;return n?i=t>1e3?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":(t*=1.09361,i=t>1760?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"),i},belongsSegment:function(t,e,i,n){n=void 0===n?.2:n;var r=e.distanceTo(i);return(e.distanceTo(t)+t.distanceTo(i)-r)/r<n},length:function(e){var i=t.GeometryUtil.accumulatedLengths(e);return i.length>0?i[i.length-1]:0},accumulatedLengths:function(t){if("function"==typeof t.getLatLngs&&(t=t.getLatLngs()),0===t.length)return[];for(var e=0,i=[0],n=0,r=t.length-1;n<r;n++)e+=t[n].distanceTo(t[n+1]),i.push(e);return i},closestOnSegment:function(e,i,n,r){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=e.project(i,o),a=e.project(n,o),u=e.project(r,o),l=t.LineUtil.closestPointOnSegment(s,a,u);return e.unproject(l,o)},closest:function(e,i,n,r){var o,s,a,u,l=1/0,c=null;if(i instanceof Array){if(i[0]instanceof Array&&"number"!=typeof i[0][0]){for(var s=0;s<i.length;s++){var h=t.GeometryUtil.closest(e,i[s],n,r)
;h.distance<l&&(l=h.distance,c=h)}return c}if(!(i[0]instanceof t.LatLng||"number"==typeof i[0][0]||"number"==typeof i[0].lat))return c;i=t.polyline(i)}if(!(i instanceof t.Polyline))return c;if(o=JSON.parse(JSON.stringify(i.getLatLngs().slice(0))),i instanceof t.Polygon){var d=function(e){if(t.Polyline._flat(e))e.push(e[0]);else for(var i=0;i<e.length;i++)d(e[i])};d(o)}if(t.Polyline._flat(o)){if(r){for(s=0,a=o.length;s<a;s++){var p=o[s];u=t.GeometryUtil.distance(e,n,p),u<l&&(l=u,c=p,c.distance=u)}return c}for(s=0,a=o.length;s<a-1;s++){var f=o[s],m=o[s+1];u=t.GeometryUtil.distanceSegment(e,n,f,m),u<=l&&(l=u,c=t.GeometryUtil.closestOnSegment(e,n,f,m),c.distance=u)}return c}for(var s=0;s<o.length;s++){var h=t.GeometryUtil.closest(e,o[s],n,r);h.distance<l&&(l=h.distance,c=h)}return c},closestLayer:function(e,i,n){for(var r=1/0,o=null,s=null,a=1/0,u=0,l=i.length;u<l;u++){var c=i[u];if(c instanceof t.LayerGroup){var h=t.GeometryUtil.closestLayer(e,c.getLayers(),n);h.distance<r&&(r=h.distance,o=h)}else"function"==typeof c.getLatLng?(s=c.getLatLng(),a=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(a=s.distance),a<r&&(r=a,o={layer:c,latlng:s,distance:a})}return o},nClosestLayers:function(e,i,n,r){if((r="number"==typeof r?r:i.length)<1||i.length<1)return null;for(var o,s,a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(c instanceof t.LayerGroup){var h=t.GeometryUtil.closestLayer(e,c.getLayers(),n);a.push(h)}else"function"==typeof c.getLatLng?(s=c.getLatLng(),o=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(o=s.distance),a.push({layer:c,latlng:s,distance:o})}return a.sort(function(t,e){return t.distance-e.distance}),a.length>r?a.slice(0,r):a},layersWithin:function(e,i,n,r){r="number"==typeof r?r:1/0;for(var o=[],s=null,a=0,u=0,l=i.length;u<l;u++){var c=i[u];"function"==typeof c.getLatLng?(s=c.getLatLng(),a=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(a=s.distance),s&&a<r&&o.push({layer:c,latlng:s,distance:a})}return o.sort(function(t,e){return t.distance-e.distance})},closestLayerSnap:function(e,i,n,r,o){r="number"==typeof r?r:1/0,o="boolean"!=typeof o||o;var s=t.GeometryUtil.closestLayer(e,i,n);if(!s||s.distance>r)return null;if(o&&"function"==typeof s.layer.getLatLngs){var a=t.GeometryUtil.closest(e,s.layer,s.latlng,!0);a.distance<r&&(s.latlng=a,s.distance=t.GeometryUtil.distance(e,a,n))}return s},interpolateOnPointSegment:function(e,i,n){return t.point(e.x*(1-n)+n*i.x,e.y*(1-n)+n*i.y)},interpolateOnLine:function(e,i,n){i=i instanceof t.Polyline?i.getLatLngs():i;var r=i.length;if(r<2)return null;if(0===(n=Math.max(Math.min(n,1),0)))return{latLng:i[0]instanceof t.LatLng?i[0]:t.latLng(i[0]),predecessor:-1};if(1==n)return{latLng:i[i.length-1]instanceof t.LatLng?i[i.length-1]:t.latLng(i[i.length-1]),predecessor:i.length-2};var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());for(var s=[],a=0,u=0;u<r;u++)s[u]=e.project(i[u],o),u>0&&(a+=s[u-1].distanceTo(s[u]));for(var l=a*n,c=s[0],h=s[1],d=0,p=c.distanceTo(h),f=1;f<r&&p<l;f++)c=h,d=p,h=s[f],p+=c.distanceTo(h);var m=p-d!=0?(l-d)/(p-d):0,v=t.GeometryUtil.interpolateOnPointSegment(c,h,m);return{latLng:e.unproject(v,o),predecessor:f-2}},locateOnLine:function(e,i,n){var r=i.getLatLngs();if(n.equals(r[0]))return 0;if(n.equals(r[r.length-1]))return 1;for(var o=t.GeometryUtil.closest(e,i,n,!1),s=t.GeometryUtil.accumulatedLengths(r),a=s[s.length-1],u=0,l=!1,c=0,h=r.length-1;c<h;c++){var d=r[c],p=r[c+1];if(u=s[c],t.GeometryUtil.belongsSegment(o,d,p)){u+=d.distanceTo(o),l=!0;break}}if(!l)throw"Could not interpolate "+n.toString()+" within "+i.toString();return u/a},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,i,n,r){if(n>r)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(i),1-n,1-r);n=Math.max(Math.min(n,1),0),r=Math.max(Math.min(r,1),0);var o=i.getLatLngs(),s=t.GeometryUtil.interpolateOnLine(e,i,n),a=t.GeometryUtil.interpolateOnLine(e,i,r);if(n==r){return[t.GeometryUtil.interpolateOnLine(e,i,r).latLng]}-1==s.predecessor&&(s.predecessor=0),-1==a.predecessor&&(a.predecessor=0);var u=o.slice(s.predecessor+1,a.predecessor+1);return u.unshift(s.latLng),u.push(a.latLng),u},isBefore:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[i.length-1].equals(n[0])},isAfter:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[0].equals(n[n.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs(),r=i[0];return r.equals(n[0])||r.equals(n[n.length-1])},computeAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},computeSlope:function(t,e){var i=(e.y-t.y)/(e.x-t.x);return{a:i,b:t.y-i*t.x}},rotatePoint:function(e,i,n,r){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=n*Math.PI/180,a=e.project(i,o),u=e.project(r,o),l=Math.cos(s)*(a.x-u.x)-Math.sin(s)*(a.y-u.y)+u.x,c=Math.sin(s)*(a.x-u.x)+Math.cos(s)*(a.y-u.y)+u.y;return e.unproject(new t.Point(l,c),o)},bearing:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=t.lng*i,s=e.lng*i,a=Math.sin(s-o)*Math.cos(r),u=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(s-o),l=(180*Math.atan2(a,u)/Math.PI+360)%360;return l>=180?l-360:l},destination:function(e,i,n){i=(i+360)%360;var r=Math.PI/180,o=180/Math.PI,s=6378137,a=e.lng*r,u=e.lat*r,l=i*r,c=Math.sin(u),h=Math.cos(u),d=Math.cos(n/s),p=Math.sin(n/s),f=Math.asin(c*d+h*p*Math.cos(l)),m=a+Math.atan2(Math.sin(l)*p*h,d-c*Math.sin(f));return m*=o,m=m>180?m-360:m<-180?m+360:m,t.latLng([f*o,m])}}),t.GeometryUtil});var e={NODE_ENV:"production"};t.pkg("default",{},function(t){}),t.pkg("leaflet",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.markercluster",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.locatecontrol",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.gridlayer.googlemutant",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet-easybutton",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet-geometryutil",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("aurelia-bootstrapper",{},function(t){return t.file("dist/commonjs/aurelia-bootstrapper.js",function(t,e,i,n,r){function o(){return v.document&&"complete"!==v.document.readyState?new Promise(function(t){function e(){v.document.removeEventListener("DOMContentLoaded",e),v.removeEventListener("load",e),t()}v.document.addEventListener("DOMContentLoaded",e),v.addEventListener("load",e)}):Promise.resolve()}function s(){if(d.PLATFORM.Loader)return Promise.resolve(new d.PLATFORM.Loader);if("undefined"==typeof AURELIA_WEBPACK_2_0){if("undefined"!=typeof __webpack_require__){var t=__webpack_require__(e.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(v.System&&"function"==typeof v.System.config)return v.System.normalize("aurelia-bootstrapper").then(function(t){return v.System.normalize("aurelia-loader-default",t)}).then(function(t){return v.System.import(t).then(function(t){return new t.DefaultLoader})});if("function"==typeof v.require&&"string"==typeof v.require.version)return new Promise(function(t,e){return v.require(["aurelia-loader-default"],function(e){return t(new e.DefaultLoader)},e)});if(g&&void 0!==i&&void 0!==i.require){var n=i.require("aurelia-loader-nodejs");return Promise.resolve(new n.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function a(t){var e=void 0,i=g&&("renderer"===h.type||h.versions["node-webkit"]);if(g&&!i)e="nodejs";else if("undefined"!=typeof window)e="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");e="worker"}return t.loadModule("aurelia-pal-"+e).then(function(t){return"nodejs"===e&&!d.isInitialized&&t.globalize()||t.initialize()})}function u(t){var e=function(e,i){return t.normalize(e,i).then(function(i){return t.map(e,i),i})};return a(t).then(function(){return t.normalize("aurelia-bootstrapper")}).then(function(t){var i=e(d.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),t);return Promise.all([i,i.then(function(t){return e("aurelia-dependency-injection",t)}),e("aurelia-router",t),e("aurelia-logging-console",t)])}).then(function(e){var i=e[0];return t.loadModule(i)}).then(function(e){return f(function(){return new e.Aurelia(t)})})}function l(t,e,i){return i.host=t,i.configModuleId=e||null,e?i.loader.loadModule(e).then(function(t){if(!t.configure)throw new Error("Cannot initialize module '"+e+"' without a configure function.");return t.configure(i)}):(i.use.standardConfiguration().developmentLogging(),i.start().then(function(){return i.setRoot()}))}function c(t){var e=m.then(function(e){return t(e())});return p&&p.push(e),e}var h=e("process");Object.defineProperty(t,"__esModule",{value:!0}),t.starting=void 0,t.bootstrap=c,e("aurelia-polyfills");var d=e("aurelia-pal"),p=[],f=void 0,m=new Promise(function(t){return f=t}),v=d.PLATFORM.global,g=void 0!==h&&!h.browser;t.starting=function(){return o().then(s).then(u).then(function(){for(var t=v.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),e=0,i=t.length;e<i;++e){var n=t[e],r=n.getAttribute("aurelia-app")||n.getAttribute("data-aurelia-app");c(l.bind(null,n,r))}var o=console.error.bind(console),s=p.map(function(t){return t.catch(o)});return p=null,Promise.all(s)})}()}),t.entry="dist/commonjs/aurelia-bootstrapper.js"}),t.pkg("aurelia-polyfills",{},function(t){return t.file("dist/commonjs/aurelia-polyfills.js",function(t,e,i,n,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=e("aurelia-pal");"undefined"==typeof FEATURE_NO_ES2015&&(function(t,e){if(!(e in t)){var i,n=s.PLATFORM.global,r=0,a=""+Math.random(),u="__symbol:",l=u.length,c="__symbol@@"+a,h="defineProperty",d="defineProperties",p="getOwnPropertyNames",f="getOwnPropertyDescriptor",m="propertyIsEnumerable",v=t[p],g=t[f],_=t.create,y=t.keys,b=t[h],w=t[d],k=g(t,p),x=t.prototype,C=x.hasOwnProperty,E=x[m],L=x.toString,O=(Array.prototype.indexOf,function(t,e,i){C.call(t,c)||b(t,c,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[c]["@@"+e]=i}),S=function(t,e){var i=_(t);return null!==e&&"object"===(void 0===e?"undefined":o(e))&&v(e).forEach(function(t){j.call(e,t)&&z(i,t,e[t])}),i},P=function(t){var e=_(t);return e.enumerable=!1,e},A=function(){},M=function(t){return t!=c&&!C.call(N,t)},T=function(t){return t!=c&&C.call(N,t)},j=function(t){var e=""+t;return T(e)?C.call(this,e)&&this[c]["@@"+e]:E.call(this,t)},I=function(e){return b(x,e,{enumerable:!1,configurable:!0,get:A,set:function(t){i(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),O(this,e,!0)}}),N[e]=b(t(e),"constructor",B)},R=function(t){if(this&&this!==n)throw new TypeError("Symbol is not a constructor");return I(u.concat(t||"",a,++r))},N=_(null),B={value:R},D=function(t){return N[t]},z=function(t,e,n){var r=""+e;return T(r)?(i(t,r,n.enumerable?P(n):n),O(t,r,!!n.enumerable)):b(t,e,n),t},F=function(e){return e="[object String]"===L.call(e)?e.split(""):t(e),v(e).filter(T).map(D)};k.value=z,b(t,h,k),k.value=F,b(t,e,k),k.value=function(t){return v(t).filter(M)},b(t,p,k),k.value=function(t,e){var i=F(e);return i.length?y(e).concat(i).forEach(function(i){j.call(e,i)&&z(t,i,e[i])}):w(t,e),t},b(t,d,k),k.value=j,b(x,m,k),k.value=R,b(n,"Symbol",k),k.value=function(t){var e=u.concat(u,t,a);return e in x?N[e]:I(e)},b(R,"for",k),k.value=function(t){return C.call(N,t)?t.slice(2*l,-a.length):void 0},b(R,"keyFor",k),k.value=function(t,e){var i=g(t,e);return i&&T(e)&&(i.enumerable=j.call(t,e)),i},b(t,f,k),k.value=function(t,e){return 1===arguments.length?_(t):S(t,e)},b(t,"create",k),k.value=function(){var t=L.call(this);return"[object String]"===t&&T(this)?"[object Symbol]":t},b(x,"toString",k);try{i=_(b({},u,{get:function(){return b(this,u,{value:!1})[u]}}))[u]||b}catch(t){i=function(t,e,i){var n=g(x,e);delete x[e],b(t,e,i),b(x,e,n)}}}}(Object,"getOwnPropertySymbols"),function(t,e){var i,n=t.defineProperty,r=t.prototype,o=r.toString;["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive","toStringTag"].forEach(function(e){if(!(e in Symbol))switch(n(Symbol,e,{value:Symbol(e)}),e){case"toStringTag":i=t.getOwnPropertyDescriptor(r,"toString"),i.value=function(){var t=o.call(this),e=void 0===this||null===this?void 0:this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},n(r,"toString",i)}})}(Object,Symbol),function(t,e,i){function n(){return this}e[t]||(e[t]=function(){var e=0,i=this,r={next:function(){var t=i.length<=e;return t?{done:t}:{done:t,value:i[e++]}}};return r[t]=n,r}),i[t]||(i[t]=function(){var e=String.fromCodePoint,i=this,r=0,o=i.length,s={next:function(){var t=o<=r,n=t?"":e(i.codePointAt(r));return r+=n.length,t?{done:t}:{done:t,value:n}}};return s[t]=n,s})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(t){return t!==t},Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(t){return!0}}()||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(t){return!0}}()||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=function(){var t=function(t){return isNaN(t=+t)?0:(t>0?Math.floor:Math.ceil)(t)},e=function(e){return e>0?Math.min(t(e),9007199254740991):0},i=function(t,e,i,n){try{return e(i,n)}catch(e){throw"function"==typeof t.return&&t.return(),e}};return function(t){var n,r,o,s,a=Object(t),u="function"==typeof this?this:Array,l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,d=0,p=a[Symbol.iterator];if(h&&(c=c.bind(l>2?arguments[2]:void 0)),void 0==p||Array.isArray(t))for(n=e(a.length),r=new u(n);n>d;d++)r[d]=h?c(a[d],d):a[d];else for(s=p.call(a),r=new u;!(o=s.next()).done;d++)r[d]=h?i(s,c,o.value,d):o.value;return r.length=d,r}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return o;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(t){var e=Object(this),i=parseInt(e.length)||0;if(0===i)return!1;var n,r=parseInt(arguments[1])||0;r>=0?n=r:(n=i+r)<0&&(n=0);for(var o;n<i;){if(o=e[n],t===o||t!==t&&o!==o)return!0;n++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(function(){var t=!1;try{var e=Object.keys("a");t=1!==e.length||"0"!==e[0]}catch(e){t=!0}t&&(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if(void 0===r||null===r)throw TypeError("Cannot convert undefined or null to object");r=Object(r);var o,s,a=[];for(o in r)t.call(r,o)&&a.push(o);if(e)for(s=0;s<n;s++)t.call(r,i[s])&&a.push(i[s]);return a}}())}(),function(t){"assign"in t||t.defineProperty(t,"assign",{configurable:!0,writable:!0,value:function(){var e=t.getOwnPropertySymbols,i=t.propertyIsEnumerable,n=e?function(t){return e(t).filter(i,t)}:function(){return Array.prototype};return function(i){function r(t){i[t]=a[t]}!e||i instanceof t||console.warn("problematic Symbols",i);for(var o=1,s=arguments.length;o<s;++o){var a=arguments[o];null!==a&&void 0!==a&&t.keys(a).concat(n(a)).forEach(r)}return i}}()})}(Object)),"undefined"==typeof FEATURE_NO_ES2015&&function(t){function e(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&i.call(this,t)}return e||y(t,"size",{get:v}),t.constructor=n,n.prototype=t,n}function i(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function n(t){return this.has(t)&&(this._keys.splice(_,1),this._values.splice(_,1),this._itp.forEach(function(t){_<t[0]&&t[0]--})),-1<_}function r(t){return this.has(t)?this._values[_]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(_=t.length;_--&&!b(t[_],e););else _=t.indexOf(e);return-1<_}function s(t){return o.call(this,this._values,t)}function a(t){return o.call(this,this._keys,t)}function u(t,e){return this.has(t)?this._values[_]=e:this._values[this._keys.push(t)-1]=e,this}function l(t){return this.has(t)||this._values.push(t),this}function c(){(this._keys||0).length=this._values.length=0}function h(){return m(this._itp,this._keys)}function d(){return m(this._itp,this._values)}function p(){return m(this._itp,this._keys,this._values)}function f(){return m(this._itp,this._values,this._values)}function m(t,e,i){var n,r=[0],o=!1;return t.push(r),n={},n[Symbol.iterator]=function(){return this},n.next=function(){var n,s=r[0];return!o&&s<e.length?(n=i?[e[s],i[s]]:e[s],r[0]++):(o=!0,t.splice(t.indexOf(r),1)),{done:o,value:n}},n}function v(){return this._values.length}function g(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}var _,y=Object.defineProperty,b=function(t,e){return t===e||t!==t&&e!==e};if("undefined"==typeof WeakMap&&(t.WeakMap=e({delete:n,clear:c,get:r,has:a,set:u},!0)),"undefined"==typeof Map||"function"!=typeof(new Map).values||!(new Map).values().next){var w;t.Map=e((w={delete:n,has:a,get:r,set:u,keys:h,values:d,entries:p,forEach:g,clear:c},w[Symbol.iterator]=p,w))}if("undefined"==typeof Set||"function"!=typeof(new Set).values||!(new Set).values().next){var k;t.Set=e((k={has:s,add:l,delete:n,clear:c,keys:d,values:d,entries:f,forEach:g},k[Symbol.iterator]=d,k))}"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:n,add:l,clear:c,has:s},!0))}(s.PLATFORM.global),"undefined"==typeof FEATURE_NO_ES2015&&function(){var t=Function.prototype.bind;void 0===s.PLATFORM.global.Reflect&&(s.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(t,e,i){if("object"===(void 0===t?"undefined":o(t))?null===t:"function"!=typeof t)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(t,e,i),!0}catch(t){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,i){if(i)switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3])}var n=[null];return n.push.apply(n,i),new(t.apply(e,n))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))})}(),"undefined"==typeof FEATURE_NO_ESNEXT&&function(){var t=Object.freeze({});"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(e,i,n){if(i.hasOwnProperty("__metadata__"))return(i.__metadata__[n]||t)[e]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(t,e,i,n){var r=i.hasOwnProperty("__metadata__")?i.__metadata__:i.__metadata__={};(r[n]||(r[n]={}))[t]=e}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(t,e){return function(i,n){Reflect.defineMetadata(t,e,i,n)}})}()}),t.entry="dist/commonjs/aurelia-polyfills.js"}),t.pkg("aurelia-pal",{},function(t){return t.file("dist/commonjs/aurelia-pal.js",function(t,e,i,n,r){"use strict";function o(t,e,i){if(e){if(e.innerError&&i)return e;var n="\n------------------------------------------------\n";t+=n+"Inner Error:\n","string"==typeof e?t+="Message: "+e:(e.message?t+="Message: "+e.message:t+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(e,null,"  "),e.stack&&(t+="\nInner Error Stack:\n"+e.stack,t+="\nEnd Inner Error Stack")),t+=n}var r=new Error(t);return e&&(r.innerError=e),r}function s(e){h||(t.isInitialized=h=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(t,e){for(var i=Object.getOwnPropertyDescriptor(t,e),n=Object.getPrototypeOf(t);void 0===i&&null!==n;)i=Object.getOwnPropertyDescriptor(n,e),n=Object.getPrototypeOf(n);return i}),e(l,u,c))}function a(){t.isInitialized=h=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateError=o,t.initializePAL=s,t.reset=a;var u=t.FEATURE={},l=t.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t})};l.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")()}();var c=t.DOM={},h=t.isInitialized=!1}),t.entry="dist/commonjs/aurelia-pal.js"}),t.pkg("process",{},function(i){return i.file("index.js",function(i,n,r,o,s){function a(){f=!1,h.length?p=h.concat(p):m=-1,p.length&&u()}function u(){if(!f){var t=setTimeout(a);f=!0;for(var e=p.length;e;){for(h=p,p=[];++m<e;)h&&h[m].run();m=-1,e=p.length}h=null,f=!1,clearTimeout(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}if(t.isServer)void 0!==e&&Object.assign(global.process.env,e),r.exports=global.process;else{"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i});var h,d=r.exports={},p=[],f=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||f||setTimeout(u,0)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={NODE_ENV:"development"},void 0!==e&&Object.assign(d.env,e),d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}}}),i.entry="index.js"}),t.pkg("aurelia-event-aggregator",{},function(t){return t.file("dist/commonjs/aurelia-event-aggregator.js",function(t,e,i,n,r){"use strict";function o(t,e,i){try{t(e,i)}catch(t){h.error(t)}}function s(t,e){try{t.handle(e)}catch(t){h.error(t)}}function a(t){var e=new p;return t.subscribeOnce=function(t,i){return e.subscribeOnce(t,i)},t.subscribe=function(t,i){return e.subscribe(t,i)},t.publish=function(t,i){e.publish(t,i)},e}function u(t){t.instance(p,a(t.aurelia))}Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregator=void 0,t.includeEventsIn=a,t.configure=u;var l=e("aurelia-logging"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(l),h=c.getLogger("event-aggregator"),d=function(){function t(t,e){this.messageType=t,this.callback=e}return t.prototype.handle=function(t){t instanceof this.messageType&&this.callback.call(null,t)},t}(),p=t.EventAggregator=function(){function t(){this.eventLookup={},this.messageHandlers=[]}return t.prototype.publish=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event was invalid.");if("string"==typeof t){if(i=this.eventLookup[t])for(i=i.slice(),n=i.length;n--;)o(i[n],e,t)}else for(i=this.messageHandlers.slice(),n=i.length;n--;)s(i[n],t)},t.prototype.subscribe=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event channel/type was invalid.");return"string"==typeof t?(i=e,n=this.eventLookup[t]||(this.eventLookup[t]=[])):(i=new d(t,e),n=this.messageHandlers),n.push(i),{dispose:function(){var t=n.indexOf(i);-1!==t&&n.splice(t,1)}}},t.prototype.subscribeOnce=function(t,e){var i=this.subscribe(t,function(t,n){return i.dispose(),e(t,n)});return i},t}()}),t.entry="dist/commonjs/aurelia-event-aggregator.js"}),t.pkg("aurelia-logging",{},function(t){return t.file("dist/commonjs/aurelia-logging.js",function(t,e,i,n,r){"use strict";function o(){return[this].concat(Array.prototype.slice.call(arguments))}function s(t){var e=p[t];return function(){if(!(this.level<e))for(var i=o.apply(this,arguments),n=m.length;n--;){var r;(r=m[n])[t].apply(r,i)}}}function a(){var t=g.prototype;t.debug=s("debug"),t.info=s("info"),t.warn=s("warn"),t.error=s("error")}function u(t){return f[t]||new g(t)}function l(t){1===m.push(t)&&a()}function c(t){m=m.filter(function(e){return e!==t})}function h(t){v=t;for(var e in f)f[e].setLevel(t)}function d(){return v}Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=u,t.addAppender=l,t.removeAppender=c,t.setLevel=h,t.getLevel=d;var p=t.logLevel={none:0,error:1,warn:2,info:3,debug:4},f={},m=[],v=p.none,g=t.Logger=function(){function t(t){var e=f[t];if(e)return e;f[t]=this,this.id=t,this.level=v}return t.prototype.debug=function(t){},t.prototype.info=function(t){},t.prototype.warn=function(t){},t.prototype.error=function(t){},t.prototype.setLevel=function(t){this.level=t},t}()}),t.entry="dist/commonjs/aurelia-logging.js"}),t.pkg("aurelia-fetch-client",{},function(t){return t.file("dist/commonjs/aurelia-fetch-client.js",function(t,e,i,n,r){"use strict";function o(t){return new Blob([JSON.stringify(void 0!==t?t:{})],{type:"application/json"})}function s(t){if(!t.ok)throw t;return t}function a(){this.isRequesting=!!++this.activeRequestCount}function u(){this.isRequesting=!!--this.activeRequestCount}function l(t){var e=u.bind(this);return t.then(e,e),t}function c(t){var e={};for(var i in t||{})t.hasOwnProperty(i)&&(e[i]="function"==typeof t[i]?t[i]():t[i]);return e}function h(t,e){var i=this.defaults||{},n=void 0,r=void 0,o=void 0,s=c(i.headers);if(Request.prototype.isPrototypeOf(t))n=t,o=new Headers(n.headers).get("Content-Type");else{e||(e={}),r=e.body;var a=r?{body:r}:null,u=Object.assign({},i,{headers:{}},e,a);o=new Headers(u.headers).get("Content-Type"),n=new Request(d(this.baseUrl,t),u)}return!o&&new Headers(s).has("content-type")&&n.headers.set("Content-Type",new Headers(s).get("content-type")),p(n.headers,s),r&&Blob.prototype.isPrototypeOf(r)&&r.type&&n.headers.set("Content-Type",r.type),n}function d(t,e){return w.test(e)?e:(t||"")+e}function p(t,e){for(var i in e||{})e.hasOwnProperty(i)&&!t.has(i)&&t.set(i,e[i])}function f(t,e){return v(t,e,"request","requestError")}function m(t,e,i){return v(t,e,"response","responseError",i)}function v(t,e,i,n){for(var r=arguments.length,o=Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];return(e||[]).reduce(function(t,e){var r=e[i],s=e[n];return t.then(r&&function(t){return r.call.apply(r,[e,t].concat(o))}||g,s&&function(t){return s.call.apply(s,[e,t].concat(o))}||_)},Promise.resolve(t))}function g(t){return t}function _(t){throw t}Object.defineProperty(t,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.json=o;var b=t.HttpClientConfiguration=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){var t={credentials:"same-origin"};return Object.assign(this.defaults,t,this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:s})},t}(),w=(t.HttpClient=function(){function t(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return t.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":y(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");e=new b,e.baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var i=t(e);b.prototype.isPrototypeOf(i)&&(e=i)}var n=e.defaults;if(n&&Headers.prototype.isPrototypeOf(n.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},t.prototype.fetch=function(t){function e(e,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var i=this;a.call(this);var n=Promise.resolve().then(function(){return h.call(i,t,e,i.defaults)}),r=f(n,this.interceptors).then(function(t){var e=null;if(Response.prototype.isPrototypeOf(t))e=t;else{if(!Request.prototype.isPrototypeOf(t))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+t+"]");n=Promise.resolve(t),e=fetch(t)}return n.then(function(t){return m(e,i.interceptors,t)})});return l.call(this,r)}),t}(),/^([a-z][a-z0-9+\-.]*:)?\/\//i)}),t.entry="dist/commonjs/aurelia-fetch-client.js"}),t.pkg("aurelia-framework",{},function(t){return t.file("dist/commonjs/aurelia-framework.js",function(t,e,i,n,r){"use strict";function o(){_.DOM.addEventListener("submit",function(t){var e=t.target,i=e.action;"form"!==e.tagName.toLowerCase()||i||t.preventDefault()})}function s(t,e){var i=void 0;return function n(){return i=e.shift(),i?Promise.resolve(i(t)).then(n):Promise.resolve()}()}function a(t,e,i){function n(n){return e.loadModule(n).then(function(e){if("configure"in e)return Promise.resolve(e.configure(t,i.config||{})).then(function(){t.resourcesRelativeTo=null,w.debug("Configured plugin "+i.moduleId+".")});t.resourcesRelativeTo=null,w.debug("Loaded plugin "+i.moduleId+".")})}w.debug("Loading plugin "+i.moduleId+"."),t.resourcesRelativeTo=i.resourcesRelativeTo;var r=i.moduleId;return i.resourcesRelativeTo.length>1?e.normalize(i.moduleId,i.resourcesRelativeTo[1]).then(function(t){return n(t)}):n(r)}function u(t,e,i){function n(e){var i=e.moduleId,n=l(i);return r(i)&&(i=o(i)),t.loader.normalize(i,e.relativeTo).then(function(t){return{name:e.moduleId,importId:r(e.moduleId)?s(t,n):t}})}function r(t){var e=l(t);return!!e&&(""!==e&&(".js"!==e&&".ts"!==e))}function o(t){return t.replace(k,"")}function s(t,e){return o(t)+"."+e}
var a=t.container.get(f.ViewEngine);return Promise.all(Object.keys(e).map(function(t){return n(e[t])})).then(function(t){var e=[],n=[];return t.forEach(function(t){e.push(void 0),n.push(t.importId)}),a.importViewResources(n,e,i)})}function l(t){var e=t.match(k);if(e&&e.length>0)return e[0].split(".")[1]}function c(t){if(t.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}Object.defineProperty(t,"__esModule",{value:!0}),t.LogManager=t.FrameworkConfiguration=t.Aurelia=void 0;var h=e("aurelia-dependency-injection");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var d=e("aurelia-binding");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var p=e("aurelia-metadata");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var f=e("aurelia-templating");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var m=e("aurelia-loader");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var v=e("aurelia-task-queue");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})});var g=e("aurelia-path");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})});var _=e("aurelia-pal");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})});var y=e("aurelia-logging"),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(y),w=(t.Aurelia=function(){function t(e,i,n){this.loader=e||new _.PLATFORM.Loader,this.container=i||(new h.Container).makeGlobal(),this.resources=n||new f.ViewResources,this.use=new x(this),this.logger=b.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(t,this),this.use.instance(m.Loader,this.loader),this.use.instance(f.ViewResources,this.resources)}return t.prototype.start=function(){var t=this;return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then(function(){if(o(),!t.container.hasResolver(f.BindingLanguage)){var e="You must configure Aurelia with a BindingLanguage implementation.";throw t.logger.error(e),new Error(e)}t.logger.info("Aurelia Started");var i=_.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return _.DOM.dispatchEvent(i),t}))},t.prototype.enhance=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(i||_.DOM.querySelectorAll("body")[0]),new Promise(function(i){var n=t.container.get(f.TemplatingEngine);t.root=n.enhance({container:t.container,element:t.host,resources:t.resources,bindingContext:e}),t.root.attached(),t._onAureliaComposed(),i(t)})},t.prototype.setRoot=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(i);var r=this.container.get(f.TemplatingEngine);return delete this.container.get(f.CompositionTransaction).initialComposition,e||(e=this.configModuleId?(0,g.relativeToFile)("./app",this.configModuleId):"app"),n.viewModel=e,n.container=n.childContainer=this.container,n.viewSlot=this.hostSlot,n.host=this.host,r.compose(n).then(function(e){return t.root=e,n.viewSlot.attached(),t._onAureliaComposed(),t})},t.prototype._configureHost=function(t){if(!this.hostConfigured){if(t=t||this.host,this.host=t&&"string"!=typeof t?t:_.DOM.getElementById(t||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new f.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(_.DOM.boundary,this.host)}},t.prototype._onAureliaComposed=function(){var t=_.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return _.DOM.dispatchEvent(t)},1)},t}(),b.getLogger("aurelia")),k=/\.[^\/.]+$/,x=function(){function t(t){var e=this;this.aurelia=t,this.container=t.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return t.loader.normalize("aurelia-bootstrapper").then(function(t){return e.bootstrapperName=t})}),this.postTask(function(){return u(t,e.resourcesToLoad,t.resources)})}return t.prototype.instance=function(t,e){return this.container.registerInstance(t,e),this},t.prototype.singleton=function(t,e){return this.container.registerSingleton(t,e),this},t.prototype.transient=function(t,e){return this.container.registerTransient(t,e),this},t.prototype.preTask=function(t){return c(this),this.preTasks.push(t),this},t.prototype.postTask=function(t){return c(this),this.postTasks.push(t),this},t.prototype.feature=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=/\/index$/i.test(t),n=i||l(t)?t:t+"/index",r=i?t.substr(0,t.length-6):t;return this.plugin({moduleId:n,resourcesRelativeTo:[r,""],config:e})},t.prototype.globalResources=function(t){c(this);for(var e=Array.isArray(t)?t:arguments,i=void 0,n=this.resourcesRelativeTo||["",""],r=0,o=e.length;r<o;++r){if("string"!=typeof(i=e[r]))throw new Error("Invalid resource path ["+i+"]. Resources must be specified as relative module IDs.");var s=n[0],a=n[1],u=i;(i.startsWith("./")||i.startsWith("../"))&&""!==s&&(u=(0,g.join)(s,i)),this.resourcesToLoad[u]={moduleId:u,relativeTo:a}}return this},t.prototype.globalName=function(t,e){return c(this),this.resourcesToLoad[t]={moduleId:e,relativeTo:""},this},t.prototype.plugin=function(t,e){return c(this),"string"==typeof t?this.plugin({moduleId:t,resourcesRelativeTo:[t,""],config:e||{}}):(this.info.push(t),this)},t.prototype._addNormalizedPlugin=function(t,e){var i=this,n={moduleId:t,resourcesRelativeTo:[t,""],config:e||{}};return this.plugin(n),this.preTask(function(){var e=[t,i.bootstrapperName];return n.moduleId=t,n.resourcesRelativeTo=e,Promise.resolve()}),this},t.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},t.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},t.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},t.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},t.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},t.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},t.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},t.prototype.developmentLogging=function(){var t=this;return this.preTask(function(){return t.aurelia.loader.normalize("aurelia-logging-console",t.bootstrapperName).then(function(e){return t.aurelia.loader.loadModule(e).then(function(t){b.addAppender(new t.ConsoleAppender),b.setLevel(b.logLevel.debug)})})}),this},t.prototype.apply=function(){var t=this;return this.processed?Promise.resolve():s(this,this.preTasks).then(function(){var e=t.aurelia.loader,i=t.info,n=void 0;return function r(){return(n=i.shift())?a(t,e,n).then(r):(t.processed=!0,Promise.resolve())}().then(function(){return s(t,t.postTasks)})})},t}();t.FrameworkConfiguration=x;t.LogManager=b}),t.entry="dist/commonjs/aurelia-framework.js"}),t.pkg("aurelia-dependency-injection",{},function(t){return t.file("dist/commonjs/aurelia-dependency-injection.js",function(t,e,i,n,r){"use strict";function o(t,e){var i=t.inject;if("function"==typeof i)throw new Error("Decorator "+e+' cannot be used with "inject()".  Please use an array instead.');return i||(i=B.metadata.getOwn(B.metadata.paramTypes,t).slice(),t.inject=i),i}function s(t){return function(e,i,n){o(e,"lazy")[n]=F.of(t)}}function a(t){return function(e,i,n){o(e,"all")[n]=V.of(t)}}function u(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=function(t){return function(e,i,n){var r=o(e,"optional");r[n]=q.of(r[n],t)}};return e("boolean"==typeof t?t:!0)}function l(t,e,i){var n=o(t,"parent");n[i]=H.of(n[i])}function c(t,e){return function(i,n,r){var s=o(i,"factory"),a=Z.of(t);s[r]=e?a.as(e):a}}function h(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=function(t){return function(e,n,r){var s=o(e,"newInstance");s[r]=W.of.apply(W,[s[r]].concat(i)),t&&s[r].as(t)}};return arguments.length>=1?r(t):r()}function d(t){return function(e){B.metadata.define(B.metadata.invoker,t,e)}}function p(t){var e=function(t){B.metadata.define(B.metadata.invoker,G.instance,t)};return t?e(t):e}function f(t){return function(e){B.metadata.define(B.metadata.registration,t,e)}}function m(t){return f(new Y(t))}function v(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return f(new X(t,e))}function g(t){if(null===t||void 0===t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function _(t,e,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=t.get(i[r]);return void 0!==n&&(o=o.concat(n)),Reflect.construct(e,o)}function y(t){return t.hasOwnProperty("inject")?"function"==typeof t.inject?t.inject():t.inject:[]}function b(t){var e=function(t){var e=t.inject?t.inject.slice():null,i=B.metadata.getOwn(B.metadata.paramTypes,t)||$;if(e){for(var n=0;n<i.length;n++)if(e[n]&&e[n]!==i[n]){var r=e.indexOf(i[n]);r>-1&&e.splice(r,1),e.splice(r>-1&&r<n?n-1:n,0,i[n])}else e[n]||(e[n]=i[n]);t.inject=e}else t.inject=i};return t?e(t):e}function w(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i,n){if("number"==typeof n&&1===e.length){var r=t.inject;if("function"==typeof r)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return r||(r=B.metadata.getOwn(B.metadata.paramTypes,t).slice(),t.inject=r),void(r[n]=e[0])}if(n){n.value.inject=e}else t.inject=e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.InvocationHandler=t._emptyParameters=t.SingletonRegistration=t.TransientRegistration=t.FactoryInvoker=t.NewInstance=t.Factory=t.StrategyResolver=t.Parent=t.Optional=t.All=t.Lazy=t.resolver=void 0;var k,x,C,E,L,O,S,P,A,M,T,j,I,R,N;t.getDecoratorDependencies=o,t.lazy=s,t.all=a,t.optional=u,t.parent=l,t.factory=c,t.newInstance=h,t.invoker=d,t.invokeAsFactory=p,t.registration=f,t.transient=m,t.singleton=v,t.autoinject=b,t.inject=w;var B=e("aurelia-metadata"),D=e("aurelia-pal"),z=t.resolver=B.protocol.create("aurelia:resolver",function(t){return"function"==typeof t.get||"Resolvers must implement: get(container: Container, key: any): any"}),F=t.Lazy=(k=z())(x=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){return t.get(e._key)}},t.of=function(e){return new t(e)},t}())||x,V=t.All=(C=z())(E=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.getAll(this._key)},t.of=function(e){return new t(e)},t}())||E,q=t.Optional=(L=z())(O=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=t,this._checkParent=e}return t.prototype.get=function(t){return t.hasResolver(this._key,this._checkParent)?t.get(this._key):null},t.of=function(e){return new t(e,arguments.length<=1||void 0===arguments[1]||arguments[1])},t}())||O,H=t.Parent=(S=z())(P=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.parent?t.parent.get(this._key):null},t.of=function(e){return new t(e)},t}())||P,U=t.StrategyResolver=(A=z())(M=function(){function t(t,e){this.strategy=t,this.state=e}return t.prototype.get=function(t,e){switch(this.strategy){case 0:return this.state;case 1:var i=t.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return t.invoke(this.state);case 3:return this.state(t,e,this);case 4:return this.state[0].get(t,e);case 5:return t.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},t}())||M,Z=t.Factory=(T=z())(j=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.invoke(e._key,n)}},t.of=function(e){return new t(e)},t}())||j,W=t.NewInstance=(I=z())(R=function(){function t(t){this.key=t,this.asKey=t;for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return t.prototype.get=function(t){var e=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(e){return e["protocol:aurelia:resolver"]?e.get(t):t.get(e)}):void 0,i=t.invoke(this.key,e);return t.registerInstance(this.asKey,i),i},t.prototype.as=function(t){return this.asKey=t,this},t.of=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat([e],n)))},t}())||R,G=t.FactoryInvoker=function(){function t(){}return t.prototype.invoke=function(t,e,i){for(var n=i.length,r=new Array(n);n--;)r[n]=t.get(i[n]);return e.apply(void 0,r)},t.prototype.invokeWithDynamicDependencies=function(t,e,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=t.get(i[r]);return void 0!==n&&(o=o.concat(n)),e.apply(void 0,o)},t}();G.instance=new G;var Y=t.TransientRegistration=function(){function t(t){this._key=t}return t.prototype.registerResolver=function(t,e,i){var n=t.getResolver(this._key||e);return void 0===n?t.registerTransient(this._key||e,i):n},t}(),X=t.SingletonRegistration=function(){function t(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof t?this._registerInChild=t:(this._key=t,this._registerInChild=e)}return t.prototype.registerResolver=function(t,e,i){var n=this._registerInChild?t:t.root,r=n.getResolver(this._key||e);return void 0===r?n.registerSingleton(this._key||e,i):r},t}(),$=t._emptyParameters=Object.freeze([]);B.metadata.registration="aurelia:registration",B.metadata.invoker="aurelia:invoker";var Q=z.decorates,K=t.InvocationHandler=function(){function t(t,e,i){this.fn=t,this.invoker=e,this.dependencies=i}return t.prototype.invoke=function(t,e){return void 0!==e?this.invoker.invokeWithDynamicDependencies(t,this.fn,this.dependencies,e):this.invoker.invoke(t,this.fn,this.dependencies)},t}(),J=(N={},N[0]={invoke:function(t,e){return new e},invokeWithDynamicDependencies:_},N[1]={invoke:function(t,e,i){return new e(t.get(i[0]))},invokeWithDynamicDependencies:_},N[2]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]))},invokeWithDynamicDependencies:_},N[3]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]))},invokeWithDynamicDependencies:_},N[4]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]))},invokeWithDynamicDependencies:_},N[5]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]),t.get(i[4]))},invokeWithDynamicDependencies:_},N.fallback={invoke:_,invokeWithDynamicDependencies:_},N);t.Container=function(){function t(t){void 0===t&&(t={}),this._configuration=t,this._onHandlerCreated=t.onHandlerCreated,this._handlers=t.handlers||(t.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return t.prototype.makeGlobal=function(){return t.instance=this,this},t.prototype.setHandlerCreatedCallback=function(t){this._onHandlerCreated=t,this._configuration.onHandlerCreated=t},t.prototype.registerInstance=function(t,e){return this.registerResolver(t,new U(0,void 0===e?t:e))},t.prototype.registerSingleton=function(t,e){return this.registerResolver(t,new U(1,void 0===e?t:e))},t.prototype.registerTransient=function(t,e){return this.registerResolver(t,new U(2,void 0===e?t:e))},t.prototype.registerHandler=function(t,e){return this.registerResolver(t,new U(3,e))},t.prototype.registerAlias=function(t,e){return this.registerResolver(e,new U(5,t))},t.prototype.registerResolver=function(t,e){g(t);var i=this._resolvers,n=i.get(t);return void 0===n?i.set(t,e):4===n.strategy?n.state.push(e):i.set(t,new U(4,[n,e])),e},t.prototype.autoRegister=function(t,e){if("function"==typeof(e=void 0===e?t:e)){var i=B.metadata.get(B.metadata.registration,e);return void 0===i?this.registerResolver(t,new U(1,e)):i.registerResolver(this,t,e)}return this.registerResolver(t,new U(0,e))},t.prototype.autoRegisterAll=function(t){for(var e=t.length;e--;)this.autoRegister(t[e])},t.prototype.unregister=function(t){this._resolvers.delete(t)},t.prototype.hasResolver=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return g(t),this._resolvers.has(t)||e&&null!==this.parent&&this.parent.hasResolver(t,e)},t.prototype.getResolver=function(t){return this._resolvers.get(t)},t.prototype.get=function(e){if(g(e),e===t)return this;if(Q(e))return e.get(this,e);var i=this._resolvers.get(e);if(void 0===i){if(null===this.parent)return this.autoRegister(e).get(this,e);var n=B.metadata.get(B.metadata.registration,e);return void 0===n?this.parent._get(e):n.registerResolver(this,e,e).get(this,e)}return i.get(this,e)},t.prototype._get=function(t){var e=this._resolvers.get(t);return void 0===e?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):e.get(this,t)},t.prototype.getAll=function(t){g(t);var e=this._resolvers.get(t);if(void 0===e)return null===this.parent?$:this.parent.getAll(t);if(4===e.strategy){for(var i=e.state,n=i.length,r=new Array(n);n--;)r[n]=i[n].get(this,t);return r}return[e.get(this,t)]},t.prototype.createChild=function(){var e=new t(this._configuration);return e.root=this.root,e.parent=this,e},t.prototype.invoke=function(t,e){try{var i=this._handlers.get(t);return void 0===i&&(i=this._createInvocationHandler(t),this._handlers.set(t,i)),i.invoke(this,e)}catch(e){throw new D.AggregateError("Error invoking "+t.name+". Check the inner error for details.",e,!0)}},t.prototype._createInvocationHandler=function(t){var e=void 0;if(void 0===t.inject)e=B.metadata.getOwn(B.metadata.paramTypes,t)||$;else{e=[];for(var i=t;"function"==typeof i;){var n;(n=e).push.apply(n,y(i)),i=Object.getPrototypeOf(i)}}var r=B.metadata.getOwn(B.metadata.invoker,t)||J[e.length]||J.fallback,o=new K(t,r,e);return void 0!==this._onHandlerCreated?this._onHandlerCreated(o):o},t}()}),t.entry="dist/commonjs/aurelia-dependency-injection.js"}),t.pkg("aurelia-metadata",{},function(t){return t.file("dist/commonjs/aurelia-metadata.js",function(t,e,i,n,r){"use strict";function o(t){return t&&("function"==typeof t||"object"===(void 0===t?"undefined":v(t)))}function s(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=function(t,i,n){var r=e.length;if(i){for(n=n||{value:t[i],writable:!0,configurable:!0,enumerable:!0};r--;)n=e[r](t,i,n)||n;Object.defineProperty(t,i,n)}else for(;r--;)t=e[r](t)||t;return t};return n.on=n,n}function a(t,e,i){function n(i,n,r){var o=i.constructor.name+"#"+n,s=e?{}:t||{},a="DEPRECATION - "+o;if("function"!=typeof r.value)throw new SyntaxError("Only methods can be marked as deprecated.");return s.message&&(a+=" - "+s.message),m({},r,{value:function(){if(s.error)throw new Error(a);return console.warn(a),r.value.apply(this,arguments)}})}return e?n(t,e,i):n}function u(t){function e(e){var n=function(e){for(var n="function"==typeof e?e.prototype:e,r=i.length;r--;){var o=i[r];Object.defineProperty(n,o,{value:t[o],writable:!0})}};return e?n(e):n}var i=Object.keys(t);return e}function l(){return!0}function c(){}function h(t){return void 0===t?t={}:"function"==typeof t&&(t={validate:t}),t.validate||(t.validate=l),t.compose||(t.compose=c),t}function d(t){return function(e){return!0===t(e)}}function p(t,e){return function(i){var n=e(i);if(!0!==n)throw new Error(n||t+" was not correctly implemented.")}}function f(t,e){e=h(e);var i=function i(n){var r="function"==typeof n?n.prototype:n;e.compose(r),i.assert(r),Object.defineProperty(r,"protocol:"+t,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return i.validate=d(e.validate),i.assert=p(t,e.validate),i}Object.defineProperty(t,"__esModule",{value:!0}),t.Origin=t.metadata=void 0;var m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.decorators=s,t.deprecated=a,t.mixin=u,t.protocol=f;var g=e("aurelia-pal"),_=t.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(t,e,i){if(o(e)){var n=_.getOwn(t,e,i);return void 0===n?_.get(t,Object.getPrototypeOf(e),i):n}},getOwn:function(t,e,i){if(o(e))return Reflect.getOwnMetadata(t,e,i)},define:function(t,e,i,n){Reflect.defineMetadata(t,e,i,n)},getOrCreateOwn:function(t,e,i,n){var r=_.getOwn(t,i,n);return void 0===r&&(r=new e,Reflect.defineMetadata(t,r,i,n)),r}},y=new Map,b=Object.freeze({moduleId:void 0,moduleMember:void 0});t.Origin=function(){function t(t,e){this.moduleId=t,this.moduleMember=e}return t.get=function(e){var i=y.get(e);return void 0===i&&g.PLATFORM.eachModule(function(n,r){if("object"===(void 0===r?"undefined":v(r)))for(var o in r){var s=r[o];if(s===e)return y.set(e,i=new t(n,o)),!0}return r===e&&(y.set(e,i=new t(n,"default")),!0)}),i||b},t.set=function(t,e){y.set(t,e)},t}();f.create=function(t,e){e=h(e);var i="protocol:"+t,n=function(i){var n=f(t,e);return i?n(i):n};return n.decorates=function(t){return!0===t[i]},n.validate=d(e.validate),n.assert=p(t,e.validate),n}}),t.entry="dist/commonjs/aurelia-metadata.js"}),t.pkg("aurelia-binding",{},function(t){return t.file("dist/commonjs/aurelia-binding.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){if(t in Vt)return Vt[t];var e=t.charAt(0).toLowerCase()+t.slice(1).replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()});return Vt[t]=e,e}function u(t,e){return{bindingContext:t,parentOverrideContext:e||null}}function l(t,e,i){var n=e.overrideContext;if(i){for(;i&&n;)i--,n=n.parentOverrideContext;if(i||!n)return;return t in n?n:n.bindingContext}for(;n&&!(t in n)&&!(n.bindingContext&&t in n.bindingContext);)n=n.parentOverrideContext;return n?t in n?n:n.bindingContext:e.bindingContext||e.overrideContext}function c(t,e){return e?{bindingContext:t,overrideContext:u(t,u(e))}:{bindingContext:t,overrideContext:u(t)}}function h(t){for(var e=void 0===this._observerSlots?0:this._observerSlots,i=e;i--&&this[Ht[i]]!==t;);if(-1===i){for(i=0;this[Ht[i]];)i++;this[Ht[i]]=t,t.subscribe(qt,this),i===e&&(this._observerSlots=i+1)}void 0===this._version&&(this._version=0),this[Ut[i]]=this._version}function d(t,e){var i=this.observerLocator.getObserver(t,e);h.call(this,i)}function p(t){var e=this.observerLocator.getArrayObserver(t);h.call(this,e)}function f(t){for(var e=this._observerSlots;e--;)if(t||this[Ut[e]]!==this._version){var i=this[Ht[e]];this[Ht[e]]=null,i&&i.unsubscribe(qt,this)}}function m(){return function(t){t.prototype.observeProperty=d,t.prototype.observeArray=p,t.prototype.unobserve=f,t.prototype.addObserver=h}}function v(t){for(var e=Wt.length,i=0;i<e;){var n=Wt[i];if(Gt[n.__connectQueueId]=!1,n.connect(!0),++i%100==0&&Dt.PLATFORM.performance.now()-t>$t)break}Wt.splice(0,i),Wt.length?Dt.PLATFORM.requestAnimationFrame(v):(Qt=!1,Kt=0)}function g(t){if(Kt<Xt)Kt++,t.connect(!1);else{var e=t.__connectQueueId;void 0===e&&(e=Yt,Yt++,t.__connectQueueId=e),Gt[e]||(Wt.push(t),Gt[e]=!0)}Qt||(Qt=!0,Dt.PLATFORM.requestAnimationFrame(v))}function _(t,e){return!this.hasSubscriber(t,e)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(t),this._callablesRest.push(e),!0):(this._contextsRest=[t],this._callablesRest=[e],!0):(this._context2=t,this._callable2=e,!0):(this._context1=t,this._callable1=e,!0):(this._context0=t,this._callable0=e,!0))}function y(t,e){if(this._context0===t&&this._callable0===e)return this._context0=null,this._callable0=null,!0;if(this._context1===t&&this._callable1===e)return this._context1=null,this._callable1=null,!0;if(this._context2===t&&this._callable2===e)return this._context2=null,this._callable2=null,!0;var i=this._contextsRest,n=void 0;return!(!i||!i.length||-1===(n=i.indexOf(t))||this._callablesRest[n]!==e)&&(i.splice(n,1),this._callablesRest.splice(n,1),!0)}function b(t,e){var i=this._context0,n=this._callable0,r=this._context1,o=this._callable1,s=this._context2,a=this._callable2,u=this._contextsRest?this._contextsRest.length:0,l=void 0,c=void 0,h=void 0,d=void 0;if(u){for(h=ee.length;h--&&ee[h];);for(h<0?(h=ee.length,l=[],c=[],ee.push(!0),Jt.push(l),te.push(c)):(ee[h]=!0,l=Jt[h],c=te[h]),d=u;d--;)l[d]=this._contextsRest[d],c[d]=this._callablesRest[d]}if(i&&(n?n.call(i,t,e):i(t,e)),r&&(o?o.call(r,t,e):r(t,e)),s&&(a?a.call(s,t,e):s(t,e)),u){for(d=0;d<u;d++){var p=c[d],f=l[d];p?p.call(f,t,e):f(t,e),l[d]=null,c[d]=null}ee[h]=!1}}function w(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function k(t,e){if(this._context0===t&&this._callable0===e||this._context1===t&&this._callable1===e||this._context2===t&&this._callable2===e)return!0;var i=void 0,n=this._contextsRest;if(!n||0===(i=n.length))return!1;for(var r=this._callablesRest;i--;)if(n[i]===t&&r[i]===e)return!0;return!1}function x(){return function(t){t.prototype.addSubscriber=_,t.prototype.removeSubscriber=y,t.prototype.callSubscribers=b,t.prototype.hasSubscribers=w,t.prototype.hasSubscriber=k}}function C(t){return+t==t>>>0}function E(t){return+t}function L(t,e,i){return{index:t,removed:e,addedCount:i}}function O(){}function S(t,e,i,n,r,o){return ne.calcSplices(t,e,i,n,r,o)}function P(t,e,i,n){return e<i||n<t?-1:e===i||n===t?0:t<i?e<n?e-i:n-i:n<e?n-t:e-t}function A(t,e,i,n){for(var r=L(e,i,n),o=!1,s=0,a=0;a<t.length;a++){var u=t[a];if(u.index+=s,!o){var l=P(r.index,r.index+r.removed.length,u.index,u.index+u.addedCount);if(l>=0){t.splice(a,1),a--,s-=u.addedCount-u.removed.length,r.addedCount+=u.addedCount-l;var c=r.removed.length+u.removed.length-l;if(r.addedCount||c){var h=u.removed;if(r.index<u.index){var d=r.removed.slice(0,u.index-r.index);Array.prototype.push.apply(d,h),h=d}if(r.index+r.removed.length>u.index+u.addedCount){var p=r.removed.slice(u.index+u.addedCount-r.index);Array.prototype.push.apply(h,p)}r.removed=h,u.index<r.index&&(r.index=u.index)}else o=!0}else if(r.index<u.index){o=!0,t.splice(a,0,r),a++;var f=r.addedCount-r.removed.length;u.index+=f,s+=f}}}o||t.push(r)}function M(t,e){for(var i=[],n=0;n<e.length;n++){var r=e[n];switch(r.type){case"splice":A(i,r.index,r.removed.slice(),r.addedCount);break;case"add":case"update":case"delete":if(!C(r.name))continue;var o=E(r.name);if(o<0)continue;A(i,o,[r.oldValue],"delete"===r.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(r))}}return i}function T(t,e){var i=[];return M(t,e).forEach(function(e){if(1===e.addedCount&&1===e.removed.length)return void(e.removed[0]!==t[e.index]&&i.push(e));i=i.concat(S(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length))}),i}function j(t,e,i,n){return{type:t,object:e,key:i,oldValue:n}}function I(t){for(var e=new Array(t.size),i=t.keys(),n=0,r=void 0;(r=i.next())&&!r.done;)e[n]=j("added",t,r.value),n++;return e}function R(t,e){return pe.for(t,e)}function N(t,e,i){for(var n=e.length,r=[],o=0;o<n;o++)r[o]=e[o].evaluate(t,i);return r}function B(t,e){return null!==t&&null!==e?"string"==typeof t&&"string"!=typeof e?t+e.toString():"string"!=typeof t&&"string"==typeof e?t.toString()+e:t+e:null!==t?t:null!==e?e:0}function D(t,e,i){var n=null===t||void 0===t?null:t[e];if("function"==typeof n)return n;if(!i&&(null===n||void 0===n))return null;throw new Error(e+" is not a function")}function z(t,e){if(Array.isArray(t))return t[parseInt(e,10)];if(t)return t[e];if(null!==t&&void 0!==t)return t[e]}function F(t,e,i){if(Array.isArray(t)){var n=parseInt(e,10);t.length<=n&&(t.length=n+1),t[n]=i}else t[e]=i;return i}function V(t){var e=new Ie;return t.accept(e)}function q(t){return t>=Ve&&t<=We||t===Ri}function H(t){return xi<=t&&t<=Mi||mi<=t&&t<=gi||t===ki||t===Xe}function U(t){return xi<=t&&t<=Mi||mi<=t&&t<=gi||pi<=t&&t<=fi||t===ki||t===Xe}function Z(t){return pi<=t&&t<=fi}function W(t){return t===Ci||t===vi}function G(t){return t===ri||t===ii}function Y(t){switch(t){case Li:return qe;case Ei:return Ue;case Oi:return Ze;case Si:return Ve;case Ai:return He;default:return t}}function X(t,e){if(!t)throw e||"Assertion failed"}function $(t,e){return Fi.for(t,e)}function Q(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}function K(){this.standardStopPropagation(),this.propagationStopped=!0}function J(t){t.standardStopPropagation=t.stopPropagation,t.stopPropagation=K}function tt(t){var e=!1;t.propagationStopped=!1;for(var i=Q(t),n=[];i;){if(i.capturedCallbacks){var r=i.capturedCallbacks[t.type];r&&(e||(J(t),e=!0),n.push(r))}i=i.parentNode}for(var o=n.length-1;o>=0;o--){if((0,n[o])(t),t.propagationStopped)break}}function et(t){var e=!1;t.propagationStopped=!1;for(var i=Q(t);i&&!t.propagationStopped;){if(i.delegatedCallbacks){var n=i.delegatedCallbacks[t.type];n&&(e||(J(t),e=!0),n(t))}i=i.parentNode}}function it(t){return!!(t&&t.get&&t.get.dependencies)}function nt(t,e,i){Object.getOwnPropertyDescriptor(t.prototype,e).get.dependencies=i}function rt(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i,n){return n.get.dependencies=e,n}}function ot(t,e,i,n){var r=i.get.dependencies;if(!(r instanceof an)){for(var o=r.length;o--;)r[o]=n.parser.parse(r[o]);r=i.get.dependencies=new an(e,r)}var s={bindingContext:t,overrideContext:u(t)};return new ie(s,r,n)}function st(t){if(void 0===t||"string"==typeof t)return function(e){Ft.metadata.define(Ft.metadata.resource,new bn(t),e)};Ft.metadata.define(Ft.metadata.resource,new bn,t)}function at(t){if(void 0===t||"string"==typeof t)return function(e){Ft.metadata.define(Ft.metadata.resource,new wn(t),e)};Ft.metadata.define(Ft.metadata.resource,new wn,t)}function ut(t){var e=t.au;if(void 0===e)throw new Error('No Aurelia APIs are defined for the element: "'+t.tagName+'".');return e}function lt(t,e){return Ln.for(t,e)}function ct(t,e,i){function n(t,e,i,n){var r=void 0===e;r&&(t=t.prototype,e="string"==typeof n?n:n.name);var o="_"+e,s={configurable:!0,enumerable:!1,writable:!0},a=n&&n.changeHandler||e+"Changed";if(i?"function"==typeof i.initializer&&(s.value=i.initializer()):i={},"enumerable"in i||(i.enumerable=!0),delete i.value,delete i.writable,delete i.initializer,Reflect.defineProperty(t,o,s),i.get=function(){return this[o]},i.set=function(t){var i=this[o]
;t!==i&&(this[o]=t,Reflect.defineProperty(this,o,{enumerable:!1}),this[a]&&this[a](t,i,e))},i.get.dependencies=[o],!r)return i;Reflect.defineProperty(t,e,i)}return void 0===e?function(e,i,r){return n(e,i,r,t)}:n(t,e,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSetObserver=t.BindingEngine=t.NameExpression=t.Listener=t.ListenerExpression=t.BindingBehaviorResource=t.ValueConverterResource=t.Call=t.CallExpression=t.Binding=t.BindingExpression=t.ObjectObservationAdapter=t.ObserverLocator=t.SVGAnalyzer=t.presentationAttributes=t.presentationElements=t.elements=t.ComputedExpression=t.ClassObserver=t.SelectValueObserver=t.CheckedObserver=t.ValueAttributeObserver=t.StyleObserver=t.DataAttributeObserver=t.dataAttributeAccessor=t.XLinkAttributeObserver=t.SetterObserver=t.PrimitiveObserver=t.propertyAccessor=t.DirtyCheckProperty=t.DirtyChecker=t.EventManager=t.delegationStrategy=t.getMapObserver=t.ParserImplementation=t.Parser=t.Scanner=t.Lexer=t.Token=t.bindingMode=t.ExpressionCloner=t.Unparser=t.LiteralObject=t.LiteralArray=t.LiteralString=t.LiteralPrimitive=t.PrefixNot=t.Binary=t.CallFunction=t.CallMember=t.CallScope=t.AccessKeyed=t.AccessMember=t.AccessScope=t.AccessThis=t.Conditional=t.Assign=t.ValueConverter=t.BindingBehavior=t.Chain=t.Expression=t.getArrayObserver=t.CollectionLengthObserver=t.ModifyCollectionObserver=t.ExpressionObserver=t.sourceContext=void 0;var ht,dt,pt,ft,mt,vt,gt,_t,yt,bt,wt,kt,xt,Ct,Et,Lt,Ot,St,Pt,At,Mt,Tt,jt,It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Rt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.camelCase=a,t.createOverrideContext=u,t.getContextFor=l,t.createScopeForTest=c,t.connectable=m,t.enqueueBindingConnect=g,t.subscriberCollection=x,t.calcSplices=S,t.mergeSplice=A,t.projectArraySplices=T,t.getChangeRecords=I,t.cloneExpression=V,t.hasDeclaredDependencies=it,t.declarePropertyDependencies=nt,t.computedFrom=rt,t.createComputedObserver=ot,t.valueConverter=st,t.bindingBehavior=at,t.observable=ct;for(var Nt=e("aurelia-logging"),Bt=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(Nt),Dt=e("aurelia-pal"),zt=e("aurelia-task-queue"),Ft=e("aurelia-metadata"),Vt=Object.create(null),qt=t.sourceContext="Binding:source",Ht=[],Ut=[],Zt=0;Zt<100;Zt++)Ht.push("_observer"+Zt),Ut.push("_observerVersion"+Zt);var Wt=[],Gt={},Yt=0,Xt=100,$t=15,Qt=!1,Kt=0,Jt=[],te=[],ee=[],ie=t.ExpressionObserver=(ht=m(),dt=x(),ht(pt=dt(pt=function(){function t(t,e,i,n){this.scope=t,this.expression=e,this.observerLocator=i,this.lookupFunctions=n}return t.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},t.prototype.setValue=function(t){this.expression.assign(this.scope,t)},t.prototype.subscribe=function(t,e){var i=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(t,e),1===arguments.length&&t instanceof Function)return{dispose:function(){i.unsubscribe(t,e)}}},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},t.prototype.call=function(){var t=this.expression.evaluate(this.scope,this.lookupFunctions),e=this.oldValue;t!==e&&(this.oldValue=t,this.callSubscribers(t,e)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},t}())||pt)||pt);O.prototype={calcEditDistances:function(t,e,i,n,r,o){for(var s=o-r+1,a=i-e+1,u=new Array(s),l=void 0,c=void 0,h=0;h<s;++h)u[h]=new Array(a),u[h][0]=h;for(var d=0;d<a;++d)u[0][d]=d;for(var p=1;p<s;++p)for(var f=1;f<a;++f)this.equals(t[e+f-1],n[r+p-1])?u[p][f]=u[p-1][f-1]:(l=u[p-1][f]+1,c=u[p][f-1]+1,u[p][f]=l<c?l:c);return u},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,i=t[0].length-1,n=t[e][i],r=[];e>0||i>0;)if(0!==e)if(0!==i){var o=t[e-1][i-1],s=t[e-1][i],a=t[e][i-1],u=void 0;u=s<a?s<o?s:o:a<o?a:o,u===o?(o===n?r.push(0):(r.push(1),n=o),e--,i--):u===s?(r.push(3),e--,n=s):(r.push(2),i--,n=a)}else r.push(3),e--;else r.push(2),i--;return r.reverse(),r},calcSplices:function(t,e,i,n,r,o){var s=0,a=0,u=Math.min(i-e,o-r);if(0===e&&0===r&&(s=this.sharedPrefix(t,n,u)),i===t.length&&o===n.length&&(a=this.sharedSuffix(t,n,u-s)),e+=s,r+=s,i-=a,o-=a,i-e==0&&o-r==0)return[];if(e===i){for(var l=L(e,[],0);r<o;)l.removed.push(n[r++]);return[l]}if(r===o)return[L(e,[],i-e)];for(var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,i,n,r,o)),h=void 0,d=[],p=e,f=r,m=0;m<c.length;++m)switch(c[m]){case 0:h&&(d.push(h),h=void 0),p++,f++;break;case 1:h||(h=L(p,[],0)),h.addedCount++,p++,h.removed.push(n[f]),f++;break;case 2:h||(h=L(p,[],0)),h.addedCount++,p++;break;case 3:h||(h=L(p,[],0)),h.removed.push(n[f]),f++}return h&&d.push(h),d},sharedPrefix:function(t,e,i){for(var n=0;n<i;++n)if(!this.equals(t[n],e[n]))return n;return i},sharedSuffix:function(t,e,i){for(var n=t.length,r=e.length,o=0;o<i&&this.equals(t[--n],e[--r]);)o++;return o},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var ne=new O,re=t.ModifyCollectionObserver=(ft=x())(mt=function(){function t(t,e){this.taskQueue=t,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length"}return t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.addChangeRecord=function(t){if(this.hasSubscribers()||this.lengthObserver){if("splice"===t.type){var e=t.index,i=t.object.length;e>i?e=i-t.addedCount:e<0&&(e=i+t.removed.length+e-t.addedCount),e<0&&(e=0),t.index=e}null===this.changeRecords?this.changeRecords=[t]:this.changeRecords.push(t),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},t.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},t.prototype.reset=function(t){this.oldCollection=t,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},t.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new oe(this.collection))},t.prototype.call=function(){var t=this.changeRecords,e=this.oldCollection,i=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(i=e?this.collection instanceof Map||this.collection instanceof Set?I(e):S(this.collection,0,this.collection.length,e,0,e.length):this.collection instanceof Map||this.collection instanceof Set?t:T(this.collection,t),this.callSubscribers(i)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},t}())||mt,oe=t.CollectionLengthObserver=(vt=x())(gt=function(){function t(t){this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length",this.currentValue=t[this.lengthPropertyName]}return t.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},t.prototype.setValue=function(t){this.collection[this.lengthPropertyName]=t},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.call=function(t){var e=this.currentValue;this.callSubscribers(t,e),this.currentValue=t},t}())||gt,se=Array.prototype.pop,ae=Array.prototype.push,ue=Array.prototype.reverse,le=Array.prototype.shift,ce=Array.prototype.sort,he=Array.prototype.splice,de=Array.prototype.unshift;Array.prototype.pop=function(){var t=this.length>0,e=se.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:e}),e},Array.prototype.push=function(){var t=ae.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),t},Array.prototype.reverse=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=ue.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.shift=function(){var t=this.length>0,e=le.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:e}),e},Array.prototype.sort=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=ce.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.splice=function(){var t=he.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:t,addedCount:arguments.length>2?arguments.length-2:0}),t},Array.prototype.unshift=function(){var t=de.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),t},t.getArrayObserver=R;var pe=function(t){function e(e,i){return o(this,t.call(this,e,i))}return s(e,t),e.for=function(t,i){return"__array_observer__"in i||Reflect.defineProperty(i,"__array_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__array_observer__},e.create=function(t,i){return new e(t,i)},e}(re),fe=t.Expression=function(){function t(){this.isChain=!1,this.isAssignable=!1}return t.prototype.evaluate=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},t.prototype.assign=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},t.prototype.toString=function(){return"undefined"==typeof FEATURE_NO_UNPARSER?je.unparse(this):Function.prototype.toString.call(this)},t}(),me=t.Chain=function(t){function e(e){var i=o(this,t.call(this));return i.expressions=e,i.isChain=!0,i}return s(e,t),e.prototype.evaluate=function(t,e){for(var i=void 0,n=this.expressions,r=void 0,o=0,s=n.length;o<s;++o)null!==(r=n[o].evaluate(t,e))&&(i=r);return i},e.prototype.accept=function(t){return t.visitChain(this)},e}(fe),ve=t.BindingBehavior=function(t){function e(e,i,n){var r=o(this,t.call(this));return r.expression=e,r.name=i,r.args=n,r}return s(e,t),e.prototype.evaluate=function(t,e){return this.expression.evaluate(t,e)},e.prototype.assign=function(t,e,i){return this.expression.assign(t,e,i)},e.prototype.accept=function(t){return t.visitBindingBehavior(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e.prototype.bind=function(t,e,i){this.expression.expression&&this.expression.bind&&this.expression.bind(t,e,i);var n=i.bindingBehaviors(this.name);if(!n)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var r="behavior-"+this.name;if(t[r])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');t[r]=n,n.bind.apply(n,[t,e].concat(N(e,this.args,t.lookupFunctions)))},e.prototype.unbind=function(t,e){var i="behavior-"+this.name;t[i].unbind(t,e),t[i]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(t,e)},e}(fe),ge=t.ValueConverter=function(t){function e(e,i,n,r){var s=o(this,t.call(this));return s.expression=e,s.name=i,s.args=n,s.allArgs=r,s}return s(e,t),e.prototype.evaluate=function(t,e){var i=e.valueConverters(this.name);if(!i)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in i?i.toView.apply(i,N(t,this.allArgs,e)):this.allArgs[0].evaluate(t,e)},e.prototype.assign=function(t,e,i){var n=i.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in n&&(e=n.fromView.apply(n,[e].concat(N(t,this.args,i)))),this.allArgs[0].assign(t,e,i)},e.prototype.accept=function(t){return t.visitValueConverter(this)},e.prototype.connect=function(t,e){for(var i=this.allArgs,n=i.length;n--;)i[n].connect(t,e)},e}(fe),_e=t.Assign=function(t){function e(e,i){var n=o(this,t.call(this));return n.target=e,n.value=i,n.isAssignable=!0,n}return s(e,t),e.prototype.evaluate=function(t,e){return this.target.assign(t,this.value.evaluate(t,e))},e.prototype.accept=function(t){t.visitAssign(this)},e.prototype.connect=function(t,e){},e.prototype.assign=function(t,e){this.value.assign(t,e),this.target.assign(t,e)},e}(fe),ye=t.Conditional=function(t){function e(e,i,n){var r=o(this,t.call(this));return r.condition=e,r.yes=i,r.no=n,r}return s(e,t),e.prototype.evaluate=function(t,e){return this.condition.evaluate(t,e)?this.yes.evaluate(t,e):this.no.evaluate(t,e)},e.prototype.accept=function(t){return t.visitConditional(this)},e.prototype.connect=function(t,e){this.condition.connect(t,e),this.condition.evaluate(e)?this.yes.connect(t,e):this.no.connect(t,e)},e}(fe),be=t.AccessThis=function(t){function e(e){var i=o(this,t.call(this));return i.ancestor=e,i}return s(e,t),e.prototype.evaluate=function(t,e){for(var i=t.overrideContext,n=this.ancestor;n--&&i;)i=i.parentOverrideContext;return n<1&&i?i.bindingContext:void 0},e.prototype.accept=function(t){return t.visitAccessThis(this)},e.prototype.connect=function(t,e){},e}(fe),we=t.AccessScope=function(t){function e(e,i){var n=o(this,t.call(this));return n.name=e,n.ancestor=i,n.isAssignable=!0,n}return s(e,t),e.prototype.evaluate=function(t,e){return l(this.name,t,this.ancestor)[this.name]},e.prototype.assign=function(t,e){var i=l(this.name,t,this.ancestor);return i?i[this.name]=e:void 0},e.prototype.accept=function(t){return t.visitAccessScope(this)},e.prototype.connect=function(t,e){var i=l(this.name,e,this.ancestor);t.observeProperty(i,this.name)},e}(fe),ke=t.AccessMember=function(t){function e(e,i){var n=o(this,t.call(this));return n.object=e,n.name=i,n.isAssignable=!0,n}return s(e,t),e.prototype.evaluate=function(t,e){var i=this.object.evaluate(t,e);return null===i||void 0===i?i:i[this.name]},e.prototype.assign=function(t,e){var i=this.object.evaluate(t);return null!==i&&void 0!==i||(i={},this.object.assign(t,i)),i[this.name]=e,e},e.prototype.accept=function(t){return t.visitAccessMember(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);i&&t.observeProperty(i,this.name)},e}(fe),xe=t.AccessKeyed=function(t){function e(e,i){var n=o(this,t.call(this));return n.object=e,n.key=i,n.isAssignable=!0,n}return s(e,t),e.prototype.evaluate=function(t,e){return z(this.object.evaluate(t,e),this.key.evaluate(t,e))},e.prototype.assign=function(t,e){return F(this.object.evaluate(t),this.key.evaluate(t),e)},e.prototype.accept=function(t){return t.visitAccessKeyed(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);if(i instanceof Object){this.key.connect(t,e);var n=this.key.evaluate(e);null===n||void 0===n||Array.isArray(i)&&"number"==typeof n||t.observeProperty(i,n)}},e}(fe),Ce=t.CallScope=function(t){function e(e,i,n){var r=o(this,t.call(this));return r.name=e,r.args=i,r.ancestor=n,r}return s(e,t),e.prototype.evaluate=function(t,e,i){var n=N(t,this.args,e),r=l(this.name,t,this.ancestor),o=D(r,this.name,i);if(o)return o.apply(r,n)},e.prototype.accept=function(t){return t.visitCallScope(this)},e.prototype.connect=function(t,e){for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(fe),Ee=t.CallMember=function(t){function e(e,i,n){var r=o(this,t.call(this));return r.object=e,r.name=i,r.args=n,r}return s(e,t),e.prototype.evaluate=function(t,e,i){var n=this.object.evaluate(t,e),r=N(t,this.args,e),o=D(n,this.name,i);if(o)return o.apply(n,r)},e.prototype.accept=function(t){return t.visitCallMember(this)},e.prototype.connect=function(t,e){if(this.object.connect(t,e),D(this.object.evaluate(e),this.name,!1))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(fe),Le=t.CallFunction=function(t){function e(e,i){var n=o(this,t.call(this));return n.func=e,n.args=i,n}return s(e,t),e.prototype.evaluate=function(t,e,i){var n=this.func.evaluate(t,e);if("function"==typeof n)return n.apply(null,N(t,this.args,e));if(i||null!==n&&void 0!==n)throw new Error(this.func+" is not a function")},e.prototype.accept=function(t){return t.visitCallFunction(this)},e.prototype.connect=function(t,e){if(this.func.connect(t,e),"function"==typeof this.func.evaluate(e))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(fe),Oe=t.Binary=function(t){function e(e,i,n){var r=o(this,t.call(this));return r.operation=e,r.left=i,r.right=n,r}return s(e,t),e.prototype.evaluate=function(t,e){var i=this.left.evaluate(t,e);switch(this.operation){case"&&":return i&&this.right.evaluate(t,e);case"||":return i||this.right.evaluate(t,e)}var n=this.right.evaluate(t,e);switch(this.operation){case"==":return i==n;case"===":return i===n;case"!=":return i!=n;case"!==":return i!==n}if(null===i||null===n||void 0===i||void 0===n){switch(this.operation){case"+":return null!==i&&void 0!==i?i:null!==n&&void 0!==n?n:0;case"-":return null!==i&&void 0!==i?i:null!==n&&void 0!==n?0-n:0}return null}switch(this.operation){case"+":return B(i,n);case"-":return i-n;case"*":return i*n;case"/":return i/n;case"%":return i%n;case"<":return i<n;case">":return i>n;case"<=":return i<=n;case">=":return i>=n;case"^":return i^n}throw new Error("Internal error ["+this.operation+"] not handled")},e.prototype.accept=function(t){return t.visitBinary(this)},e.prototype.connect=function(t,e){this.left.connect(t,e);var i=this.left.evaluate(e);"&&"===this.operation&&!i||"||"===this.operation&&i||this.right.connect(t,e)},e}(fe),Se=t.PrefixNot=function(t){function e(e,i){var n=o(this,t.call(this));return n.operation=e,n.expression=i,n}return s(e,t),e.prototype.evaluate=function(t,e){return!this.expression.evaluate(t,e)},e.prototype.accept=function(t){return t.visitPrefix(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e}(fe),Pe=t.LiteralPrimitive=function(t){function e(e){var i=o(this,t.call(this));return i.value=e,i}return s(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralPrimitive(this)},e.prototype.connect=function(t,e){},e}(fe),Ae=t.LiteralString=function(t){function e(e){var i=o(this,t.call(this));return i.value=e,i}return s(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralString(this)},e.prototype.connect=function(t,e){},e}(fe),Me=t.LiteralArray=function(t){function e(e){var i=o(this,t.call(this));return i.elements=e,i}return s(e,t),e.prototype.evaluate=function(t,e){for(var i=this.elements,n=[],r=0,o=i.length;r<o;++r)n[r]=i[r].evaluate(t,e);return n},e.prototype.accept=function(t){return t.visitLiteralArray(this)},e.prototype.connect=function(t,e){for(var i=this.elements.length,n=0;n<i;n++)this.elements[n].connect(t,e)},e}(fe),Te=t.LiteralObject=function(t){function e(e,i){var n=o(this,t.call(this));return n.keys=e,n.values=i,n}return s(e,t),e.prototype.evaluate=function(t,e){for(var i={},n=this.keys,r=this.values,o=0,s=n.length;o<s;++o)i[n[o]]=r[o].evaluate(t,e);return i},e.prototype.accept=function(t){return t.visitLiteralObject(this)},e.prototype.connect=function(t,e){for(var i=this.keys.length,n=0;n<i;n++)this.values[n].connect(t,e)},e}(fe),je=null;t.Unparser=je,"undefined"==typeof FEATURE_NO_UNPARSER&&(t.Unparser=je=function(){function t(t){this.buffer=t}return t.unparse=function(t){var e=[],i=new je(e);return t.accept(i),e.join("")},t.prototype.write=function(t){this.buffer.push(t)},t.prototype.writeArgs=function(t){this.write("(");for(var e=0,i=t.length;e<i;++e)0!==e&&this.write(","),t[e].accept(this);this.write(")")},t.prototype.visitChain=function(t){for(var e=t.expressions,i=0,n=expression.length;i<n;++i)0!==i&&this.write(";"),e[i].accept(this)},t.prototype.visitBindingBehavior=function(t){var e=t.args;t.expression.accept(this),this.write("&"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitValueConverter=function(t){var e=t.args;t.expression.accept(this),this.write("|"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitAssign=function(t){t.target.accept(this),this.write("="),t.value.accept(this)},t.prototype.visitConditional=function(t){t.condition.accept(this),this.write("?"),t.yes.accept(this),this.write(":"),t.no.accept(this)},t.prototype.visitAccessThis=function(t){if(0===t.ancestor)return void this.write("$this");this.write("$parent");for(var e=t.ancestor-1;e--;)this.write(".$parent")},t.prototype.visitAccessScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name)},t.prototype.visitAccessMember=function(t){t.object.accept(this),this.write("."+t.name)},t.prototype.visitAccessKeyed=function(t){t.object.accept(this),this.write("["),t.key.accept(this),this.write("]")},t.prototype.visitCallScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name),this.writeArgs(t.args)},t.prototype.visitCallFunction=function(t){t.func.accept(this),this.writeArgs(t.args)},t.prototype.visitCallMember=function(t){t.object.accept(this),this.write("."+t.name),this.writeArgs(t.args)},t.prototype.visitPrefix=function(t){this.write("("+t.operation),t.expression.accept(this),this.write(")")},t.prototype.visitBinary=function(t){t.left.accept(this),this.write(t.operation),t.right.accept(this)},t.prototype.visitLiteralPrimitive=function(t){this.write(""+t.value)},t.prototype.visitLiteralArray=function(t){var e=t.elements;this.write("[");for(var i=0,n=e.length;i<n;++i)0!==i&&this.write(","),e[i].accept(this);this.write("]")},t.prototype.visitLiteralObject=function(t){var e=t.keys,i=t.values;this.write("{");for(var n=0,r=e.length;n<r;++n)0!==n&&this.write(","),this.write("'"+e[n]+"':"),i[n].accept(this);this.write("}")},t.prototype.visitLiteralString=function(t){var e=t.value.replace(/'/g,"'");this.write("'"+e+"'")},t}());var Ie=t.ExpressionCloner=function(){function t(){}return t.prototype.cloneExpressionArray=function(t){for(var e=[],i=t.length;i--;)e[i]=t[i].accept(this);return e},t.prototype.visitChain=function(t){return new me(this.cloneExpressionArray(t.expressions))},t.prototype.visitBindingBehavior=function(t){return new ve(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitValueConverter=function(t){return new ge(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitAssign=function(t){return new _e(t.target.accept(this),t.value.accept(this))},t.prototype.visitConditional=function(t){return new ye(t.condition.accept(this),t.yes.accept(this),t.no.accept(this))},t.prototype.visitAccessThis=function(t){return new be(t.ancestor)},t.prototype.visitAccessScope=function(t){return new we(t.name,t.ancestor)},t.prototype.visitAccessMember=function(t){return new ke(t.object.accept(this),t.name)},t.prototype.visitAccessKeyed=function(t){return new xe(t.object.accept(this),t.key.accept(this))},t.prototype.visitCallScope=function(t){return new Ce(t.name,this.cloneExpressionArray(t.args),t.ancestor)},t.prototype.visitCallFunction=function(t){return new Le(t.func.accept(this),this.cloneExpressionArray(t.args))},t.prototype.visitCallMember=function(t){return new Ee(t.object.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitPrefix=function(t){return new Se(t.operation,t.expression.accept(this))},t.prototype.visitBinary=function(t){return new Oe(t.operation,t.left.accept(this),t.right.accept(this))},t.prototype.visitLiteralPrimitive=function(t){return new Pe(t)},t.prototype.visitLiteralArray=function(t){return new Me(this.cloneExpressionArray(t.elements))},t.prototype.visitLiteralObject=function(t){return new Te(t.keys,this.cloneExpressionArray(t.values))},t.prototype.visitLiteralString=function(t){return new Ae(t.value)},t}(),Re=t.bindingMode={oneTime:0,oneWay:1,twoWay:2},Ne=t.Token=function(){function t(t,e){this.index=t,this.text=e}return t.prototype.withOp=function(t){return this.opKey=t,this},t.prototype.withGetterSetter=function(t){return this.key=t,this},t.prototype.withValue=function(t){return this.value=t,this},t.prototype.toString=function(){return"Token("+this.text+")"},t}(),Be=t.Lexer=function(){function t(){}return t.prototype.lex=function(t){for(var e=new De(t),i=[],n=e.scanToken();n;)i.push(n),n=e.scanToken();return i},t}(),De=t.Scanner=function(){function t(t){this.input=t,this.length=t.length,this.peek=0,this.index=-1,this.advance()}return t.prototype.scanToken=function(){for(;this.peek<=We;){if(++this.index>=this.length)return this.peek=Fe,null;this.peek=this.input.charCodeAt(this.index)}if(H(this.peek))return this.scanIdentifier();if(Z(this.peek))return this.scanNumber(this.index);var t=this.index;switch(this.peek){case oi:return this.advance(),Z(this.peek)?this.scanNumber(t):new Ne(t,".");case Je:case ti:case Ti:case Ii:case _i:case bi:case ni:case ai:case ui:return this.scanCharacter(t,String.fromCharCode(this.peek));case Ke:case Ye:return this.scanString();case ii:case ri:case ei:case si:case $e:case wi:case di:return this.scanOperator(t,String.fromCharCode(this.peek));case li:case hi:case Ge:case ci:return this.scanComplexOperator(t,ci,String.fromCharCode(this.peek),"=");case Qe:return this.scanComplexOperator(t,Qe,"&","&");case ji:return this.scanComplexOperator(t,ji,"|","|");case Ri:for(;q(this.peek);)this.advance();return this.scanToken()}var e=String.fromCharCode(this.peek);return this.error("Unexpected character ["+e+"]"),null},t.prototype.scanCharacter=function(t,e){return X(this.peek===e.charCodeAt(0)),this.advance(),new Ne(t,e)},t.prototype.scanOperator=function(t,e){return X(this.peek===e.charCodeAt(0)),X(-1!==ze.indexOf(e)),this.advance(),new Ne(t,e).withOp(e)},t.prototype.scanComplexOperator=function(t,e,i,n){X(this.peek===i.charCodeAt(0)),this.advance();var r=i;return this.peek===e&&(this.advance(),r+=n),this.peek===e&&(this.advance(),r+=n),X(-1!==ze.indexOf(r)),new Ne(t,r).withOp(r)},t.prototype.scanIdentifier=function(){X(H(this.peek));var t=this.index;for(this.advance();U(this.peek);)this.advance();var e=this.input.substring(t,this.index),i=new Ne(t,e);return-1!==ze.indexOf(e)?i.withOp(e):i.withGetterSetter(e),i},t.prototype.scanNumber=function(t){X(Z(this.peek));var e=this.index===t;for(this.advance();;){if(!Z(this.peek))if(this.peek===oi)e=!1;else{if(!W(this.peek))break;this.advance(),G(this.peek)&&this.advance(),Z(this.peek)||this.error("Invalid exponent",-1),e=!1}this.advance()}var i=this.input.substring(t,this.index),n=e?parseInt(i,10):parseFloat(i);return new Ne(t,i).withValue(n)},t.prototype.scanString=function(){X(this.peek===Ke||this.peek===Ye);var t=this.index,e=this.peek;this.advance();for(var i=void 0,n=this.index;this.peek!==e;)if(this.peek===yi){i||(i=[]),i.push(this.input.substring(n,this.index)),this.advance();var r=void 0;if(this.peek===Pi){var o=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(o)||this.error("Invalid unicode escape [\\u"+o+"]"),r=parseInt(o,16);for(var s=0;s<5;++s)this.advance()}else r=Y(this.peek),this.advance();i.push(String.fromCharCode(r)),n=this.index}else this.peek===Fe?this.error("Unterminated quote"):this.advance();var a=this.input.substring(n,this.index);this.advance();var u=this.input.substring(t,this.index),l=a;return null!==i&&void 0!==i&&(i.push(a),l=i.join("")),new Ne(t,u).withValue(l)},t.prototype.advance=function(){++this.index>=this.length?this.peek=Fe:this.peek=this.input.charCodeAt(this.index)},t.prototype.error=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=this.index+e;throw new Error("Lexer Error: "+t+" at column "+i+" in expression ["+this.input+"]")},t}(),ze=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],Fe=0,Ve=9,qe=10,He=11,Ue=12,Ze=13,We=32,Ge=33,Ye=34,Xe=36,$e=37,Qe=38,Ke=39,Je=40,ti=41,ei=42,ii=43,ni=44,ri=45,oi=46,si=47,ai=58,ui=59,li=60,ci=61,hi=62,di=63,pi=48,fi=57,mi=65,vi=69,gi=90,_i=91,yi=92,bi=93,wi=94,ki=95,xi=97,Ci=101,Ei=102,Li=110,Oi=114,Si=116,Pi=117,Ai=118,Mi=122,Ti=123,ji=124,Ii=125,Ri=160,Ni=new Ne(-1,null),Bi=t.Parser=function(){function t(){this.cache={},this.lexer=new Be}return t.prototype.parse=function(t){return t=t||"",this.cache[t]||(this.cache[t]=new Di(this.lexer,t).parseChain())},t}(),Di=t.ParserImplementation=function(){function t(t,e){this.index=0,this.input=e,this.tokens=t.lex(e)}return t.prototype.parseChain=function(){for(var t=!1,e=[];this.optional(";");)t=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var i=this.parseBindingBehavior();for(e.push(i);this.optional(";");)t=!0;t&&this.error("Multiple expressions are not allowed.")}return 1===e.length?e[0]:new me(e)},t.prototype.parseBindingBehavior=function(){for(var t=this.parseValueConverter();this.optional("&");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new ve(t,e,i)}return t},t.prototype.parseValueConverter=function(){for(var t=this.parseExpression();this.optional("|");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new ge(t,e,i,[t].concat(i))}return t},t.prototype.parseExpression=function(){for(var t=this.peek.index,e=this.parseConditional();"="===this.peek.text;){if(!e.isAssignable){var i=this.index<this.tokens.length?this.peek.index:this.input.length,n=this.input.substring(t,i);this.error("Expression "+n+" is not assignable")}this.expect("="),e=new _e(e,this.parseConditional())}return e},t.prototype.parseConditional=function(){var t=this.peek.index,e=this.parseLogicalOr();if(this.optional("?")){var i=this.parseExpression();if(!this.optional(":")){var n=this.index<this.tokens.length?this.peek.index:this.input.length,r=this.input.substring(t,n);this.error("Conditional expression "+r+" requires all 3 expressions")}var o=this.parseExpression();e=new ye(e,i,o)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optional("||");)t=new Oe("||",t,this.parseLogicalAnd());return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optional("&&");)t=new Oe("&&",t,this.parseEquality());return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();;)if(this.optional("=="))t=new Oe("==",t,this.parseRelational());else if(this.optional("!="))t=new Oe("!=",t,this.parseRelational());else if(this.optional("==="))t=new Oe("===",t,this.parseRelational());else{if(!this.optional("!=="))return t;t=new Oe("!==",t,this.parseRelational())}},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();;)if(this.optional("<"))t=new Oe("<",t,this.parseAdditive());else if(this.optional(">"))t=new Oe(">",t,this.parseAdditive());else if(this.optional("<="))t=new Oe("<=",t,this.parseAdditive());else{if(!this.optional(">="))return t;t=new Oe(">=",t,this.parseAdditive())}},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();;)if(this.optional("+"))t=new Oe("+",t,this.parseMultiplicative());else{if(!this.optional("-"))return t;t=new Oe("-",t,this.parseMultiplicative())}},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();;)if(this.optional("*"))t=new Oe("*",t,this.parsePrefix());else if(this.optional("%"))t=new Oe("%",t,this.parsePrefix());else{if(!this.optional("/"))return t;t=new Oe("/",t,this.parsePrefix())}},
t.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Oe("-",new Pe(0),this.parsePrefix()):this.optional("!")?new Se("!",this.parsePrefix()):this.parseAccessOrCallMember()},t.prototype.parseAccessOrCallMember=function(){for(var t=this.parsePrimary();;)if(this.optional(".")){var e=this.peek.text;if(this.advance(),this.optional("(")){var i=this.parseExpressionList(")");this.expect(")"),t=t instanceof be?new Ce(e,i,t.ancestor):new Ee(t,e,i)}else t=t instanceof be?new we(e,t.ancestor):new ke(t,e)}else if(this.optional("[")){var n=this.parseExpression();this.expect("]"),t=new xe(t,n)}else{if(!this.optional("("))return t;var r=this.parseExpressionList(")");this.expect(")"),t=new Le(t,r)}},t.prototype.parsePrimary=function(){if(this.optional("(")){var t=this.parseExpression();return this.expect(")"),t}if(this.optional("null"))return new Pe(null);if(this.optional("undefined"))return new Pe(void 0);if(this.optional("true"))return new Pe(!0);if(this.optional("false"))return new Pe(!1);if(this.optional("[")){var e=this.parseExpressionList("]");return this.expect("]"),new Me(e)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var i=this.peek.value;return this.advance(),i instanceof String||"string"==typeof i?new Ae(i):new Pe(i)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},t.prototype.parseAccessOrCallScope=function(){var t=this.peek.key;if(this.advance(),"$this"===t)return new be(0);for(var e=0;"$parent"===t;)if(e++,this.optional("."))t=this.peek.key,this.advance();else{if(this.peek===Ni||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text)return new be(e);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var i=this.parseExpressionList(")");return this.expect(")"),new Ce(t,i,e)}return new we(t,e)},t.prototype.parseObject=function(){var t=[],e=[];if(this.expect("{"),"}"!==this.peek.text)do{var i=this.peek,n=i.value;t.push("string"==typeof n?n:i.text),this.advance(),!i.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),e.push(this.parseExpression())):(--this.index,e.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Te(t,e)},t.prototype.parseExpressionList=function(t){var e=[];if(this.peek.text!==t)do{e.push(this.parseExpression())}while(this.optional(","));return e},t.prototype.optional=function(t){return this.peek.text===t&&(this.advance(),!0)},t.prototype.expect=function(t){this.peek.text===t?this.advance():this.error("Missing expected "+t)},t.prototype.advance=function(){this.index++},t.prototype.error=function(t){var e=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+t+" "+e+" ["+this.input+"]")},Rt(t,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:Ni}}]),t}(),zi=Map.prototype;t.getMapObserver=$;var Fi=function(t){function e(e,i){return o(this,t.call(this,e,i))}return s(e,t),e.for=function(t,i){return"__map_observer__"in i||Reflect.defineProperty(i,"__map_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__map_observer__},e.create=function(t,i){var n=new e(t,i),r=zi;return r.set===i.set&&r.delete===i.delete&&r.clear===i.clear||(r={set:i.set,delete:i.delete,clear:i.clear}),i.set=function(){var t=i.has(arguments[0]),e=t?"update":"add",o=i.get(arguments[0]),s=r.set.apply(i,arguments);return t&&o===i.get(arguments[0])||n.addChangeRecord({type:e,object:i,key:arguments[0],oldValue:o}),s},i.delete=function(){var t=i.has(arguments[0]),e=i.get(arguments[0]),o=r.delete.apply(i,arguments);return t&&n.addChangeRecord({type:"delete",object:i,key:arguments[0],oldValue:e}),o},i.clear=function(){var t=r.clear.apply(i,arguments);return n.addChangeRecord({type:"clear",object:i}),t},n},e}(re),Vi=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){1===++this.count&&Dt.DOM.addEventListener(this.eventName,tt,!0)},t.prototype.decrement=function(){0===--this.count&&Dt.DOM.removeEventListener(this.eventName,tt,!0)},t}(),qi=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){1===++this.count&&Dt.DOM.addEventListener(this.eventName,et,!1)},t.prototype.decrement=function(){0===--this.count&&Dt.DOM.removeEventListener(this.eventName,et)},t}(),Hi=function(){function t(){this.delegatedHandlers={},this.capturedHandlers={}}return t.prototype.subscribe=function(t,e,i,n){var r=this,o=void 0,s=void 0,a=void 0;if(n===Ui.bubbling){var u=function(){o=r.delegatedHandlers,a=o[e]||(o[e]=new qi(e));var n=t.delegatedCallbacks||(t.delegatedCallbacks={});return a.increment(),n[e]=i,{v:function(){a.decrement(),n[e]=null}}}();if("object"===(void 0===u?"undefined":It(u)))return u.v}if(n===Ui.capturing){var l=function(){s=r.capturedHandlers,a=s[e]||(s[e]=new Vi(e));var n=t.capturedCallbacks||(t.capturedCallbacks={});return a.increment(),n[e]=i,{v:function(){a.decrement(),n[e]=null}}}();if("object"===(void 0===l?"undefined":It(l)))return l.v}return t.addEventListener(e,i,!1),function(){t.removeEventListener(e,i)}},t}(),Ui=t.delegationStrategy={none:0,capturing:1,bubbling:2},Zi=t.EventManager=function(){function t(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new Hi}return t.prototype.registerElementConfig=function(t){var e=t.tagName.toLowerCase(),i=t.properties,n=void 0;this.elementHandlerLookup[e]={};for(n in i)i.hasOwnProperty(n)&&this.registerElementPropertyConfig(e,n,i[n])},t.prototype.registerElementPropertyConfig=function(t,e,i){this.elementHandlerLookup[t][e]=this.createElementHandler(i)},t.prototype.createElementHandler=function(t){return{subscribe:function(e,i){return t.forEach(function(t){e.addEventListener(t,i,!1)}),function(){t.forEach(function(t){e.removeEventListener(t,i)})}}}},t.prototype.registerElementHandler=function(t,e){this.elementHandlerLookup[t.toLowerCase()]=e},t.prototype.registerEventStrategy=function(t,e){this.eventStrategyLookup[t]=e},t.prototype.getElementHandler=function(t,e){var i=void 0,n=this.elementHandlerLookup;if(t.tagName){if(i=t.tagName.toLowerCase(),n[i]&&n[i][e])return n[i][e];if("textContent"===e||"innerHTML"===e)return n["content editable"].value;if("scrollTop"===e||"scrollLeft"===e)return n["scrollable element"][e]}return null},t.prototype.addEventListener=function(t,e,i,n){return(this.eventStrategyLookup[e]||this.defaultEventStrategy).subscribe(t,e,i,n)},t}(),Wi=t.DirtyChecker=function(){function t(){this.tracked=[],this.checkDelay=120}return t.prototype.addProperty=function(t){var e=this.tracked;e.push(t),1===e.length&&this.scheduleDirtyCheck()},t.prototype.removeProperty=function(t){var e=this.tracked;e.splice(e.indexOf(t),1)},t.prototype.scheduleDirtyCheck=function(){var t=this;setTimeout(function(){return t.check()},this.checkDelay)},t.prototype.check=function(){for(var t=this.tracked,e=t.length;e--;){var i=t[e];i.isDirty()&&i.call()}t.length&&this.scheduleDirtyCheck()},t}(),Gi=t.DirtyCheckProperty=(_t=x())(yt=function(){function t(t,e,i){this.dirtyChecker=t,this.obj=e,this.propertyName=i}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.call=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},t}())||yt,Yi=Bt.getLogger("property-observation"),Xi=t.propertyAccessor={getValue:function(t,e){return t[e]},setValue:function(t,e,i){e[i]=t}},$i=t.PrimitiveObserver=function(){function t(t,e){this.doNotCache=!0,this.primitive=t,this.propertyName=e}return t.prototype.getValue=function(){return this.primitive[this.propertyName]},t.prototype.setValue=function(){var t=It(this.primitive);throw new Error("The "+this.propertyName+" property of a "+t+" ("+this.primitive+") cannot be assigned.")},t.prototype.subscribe=function(){},t.prototype.unsubscribe=function(){},t}(),Qi=t.SetterObserver=(bt=x())(wt=function(){function t(t,e,i){this.taskQueue=t,this.obj=e,this.propertyName=i,this.queued=!1,this.observing=!1}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.getterValue=function(){return this.currentValue},t.prototype.setterValue=function(t){var e=this.currentValue;e!==t&&(this.queued||(this.oldValue=e,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=t)},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.queued=!1,this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.observing||this.convertProperty(),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Yi.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},t}())||wt,Ki=t.XLinkAttributeObserver=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.attributeName=i}return t.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},t.prototype.setValue=function(t){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),Ji=t.dataAttributeAccessor={getValue:function(t,e){return t.getAttribute(e)},setValue:function(t,e,i){return e.setAttribute(i,t)}},tn=t.DataAttributeObserver=function(){function t(t,e){this.element=t,this.propertyName=e}return t.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},t.prototype.setValue=function(t){return this.element.setAttribute(this.propertyName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),en=t.StyleObserver=function(){function t(t,e){this.element=t,this.propertyName=e,this.styles=null,this.version=0}return t.prototype.getValue=function(){return this.element.style.cssText},t.prototype._setProperty=function(t,e){var i="";null!==e&&void 0!==e&&"function"==typeof e.indexOf&&-1!==e.indexOf("!important")&&(i="important",e=e.replace("!important","")),this.element.style.setProperty(t,e,i)},t.prototype.setValue=function(t){var e=this.styles||{},i=void 0,n=this.version;if(null!==t&&void 0!==t)if(t instanceof Object){var r=void 0;for(i in t)t.hasOwnProperty(i)&&(r=t[i],i=i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),e[i]=n,this._setProperty(i,r))}else if(t.length)for(var o=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,s=void 0;null!==(s=o.exec(t));)(i=s[1])&&(e[i]=n,this._setProperty(i,s[2]));if(this.styles=e,this.version+=1,0!==n){n-=1;for(i in e)e.hasOwnProperty(i)&&e[i]===n&&this.element.style.removeProperty(i)}},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),nn=t.ValueAttributeObserver=(kt=x())(xt=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.handler=i,"files"===e&&(this.setValue=function(){})}return t.prototype.getValue=function(){return this.element[this.propertyName]},t.prototype.setValue=function(t){t=void 0===t||null===t?"":t,this.element[this.propertyName]!==t&&(this.element[this.propertyName]=t,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t}())||xt,rn=t.CheckedObserver=(Ct=x())(Et=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.initialSync&&this.value===t||(this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe("CheckedObserver:array",this)),this.oldValue=this.value,this.value=t,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe("CheckedObserver:value",this))},t.prototype.synchronizeElement=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n="radio"===e.type,r=e.matcher||function(t,e){return t===e};e.checked=n&&!!r(t,i)||!n&&!0===t||!n&&Array.isArray(t)&&-1!==t.findIndex(function(t){return!!r(t,i)})},t.prototype.synchronizeValue=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n=void 0,r=e.matcher||function(t,e){return t===e};if("checkbox"===e.type){if(Array.isArray(t))return n=t.findIndex(function(t){return!!r(t,i)}),void(e.checked&&-1===n?t.push(i):e.checked||-1===n||t.splice(n,1));t=e.checked}else{if(!e.checked)return;t=i}this.oldValue=this.value,this.value=t,this.notify()},t.prototype.notify=function(){var t=this.oldValue,e=this.value;e!==t&&this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe("CheckedObserver:array",this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe("CheckedObserver:value",this)},t}())||Et,on=t.SelectValueObserver=(Lt=x())(Ot=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){if(null!==t&&void 0!==t&&this.element.multiple&&!Array.isArray(t))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==t&&(this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null),Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe("SelectValueObserver:array",this)),this.oldValue=this.value,this.value=t,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeOptions()},t.prototype.synchronizeOptions=function(){var t=this.value,e=void 0;Array.isArray(t)&&(e=!0);for(var i=this.element.options,n=i.length,r=this.element.matcher||function(t,e){return t===e};n--;){(function(){var o=i.item(n),s=o.hasOwnProperty("model")?o.model:o.value;if(e)return o.selected=-1!==t.findIndex(function(t){return!!r(s,t)}),"continue";o.selected=!!r(s,t)})()}},t.prototype.synchronizeValue=function(){for(var t=this,e=this.element.options,i=0,n=[],r=0,o=e.length;r<o;r++){var s=e.item(r);s.selected&&(n.push(s.hasOwnProperty("model")?s.model:s.value),i++)}if(this.element.multiple){if(Array.isArray(this.value)){var a=function(){for(var e=t.element.matcher||function(t,e){return t===e},i=0;i<t.value.length;)!function(){var r=t.value[i];-1===n.findIndex(function(t){return e(r,t)})?t.value.splice(i,1):i++}();i=0;for(;i<n.length;)!function(){var r=n[i];-1===t.value.findIndex(function(t){return e(r,t)})&&t.value.push(r),i++}();return{v:void 0}}();if("object"===(void 0===a?"undefined":It(a)))return a.v}}else n=0===i?null:n[0];n!==this.value&&(this.oldValue=this.value,this.value=n,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.value;this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.bind=function(){var t=this;this.domObserver=Dt.DOM.createMutationObserver(function(){t.synchronizeOptions(),t.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},t.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe("SelectValueObserver:array",this),this.arrayObserver=null)},t}())||Ot,sn=t.ClassObserver=function(){function t(t){this.element=t,this.doNotCache=!0,this.value="",this.version=0}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=this.nameIndex||{},i=this.version,n=void 0,r=void 0;if(null!==t&&void 0!==t&&t.length){n=t.split(/\s+/);for(var o=0,s=n.length;o<s;o++)""!==(r=n[o])&&(e[r]=i,this.element.classList.add(r))}if(this.value=t,this.nameIndex=e,this.version+=1,0!==i){i-=1;for(r in e)e.hasOwnProperty(r)&&e[r]===i&&this.element.classList.remove(r)}},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},t}(),an=t.ComputedExpression=function(t){function e(e,i){var n=o(this,t.call(this));return n.name=e,n.dependencies=i,n.isAssignable=!0,n}return s(e,t),e.prototype.evaluate=function(t,e){return t.bindingContext[this.name]},e.prototype.assign=function(t,e){t.bindingContext[this.name]=e},e.prototype.accept=function(t){throw new Error("not implemented")},e.prototype.connect=function(t,e){for(var i=this.dependencies,n=i.length;n--;)i[n].connect(t,e)},e}(fe),un=void 0,ln=void 0,cn=void 0,hn=void 0;"undefined"==typeof FEATURE_NO_SVG&&function(){un={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],
pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},ln={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},cn={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0};var t=function(t){var e=Dt.DOM.createElement("div");return e.innerHTML=t,e.firstChild};hn=function(){function e(){"altglyph"===t("<svg><altGlyph /></svg>").firstElementChild.nodeName&&dn.altGlyph&&(dn.altglyph=dn.altGlyph,delete dn.altGlyph,dn.altglyphdef=dn.altGlyphDef,delete dn.altGlyphDef,dn.altglyphitem=dn.altGlyphItem,delete dn.altGlyphItem,dn.glyphref=dn.glyphRef,delete dn.glyphRef)}return e.prototype.isStandardSvgAttribute=function(t,e){return pn[t]&&fn[e]||dn[t]&&-1!==dn[t].indexOf(e)},e}()}();var dn=t.elements=un,pn=t.presentationElements=ln,fn=t.presentationAttributes=cn,mn=t.SVGAnalyzer=hn||function(){function t(){}return t.prototype.isStandardSvgAttribute=function(){return!1},t}(),vn=t.ObserverLocator=(Pt=St=function(){function t(t,e,i,n,r){this.taskQueue=t,this.eventManager=e,this.dirtyChecker=i,this.svgAnalyzer=n,this.parser=r,this.adapters=[],this.logger=Bt.getLogger("observer-locator")}return t.prototype.getObserver=function(t,e){var i=t.__observers__,n=void 0;return i&&e in i?i[e]:(n=this.createPropertyObserver(t,e),n.doNotCache||(void 0===i&&(i=this.getOrCreateObserversLookup(t)),i[e]=n),n)},t.prototype.getOrCreateObserversLookup=function(t){return t.__observers__||this.createObserversLookup(t)},t.prototype.createObserversLookup=function(t){var e={};return Reflect.defineProperty(t,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:e})||this.logger.warn("Cannot add observers to object",t),e},t.prototype.addAdapter=function(t){this.adapters.push(t)},t.prototype.getAdapterObserver=function(t,e,i){for(var n=0,r=this.adapters.length;n<r;n++){var o=this.adapters[n],s=o.getObserver(t,e,i);if(s)return s}return null},t.prototype.createPropertyObserver=function(t,e){var i=void 0,n=void 0,r=void 0;if(!(t instanceof Object))return new $i(t,e);if(t instanceof Dt.DOM.Element){if("class"===e)return new sn(t);if("style"===e||"css"===e)return new en(t,e);if(n=this.eventManager.getElementHandler(t,e),"value"===e&&"select"===t.tagName.toLowerCase())return new on(t,n,this);if("checked"===e&&"input"===t.tagName.toLowerCase())return new rn(t,n,this);if(n)return new nn(t,e,n);if(r=/^xlink:(.+)$/.exec(e))return new Ki(t,e,r[1]);if("role"===e&&(t instanceof Dt.DOM.Element||t instanceof Dt.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(e)||t instanceof Dt.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return new tn(t,e)}if(i=Object.getPropertyDescriptor(t,e),it(i))return ot(t,e,i,this);if(i){var o=i.get||i.set;if(o){if(o.getObserver)return o.getObserver(t);var s=this.getAdapterObserver(t,e,i);return s||new Gi(this.dirtyChecker,t,e)}}return t instanceof Array?"length"===e?this.getArrayObserver(t).getLengthObserver():new Gi(this.dirtyChecker,t,e):t instanceof Map?"size"===e?this.getMapObserver(t).getLengthObserver():new Gi(this.dirtyChecker,t,e):t instanceof Set?"size"===e?this.getSetObserver(t).getLengthObserver():new Gi(this.dirtyChecker,t,e):new Qi(this.taskQueue,t,e)},t.prototype.getAccessor=function(t,e){if(t instanceof Dt.DOM.Element){if("class"===e||"style"===e||"css"===e||"value"===e&&("input"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase())||"checked"===e&&"input"===t.tagName.toLowerCase()||"model"===e&&"input"===t.tagName.toLowerCase()||/^xlink:.+$/.exec(e))return this.getObserver(t,e);if(/^\w+:|^data-|^aria-/.test(e)||t instanceof Dt.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return Ji}return Xi},t.prototype.getArrayObserver=function(t){return R(this.taskQueue,t)},t.prototype.getMapObserver=function(t){return $(this.taskQueue,t)},t.prototype.getSetObserver=function(t){return lt(this.taskQueue,t)},t}(),St.inject=[zt.TaskQueue,Zi,Wi,mn,Bi],Pt),gn=(t.ObjectObservationAdapter=function(){function t(){}return t.prototype.getObserver=function(t,e,i){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},t}(),t.BindingExpression=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=r,this.attribute=o,this.discrete=!1}return t.prototype.createBinding=function(t){return new _n(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.mode,this.lookupFunctions)},t}()),_n=t.Binding=(At=m())(Mt=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.sourceExpression=e,this.target=i,this.targetProperty=n,this.mode=r,this.lookupFunctions=o}return t.prototype.updateTarget=function(t){this.targetObserver.setValue(t,this.target,this.targetProperty)},t.prototype.updateSource=function(t){this.sourceExpression.assign(this.source,t,this.lookupFunctions)},t.prototype.call=function(t,e,i){if(this.isBound){if(t===qt)return i=this.targetObserver.getValue(this.target,this.targetProperty),e=this.sourceExpression.evaluate(this.source,this.lookupFunctions),e!==i&&this.updateTarget(e),void(this.mode!==Re.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if("Binding:target"===t)return void(e!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(e));throw new Error("Unexpected call context "+t)}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions);var e=this.mode;if(!this.targetObserver){var i=e===Re.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[i](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();var n=this.sourceExpression.evaluate(t,this.lookupFunctions);this.updateTarget(n),e===Re.oneWay?g(this):e===Re.twoWay&&(this.sourceExpression.connect(this,t),this.targetObserver.subscribe("Binding:target",this))},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe("Binding:target",this),this.unobserve(!0))},t.prototype.connect=function(t){if(this.isBound){if(t){var e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(e)}this.sourceExpression.connect(this,this.source)}},t}())||Mt,yn=(t.CallExpression=function(){function t(t,e,i,n){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.lookupFunctions=n}return t.prototype.createBinding=function(t){return new yn(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.lookupFunctions)},t}(),t.Call=function(){function t(t,e,i,n,r){this.sourceExpression=e,this.target=i,this.targetProperty=t.getObserver(i,n),this.lookupFunctions=r}return t.prototype.callSource=function(t){var e=this.source.overrideContext;Object.assign(e,t),e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);delete e.$event;for(var n in t)delete e[n];return i},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.targetProperty.setValue(function(t){return e.callSource(t)})},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},t}()),bn=t.ValueConverterResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("ValueConverter"))return new t(a(e.substring(0,e.length-14)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerValueConverter(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}(),wn=t.BindingBehaviorResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("BindingBehavior"))return new t(a(e.substring(0,e.length-15)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerBindingBehavior(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}(),kn=(t.ListenerExpression=function(){function t(t,e,i,n,r,o){this.eventManager=t,this.targetEvent=e,this.sourceExpression=i,this.delegationStrategy=n,this.discrete=!0,this.preventDefault=r,this.lookupFunctions=o}return t.prototype.createBinding=function(t){return new kn(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,t,this.preventDefault,this.lookupFunctions)},t}(),t.Listener=function(){function t(t,e,i,n,r,o,s){this.eventManager=t,this.targetEvent=e,this.delegationStrategy=i,this.sourceExpression=n,this.target=r,this.preventDefault=o,this.lookupFunctions=s}return t.prototype.callSource=function(t){var e=this.source.overrideContext;e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete e.$event,!0!==i&&this.preventDefault&&t.preventDefault(),i},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,function(t){return e.callSource(t)},this.delegationStrategy)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},t}()),xn=(t.NameExpression=function(){function t(t,e,i){this.sourceExpression=t,this.apiName=e,this.lookupFunctions=i,this.discrete=!0}return t.prototype.createBinding=function(e){return new xn(this.sourceExpression,t.locateAPI(e,this.apiName),this.lookupFunctions)},t.locateAPI=function(t,e){switch(e){case"element":return t;case"controller":return ut(t).controller;case"view-model":return ut(t).controller.viewModel;case"view":return ut(t).controller.view;default:var i=ut(t)[e];if(void 0===i)throw new Error('Attempted to reference "'+e+"\", but it was not found amongst the target's API.");return i.viewModel}},t}(),function(){function t(t,e,i){this.sourceExpression=t,this.target=e,this.lookupFunctions=i}return t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},t}()),Cn={bindingBehaviors:function(t){return null},valueConverters:function(t){return null}},En=(t.BindingEngine=(jt=Tt=function(){function t(t,e){this.observerLocator=t,this.parser=e}return t.prototype.createBindingExpression=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?Re.oneWay:arguments[2],n=arguments.length<=3||void 0===arguments[3]?Cn:arguments[3];return new gn(this.observerLocator,t,this.parser.parse(e),i,n)},t.prototype.propertyObserver=function(t,e){var i=this;return{subscribe:function(n){var r=i.observerLocator.getObserver(t,e);return r.subscribe(n),{dispose:function(){return r.unsubscribe(n)}}}}},t.prototype.collectionObserver=function(t){var e=this;return{subscribe:function(i){var n=void 0;if(t instanceof Array)n=e.observerLocator.getArrayObserver(t);else if(t instanceof Map)n=e.observerLocator.getMapObserver(t);else{if(!(t instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");n=e.observerLocator.getSetObserver(t)}return n.subscribe(i),{dispose:function(){return n.unsubscribe(i)}}}}},t.prototype.expressionObserver=function(t,e){var i={bindingContext:t,overrideContext:u(t)};return new ie(i,this.parser.parse(e),this.observerLocator,Cn)},t.prototype.parseExpression=function(t){return this.parser.parse(t)},t.prototype.registerAdapter=function(t){this.observerLocator.addAdapter(t)},t}(),Tt.inject=[vn,Bi],jt),Set.prototype);t.getSetObserver=lt;var Ln=function(t){function e(e,i){return o(this,t.call(this,e,i))}return s(e,t),e.for=function(t,i){return"__set_observer__"in i||Reflect.defineProperty(i,"__set_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__set_observer__},e.create=function(t,i){var n=new e(t,i),r=En;return r.add===i.add&&r.delete===i.delete&&r.clear===i.clear||(r={add:i.add,delete:i.delete,clear:i.clear}),i.add=function(){var t=i.size,e=r.add.apply(i,arguments);return i.size===t||n.addChangeRecord({type:"add",object:i,value:Array.from(i).pop()}),e},i.delete=function(){var t=i.has(arguments[0]),e=r.delete.apply(i,arguments);return t&&n.addChangeRecord({type:"delete",object:i,value:arguments[0]}),e},i.clear=function(){var t=r.clear.apply(i,arguments);return n.addChangeRecord({type:"clear",object:i}),t},n},e}(re)}),t.entry="dist/commonjs/aurelia-binding.js"}),t.pkg("aurelia-task-queue",{},function(t){return t.file("dist/commonjs/aurelia-task-queue.js",function(t,e,i,n,r){"use strict";function o(t){var e=1,i=d.DOM.createMutationObserver(t),n=d.DOM.createTextNode("");return i.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}function s(t){return function(){function e(){clearTimeout(i),clearInterval(n),t()}var i=setTimeout(e,0),n=setInterval(e,50)}}function a(t,e,i){i&&e.stack&&"object"===(void 0===t?"undefined":h(t))&&null!==t&&(t.stack=c(t.stack)+e.stack),"onError"in e?e.onError(t):p?setImmediate(function(){throw t}):setTimeout(function(){throw t},0)}function u(){var t=new Error;if(t.stack)return t.stack;try{throw t}catch(t){return t.stack}}function l(t){return t.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}function c(t){var e=t.lastIndexOf("flushMicroTaskQueue");return e<0&&(e=t.lastIndexOf("flushTaskQueue"))<0?t:(e=t.lastIndexOf("\n",e),e<0?t:t.substr(0,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.TaskQueue=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},d=e("aurelia-pal"),p="function"==typeof setImmediate;t.TaskQueue=function(){function t(){var t=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],d.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=o(function(){return t.flushMicroTaskQueue()}):this.requestFlushMicroTaskQueue=s(function(){return t.flushMicroTaskQueue()}),this.requestFlushTaskQueue=s(function(){return t.flushTaskQueue()})}return t.prototype.queueMicroTask=function(t){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(t)},t.prototype.queueTask=function(t){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(t)},t.prototype.flushTaskQueue=function(){var t=this.taskQueue,e=0,i=void 0;this.taskQueue=[];try{for(this.flushing=!0;e<t.length;)i=t[e],this.longStacks&&(this.stack="string"==typeof i.stack?i.stack:void 0),i.call(),e++}catch(t){a(t,i,this.longStacks)}finally{this.flushing=!1}},t.prototype.flushMicroTaskQueue=function(){var t=this.microTaskQueue,e=this.microTaskQueueCapacity,i=0,n=void 0;try{for(this.flushing=!0;i<t.length;)if(n=t[i],this.longStacks&&(this.stack="string"==typeof n.stack?n.stack:void 0),n.call(),++i>e){for(var r=0,o=t.length-i;r<o;r++)t[r]=t[r+i];t.length-=i,i=0}}catch(t){a(t,n,this.longStacks)}finally{this.flushing=!1}t.length=0},t.prototype.prepareQueueStack=function(t){var e=t+l(u());return"string"==typeof this.stack&&(e=c(e)+this.stack),e},t}()}),t.entry="dist/commonjs/aurelia-task-queue.js"}),t.pkg("aurelia-templating",{},function(t){return t.file("dist/commonjs/aurelia-templating.js",function(t,e,i,n,r){"use strict";function o(t){return"-"+t.toLowerCase()}function s(t){return(t.charAt(0).toLowerCase()+t.slice(1)).replace(Xt,o)}function a(t){return!(t.auInterpolationTarget||/[^\t\n\r ]/.test(t.textContent))}function u(t){var e=function(t){Dt.metadata.define(Dt.metadata.resource,new $t,t)};return t?e(t):e}function l(t){throw new Error("BindingLanguage must implement "+t+"().")}function c(t,e,i,n){if(e){var r=t[e];if(r){if(r!==i)throw new Error("Attempted to register "+n+" when one with the same name already exists. Name: "+e+".")}else t[e]=i}}function h(t){if(void 0!==t.animatableElement)return t.animatableElement;for(var e=t.firstChild;e&&1!==e.nodeType;)e=e.nextSibling;return e&&1===e.nodeType?t.animatableElement=e.classList.contains("au-animate")?e:null:t.animatableElement=null}function d(t){if(t===zt.DOM.Element)return this.element;if(t===be){if(this.boundViewFactory)return this.boundViewFactory;var e=this.instruction.viewFactory,i=this.partReplacements;return i&&(e=i[e.part]||e),this.boundViewFactory=new be(this,e,i),this.boundViewFactory}return t===ge?(void 0===this.viewSlot&&(this.viewSlot=new ge(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):t===Qt?this.elementEvents||(this.elementEvents=new Qt(this.element)):t===Yt?this.compositionTransaction||(this.compositionTransaction=this.parent.get(t)):t===me?this.viewResources:t===ee?this.instruction:this.superGet(t)}function p(t,e,i,n,r,o){var s=t.createChild(),a=void 0,u=void 0;for(s.element=e,s.instruction=i,s.children=n,s.viewResources=o,s.partReplacements=r,a=i.providers,u=a.length;u--;)s._resolvers.set(a[u],ye);return s.superGet=s.get,s.get=d,s}function f(t){return this._element.hasAttribute(t)}function m(t){return this._element.getAttribute(t)}function v(t,e){this._element.setAttribute(t,e)}function g(t,e){var i=zt.DOM.createComment("anchor");if(e){var n=t.firstChild;n&&"AU-CONTENT"===n.tagName&&(i.contentElement=n),i._element=t,i.hasAttribute=f,i.getAttribute=m,i.setAttribute=v}return zt.DOM.replaceNode(i,t),i}function _(t,e,i,n,r,o,s,a,u){var l=i.behaviorInstructions,c=i.expressions,h=void 0,d=void 0,f=void 0,m=void 0,v=void 0;if(i.contentExpression)return r.push(i.contentExpression.createBinding(e.nextSibling)),e.nextSibling.auInterpolationTarget=!0,void e.parentNode.removeChild(e);if(i.shadowSlot){var _=zt.DOM.createComment("slot"),y=void 0;return y=i.slotDestination?new de(_,i.slotName,i.slotDestination,i.slotFallbackFactory):new pe(_,i.slotName,i.slotFallbackFactory),zt.DOM.replaceNode(_,e),s[i.slotName]=y,void n.push(y)}if(l.length)for(i.anchorIsContainer||(e=g(e,i.elementInstruction)),t[i.injectorId]=h=p(t[i.parentInjectorId],e,i,o,a,u),d=0,f=l.length;d<f;++d)m=l[d],v=m.type.create(h,m,e,r),n.push(v);for(d=0,f=c.length;d<f;++d)r.push(c[d].createBinding(e))}function y(t,e){var i=t.split(";"),n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;for(e=e||{},r=0;r<i.length;r++)o=i[r],n=o.indexOf(":"),s=o.substring(0,n).trim(),a=o.substring(n+1).trim(),e[s]=a;return e}function b(t){var e="";for(var i in t)e+=i+":"+t[i]+";";return e}function w(t,e,i,n,r,o){var s=i.behaviorInstructions,a=i.expressions,u=i.providers,l=i.values,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(c=u.length;c--;)t._resolvers.set(u[c],ye);for(var m in l)if(f=e.getAttribute(m)){if("class"===m)e.setAttribute("class",f+" "+l[m]);else if("style"===m){var v=y(l[m]);y(f,v),e.setAttribute("style",b(v))}}else e.setAttribute(m,l[m]);if(s.length)for(c=0,h=s.length;c<h;++c)d=s[c],p=d.type.create(t,d,e,r),p.contentView&&o.push(p.contentView),n.push(p);for(c=0,h=a.length;c<h;++c)r.push(a[c].createBinding(e))}function k(){return++ke}function x(){return(++xe).toString()}function C(t){var e=t.getAttribute("class"),i=x();return t.setAttribute("class",e?e+" au-target":"au-target"),t.setAttribute("au-target-id",i),i}function E(t,e,i,n,r){var o=zt.DOM.createElement("au-shadow-slot");zt.DOM.replaceNode(o,i);var s=C(o),a=ee.shadowSlot(r);if(a.slotName=i.getAttribute("name")||fe.defaultSlotKey,a.slotDestination=i.getAttribute("slot"),i.innerHTML.trim()){for(var u=zt.DOM.createDocumentFragment(),l=void 0;l=i.firstChild;)u.appendChild(l);a.slotFallbackFactory=t.compile(u,e)}return n[s]=a,o}function L(t,e){return e instanceof Vt.TemplateRegistryEntry?Promise.resolve(e):t.loadTemplate(e)}function O(t,e,i){var n=e.__observers__;return void 0===n&&(t.isInitialized||t.initialize(qt.Container.instance||new qt.Container,e.constructor),n=t.observerLocator.getOrCreateObserversLookup(e),t._ensurePropertiesDefined(e,n)),n[i]}function S(){return++Ie}function P(){return!0}function A(){}function M(t,e){return function(i,n,r){var o="string"==typeof n?i.constructor:i,s=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,o);"string"==typeof t&&(t={selector:t,name:n}),r&&(r.writable=!0,r.configurable=!0),t.all=e,s.addChildBinding(new Ne(t))}}function T(t){return M(t,!0)}function j(t){return M(t,!1)}function I(t,e,i){var n=t.get(e);n||(n=[],t.set(e,n)),n.push(i)}function R(t,e){for(var i=e.binders,n=i.length,r=new Map,o=0,s=t.length;o<s;++o){for(var a=t[o],u=a.addedNodes,l=a.removedNodes,c=0,h=l.length;c<h;++c){var d=l[c];if(1===d.nodeType)for(var p=0;p<n;++p){var f=i[p];f.onRemove(d)&&I(r,f,a)}}for(var m=0,v=u.length;m<v;++m){var g=u[m];if(1===g.nodeType)for(var _=0;_<n;++_){var y=i[_];y.onAdd(g)&&I(r,y,a)}}}r.forEach(function(t,e){null!==e.changeHandler&&e.viewModel[e.changeHandler](t)})}function N(t,e){return Array.isArray(e)?t.removeMany(e,!0):t.remove(e,!0)}function B(t){return t.skipActivation||"function"!=typeof t.viewModel.activate?Promise.resolve():t.viewModel.activate(t.model)||Promise.resolve()}function D(t,e){if(/[A-Z]/.test(t)){var i=s(t);return Bt.getLogger("templating").warn("'"+t+"' is not a valid "+e+" name and has been converted to '"+i+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),i}return t}function z(t){return function(e){Dt.metadata.define(Dt.metadata.resource,t,e)}}function F(t){return function(e){if(t instanceof Re)Dt.metadata.define(Dt.metadata.resource,t,e);else{var i=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,e);Object.assign(i,t)}}}function V(t){return function(e){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,e).elementName=D(t,"custom element")}}function q(t,e,i){return function(n){var r=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,n);r.attributeName=D(t,"custom attribute"),r.attributeDefaultBindingMode=e,r.aliases=i}}function H(t){var e=function(t){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,t).liftsContent=!0};return t?e(t):e}function U(t,e,i){var n=function(e,i,n){var r=i?e.constructor:e,o=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,r),s=void 0;return i&&(t=t||{},t.name=i),s=new je(t),s.registerWith(r,o,n)};if(!t)return n;if(e){var r=t;return t=null,n(r,e,i)}return n}function Z(t){var e=function(t){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,t).hasDynamicOptions=!0};return t?e(t):e}function W(t){var e="function"!=typeof t&&t?t:qe,i=function(t){var i=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,t);i.targetShadowDOM=!0,i.shadowDOMOptions=e};return"function"==typeof t?i(t):i}function G(t){return function(e){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,e).processAttributes=function(e,i,n,r,o){try{t(e,i,n,r,o)}catch(t){Bt.getLogger("templating").error(t)}}}}function Y(){return!1}function X(t){return function(e){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,e).processContent=t?function(e,i,n,r){try{return t(e,i,n,r)}catch(t){return Bt.getLogger("templating").error(t),!1}}:Y}}function $(t){var e=function(t){Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,t).containerless=!0};return t?e(t):e}function Q(t){return function(e){Dt.metadata.define(ue.viewStrategyMetadataKey,t,e)}}function K(t){return Q(new ne(t))}function J(t,e,i){return Q(new ae(t,e,i))}function tt(t,e){var i=void 0,n=void 0;"function"==typeof t?i=t:(n=t,i=void 0);var r=function(t){Dt.metadata.define(ue.viewStrategyMetadataKey,new oe(n,e),t)};return i?r(i):r}function et(t){var e=function(t){Dt.metadata.define(Dt.metadata.resource,new Ve,t)};return t?e(t):e}function it(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){Dt.metadata.define(Ae.viewModelRequireMetadataKey,e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),
t.TemplatingEngine=t.ElementConfigResource=t.CompositionEngine=t.SwapStrategies=t.HtmlBehaviorResource=t.BindableProperty=t.BehaviorPropertyObserver=t.Controller=t.ViewEngine=t.ModuleAnalyzer=t.ResourceDescription=t.ResourceModule=t.ViewCompiler=t.ViewFactory=t.BoundViewFactory=t.ViewSlot=t.View=t.ViewResources=t.ShadowDOM=t.ShadowSlot=t.PassThroughSlot=t.SlotCustomAttribute=t.BindingLanguage=t.ViewLocator=t.InlineViewStrategy=t.TemplateRegistryViewStrategy=t.NoViewStrategy=t.ConventionalViewStrategy=t.RelativeViewStrategy=t.viewStrategy=t.TargetInstruction=t.BehaviorInstruction=t.ViewCompileInstruction=t.ResourceLoadContext=t.ElementEvents=t.ViewEngineHooksResource=t.CompositionTransaction=t.CompositionTransactionOwnershipToken=t.CompositionTransactionNotifier=t.Animator=t.animationEvent=void 0;var nt,rt,ot,st,at,ut,lt,ct,ht,dt,pt,ft,mt,vt,gt,_t,yt,bt,wt,kt,xt,Ct,Et,Lt,Ot,St,Pt,At,Mt,Tt,jt,It=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t._hyphenate=s,t._isAllWhitespace=a,t.viewEngineHooks=u,t.children=T,t.child=j,t.resource=z,t.behavior=F,t.customElement=V,t.customAttribute=q,t.templateController=H,t.bindable=U,t.dynamicOptions=Z,t.useShadowDOM=W,t.processAttributes=G,t.processContent=X,t.containerless=$,t.useViewStrategy=Q,t.useView=K,t.inlineView=J,t.noView=tt,t.elementConfig=et,t.viewResources=it;var Nt=e("aurelia-logging"),Bt=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(Nt),Dt=e("aurelia-metadata"),zt=e("aurelia-pal"),Ft=e("aurelia-path"),Vt=e("aurelia-loader"),qt=e("aurelia-dependency-injection"),Ht=e("aurelia-binding"),Ut=e("aurelia-task-queue"),Zt=(t.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},t.Animator=function(){function t(){}return t.prototype.enter=function(t){return Promise.resolve(!1)},t.prototype.leave=function(t){return Promise.resolve(!1)},t.prototype.removeClass=function(t,e){return t.classList.remove(e),Promise.resolve(!1)},t.prototype.addClass=function(t,e){return t.classList.add(e),Promise.resolve(!1)},t.prototype.animate=function(t,e){return Promise.resolve(!1)},t.prototype.runSequence=function(t){},t.prototype.registerEffect=function(t,e){},t.prototype.unregisterEffect=function(t){},t}()),Wt=t.CompositionTransactionNotifier=function(){function t(t){this.owner=t,this.owner._compositionCount++}return t.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},t}(),Gt=t.CompositionTransactionOwnershipToken=function(){function t(t){this.owner=t,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return t.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},t.prototype.resolve=function(){this._resolveCallback()},t.prototype._createThenable=function(){var t=this;return new Promise(function(e,i){t._resolveCallback=e})},t}(),Yt=t.CompositionTransaction=function(){function t(){this._ownershipToken=null,this._compositionCount=0}return t.prototype.tryCapture=function(){return null===this._ownershipToken?new Gt(this):null},t.prototype.enlist=function(){return new Wt(this)},t.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var t=this._ownershipToken;this._ownershipToken=null,t.resolve()}},t}(),Xt=/([A-Z])/g,$t=t.ViewEngineHooksResource=function(){function t(){}return t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerViewEngineHooks(this.instance)},t.prototype.load=function(t,e){},t.convention=function(e){if(e.endsWith("ViewEngineHooks"))return new t},t}(),Qt=t.ElementEvents=function(){function t(t){this.element=t,this.subscriptions={}}return t.prototype._enqueueHandler=function(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[],this.subscriptions[t.eventName].push(t)},t.prototype._dequeueHandler=function(t){var e=void 0,i=this.subscriptions[t.eventName];return i&&(e=i.indexOf(t))>-1&&i.splice(e,1),t},t.prototype.publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=zt.DOM.createCustomEvent(t,{cancelable:n,bubbles:i,detail:e});this.element.dispatchEvent(r)},t.prototype.subscribe=function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e)return e.eventName=t,e.handler=e,e.bubbles=n,e.dispose=function(){i.element.removeEventListener(t,e,n),i._dequeueHandler(e)},this.element.addEventListener(t,e,n),this._enqueueHandler(e),e},t.prototype.subscribeOnce=function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e){var r=function(){var r=function t(i){e(i),t.dispose()};return{v:i.subscribe(t,r,n)}}();if("object"===(void 0===r?"undefined":Rt(r)))return r.v}},t.prototype.dispose=function(t){if(t&&"string"==typeof t){var e=this.subscriptions[t];if(e)for(;e.length;){var i=e.pop();i&&i.dispose()}}else this.disposeAll()},t.prototype.disposeAll=function(){for(var t in this.subscriptions)this.dispose(t)},t}(),Kt=t.ResourceLoadContext=function(){function t(){this.dependencies={}}return t.prototype.addDependency=function(t){this.dependencies[t]=!0},t.prototype.hasDependency=function(t){return t in this.dependencies},t}(),Jt=t.ViewCompileInstruction=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=t,this.compileSurrogate=e,this.associatedModuleId=null};Jt.normal=new Jt;var te=t.BehaviorInstruction=function(){function t(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return t.enhance=function(){var e=new t;return e.enhance=!0,e},t.unitTest=function(e,i){var n=new t;return n.type=e,n.attributes=i||{},n},t.element=function(e,i){var n=new t;return n.type=i,n.attributes={},n.anchorIsContainer=!(e.hasAttribute("containerless")||i.containerless),n.initiatedByBehavior=!0,n},t.attribute=function(e,i){var n=new t;return n.attrName=e,n.type=i||null,n.attributes={},n},t.dynamic=function(e,i,n){var r=new t;return r.host=e,r.viewModel=i,r.viewFactory=n,r.inheritBindingContext=!0,r},t}();te.normal=new te;var ee=t.TargetInstruction=(rt=nt=function(){function t(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return t.shadowSlot=function(e){var i=new t;return i.parentInjectorId=e,i.shadowSlot=!0,i},t.contentExpression=function(e){var i=new t;return i.contentExpression=e,i},t.lifting=function(e,i){var n=new t;return n.parentInjectorId=e,n.expressions=t.noExpressions,n.behaviorInstructions=[i],n.viewFactory=i.viewFactory,n.providers=[i.type.target],n.lifting=!0,n},t.normal=function(e,i,n,r,o,s){var a=new t;return a.injectorId=e,a.parentInjectorId=i,a.providers=n,a.behaviorInstructions=r,a.expressions=o,a.anchorIsContainer=!s||s.anchorIsContainer,a.elementInstruction=s,a},t.surrogate=function(e,i,n,r){var o=new t;return o.expressions=n,o.behaviorInstructions=i,o.providers=e,o.values=r,o},t}(),nt.noExpressions=Object.freeze([]),rt),ie=t.viewStrategy=Dt.protocol.create("aurelia:view-strategy",{validate:function(t){return"function"==typeof t.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(t){"function"!=typeof t.makeRelativeTo&&(t.makeRelativeTo=zt.PLATFORM.noop)}}),ne=t.RelativeViewStrategy=(ot=ie())(st=function(){function t(t){this.path=t,this.absolutePath=null}return t.prototype.loadViewFactory=function(t,e,i,n){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,Ft.relativeToFile)(this.path,this.moduleId)),e.associatedModuleId=this.moduleId,t.loadViewFactory(this.absolutePath||this.path,e,i,n)},t.prototype.makeRelativeTo=function(t){null===this.absolutePath&&(this.absolutePath=(0,Ft.relativeToFile)(this.path,t))},t}())||st,re=t.ConventionalViewStrategy=(at=ie())(ut=function(){function t(t,e){this.moduleId=e.moduleId,this.viewUrl=t.convertOriginToViewUrl(e)}return t.prototype.loadViewFactory=function(t,e,i,n){return e.associatedModuleId=this.moduleId,t.loadViewFactory(this.viewUrl,e,i,n)},t}())||ut,oe=t.NoViewStrategy=(lt=ie())(ct=function(){function t(t,e){this.dependencies=t||null,this.dependencyBaseUrl=e||""}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(null);if(this.entry=r=new Vt.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.dependencies=[],r.templateIsLoaded=!0,null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n)},t}())||ct,se=t.TemplateRegistryViewStrategy=(ht=ie())(dt=function(){function t(t,e){this.moduleId=t,this.entry=e}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry;return r.factoryIsReady?Promise.resolve(r.factory):(e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n))},t}())||dt,ae=t.InlineViewStrategy=(pt=ie())(ft=function(){function t(t,e,i){this.markup=t,this.dependencies=e||null,this.dependencyBaseUrl=i||""}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(r.factory);if(this.entry=r=new Vt.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.template=zt.DOM.createTemplateFromMarkup(this.markup),null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n)},t}())||ft,ue=t.ViewLocator=(vt=mt=function(){function t(){}return t.prototype.getViewStrategy=function(e){if(!e)return null;if("object"===(void 0===e?"undefined":Rt(e))&&"getViewStrategy"in e){var i=Dt.Origin.get(e.constructor);return e=e.getViewStrategy(),"string"==typeof e&&(e=new ne(e)),ie.assert(e),i.moduleId&&e.makeRelativeTo(i.moduleId),e}if("string"==typeof e&&(e=new ne(e)),ie.validate(e))return e;"function"!=typeof e&&(e=e.constructor);var n=Dt.Origin.get(e),r=Dt.metadata.get(t.viewStrategyMetadataKey,e);if(r)n.moduleId&&(r.moduleId=n.moduleId);else{if(!n.moduleId)throw new Error("Cannot determine default view strategy for object.",e);r=this.createFallbackViewStrategy(n)}return r},t.prototype.createFallbackViewStrategy=function(t){return new re(this,t)},t.prototype.convertOriginToViewUrl=function(t){var e=t.moduleId;return(e.endsWith(".js")||e.endsWith(".ts")?e.substring(0,e.length-3):e)+".html"},t}(),mt.viewStrategyMetadataKey="aurelia:view-strategy",vt),le=t.BindingLanguage=function(){function t(){}return t.prototype.inspectAttribute=function(t,e,i,n){l("inspectAttribute")},t.prototype.createAttributeInstruction=function(t,e,i,n){l("createAttributeInstruction")},t.prototype.inspectTextContent=function(t,e){l("inspectTextContent")},t}(),ce=Object.freeze([]),he=t.SlotCustomAttribute=(gt=(0,qt.inject)(zt.DOM.Element))(_t=function(){function t(t){this.element=t,this.element.auSlotAttribute=this}return t.prototype.valueChanged=function(t,e){},t}())||_t,de=t.PassThroughSlot=function(){function t(t,e,i,n){this.anchor=t,this.anchor.viewSlot=this,this.name=e,this.destinationName=i,this.fallbackFactory=n,this.destinationSlot=null,this.projections=0,this.contentView=null,new he(this.anchor).value=this.destinationName}return t.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var r=Object.create(null);r[this.destinationSlot.name]=this.destinationSlot,fe.distributeView(this.contentView,r,i,n,this.destinationSlot.name)}},t.prototype.passThroughTo=function(t){this.destinationSlot=t},t.prototype.addNode=function(e,i,n,r){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),i.viewSlot instanceof t)return void i.viewSlot.passThroughTo(this);this.projections++,this.destinationSlot.addNode(e,i,n,r)},t.prototype.removeView=function(t,e){this.projections--,this.destinationSlot.removeView(t,e),this.needsFallbackRendering&&this.renderFallbackContent(null,ce,e)},t.prototype.removeAll=function(t){this.projections=0,this.destinationSlot.removeAll(t),this.needsFallbackRendering&&this.renderFallbackContent(null,ce,t)},t.prototype.projectFrom=function(t,e){this.destinationSlot.projectFrom(t,e)},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},It(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),pe=t.ShadowSlot=function(){function t(t,e,i){this.anchor=t,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=e,this.fallbackFactory=i,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return t.prototype.addNode=function(t,e,i,n,r){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof de)return void e.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)fe.distributeNodes(t,[e],this.destinationSlots,this,n);else{e.auOwnerView=t,e.auProjectionSource=i,e.auAssignedSlot=this;var o=this._findAnchor(t,e,i,n);o.parentNode.insertBefore(e,o),this.children.push(e),this.projections++}},t.prototype.removeView=function(t,e){if(null!==this.destinationSlots)fe.undistributeView(t,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)fe.undistributeView(t,this.contentView.slots,e);else{var i=this.children.find(function(t){return t.auSlotProjectFrom===e});if(i){for(var n=i.auProjectionChildren,r=0,o=n.length;r<o;++r){var s=n[r];s.auOwnerView===t&&(n.splice(r,1),t.fragment.appendChild(s),r--,o--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(t,ce,e)}}},t.prototype.removeAll=function(t){if(null!==this.destinationSlots)fe.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)fe.undistributeAll(this.contentView.slots,t);else{var e=this.children.find(function(e){return e.auSlotProjectFrom===t});if(e){for(var i=e.auProjectionChildren,n=0,r=i.length;n<r;++n){var o=i[n];o.auOwnerView.fragment.appendChild(o),this.projections--}e.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,ce,t)}}},t.prototype._findAnchor=function(t,e,i,n){if(i){var r=this.children.find(function(t){return t.auSlotProjectFrom===i});if(r){if(void 0!==n)for(var o=r.auProjectionChildren,s=-1,a=void 0,u=0,l=o.length;u<l;++u){var c=o[u];if(c.auOwnerView!==a&&(s++,a=c.auOwnerView,s>=n&&a!==t))return o.splice(u,0,e),c}return r.auProjectionChildren.push(e),r}}return this.anchor},t.prototype.projectTo=function(t){this.destinationSlots=t},t.prototype.projectFrom=function(t,e){var i=zt.DOM.createComment("anchor"),n=this.anchor.parentNode;i.auSlotProjectFrom=e,i.auOwnerView=t,i.auProjectionChildren=[],n.insertBefore(i,this.anchor),this.children.push(i),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(i)},t.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var r=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var s in r)for(var a=r[s],u=0,l=o.length;u<l;++u){var c=o[u];a.projectFrom(c.auOwnerView,c.auSlotProjectFrom)}this.fallbackSlots=r,fe.distributeNodes(t,e,r,i,n)}},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},It(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),fe=t.ShadowDOM=(bt=yt=function(){function t(){}return t.getSlotName=function(e){return void 0===e.auSlotAttribute?t.defaultSlotKey:e.auSlotAttribute.value},t.distributeView=function(e,i,n,r,o){var s=void 0;if(null===e)s=ce;else{var a=e.fragment.childNodes,u=a.length;s=new Array(u);for(var l=0;l<u;++l)s[l]=a[l]}t.distributeNodes(e,s,i,n,r,o)},t.undistributeView=function(t,e,i){for(var n in e)e[n].removeView(t,i)},t.undistributeAll=function(t,e){for(var i in t)t[i].removeAll(e)},t.distributeNodes=function(e,i,n,r,o,s){for(var u=0,l=i.length;u<l;++u){var c=i[u],h=c.nodeType;if(c.isContentProjectionSource){c.viewSlot.projectTo(n);for(var d in n)n[d].projectFrom(e,c.viewSlot);i.splice(u,1),l--,u--}else if(1===h||3===h||c.viewSlot instanceof de)if(3===h&&a(c))i.splice(u,1),l--,u--;else{var p=n[s||t.getSlotName(c)];p&&(p.addNode(e,c,r,o),i.splice(u,1),l--,u--)}else i.splice(u,1),l--,u--}for(var f in n){var m=n[f];m.needsFallbackRendering&&m.renderFallbackContent(e,i,r,o)}},t}(),yt.defaultSlotKey="__au-default-slot-key__",bt),me=t.ViewResources=function(){function t(t,e){this.bindingLanguage=null,this.parent=t||null,this.hasParent=null!==this.parent,this.viewUrl=e||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return t.prototype._tryAddHook=function(t,e){if("function"==typeof t[e]){for(var i=t[e].bind(t),n=1,r=void 0;void 0!==this[r=e+n.toString()];)n++;this[e]=!0,this[r]=i}},t.prototype._invokeHook=function(t,e,i,n,r){if(this.hasParent&&this.parent._invokeHook(t,e,i,n,r),this[t]){this[t+"1"](e,i,n,r);var o=t+"2";if(this[o]&&(this[o](e,i,n,r),o=t+"3",this[o])){this[o](e,i,n,r);for(var s=4;void 0!==this[o=t+s.toString()];)this[o](e,i,n,r),s++}}},t.prototype.registerViewEngineHooks=function(t){this._tryAddHook(t,"beforeCompile"),this._tryAddHook(t,"afterCompile"),this._tryAddHook(t,"beforeCreate"),this._tryAddHook(t,"afterCreate"),this._tryAddHook(t,"beforeBind"),this._tryAddHook(t,"beforeUnbind")},t.prototype.getBindingLanguage=function(t){return this.bindingLanguage||(this.bindingLanguage=t)},t.prototype.patchInParent=function(t){var e=this.parent;this.parent=t||null,this.hasParent=null!==this.parent,null===t.parent&&(t.parent=e,t.hasParent=null!==e)},t.prototype.relativeToView=function(t){return(0,Ft.relativeToFile)(t,this.viewUrl)},t.prototype.registerElement=function(t,e){c(this.elements,t,e,"an Element")},t.prototype.getElement=function(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)},t.prototype.mapAttribute=function(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)},t.prototype.registerAttribute=function(t,e,i){this.attributeMap[t]=i,c(this.attributes,t,e,"an Attribute")},t.prototype.getAttribute=function(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)},t.prototype.registerValueConverter=function(t,e){c(this.valueConverters,t,e,"a ValueConverter")},t.prototype.getValueConverter=function(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)},t.prototype.registerBindingBehavior=function(t,e){c(this.bindingBehaviors,t,e,"a BindingBehavior")},t.prototype.getBindingBehavior=function(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)},t.prototype.registerValue=function(t,e){c(this.values,t,e,"a value")},t.prototype.getValue=function(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)},t}(),ve=t.View=function(){function t(t,e,i,n,r,o,s){this.container=t,this.viewFactory=e,this.resources=e.resources,this.fragment=i,this.firstChild=i.firstChild,this.lastChild=i.lastChild,this.controllers=n,this.bindings=r,this.children=o,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null;for(var a in s){this.hasSlots=!0;break}}return t.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},t.prototype.created=function(){var t=void 0,e=void 0,i=this.controllers;for(t=0,e=i.length;t<e;++t)i[t].created(this)},t.prototype.bind=function(t,e,i){var n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;if(!i||!this._isUserControlled){if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t,this.overrideContext=e||(0,Ht.createOverrideContext)(t),this.resources._invokeHook("beforeBind",this),r=this.bindings,s=0,a=r.length;s<a;++s)r[s].bind(this);for(null!==this.viewModelScope&&(t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),n=this.controllers,s=0,a=n.length;s<a;++s)n[s].bind(this);for(o=this.children,s=0,a=o.length;s<a;++s)o[s].bind(t,e,!0);this.hasSlots&&fe.distributeView(this.contentView,this.slots)}},t.prototype.addBinding=function(t){this.bindings.push(t),this.isBound&&t.bind(this)},t.prototype.unbind=function(){var t=void 0,e=void 0,i=void 0,n=void 0,r=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),e=this.bindings,n=0,r=e.length;n<r;++n)e[n].unbind();for(t=this.controllers,n=0,r=t.length;n<r;++n)t[n].unbind();for(i=this.children,n=0,r=i.length;n<r;++n)i[n].unbind();this.bindingContext=null,this.overrideContext=null}},t.prototype.insertNodesBefore=function(t){t.parentNode.insertBefore(this.fragment,t)},t.prototype.appendNodesTo=function(t){t.appendChild(this.fragment)},t.prototype.removeNodes=function(){for(var t=this.fragment,e=this.firstChild,i=this.lastChild,n=void 0;e&&(n=e.nextSibling,t.appendChild(e),e!==i);)e=n},t.prototype.attached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),t=this.controllers,i=0,n=t.length;i<n;++i)t[i].attached();for(e=this.children,i=0,n=e.length;i<n;++i)e[i].attached()}},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),t=this.controllers,i=0,n=t.length;i<n;++i)t[i].detached();for(e=this.children,i=0,n=e.length;i<n;++i)e[i].detached()}},t}(),ge=t.ViewSlot=function(){function t(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt.instance;this.anchor=t,this.anchorIsContainer=e,this.bindingContext=null,this.overrideContext=null,this.animator=i,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,t.viewSlot=this,t.isContentProjectionSource=!1}return t.prototype.animateView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",i=h(t);if(null!==i)switch(e){case"enter":return this.animator.enter(i);case"leave":return this.animator.leave(i);default:throw new Error("Invalid animation direction: "+e)}},t.prototype.transformChildNodesIntoView=function(){var t=this.anchor;this.children.push({fragment:t,firstChild:t.firstChild,lastChild:t.lastChild,returnToCache:function(){},removeNodes:function(){for(var e=void 0;e=t.lastChild;)t.removeChild(e)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},t.prototype.bind=function(t,e){var i=void 0,n=void 0,r=void 0;if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t=t||this.bindingContext,this.overrideContext=e=e||this.overrideContext,r=this.children,i=0,n=r.length;i<n;++i)r[i].bind(t,e,!0)},t.prototype.unbind=function(){if(this.isBound){var t=void 0,e=void 0,i=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,t=0,e=i.length;t<e;++t)i[t].unbind()}},t.prototype.add=function(t){if(this.anchorIsContainer?t.appendNodesTo(this.anchor):t.insertNodesBefore(this.anchor),this.children.push(t),this.isAttached)return t.attached(),this.animateView(t,"enter")},t.prototype.insert=function(t,e){var i=this.children,n=i.length;return 0===t&&0===n||t>=n?this.add(e):(e.insertNodesBefore(i[t].firstChild),i.splice(t,0,e),this.isAttached?(e.attached(),this.animateView(e,"enter")):void 0)},t.prototype.move=function(t,e){if(t!==e){var i=this.children,n=i[t];n.removeNodes(),n.insertNodesBefore(i[e].firstChild),i.splice(t,1),i.splice(e,0,n)}},t.prototype.remove=function(t,e,i){return this.removeAt(this.children.indexOf(t),e,i)},t.prototype.removeMany=function(t,e,i){var n=this,r=this.children,o=t.length,s=void 0,a=[];t.forEach(function(t){if(i)return void t.removeNodes();var e=n.animateView(t,"leave");e?a.push(e.then(function(){return t.removeNodes()})):t.removeNodes()});var u=function(){if(n.isAttached)for(s=0;s<o;++s)t[s].detached();if(e)for(s=0;s<o;++s)t[s].returnToCache();for(s=0;s<o;++s){var i=r.indexOf(t[s]);i>=0&&r.splice(i,1)}};return a.length>0?Promise.all(a).then(function(){return u()}):u()},t.prototype.removeAt=function(t,e,i){var n=this,r=this.children[t],o=function(){return t=n.children.indexOf(r),r.removeNodes(),n.children.splice(t,1),n.isAttached&&r.detached(),e&&r.returnToCache(),r};if(!i){var s=this.animateView(r,"leave");if(s)return s.then(function(){return o()})}return o()},t.prototype.removeAll=function(t,e){var i=this,n=this.children,r=n.length,o=void 0,s=[];n.forEach(function(t){if(e)return void t.removeNodes();var n=i.animateView(t,"leave");n?s.push(n.then(function(){return t.removeNodes()})):t.removeNodes()});var a=function(){if(i.isAttached)for(o=0;o<r;++o)n[o].detached();if(t)for(o=0;o<r;++o){var e=n[o];e&&e.returnToCache()}i.children=[]};return s.length>0?Promise.all(s).then(function(){return a()}):a()},t.prototype.attached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(!this.isAttached)for(this.isAttached=!0,i=this.children,t=0,e=i.length;t<e;++t)n=i[t],n.attached(),this.animateView(n,"enter")},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0;if(this.isAttached)for(this.isAttached=!1,i=this.children,t=0,e=i.length;t<e;++t)i[t].detached()},t.prototype.projectTo=function(t){var e=this;this.projectToSlots=t,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(i){return fe.distributeView(i,t,e)})},t.prototype._projectionAdd=function(t){fe.distributeView(t,this.projectToSlots,this),this.children.push(t),this.isAttached&&t.attached()},t.prototype._projectionInsert=function(t,e){0===t&&!this.children.length||t>=this.children.length?this.add(e):(fe.distributeView(e,this.projectToSlots,this,t),this.children.splice(t,0,e),this.isAttached&&e.attached())},t.prototype._projectionMove=function(t,e){if(t!==e){var i=this.children,n=i[t];fe.undistributeView(n,this.projectToSlots,this),fe.distributeView(n,this.projectToSlots,this,e),i.splice(t,1),i.splice(e,0,n)}},t.prototype._projectionRemove=function(t,e){fe.undistributeView(t,this.projectToSlots,this),this.children.splice(this.children.indexOf(t),1),this.isAttached&&t.detached()},t.prototype._projectionRemoveAt=function(t,e){var i=this.children[t];fe.undistributeView(i,this.projectToSlots,this),this.children.splice(t,1),this.isAttached&&i.detached()},t.prototype._projectionRemoveMany=function(t,e){var i=this;t.forEach(function(t){return i.remove(t,e)})},t.prototype._projectionRemoveAll=function(t){fe.undistributeAll(this.projectToSlots,this);var e=this.children;if(this.isAttached)for(var i=0,n=e.length;i<n;++i)e[i].detached();this.children=[]},t}(),_e=(0,qt.resolver)(wt=function(){function t(){}return t.prototype.get=function(t,e){var i=e.__providerId__;return i in t?t[i]:t[i]=t.invoke(e)},t}())||wt,ye=new _e,be=t.BoundViewFactory=function(){function t(t,e,i){this.parentContainer=t,this.viewFactory=e,this.factoryCreateInstruction={partReplacements:i}}return t.prototype.create=function(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return t._isUserControlled=!0,t},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},It(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),we=t.ViewFactory=function(){function t(t,e,i){this.isCaching=!1,this.template=t,this.instructions=e,this.resources=i,this.cacheSize=-1,this.cache=null}return t.prototype.setCacheSize=function(t,e){t&&("*"===t?t=Number.MAX_VALUE:"string"==typeof t&&(t=parseInt(t,10))),-1!==this.cacheSize&&e||(this.cacheSize=t),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},t.prototype.getCachedView=function(){
return null!==this.cache?this.cache.pop()||null:null},t.prototype.returnViewToCache=function(t){t.isAttached&&t.detached(),t.isBound&&t.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(t.fromCache=!0,this.cache.push(t))},t.prototype.create=function(t,e,i){e=e||te.normal;var n=this.getCachedView();if(null!==n)return n;var r=e.enhance?this.template:this.template.cloneNode(!0),o=r.querySelectorAll(".au-target"),s=this.instructions,a=this.resources,u=[],l=[],c=[],h=Object.create(null),d={root:t},p=e.partReplacements,f=void 0,m=void 0,v=void 0,g=void 0,y=void 0;for(this.resources._invokeHook("beforeCreate",this,t,r,e),i&&null!==this.surrogateInstruction&&w(t,i,this.surrogateInstruction,u,l,c),e.enhance&&r.hasAttribute("au-target-id")&&(g=r,y=s[g.getAttribute("au-target-id")],_(d,g,y,u,l,c,h,p,a)),f=0,m=o.length;f<m;++f)g=o[f],y=s[g.getAttribute("au-target-id")],_(d,g,y,u,l,c,h,p,a);return v=new ve(t,this,r,u,l,c,h),e.initiatedByBehavior||v.created(),this.resources._invokeHook("afterCreate",v),v},t}(),ke=0,xe=0,Ce=t.ViewCompiler=(kt=(0,qt.inject)(le,me))(xt=function(){function t(t,e){this.bindingLanguage=t,this.resources=e}return t.prototype.compile=function(t,e,i){e=e||this.resources,i=i||Jt.normal,t="string"==typeof t?zt.DOM.createTemplateFromMarkup(t):t;var n=void 0,r=void 0,o=void 0;t.content?(r=t.getAttribute("part"),o=t.getAttribute("view-cache"),n=zt.DOM.adoptNode(t.content)):n=t,i.targetShadowDOM=i.targetShadowDOM&&zt.FEATURE.shadowDOM,e._invokeHook("beforeCompile",n,e,i);var s={};this._compileNode(n,e,s,t,"root",!i.targetShadowDOM);var a=n.firstChild;if(a&&1===a.nodeType){var u=a.getAttribute("au-target-id");if(u){var l=s[u];(l.shadowSlot||l.lifting||l.elementInstruction&&!l.elementInstruction.anchorIsContainer)&&n.insertBefore(zt.DOM.createComment("view"),a)}}var c=new we(n,s,e);return c.surrogateInstruction=i.compileSurrogate?this._compileSurrogate(t,e):null,c.part=r,o&&c.setCacheSize(o),e._invokeHook("afterCompile",c),c},t.prototype._compileNode=function(t,e,i,n,r,o){switch(t.nodeType){case 1:return this._compileElement(t,e,i,n,r,o);case 3:var s=e.getBindingLanguage(this.bindingLanguage).inspectTextContent(e,t.wholeText);if(s){var a=zt.DOM.createElement("au-marker"),u=C(a);for((t.parentNode||n).insertBefore(a,t),t.textContent=" ",i[u]=ee.contentExpression(s);t.nextSibling&&3===t.nextSibling.nodeType;)(t.parentNode||n).removeChild(t.nextSibling)}else for(;t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t.nextSibling;case 11:for(var l=t.firstChild;l;)l=this._compileNode(l,e,i,t,r,o)}return t.nextSibling},t.prototype._compileSurrogate=function(t,e){var i=t.tagName.toLowerCase(),n=t.attributes,r=e.getBindingLanguage(this.bindingLanguage),o=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=[],v=void 0,g=[],_={},y=!1,b=[];for(u=0,l=n.length;u<l;++u){if(c=n[u],h=c.name,d=c.value,p=r.inspectAttribute(e,i,h,d),(f=e.getAttribute(p.attrName))&&(o=e.mapAttribute(p.attrName))&&(s=f.attributes[o])&&(p.defaultBindingMode=s.defaultBindingMode,p.command||p.expression||(p.command=s.hasOptions?"options":null),p.command&&"options"!==p.command&&f.primaryProperty)){var w=f.primaryProperty;h=p.attrName=w.name,p.defaultBindingMode=w.defaultBindingMode}if(a=r.createAttributeInstruction(e,t,p,void 0,f))if(a.alteredAttr&&(f=e.getAttribute(a.attrName)),a.discrete)m.push(a);else if(f){if(a.type=f,this._configureProperties(a,e),f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else m.push(a.attributes[a.attrName]);else if(f){if(a=te.attribute(h,f),a.attributes[e.mapAttribute(h)]=d,f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(y=!0,_[h]=d)}if(m.length||g.length||y){for(u=0,l=g.length;u<l;++u)a=g[u],a.type.compile(this,e,t,a),b.push(a.type.target);for(u=0,l=m.length;u<l;++u)v=m[u],void 0!==v.attrToRemove&&t.removeAttribute(v.attrToRemove);return ee.surrogate(b,g,m,_)}return null},t.prototype._compileElement=function(t,e,i,n,r,o){var s=t.tagName.toLowerCase(),a=t.attributes,u=[],l=void 0,c=[],h=[],d=e.getBindingLanguage(this.bindingLanguage),p=void 0,f=void 0,m=void 0,v=void 0,g=void 0,_=void 0,y=void 0,b=void 0,w=void 0,x=void 0,L=void 0,O=void 0,S=void 0,P=void 0,A=void 0,M=void 0;if("slot"===s)return o&&(t=E(this,e,t,i,r)),t.nextSibling;for("template"===s?(f=this.compile(t,e),f.part=t.getAttribute("part")):(m=e.getElement(t.getAttribute("as-element")||s))&&(v=te.element(t,m),m.processAttributes(this,e,t,a,v),c.push(v)),_=0,y=a.length;_<y;++_){if(b=a[_],w=b.name,x=b.value,O=d.inspectAttribute(e,s,w,x),o&&"slot"===O.attrName&&(O.attrName=w="au-slot"),m=e.getAttribute(O.attrName),g=null,m){if((P=e.mapAttribute(O.attrName))&&(S=m.attributes[P])&&(O.defaultBindingMode=S.defaultBindingMode,O.command||O.expression||(O.command=S.hasOptions?"options":null),O.command&&"options"!==O.command&&m.primaryProperty)){var T=m.primaryProperty;w=O.attrName=T.name,O.defaultBindingMode=T.defaultBindingMode}}else v&&(g=v.type.attributes[O.attrName])&&(O.defaultBindingMode=g.defaultBindingMode);if(L=g?d.createAttributeInstruction(e,t,O,v):d.createAttributeInstruction(e,t,O,void 0,m))if(L.alteredAttr&&(m=e.getAttribute(L.attrName)),L.discrete)u.push(L);else if(m){if(L.type=m,this._configureProperties(L,e),m.liftsContent){L.originalAttrName=w,p=L;break}c.push(L)}else g?v.attributes[O.attrName].targetProperty=g.name:u.push(L.attributes[L.attrName]);else if(m){if(L=te.attribute(w,m),L.attributes[e.mapAttribute(w)]=x,m.liftsContent){L.originalAttrName=w,p=L;break}c.push(L)}else g&&(v.attributes[w]=x)}if(p)p.viewFactory=f,t=p.type.compile(this,e,t,p,n),A=C(t),i[A]=ee.lifting(r,p);else{if(u.length||c.length){for(M=!!c.length&&k(),_=0,y=c.length;_<y;++_)L=c[_],L.type.compile(this,e,t,L,n),h.push(L.type.target);for(_=0,y=u.length;_<y;++_)l=u[_],void 0!==l.attrToRemove&&t.removeAttribute(l.attrToRemove);A=C(t),i[A]=ee.normal(M,r,h,c,u,v)}if(v&&v.skipContentProcessing)return t.nextSibling;for(var j=t.firstChild;j;)j=this._compileNode(j,e,i,t,M||r,o)}return t.nextSibling},t.prototype._configureProperties=function(t,e){var i=t.type,n=t.attrName,r=t.attributes,o=void 0,s=void 0,a=void 0,u=e.mapAttribute(n);u&&n in r&&u!==n&&(r[u]=r[n],delete r[n]);for(s in r)null!==(a=r[s])&&"object"===(void 0===a?"undefined":Rt(a))&&(o=i.attributes[s],a.targetProperty=void 0!==o?o.name:s)},t}())||xt,Ee=t.ResourceModule=function(){function t(t){this.id=t,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return t.prototype.initialize=function(t){var e=this.mainResource,i=this.resources,n=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==e&&(e.metadata.viewStrategy=n,e.initialize(t));for(var r=0,o=i.length;r<o;++r)e=i[r],e.metadata.viewStrategy=n,e.initialize(t)}},t.prototype.register=function(t,e){var i=this.mainResource,n=this.resources;void 0!==i&&(i.register(t,e),e=null);for(var r=0,o=n.length;r<o;++r)n[r].register(t,e),e=null},t.prototype.load=function(t,e){if(null!==this.onLoaded)return this.loadContext===e?Promise.resolve():this.onLoaded;var i=this.mainResource,n=this.resources,r=void 0;if(void 0!==i){r=new Array(n.length+1),r[0]=i.load(t,e);for(var o=0,s=n.length;o<s;++o)r[o+1]=n[o].load(t,e)}else{r=new Array(n.length);for(var a=0,u=n.length;a<u;++a)r[a]=n[a].load(t,e)}return this.loadContext=e,this.onLoaded=Promise.all(r),this.onLoaded},t}(),Le=t.ResourceDescription=function(){function t(t,e,i){i||(i=Dt.metadata.get(Dt.metadata.resource,e))||(i=new Re,i.elementName=s(t),Dt.metadata.define(Dt.metadata.resource,i,e)),i instanceof Re?void 0===i.elementName?i.elementName=s(t):void 0===i.attributeName?i.attributeName=s(t):null===i.attributeName&&null===i.elementName&&Re.convention(t,i):i.name||(i.name=s(t)),this.metadata=i,this.value=e}return t.prototype.initialize=function(t){this.metadata.initialize(t,this.value)},t.prototype.register=function(t,e){this.metadata.register(t,e)},t.prototype.load=function(t,e){return this.metadata.load(t,this.value,e)},t}(),Oe=t.ModuleAnalyzer=function(){function t(){this.cache=Object.create(null)}return t.prototype.getAnalysis=function(t){return this.cache[t]},t.prototype.analyze=function(t,e,i){var n=void 0,r=void 0,o=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0,d=void 0,p=void 0;if(p=this.cache[t])return p;p=new Ee(t),this.cache[t]=p,"function"==typeof e&&(e={default:e}),i&&(n=new Le(i,e[i]));for(u in e)l=e[u],u!==i&&"function"==typeof l&&(a=Dt.metadata.get(Dt.metadata.resource,l),a?(null===a.attributeName&&null===a.elementName&&Re.convention(u,a),null===a.attributeName&&null===a.elementName&&(a.elementName=s(u)),!n&&a instanceof Re&&null!==a.elementName?n=new Le(u,l,a):c.push(new Le(u,l,a))):ie.decorates(l)?d=l:l instanceof Vt.TemplateRegistryEntry?d=new se(t,l):(h=Re.convention(u))?(null===h.elementName||n?c.push(new Le(u,l,h)):n=new Le(u,l,h),Dt.metadata.define(Dt.metadata.resource,h,l)):(h=Ht.ValueConverterResource.convention(u)||Ht.BindingBehaviorResource.convention(u)||$t.convention(u))?(c.push(new Le(u,l,h)),Dt.metadata.define(Dt.metadata.resource,h,l)):r||(r=l,o=u));return!n&&r&&(n=new Le(o,r)),p.moduleInstance=e,p.mainResource=n,p.resources=c,p.viewStrategy=d,p},t}(),Se=Bt.getLogger("templating"),Pe=function(){function t(t){var e=this;t.then(function(t){return e.viewFactory=t})}return t.prototype.create=function(t,e,i,n){return this.viewFactory.create(t,e,i,n)},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},It(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),Ae=t.ViewEngine=(Ct=(0,qt.inject)(Vt.Loader,qt.Container,Ce,Oe,me))((Ot=Lt=function(){function t(t,e,i,n,r){this.loader=t,this.container=e,this.viewCompiler=i,this.moduleAnalyzer=n,this.appResources=r,this._pluginMap={};var o=new Re;o.attributeName="au-slot",o.initialize(e,he),o.register(r)}return t.prototype.addResourcePlugin=function(t,e){var i=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=i,this.loader.addPlugin(i,e)},t.prototype.loadViewFactory=function(t,e,i,n){var r=this;return i=i||new Kt,L(this.loader,t).then(function(o){return o.onReady?i.hasDependency(t)?null===o.template?o.onReady:Promise.resolve(new Pe(o.onReady)):(i.addDependency(t),o.onReady):(i.addDependency(t),o.onReady=r.loadTemplateResources(o,e,i,n).then(function(t){if(o.resources=t,null===o.template)return o.factory=null;var i=r.viewCompiler.compile(o.template,t,e);return o.factory=i}),o.onReady)})},t.prototype.loadTemplateResources=function(e,i,n,r){var o=new me(this.appResources,e.address),s=e.dependencies,a=void 0,u=void 0;if(i=i||Jt.normal,0===s.length&&!i.associatedModuleId)return Promise.resolve(o);if(a=s.map(function(t){return t.src}),u=s.map(function(t){return t.name}),Se.debug("importing resources for "+e.address,a),r){var l=Dt.metadata.get(t.viewModelRequireMetadataKey,r);if(l){for(var c=a.length,h=0,d=l.length;h<d;++h){var p=l[h],f="function"==typeof p?Dt.Origin.get(p).moduleId:(0,Ft.relativeToFile)(p.src||p,e.address);-1===a.indexOf(f)&&(a.push(f),u.push(p.as))}Se.debug("importing ViewModel resources for "+i.associatedModuleId,a.slice(c))}}return this.importViewResources(a,u,o,i,n)},t.prototype.importViewModelResource=function(t,e){var i=this;return this.loader.loadModule(t).then(function(n){var r=Dt.Origin.get(n).moduleId,o=i.moduleAnalyzer.analyze(r,n,e);if(!o.mainResource)throw new Error('No view model found in module "'+t+'".');return o.initialize(i.container),o.mainResource})},t.prototype.importViewResources=function(t,e,i,n,r){var o=this;return r=r||new Kt,n=n||Jt.normal,t=t.map(function(t){return o._applyLoaderPlugin(t)}),this.loader.loadAllModules(t).then(function(t){var s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=o.container,p=o.moduleAnalyzer,f=new Array(t.length);for(s=0,a=t.length;s<a;++s)c=t[s],l=Dt.Origin.get(c).moduleId,u=p.analyze(l,c),u.initialize(d),u.register(i,e[s]),f[s]=u;for(n.associatedModuleId&&(h=p.getAnalysis(n.associatedModuleId))&&h.register(i),s=0,a=f.length;s<a;++s)f[s]=f[s].load(d,r);return Promise.all(f).then(function(){return i})})},t.prototype._applyLoaderPlugin=function(t){var e=t.lastIndexOf(".");if(-1!==e){var i=t.substring(e),n=this._pluginMap[i];return void 0===n?t:this.loader.applyPluginToUrl(t,n)}return t},t}(),Lt.viewModelRequireMetadataKey="aurelia:view-model-require",Et=Ot))||Et,Me=t.Controller=function(){function t(t,e,i,n){this.behavior=t,this.instruction=e,this.viewModel=i,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=n,this.elementEvents=n.elementEvents||null;var r=t.observerLocator.getOrCreateObserversLookup(i),o=t.handlesBind,s=e.attributes,a=this.boundProperties=[],u=t.properties,l=void 0,c=void 0;for(t._ensurePropertiesDefined(i,r),l=0,c=u.length;l<c;++l)u[l]._initialize(i,r,s,o,a)}return t.prototype.created=function(t){this.behavior.handlesCreated&&this.viewModel.created(t,this.view)},t.prototype.automate=function(t,e){this.view.bindingContext=this.viewModel,this.view.overrideContext=t||(0,Ht.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(e||null,this.view),this.bind(this.view)},t.prototype.bind=function(t){var e=this.behavior.handlesBind,i=this.boundProperties,n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;if(this.isBound){if(this.scope===t)return;this.unbind()}for(this.isBound=!0,this.scope=t,n=0,r=i.length;n<r;++n)o=i[n],s=o.observer,a=s.selfSubscriber,s.publishing=!1,e&&(s.selfSubscriber=null),o.binding.bind(t),s.call(),s.publishing=!0,s.selfSubscriber=a;var u=void 0;null!==this.view?(e&&(this.view.viewModelScope=t),this.viewModel===t.overrideContext.bindingContext?u=t.overrideContext:this.instruction.inheritBindingContext?u=(0,Ht.createOverrideContext)(this.viewModel,t.overrideContext):(u=(0,Ht.createOverrideContext)(this.viewModel),u.__parentOverrideContext=t.overrideContext),this.view.bind(this.viewModel,u)):e&&(u=t.overrideContext,void 0!==t.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(u=Object.assign({},t.overrideContext),u.parentOverrideContext=t.overrideContext.__parentOverrideContext),this.viewModel.bind(t.bindingContext,u))},t.prototype.unbind=function(){if(this.isBound){var t=this.boundProperties,e=void 0,i=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),e=0,i=t.length;e<i;++e)t[e].binding.unbind()}},t.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},t.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},t}(),Te=t.BehaviorPropertyObserver=(St=(0,Ht.subscriberCollection)())(Pt=function(){function t(t,e,i,n,r){this.taskQueue=t,this.obj=e,this.propertyName=i,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=n,this.currentValue=this.oldValue=r}return t.prototype.getValue=function(){return this.currentValue},t.prototype.setValue=function(t){var e=this.currentValue;e!==t&&(this.oldValue=e,this.currentValue=t,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.notqueued=!0,e!==t&&(this.selfSubscriber&&this.selfSubscriber(e,t),this.callSubscribers(e,t),this.oldValue=e)},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t}())||Pt,je=t.BindableProperty=function(){function t(t){"string"==typeof t?this.name=t:Object.assign(this,t),this.attribute=this.attribute||s(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=Ht.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return t.prototype.registerWith=function(t,e,i){if(e.properties.push(this),e.attributes[this.attribute]=this,this.owner=e,i)return this.descriptor=i,this._configureDescriptor(e,i)},t.prototype._configureDescriptor=function(t,e){var i=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return O(t,this,i).getValue()},e.set=function(e){O(t,this,i).setValue(e)},e.get.getObserver=function(e){return O(t,e,i)},e},t.prototype.defineOn=function(t,e){var i=this.name,n=void 0;null===this.changeHandler&&(n=i+"Changed")in t.prototype&&(this.changeHandler=n),null===this.descriptor&&Object.defineProperty(t.prototype,i,this._configureDescriptor(e,{}))},t.prototype.createObserver=function(t){var e=null,i=this.defaultValue,n=this.changeHandler,r=this.name,o=void 0;if(!this.hasOptions){if(n in t)e="propertyChanged"in t?function(e,i){t[n](e,i),t.propertyChanged(r,e,i)}:function(e,i){return t[n](e,i)};else if("propertyChanged"in t)e=function(e,i){return t.propertyChanged(r,e,i)};else if(null!==n)throw new Error("Change handler "+n+" was specified but not declared on the class.");return void 0!==i&&(o="function"==typeof i?i.call(t):i),new Te(this.owner.taskQueue,t,this.name,e,o)}},t.prototype._initialize=function(t,e,i,n,r){var o=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var l in i)this._createDynamicProperty(t,e,n,l,i[l],r);else this.hasOptions||(s=e[this.name],null!==i&&(o=s.selfSubscriber,a=i[this.attribute],n&&(s.selfSubscriber=null),"string"==typeof a?(t[this.name]=a,s.call()):a?r.push({observer:s,binding:a.createBinding(t)}):void 0!==u&&s.call(),s.selfSubscriber=o),s.publishing=!0)},t.prototype._createDynamicProperty=function(t,e,i,n,r,o){var s=n+"Changed",a=null,u=void 0,l=void 0;s in t?a="propertyChanged"in t?function(e,i){t[s](e,i),t.propertyChanged(n,e,i)}:function(e,i){return t[s](e,i)}:"propertyChanged"in t&&(a=function(e,i){return t.propertyChanged(n,e,i)}),u=e[n]=new Te(this.owner.taskQueue,t,n,a),Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),i&&(u.selfSubscriber=null),"string"==typeof r?(t[n]=r,u.call()):r&&(l={observer:u,binding:r.createBinding(t)},o.push(l)),u.publishing=!0,u.selfSubscriber=a},t}(),Ie=0,Re=t.HtmlBehaviorResource=function(){function t(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=A,this.processContent=P,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return t.convention=function(e,i){var n=void 0;return e.endsWith("CustomAttribute")&&(n=i||new t,n.attributeName=s(e.substring(0,e.length-15))),e.endsWith("CustomElement")&&(n=i||new t,n.elementName=s(e.substring(0,e.length-13))),n},t.prototype.addChildBinding=function(t){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(t)},t.prototype.initialize=function(t,e){var i=e.prototype,n=this.properties,r=this.attributeName,o=this.attributeDefaultBindingMode,s=void 0,a=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,e.__providerId__=S(),this.observerLocator=t.get(Ht.ObserverLocator),this.taskQueue=t.get(Ut.TaskQueue),this.target=e,this.usesShadowDOM=this.targetShadowDOM&&zt.FEATURE.shadowDOM,this.handlesCreated="created"in i,this.handlesBind="bind"in i,this.handlesUnbind="unbind"in i,this.handlesAttached="attached"in i,this.handlesDetached="detached"in i,this.htmlName=this.elementName||this.attributeName,null!==r)if(0===n.length&&new je({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:r,defaultBindingMode:o}).registerWith(e,this),u=n[0],1===n.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(e,this);else{for(s=0,a=n.length;s<a;++s)if(n[s].defineOn(e,this),n[s].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=n[s]}u=new je({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:r,defaultBindingMode:o}),u.hasOptions=!0,u.registerWith(e,this)}else for(s=0,a=n.length;s<a;++s)n[s].defineOn(e,this)},t.prototype.register=function(t,e){var i=this;null!==this.attributeName&&(t.registerAttribute(e||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach(function(e){t.registerAttribute(e,i,i.attributeName)})),null!==this.elementName&&t.registerElement(e||this.elementName,this)},t.prototype.load=function(t,e,i,n,r){var o=this,s=void 0;return null!==this.elementName?(n=t.get(ue).getViewStrategy(n||this.viewStrategy||e),s=new Jt(this.targetShadowDOM,!0),n.moduleId||(n.moduleId=Dt.Origin.get(e).moduleId),n.loadViewFactory(t.get(Ae),s,i,e).then(function(t){return r&&o.viewFactory||(o.viewFactory=t),t})):Promise.resolve(this)},t.prototype.compile=function(t,e,i,n,r){if(this.liftsContent){if(!n.viewFactory){var o=zt.DOM.createElement("template"),s=zt.DOM.createDocumentFragment(),u=i.getAttribute("view-cache"),l=i.getAttribute("part");i.removeAttribute(n.originalAttrName),zt.DOM.replaceNode(o,i,r),s.appendChild(i),n.viewFactory=t.compile(s,e),l&&(n.viewFactory.part=l,i.removeAttribute("part")),u&&(n.viewFactory.setCacheSize(u),i.removeAttribute("view-cache")),i=o}}else if(null!==this.elementName){var c={};if(this.processContent(t,e,i,n)&&i.hasChildNodes()){for(var h=i.firstChild,d=this.usesShadowDOM?null:zt.DOM.createElement("au-content"),p=void 0,f=void 0;h;)p=h.nextSibling,"TEMPLATE"===h.tagName&&(f=h.getAttribute("replace-part"))?(c[f]=t.compile(h,e),zt.DOM.removeNode(h,r),n.partReplacements=c):null!==d&&(3===h.nodeType&&a(h)?zt.DOM.removeNode(h,r):d.appendChild(h)),h=p;null!==d&&d.hasChildNodes()&&i.appendChild(d),n.skipContentProcessing=!1}else n.skipContentProcessing=!0}return i},t.prototype.create=function(t,e,i,n){var r=void 0,o=null;e=e||te.normal,i=i||null,n=n||null,null!==this.elementName&&i&&(this.usesShadowDOM?(r=i.attachShadow(this.shadowDOMOptions),t.registerInstance(zt.DOM.boundary,r)):(r=i,this.targetShadowDOM&&t.registerInstance(zt.DOM.boundary,r))),null!==i&&(i.au=o=i.au||{});var s=e.viewModel||t.get(this.target),a=new Me(this,e,s,t),u=this.childBindings,l=void 0;if(this.liftsContent)o.controller=a;else if(null!==this.elementName){if(l=e.viewFactory||this.viewFactory,t.viewModel=s,l&&(a.view=l.create(t,e,i)),null!==i){if(o.controller=a,a.view){if(!this.usesShadowDOM&&(1===i.childNodes.length||i.contentElement)){var c=i.childNodes[0]||i.contentElement;a.view.contentView={fragment:c},c.parentNode&&zt.DOM.removeNode(c)}if(e.anchorIsContainer){if(null!==u)for(var h=0,d=u.length;h<d;++h)a.view.addBinding(u[h].create(i,s,a));a.view.appendNodesTo(r)}else a.view.insertNodesBefore(r)}else if(null!==u)for(var p=0,f=u.length;p<f;++p)n.push(u[p].create(i,s,a))}else if(a.view){if(a.view.controller=a,null!==u)for(var m=0,v=u.length;m<v;++m)a.view.addBinding(u[m].create(e.host,s,a))}else if(null!==u)for(var g=0,_=u.length;g<_;++g)n.push(u[g].create(e.host,s,a))}else if(null!==u)for(var y=0,b=u.length;y<b;++y)n.push(u[y].create(i,s,a));return null!==o&&(o[this.htmlName]=a),e.initiatedByBehavior&&l&&a.view.created(),a},t.prototype._ensurePropertiesDefined=function(t,e){var i=void 0,n=void 0,r=void 0,o=void 0;if(!("__propertiesDefined__"in e))for(e.__propertiesDefined__=!0,i=this.properties,n=0,r=i.length;n<r;++n)void 0!==(o=i[n].createObserver(t))&&(e[o.propertyName]=o)},t}(),Ne=function(){function t(t){this.name=t.name,this.changeHandler=t.changeHandler||this.name+"Changed",this.selector=t.selector,this.all=t.all}return t.prototype.create=function(t,e,i){return new De(this.selector,t,this.name,e,i,this.changeHandler,this.all)},t}(),Be=[],De=function(){function t(t,e,i,n,r,o,s){this.selector=t,this.viewHost=e,this.property=i,this.viewModel=n,this.controller=r,this.changeHandler=o in n?o:null,this.usesShadowDOM=r.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&r.view&&r.view.contentView?this.contentView=r.view.contentView:this.contentView=null}return t.prototype.matches=function(t){if(t.matches(this.selector)){if(null===this.contentView)return!0;var e=this.contentView,i=t.auAssignedSlot;if(i&&i.projectFromAnchors){for(var n=i.projectFromAnchors,r=0,o=n.length;r<o;++r)if(n[r].auOwnerView===e)return!0;return!1}return t.auOwnerView===e}return!1},t.prototype.bind=function(t){var e=this.viewHost,i=this.viewModel,n=e.__childObserver__;if(!n){n=e.__childObserver__=zt.DOM.createMutationObserver(R);var r={childList:!0,subtree:!this.usesShadowDOM};n.observe(e,r),n.binders=[]}if(n.binders.push(this),this.usesShadowDOM){var o=e.firstElementChild;if(this.all){var s=i[this.property];for(s?s.length=0:s=i[this.property]=[];o;)this.matches(o)&&s.push(o.au&&o.au.controller?o.au.controller.viewModel:o),o=o.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](Be)}else for(;o;){if(this.matches(o)){var a=o.au&&o.au.controller?o.au.controller.viewModel:o;this.viewModel[this.property]=a,null!==this.changeHandler&&this.viewModel[this.changeHandler](a);break}o=o.nextElementSibling}}},t.prototype.onRemove=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]),n=i.indexOf(e);return-1!==n&&i.splice(n,1),!0}return!1}return!1},t.prototype.onAdd=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){for(var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]),n=0,r=t.previousElementSibling;r;)this.matches(r)&&n++,r=r.previousElementSibling;return i.splice(n,0,e),!0}this.viewModel[this.property]=e,null!==this.changeHandler&&this.viewModel[this.changeHandler](e)}return!1},t.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},t}(),ze=t.SwapStrategies={before:function(t,e,i){return void 0===e?i():i().then(function(){return N(t,e)})},with:function(t,e,i){return void 0===e?i():Promise.all([N(t,e),i()])},after:function(t,e,i){return Promise.resolve(t.removeAll(!0)).then(i)}},Fe=t.CompositionEngine=(At=(0,qt.inject)(Ae,ue))(Mt=function(){function t(t,e){this.viewEngine=t,this.viewLocator=e}return t.prototype._swap=function(t,e){var i=ze[t.swapOrder]||ze.after,n=t.viewSlot.children.slice();return i(t.viewSlot,n,function(){return Promise.resolve(t.viewSlot.add(e)).then(function(){t.currentController&&t.currentController.unbind()})}).then(function(){t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done()})},t.prototype._createControllerAndSwap=function(t){var e=this;return this.createController(t).then(function(i){return i.automate(t.overrideContext,t.owningView),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e._swap(t,i.view)}).then(function(){return i}):e._swap(t,i.view).then(function(){return i})})},t.prototype.createController=function(t){var e=this,i=void 0,n=void 0,r=void 0,o=void 0;return this.ensureViewModel(t).then(B).then(function(){i=t.childContainer,n=t.viewModel,r=t.viewModelResource,o=r.metadata;var s=e.viewLocator.getViewStrategy(t.view||n);return t.viewResources&&s.makeRelativeTo(t.viewResources.viewUrl),o.load(i,r.value,null,s,!0)}).then(function(e){return o.create(i,te.dynamic(t.host,n,e))})},t.prototype.ensureViewModel=function(t){var e=t.childContainer=t.childContainer||t.container.createChild();if("string"==typeof t.viewModel)return t.viewModel=t.viewResources?t.viewResources.relativeToView(t.viewModel):t.viewModel,this.viewEngine.importViewModelResource(t.viewModel).then(function(i){return e.autoRegister(i.value),t.host&&e.registerInstance(zt.DOM.Element,t.host),t.viewModel=e.viewModel=e.get(i.value),t.viewModelResource=i,t});var i=Dt.metadata.getOrCreateOwn(Dt.metadata.resource,Re,t.viewModel.constructor);return i.elementName=i.elementName||"dynamic-element",i.initialize(t.container||e,t.viewModel.constructor),t.viewModelResource={metadata:i,value:t.viewModel.constructor},e.viewModel=t.viewModel,Promise.resolve(t)},t.prototype.compose=function(t){var e=this;t.childContainer=t.childContainer||t.container.createChild(),t.view=this.viewLocator.getViewStrategy(t.view);var i=t.childContainer.get(Yt),n=i.tryCapture();return n?t.compositionTransactionOwnershipToken=n:t.compositionTransactionNotifier=i.enlist(),t.viewModel?this._createControllerAndSwap(t):t.view?(t.viewResources&&t.view.makeRelativeTo(t.viewResources.viewUrl),t.view.loadViewFactory(this.viewEngine,new Jt).then(function(i){var n=i.create(t.childContainer);return n.bind(t.bindingContext,t.overrideContext),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e._swap(t,n)}).then(function(){return n}):e._swap(t,n).then(function(){return n})})):t.viewSlot?(t.viewSlot.removeAll(),t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},t}())||Mt,Ve=t.ElementConfigResource=function(){function t(){}return t.prototype.initialize=function(t,e){},t.prototype.register=function(t,e){},t.prototype.load=function(t,e){var i=new e;t.get(Ht.EventManager).registerElementConfig(i)},t}(),qe={mode:"open"};t.TemplatingEngine=(Tt=(0,qt.inject)(qt.Container,Oe,Ce,Fe))(jt=function(){function t(t,e,i,n){this._container=t,this._moduleAnalyzer=e,this._viewCompiler=i,this._compositionEngine=n,t.registerInstance(Zt,Zt.instance=new Zt)}return t.prototype.configureAnimator=function(t){this._container.unregister(Zt),this._container.registerInstance(Zt,Zt.instance=t)},t.prototype.compose=function(t){return this._compositionEngine.compose(t)},t.prototype.enhance=function(t){t instanceof zt.DOM.Element&&(t={element:t});var e={},i=t.resources||this._container.get(me);this._viewCompiler._compileNode(t.element,i,e,t.element.parentNode,"root",!0);var n=new we(t.element,e,i),r=t.container||this._container.createChild(),o=n.create(r,te.enhance());return o.bind(t.bindingContext||{},t.overrideContext),o.firstChild=o.lastChild=o.fragment,o.fragment=zt.DOM.createDocumentFragment(),o.attached(),o},t}())||jt}),t.entry="dist/commonjs/aurelia-templating.js"}),t.pkg("aurelia-path",{},function(t){return t.file("dist/commonjs/aurelia-path.js",function(t,e,i,n,r){"use strict";function o(t){for(var e=0;e<t.length;++e){var i=t[e];if("."===i)t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}}function s(t,e){var i=e&&e.split("/"),n=t.trim().split("/");if("."===n[0].charAt(0)&&i){var r=i.slice(0,i.length-1);n.unshift.apply(n,r)}return o(n),n.join("/")}function a(t,e){if(!t)return e;if(!e)return t;var i=t.match(/^([^\/]*?:)\//),n=i&&i.length>0?i[1]:"";t=t.substr(n.length);var r=void 0;r=0===t.indexOf("///")&&"file:"===n?"///":0===t.indexOf("//")?"//":0===t.indexOf("/")?"/":"";for(var o="/"===e.slice(-1)?"/":"",s=t.split("/"),a=e.split("/"),u=[],l=0,c=s.length;l<c;++l)if(".."===s[l])u.pop();else{if("."===s[l]||""===s[l])continue;u.push(s[l])}for(var h=0,d=a.length;h<d;++h)if(".."===a[h])u.pop();else{if("."===a[h]||""===a[h])continue;u.push(a[h])}
return n+r+u.join("/")+o}function u(t,e,i){var n=[];if(null===e||void 0===e)return n;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)if(i)n.push(m(t)+"="+f(e[r]));else{var s=t+"["+("object"===p(e[r])&&null!==e[r]?r:"")+"]";n=n.concat(u(s,e[r]))}else if("object"!==(void 0===e?"undefined":p(e))||i)n.push(m(t)+"="+f(e));else for(var a in e)n=n.concat(u(t+"["+a+"]",e[a]));return n}function l(t,e){for(var i=[],n=Object.keys(t||{}).sort(),r=0,o=n.length;r<o;r++){var s=n[r];i=i.concat(u(s,t[s],e))}return 0===i.length?"":i.join("&")}function c(t,e){return Array.isArray(t)?(t.push(e),t):void 0!==t?[t,e]:e}function h(t,e,i){for(var n=t,r=e.length-1,o=0;o<=r;o++){var s=""===e[o]?n.length:e[o];if(o<r){var a=n[s]&&"object"!==p(n[s])?[n[s]]:n[s];n=n[s]=a||(isNaN(e[o+1])?{}:[])}else n=n[s]=i}}function d(t){var e={};if(!t||"string"!=typeof t)return e;var i=t;"?"===i.charAt(0)&&(i=i.substr(1));for(var n=i.replace(/\+/g," ").split("&"),r=0;r<n.length;r++){var o=n[r].split("="),s=decodeURIComponent(o[0]);if(s){var a=s.split("]["),u=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[u])?(a[u]=a[u].replace(/\]$/,""),a=a.shift().split("[").concat(a),u=a.length-1):u=0,o.length>=2){var l=o[1]?decodeURIComponent(o[1]):"";u?h(e,a,l):e[s]=c(e[s],l)}else e[s]=!0}}return e}Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.relativeToFile=s,t.join=a,t.buildQueryString=l,t.parseQueryString=d;var f=encodeURIComponent,m=function(t){return f(t).replace("%24","$")}}),t.entry="dist/commonjs/aurelia-path.js"}),t.pkg("aurelia-loader",{},function(t){return t.file("dist/commonjs/aurelia-loader.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=t.TemplateRegistryEntry=t.TemplateDependency=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=e("aurelia-path"),a=e("aurelia-metadata"),u=t.TemplateDependency=function(t,e){this.src=t,this.name=e},l=t.TemplateRegistryEntry=function(){function t(t){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=t,this.onReady=null,this._template=null,this._factory=null}return t.prototype.addDependency=function(t,e){var i="string"==typeof t?(0,s.relativeToFile)(t,this.address):a.Origin.get(t).moduleId;this.dependencies.push(new u(i,e))},o(t,[{key:"template",get:function(){return this._template},set:function(t){var e=this.address,i=void 0,n=void 0,r=void 0,o=void 0;this._template=t,this.templateIsLoaded=!0,i=t.content.querySelectorAll("require"),o=this.dependencies=new Array(i.length);for(var a=0,l=i.length;a<l;++a){if(n=i[a],!(r=n.getAttribute("from")))throw new Error("<require> element in "+e+' has no "from" attribute.');o[a]=new u((0,s.relativeToFile)(r,e),n.getAttribute("as")),n.parentNode&&n.parentNode.removeChild(n)}}},{key:"factory",get:function(){return this._factory},set:function(t){this._factory=t,this.factoryIsReady=!0}}]),t}();t.Loader=function(){function t(){this.templateRegistry={}}return t.prototype.map=function(t,e){throw new Error("Loaders must implement map(id, source).")},t.prototype.normalizeSync=function(t,e){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},t.prototype.normalize=function(t,e){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},t.prototype.loadModule=function(t){throw new Error("Loaders must implement loadModule(id).")},t.prototype.loadAllModules=function(t){throw new Error("Loader must implement loadAllModules(ids).")},t.prototype.loadTemplate=function(t){throw new Error("Loader must implement loadTemplate(url).")},t.prototype.loadText=function(t){throw new Error("Loader must implement loadText(url).")},t.prototype.applyPluginToUrl=function(t,e){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},t.prototype.addPlugin=function(t,e){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},t.prototype.getOrCreateTemplateRegistryEntry=function(t){return this.templateRegistry[t]||(this.templateRegistry[t]=new l(t))},t}()}),t.entry="dist/commonjs/aurelia-loader.js"}),t.pkg("aurelia-history-browser",{},function(t){return t.file("dist/commonjs/aurelia-history-browser.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){t.singleton(p.History,v),t.transient(f,m)}function u(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}function l(t,e,i){return t+"//"+e+(i?":"+i:"")}Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserHistory=t.DefaultLinkHandler=t.LinkHandler=void 0;var c,h;t.configure=a;var d=e("aurelia-pal"),p=e("aurelia-history"),f=t.LinkHandler=function(){function t(){}return t.prototype.activate=function(t){},t.prototype.deactivate=function(){},t}(),m=t.DefaultLinkHandler=function(t){function e(){var i=o(this,t.call(this));return i.handler=function(t){var n=e.getEventInfo(t),r=n.shouldHandleEvent,o=n.href;r&&(t.preventDefault(),i.history.navigate(o))},i}return s(e,t),e.prototype.activate=function(t){t._hasPushState&&(this.history=t,d.DOM.addEventListener("click",this.handler,!0))},e.prototype.deactivate=function(){d.DOM.removeEventListener("click",this.handler)},e.getEventInfo=function(t){var i={shouldHandleEvent:!1,href:null,anchor:null},n=e.findClosestAnchor(t.target);if(!n||!e.targetIsThisWindow(n))return i;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return i;var r=n.getAttribute("href");i.anchor=n,i.href=r;var o=1===t.which,s=r&&!("#"===r.charAt(0)||/^[a-z]+:/i.test(r));return i.shouldHandleEvent=o&&s,i},e.findClosestAnchor=function(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}},e.targetIsThisWindow=function(t){var e=t.getAttribute("target"),i=d.PLATFORM.global;return!e||e===i.name||"_self"===e||"top"===e&&i===i.top},e}(f),v=t.BrowserHistory=(h=c=function(t){function e(e){var i=o(this,t.call(this));return i._isActive=!1,i._checkUrlCallback=i._checkUrl.bind(i),i.location=d.PLATFORM.location,i.history=d.PLATFORM.history,i.linkHandler=e,i}return s(e,t),e.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(_,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),d.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&e){var n=this.location,r=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!r)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&n.hash&&(this.fragment=this._getHash().replace(g,""),this.history.replaceState({},d.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},e.prototype.deactivate=function(){d.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),d.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},e.prototype.getAbsoluteRoot=function(){return""+l(this.location.protocol,this.location.hostname,this.location.port)+this.root},e.prototype.navigate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.trigger,n=void 0===i||i,r=e.replace,o=void 0!==r&&r;if(t&&b.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!o)return!1;this.fragment=t;var s=this.root+t;if(""===t&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)s=s.replace("//","/"),this.history[o?"replaceState":"pushState"]({},d.DOM.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);u(this.location,t,o)}return n?this._loadUrl(t):void 0},e.prototype.navigateBack=function(){this.history.back()},e.prototype.setTitle=function(t){d.DOM.title=t},e.prototype._getHash=function(){return this.location.hash.substr(1)},e.prototype._getFragment=function(t,e){var i=void 0;return t||(this._hasPushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,i=this.root.replace(y,""),t.indexOf(i)||(t=t.substr(i.length))):t=this._getHash()),"/"+t.replace(g,"")},e.prototype._checkUrl=function(){this._getFragment()!==this.fragment&&this._loadUrl()},e.prototype._loadUrl=function(t){var e=this.fragment=this._getFragment(t);return!!this.options.routeHandler&&this.options.routeHandler(e)},e}(p.History),c.inject=[f],h),g=/^#?\/*|\s+$/g,_=/^\/+|\/+$/g,y=/\/$/,b=/^([a-z][a-z0-9+\-.]*:)?\/\//i}),t.entry="dist/commonjs/aurelia-history-browser.js"}),t.pkg("aurelia-history",{},function(t){return t.file("dist/commonjs/aurelia-history.js",function(t,e,i,n,r){"use strict";function o(t){throw new Error("History must implement "+t+"().")}Object.defineProperty(t,"__esModule",{value:!0});t.History=function(){function t(){}return t.prototype.activate=function(t){o("activate")},t.prototype.deactivate=function(){o("deactivate")},t.prototype.getAbsoluteRoot=function(){o("getAbsoluteRoot")},t.prototype.navigate=function(t,e){o("navigate")},t.prototype.navigateBack=function(){o("navigateBack")},t.prototype.setTitle=function(t){o("setTitle")},t}()}),t.entry="dist/commonjs/aurelia-history.js"}),t.pkg("aurelia-logging-console",{},function(t){return t.file("dist/commonjs/aurelia-logging-console.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleAppender=void 0;e("aurelia-logging"),t.ConsoleAppender=function(){function t(){}return t.prototype.debug=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).debug.apply(e,["DEBUG ["+t.id+"]"].concat(n))},t.prototype.info=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).info.apply(e,["INFO ["+t.id+"]"].concat(n))},t.prototype.warn=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).warn.apply(e,["WARN ["+t.id+"]"].concat(n))},t.prototype.error=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).error.apply(e,["ERROR ["+t.id+"]"].concat(n))},t}()}),t.entry="dist/commonjs/aurelia-logging-console.js"}),t.pkg("aurelia-onsenui",{},function(t){return t.file("dist/commonjs/aurelia-onsenui.js",function(t,e,i,n,r){"use strict";function o(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}function s(t){t.singleton(y.RouteLoader,b.TemplatingRouteLoader).singleton(y.Router,_.OnsRouter).globalResources(["./ons-back-button","./ons-icon","./ons-input","./ons-navigator","./ons-range","./ons-select","./ons-switch","./ons-tab","./ons-tabbar",v.PLATFORM.moduleName("aurelia-templating-router/router-view"),v.PLATFORM.moduleName("aurelia-templating-router/route-href")]),t.container.registerAlias(y.Router,_.OnsRouter)}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTabbar=t.OnsTab=t.OnsSwitch=t.OnsSelect=t.OnsRange=t.OnsNavigator=t.OnsInput=t.OnsIcon=t.OnsBackButton=void 0;var a=e("./ons-back-button");Object.defineProperty(t,"OnsBackButton",{enumerable:!0,get:function(){return a.OnsBackButton}});var u=e("./ons-icon");Object.defineProperty(t,"OnsIcon",{enumerable:!0,get:function(){return u.OnsIcon}});var l=e("./ons-input");Object.defineProperty(t,"OnsInput",{enumerable:!0,get:function(){return l.OnsInput}});var c=e("./ons-navigator");Object.defineProperty(t,"OnsNavigator",{enumerable:!0,get:function(){return c.OnsNavigator}});var h=e("./ons-range");Object.defineProperty(t,"OnsRange",{enumerable:!0,get:function(){return h.OnsRange}});var d=e("./ons-select");Object.defineProperty(t,"OnsSelect",{enumerable:!0,get:function(){return d.OnsSelect}});var p=e("./ons-switch");Object.defineProperty(t,"OnsSwitch",{enumerable:!0,get:function(){return p.OnsSwitch}});var f=e("./ons-tab");Object.defineProperty(t,"OnsTab",{enumerable:!0,get:function(){return f.OnsTab}});var m=e("./ons-tabbar");Object.defineProperty(t,"OnsTabbar",{enumerable:!0,get:function(){return m.OnsTabbar}}),t.configure=s;var v=e("aurelia-pal"),g=e("aurelia-history-browser"),_=e("./ons-router"),y=e("aurelia-router"),b=e("aurelia-templating-router"),w=e("aurelia-route-recognizer");y.Router.isNavigatingFirst,y.Router.isNavigatingNew,y.Router.isNavigatingForward,y.Router.isNavigatingBack,y.Router.isNavigatingRefresh,y.Router.currentNavigationTracker,y.Router.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.isNavigatingFirst=!1,this.isNavigatingNew=!1,this.isNavigatingRefresh=!1,this.isNavigatingForward=!1,this.isNavigatingBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new w.RouteRecognizer,this._childRecognizer=new w.RouteRecognizer,this._configuredPromise=new Promise(function(e){t._resolveConfiguredPromise=e})};var k=/^([a-z][a-z0-9+\-.]*:)?\/\//i;g.BrowserHistory.prototype.setState=function(t,e){var i=Object.assign({},this.history.state);i[t]=e,this.history.replaceState(i,null,null)},g.BrowserHistory.prototype.getState=function(t){return Object.assign({},this.history.state)[t]},g.BrowserHistory.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(/^\/+|\/+$/g,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=!(!this._hasPushState||!this.options.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),v.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&e){var n=this.location,r=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._usePushState&&!r)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._usePushState&&r&&n.hash&&(this.fragment=this._getHash().replace(/^#?\/*|\s+$/g,""),this.history.replaceState({},v.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},g.BrowserHistory.prototype.navigate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.trigger,n=void 0===i||i,r=e.replace,s=void 0!==r&&r;if(t&&k.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!s)return!1;this.fragment=t;var a=this.root+t;if(""===t&&"/"!==a&&(a=a.slice(0,-1)),this._hasPushState)a=a.replace("//","/"),this._usePushState||(a="#"+a),this.history[s?"replaceState":"pushState"]({},v.DOM.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);o(this.location,t,s)}return n?this._loadUrl(t):void 0},g.BrowserHistory.prototype._getFragment=function(t,e){var i=void 0;return t||(this._usePushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,i=this.root.replace(/\/$/,""),t.indexOf(i)||(t=t.substr(i.length))):t=this._getHash()),"/"+t.replace(/^#?\/*|\s+$/g,"")},g.BrowserHistory.prototype._checkUrl=function(t){this._getFragment()!==this.fragment&&("popstate"===t.type&&this.history.replaceState(t.state,null),this._loadUrl())}}),t.file("dist/commonjs/ons-back-button.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnsBackButton=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-pal"),c=e("aurelia-templating"),h=e("aurelia-router");t.OnsBackButton=(o=(0,c.customElement)("ons-back-button"),s=(0,u.inject)(l.DOM.Element,h.Router),o(a=(0,c.noView)(a=s(a=function(){function t(t,e){this.router=e,this.element=t,this.element.onClick=this.onClick.bind(this)}return t.prototype.onClick=function(){this.router.navigateBack()},t}())||a)||a)||a)}),t.file("dist/commonjs/ons-icon.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsIcon=void 0;var s,a,u,l,c,h=e("aurelia-dependency-injection"),d=e("aurelia-pal"),p=e("aurelia-templating");t.OnsIcon=(s=(0,p.customElement)("ons-icon"),a=(0,h.inject)(d.DOM.Element),s(u=(0,p.noView)(u=a((l=function(){function t(t){o(this,"icon",c,this),this.element=t}return t.prototype.iconChanged=function(t,e){this.element.setAttribute("icon",t)},t}(),c=function(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(l.prototype,"icon",[p.bindable],{enumerable:!0,initializer:null}),u=l))||u)||u)||u)}),t.file("dist/commonjs/ons-input.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsInput=void 0;var a,u,l,c,h,d,p,f,m,v,g=e("aurelia-dependency-injection"),_=e("aurelia-pal"),y=e("aurelia-templating"),b=e("aurelia-binding"),w=e("onsenui"),k=function(t){return t&&t.__esModule?t:{default:t}}(w);t.OnsInput=(a=(0,y.customElement)("ons-input"),u=(0,g.inject)(_.DOM.Element),l=(0,y.bindable)({defaultBindingMode:b.bindingMode.twoWay}),c=(0,y.bindable)({defaultBindingMode:b.bindingMode.twoWay}),a(h=(0,y.noView)(h=u((d=function(){function t(t){o(this,"value",p,this),o(this,"checked",f,this),o(this,"inputId",m,this),o(this,"disabled",v,this),this.element=t,this.element.oninput=this.onInput.bind(this),this.element.onchange=this.onChange.bind(this),k.default._contentReady(this.element,this.onContentReady.bind(this))}return t.prototype.onContentReady=function(){switch(this.element.type){case"radio":this.element.checked=this.value===this.checked;break;case"checkbox":this.element.checked=this.checked.includes(this.value)}},t.prototype.onInput=function(){this.value=this.element.value},t.prototype.onChange=function(){switch(this.element.type){case"radio":this.checked=this.value;break;case"checkbox":var t=this.checked.indexOf(this.value);t>-1?this.checked.splice(t,t+1):this.checked.push(this.value);break;default:this.value=this.element.value}},t.prototype.valueChanged=function(t,e){this.element.value=t},t.prototype.inputIdChanged=function(t,e){this.element.setAttribute("input-id",t)},t.prototype.disabledChanged=function(t,e){t?this.element.setAttribute("disabled",t):this.element.removeAttribute("disabled")},t}(),p=s(d.prototype,"value",[l],{enumerable:!0,initializer:null}),f=s(d.prototype,"checked",[c],{enumerable:!0,initializer:null}),m=s(d.prototype,"inputId",[y.bindable],{enumerable:!0,initializer:null}),v=s(d.prototype,"disabled",[y.bindable],{enumerable:!0,initializer:null}),h=d))||h)||h)||h)}),t.file("dist/commonjs/ons-navigator.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsNavigator=void 0;var l,c,h,d,p,f,m,v,g=e("onsenui"),_=function(t){return t&&t.__esModule?t:{default:t}}(g),y=e("aurelia-dependency-injection"),b=e("aurelia-pal"),w=e("aurelia-templating"),k=e("aurelia-router"),x=e("aurelia-templating-router");t.OnsNavigator=(l=(0,w.customElement)("ons-navigator"),c=(0,y.inject)(b.DOM.Element,y.Container,w.ViewSlot,k.Router,w.ViewLocator,w.CompositionTransaction,w.CompositionEngine),l(h=(0,w.noView)(h=c((d=function(t){function e(e,i,n,r,a,u,l){var c=s(this,t.call(this,e,i,n,r,a,u,l));return o(c,"swapOrder",p,c),o(c,"layoutView",f,c),o(c,"layoutViewModel",m,c),o(c,"layoutModel",v,c),c.element.pageLoader=new _.default.PageLoader(c.load.bind(c),c.unload.bind(c)),c.view,c.viewStack=[],c}return a(e,t),e.prototype.swap=function(t){var e=this.router;if(e.isNavigatingBack){var i=e.currentInstruction.previousInstruction.config.settings.navigator||{};return i.data=t,this.element.popPage(i)}var n=e.currentInstruction.config.settings.navigator||{};return n.data=t,this.element.pushPage(t.moduleId,n)},e.prototype.load=function(t,e){var i=this,n=(t.page,t.parent,t.params),r=n,o=this.view,s=function(){var t=i.view.fragment.querySelector("ons-page");return i.viewSlot.add(i.view),o&&i.viewStack.push(o),i._notify(),e(t)};return this.view=r.controller.view,function(t){return r.controller.automate(i.overrideContext,t),i.compositionTransactionOwnershipToken?i.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return i.compositionTransactionOwnershipToken=null,s()}):s()}(this.owningView)},e.prototype.unload=function(t){this.viewSlot.remove(this.view),this.view.unbind(),this.view=this.viewStack.pop()},e}(x.RouterView),p=u(d.prototype,"swapOrder",[w.bindable],{enumerable:!0,initializer:null}),f=u(d.prototype,"layoutView",[w.bindable],{enumerable:!0,initializer:null}),m=u(d.prototype,"layoutViewModel",[w.bindable],{enumerable:!0,initializer:null}),v=u(d.prototype,"layoutModel",[w.bindable],{enumerable:!0,initializer:null}),h=d))||h)||h)||h)}),t.file("dist/commonjs/ons-range.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsRange=void 0;var s,a,u,l,c,h,d=e("aurelia-dependency-injection"),p=e("aurelia-pal"),f=e("aurelia-templating"),m=e("aurelia-binding");t.OnsRange=(s=(0,f.customElement)("ons-range"),a=(0,d.inject)(p.DOM.Element),u=(0,f.bindable)({defaultBindingMode:m.bindingMode.twoWay}),s(l=(0,f.noView)(l=a((c=function(){function t(t){o(this,"value",h,this),this.element=t,this.element.oninput=this.onInput.bind(this)}return t.prototype.onInput=function(){this.value=this.element.value},t.prototype.valueChanged=function(t,e){this.element.value=t},t}(),h=function(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(c.prototype,"value",[u],{enumerable:!0,initializer:null}),l=c))||l)||l)||l)}),t.file("dist/commonjs/ons-select.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsSelect=void 0;var s,a,u,l,c,h,d=e("aurelia-dependency-injection"),p=e("aurelia-pal"),f=e("aurelia-templating"),m=e("aurelia-binding");t.OnsSelect=(s=(0,f.customElement)("ons-select"),a=(0,d.inject)(p.DOM.Element),u=(0,f.bindable)({defaultBindingMode:m.bindingMode.twoWay}),s(l=(0,f.noView)(l=a((c=function(){function t(t){o(this,"value",h,this);var e=t.querySelector("au-content");e.parentNode.replaceChild(e.firstChild,e),this.element=t,this.element.onchange=this.onChange.bind(this)}return t.prototype.attached=function(){this.element.value=this.value},t.prototype.onChange=function(){this.value=this.element.value},t.prototype.valueChanged=function(t,e){this.element.value=t},t}(),h=function(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(c.prototype,"value",[u],{enumerable:!0,initializer:null}),l=c))||l)||l)||l)}),t.file("dist/commonjs/ons-switch.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsSwitch=void 0;var s,a,u,l,c,h,d=e("aurelia-dependency-injection"),p=e("aurelia-pal"),f=e("aurelia-templating"),m=e("aurelia-binding");t.OnsSwitch=(s=(0,f.customElement)("ons-switch"),a=(0,d.inject)(p.DOM.Element),u=(0,f.bindable)({defaultBindingMode:m.bindingMode.twoWay}),s(l=(0,f.noView)(l=a((c=function(){function t(t){o(this,"value",h,this),this.element=t,this.element.onchange=this.onChange.bind(this)}return t.prototype.onChange=function(){this.value=this.element.checked},t.prototype.valueChanged=function(t,e){this.element.checked=t},t}(),h=function(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(c.prototype,"value",[u],{enumerable:!0,initializer:null}),l=c))||l)||l)||l)}),t.file("dist/commonjs/ons-tab.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e,i){return"function"==typeof t[e]?Promise.resolve().then(function(){return t[e](i)}).then(function(t){return null===t||void 0===t||t}):Promise.resolve(!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTab=void 0;var a,u,l,c,h,d=e("onsenui"),p=function(t){return t&&t.__esModule?t:{default:t}}(d),f=e("aurelia-dependency-injection"),m=e("aurelia-pal"),v=e("aurelia-templating"),g=["page","icon","active-icon","label","badge","active"];t.OnsTab=(a=(0,v.customElement)("ons-tab"),u=(0,f.inject)(m.DOM.Element,f.Container,v.CompositionEngine,v.ViewSlot,v.ViewResources),a(l=(0,v.noView)(l=u((c=function(){function t(t,e,i,n,r){o(this,"model",h,this),this.element=t,this.container=e,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.element.pageLoader=new p.default.PageLoader(this.load.bind(this),this.unload.bind(this))}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){var i=this;this.bindingContext=t,this.overrideContext=e,Object.keys(this.model).forEach(function(t){g.indexOf(t)>-1&&i.element.setAttribute(t,i.model[t])})},t.prototype.unbind=function(t,e){this.bindingContext=null,this.overrideContext=null},t.prototype.load=function(t,e){var i=this,n=t.page,r=(t.parent,t.params,{container:this.container,model:this.model,viewResources:this.viewResources});/\.html/.test(n)?r.view=n:r.viewModel=n,this.compositionEngine.createController(r).then(function(t){var n=t.view.fragment.querySelector("ons-page");t.automate(i.overrideContext,i.owningView),n.view=t.view,e(n)})},t.prototype.unload=function(t){return s(t.view.controller.viewModel,"deactivate").then(function(){t.view.detached(),t.view.unbind()})},t}(),h=function(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}(c.prototype,"model",[v.bindable],{enumerable:!0,initializer:null}),l=c))||l)||l)||l)}),t.file("dist/commonjs/ons-tabbar.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTabbar=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-pal"),c=e("aurelia-templating");t.OnsTabbar=(o=(0,c.customElement)("ons-tabbar"),s=(0,u.inject)(l.DOM.Element),o(a=(0,c.noView)(a=s(a=function(){function t(t){var e=t.querySelector("au-content");e.parentNode.replaceChild(e.firstChild,e),this.element=t,this._switchPage=this.element._switchPage.bind(this.element),this.element._switchPage=this.switchPage.bind(this)}return t.prototype.switchPage=function(t,e){return this._switchPage(t,e).then(function(){t.view.attached()})},t}())||a)||a)||a)}),t.file("dist/commonjs/ons-router.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,i,n){e&&"completed"in e&&"output"in e||(e=e||{},
e.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var r=null;return(0,v.isNavigationCommand)(e.output)?e.output.navigate(n):(r=e,e.completed||(e.output instanceof Error&&_.error(e.output),l(n))),n._dequeueInstruction(i+1).then(function(t){return r||t||e})}function u(t,e,i,n){t.resolve(e);var r={instruction:t,result:e};if(i)n.events.publish("router:navigation:child:complete",r);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1,n.isNavigatingFirst=!1,n.isNavigatingNew=!1,n.isNavigatingRefresh=!1,n.isNavigatingForward=!1,n.isNavigatingBack=!1;var o=void 0;if(e.output instanceof Error)o="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,o="success"}else o="canceled";n.events.publish("router:navigation:"+o,r),n.events.publish("router:navigation:complete",r)}return e}function l(t){t.history.previousLocation?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):_.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}Object.defineProperty(t,"__esModule",{value:!0}),t.OnsRouter=void 0;var c,h,d=e("aurelia-logging"),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(d),f=e("aurelia-dependency-injection"),m=e("aurelia-history"),v=e("aurelia-router"),g=e("aurelia-event-aggregator"),_=p.getLogger("app-router");t.OnsRouter=(c=(0,f.inject)(f.Container,m.History,v.PipelineProvider,g.EventAggregator))(h=function(t){function e(e,i,n,r){return o(this,t.call(this,e,i,n,r))}return s(e,t),e.prototype._dequeueInstruction=function(t){var e=this;return Promise.resolve().then(function(){if(!e.isNavigating||t){var i=e._queue.shift();if(e._queue.length=0,i){e.isNavigating=!0;var n=e.history.getState("NavigationTracker");if(n||e.currentNavigationTracker?n?e.currentNavigationTracker?e.currentNavigationTracker<n?e.isNavigatingForward=!0:e.currentNavigationTracker>n&&(e.isNavigatingBack=!0):e.isNavigatingRefresh=!0:e.isNavigatingNew=!0:(e.isNavigatingFirst=!0,e.isNavigatingNew=!0),n||(n=Date.now(),e.history.setState("NavigationTracker",n)),e.currentNavigationTracker=n,i.previousInstruction=e.currentInstruction,t){if(t===e.maxInstructionCount-1)return _.error(t+1+" navigation instructions have been attempted without success. Restoring last known good location."),l(e),e._dequeueInstruction(t+1);if(t>e.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else e.events.publish("router:navigation:processing",{instruction:i});return e.pipelineProvider.createPipeline().run(i).then(function(n){return a(i,n,t,e)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(n){return u(i,n,!!t,e)})}}})},e}(v.AppRouter))||h}),t.entry="dist/commonjs/aurelia-onsenui.js"}),t.pkg("aurelia-router",{},function(t){return t.file("dist/commonjs/aurelia-router.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return e||"#"===t[0]||(t="#"+t),e&&i&&(t=t.substring(1,t.length)),t}function u(t,e,i,n){if(V.test(t))return t;var r="";return e.length&&"/"!==e[0]&&(r+="/"),r+=e,r.length&&"/"===r[r.length-1]||"/"===t[0]||(r+="/"),r.length&&"/"===r[r.length-1]&&"/"===t[0]&&(r=r.substring(0,r.length-1)),a(r+t,i,n)}function l(t,e,i){return F.test(t)?a(t,i):u(t,e,i)}function c(t,e){return function(t){return Promise.resolve({status:e,output:t,completed:e===q.completed})}}function h(t){t.previousInstruction=null,t.plan=null}function d(t){return t&&"function"==typeof t.navigate}function p(t,e){var i=t.previousInstruction,n=t.config,r={};if("redirect"in n){var o=l(n.redirect,m(t));return t.queryString&&(o+="?"+t.queryString),Promise.reject(new G(o))}if(i){var s=f(i,t),a=[];for(var u in i.viewPortInstructions)!function(o){var u=i.viewPortInstructions[o],l=n.viewPorts[o];if(!l)throw new Error('Invalid Route Config: Configuration for viewPort "'+o+'" was not found for route: "'+t.config.route+'."');var c=r[o]={name:o,config:l,prevComponent:u.component,prevModuleId:u.moduleId};if(u.moduleId!==l.moduleId)c.strategy=X.replace;else if("determineActivationStrategy"in u.component.viewModel){var h;c.strategy=(h=u.component.viewModel).determineActivationStrategy.apply(h,t.lifecycleArgs)}else n.activationStrategy?c.strategy=n.activationStrategy:c.strategy=s||e?X.invokeLifecycle:X.noChange;if(c.strategy!==X.replace&&u.childRouter){var d=t.getWildcardPath(),f=u.childRouter._createNavigationInstruction(d,t).then(function(t){return c.childNavigationInstruction=t,p(t,c.strategy===X.invokeLifecycle).then(function(e){t.plan=e})});a.push(f)}}(u);return Promise.all(a).then(function(){return r})}for(var c in n.viewPorts)r[c]={name:c,strategy:X.replace,config:t.config.viewPorts[c]};return Promise.resolve(r)}function f(t,e){var i=t.params,n=e.params,r=e.config.hasChildRouter?e.getWildCardName():null;for(var o in n)if(o!==r&&i[o]!==n[o])return!0;for(var s in i)if(s!==r&&i[s]!==n[s])return!0;if(!e.options.compareQueryParams)return!1;var a=t.queryParams,u=e.queryParams;for(var l in u)if(a[l]!==u[l])return!0;for(var c in a)if(a[c]!==u[c])return!0;return!1}function m(t){var e=[];for(t=t.parentInstruction;t;)e.unshift(t.getBaseUrl()),t=t.parentInstruction;return e.unshift("/"),e.join("")}function v(t,e){if("object"!==(void 0===t?"undefined":T(t)))throw new Error("Invalid Route Config");if("string"!=typeof t.route){var i=t.name||"(no name)";throw new Error('Invalid Route Config for "'+i+'": You must specify a "route:" pattern.')}if(!("redirect"in t||t.moduleId||t.navigationStrategy||t.viewPorts))throw new Error('Invalid Route Config for "'+t.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function g(t,e,i){return Promise.resolve(e.call(i,t)).then(function(){return"viewPorts"in t.config||(t.config.viewPorts={default:{moduleId:t.config.moduleId}}),t})}function _(t,e,i,n){function r(t){return n||x(t)?o():i.cancel(t)}function o(){if(a--)try{return C(s[a][e](),r,i.cancel)}catch(t){return i.cancel(t)}return i()}var s=y(t,e),a=s.length;return o()}function y(t,e){var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var n in t){var r=t[n],o=r.prevComponent;if((r.strategy===X.invokeLifecycle||r.strategy===X.replace)&&o){var s=o.viewModel;e in s&&i.push(s)}r.childNavigationInstruction?y(r.childNavigationInstruction.plan,e,i):o&&b(o,e,i)}return i}function b(t,e,i){var n=t.childRouter;if(n&&n.currentInstruction){var r=n.currentInstruction.viewPortInstructions;for(var o in r){var s=r[o],a=s.component,u=a.viewModel;e in u&&i.push(u),b(a,e,i)}}}function w(t,e,i,n){function r(t,e){return n||x(t,e)?o():i.cancel(t)}function o(){if(++u<a)try{var t=function(){var t,n=s[u];return{v:C((t=n.viewModel)[e].apply(t,n.lifecycleArgs),function(t){return r(t,n.router)},i.cancel)}}();if("object"===(void 0===t?"undefined":T(t)))return t.v}catch(t){return i.cancel(t)}return i()}var s=k(t,e),a=s.length,u=-1;return o()}function k(t,e){var i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],n=arguments[3],r=t.plan;return Object.keys(r).filter(function(o){var s=r[o],a=t.viewPortInstructions[o],u=a.component.viewModel;(s.strategy===X.invokeLifecycle||s.strategy===X.replace)&&e in u&&i.push({viewModel:u,lifecycleArgs:a.lifecycleArgs,router:n}),s.childNavigationInstruction&&k(s.childNavigationInstruction,e,i,a.component.childRouter||n)}),i}function x(t,e){return!(t instanceof Error)&&(d(t)?("function"==typeof t.setRouter&&t.setRouter(e),!!t.shouldContinueProcessing):void 0===t||t)}function C(t,e,i){if(t&&"function"==typeof t.then)return Promise.resolve(t).then(e).catch(i);if(t&&"function"==typeof t.subscribe){var n=function(){var n=t;return{v:new it(function(r){return n.subscribe({next:function(){r.subscribed&&(r.unsubscribe(),e(t))},error:function(t){r.subscribed&&(r.unsubscribe(),i(t))},complete:function(){r.subscribed&&(r.unsubscribe(),e(t))}})})}}();if("object"===(void 0===n?"undefined":T(n)))return n.v}try{return e(t)}catch(t){return i(t)}}function E(t,e){var i=L(e),n=i.map(function(e){return O(t,e.navigationInstruction,e.viewPortPlan)});return Promise.all(n)}function L(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=t.plan;for(var n in i){var r=i[n];if(r.strategy===X.replace)e.push({viewPortPlan:r,navigationInstruction:t}),r.childNavigationInstruction&&L(r.childNavigationInstruction,e);else{var o=t.addViewPortInstruction(n,r.strategy,r.prevModuleId,r.prevComponent);r.childNavigationInstruction&&(o.childNavigationInstruction=r.childNavigationInstruction,L(r.childNavigationInstruction,e))}}return e}function O(t,e,i){var n=i.config.moduleId;return S(t,e,i.config).then(function(r){var o=e.addViewPortInstruction(i.name,i.strategy,n,r),s=r.childRouter;if(s){var a=e.getWildcardPath();return s._createNavigationInstruction(a,e).then(function(e){return i.childNavigationInstruction=e,p(e).then(function(i){return e.plan=i,o.childNavigationInstruction=e,E(t,e)})})}})}function S(t,e,i){var n=e.router,r=e.lifecycleArgs;return t.loadRoute(n,i,e).then(function(t){var e=t.viewModel,o=t.childContainer;if(t.router=n,t.config=i,"configureRouter"in e){var s=function(){var i=o.getChildRouter();return t.childRouter=i,{v:i.configure(function(t){return e.configureRouter.apply(e,[t,i].concat(r))}).then(function(){return t})}}();if("object"===(void 0===s?"undefined":T(s)))return s.v}return t})}function P(t,e,i,n){e&&"completed"in e&&"output"in e||(e=e||{},e.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var r=null;return d(e.output)?e.output.navigate(n):(r=e,e.completed||(e.output instanceof Error&&at.error(e.output),M(n))),n._dequeueInstruction(i+1).then(function(t){return r||t||e})}function A(t,e,i,n){t.resolve(e);var r={instruction:t,result:e};if(i)n.events.publish("router:navigation:child:complete",r);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1;var o=void 0;if(e.output instanceof Error)o="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,o="success"}else o="canceled";n.events.publish("router:navigation:"+o,r),n.events.publish("router:navigation:complete",r)}return e}function M(t){t.history.previousLocation?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):at.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouter=t.PipelineProvider=t.LoadRouteStep=t.RouteLoader=t.ActivateNextStep=t.DeactivatePreviousStep=t.CanActivateNextStep=t.CanDeactivatePreviousStep=t.Router=t.BuildNavigationPlanStep=t.activationStrategy=t.RouterConfiguration=t.RedirectToRoute=t.Redirect=t.NavModel=t.NavigationInstruction=t.CommitChangesStep=t.Pipeline=t.pipelineStatus=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},j=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t._normalizeAbsolutePath=a,t._createRootedPath=u,t._resolveUrl=l,t.isNavigationCommand=d,t._buildNavigationPlan=p;var I=e("aurelia-logging"),R=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(I),N=e("aurelia-route-recognizer"),B=e("aurelia-dependency-injection"),D=e("aurelia-history"),z=e("aurelia-event-aggregator"),F=/^#?\//,V=/^([a-z][a-z0-9+\-.]*:)?\/\//i,q=t.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},H=t.Pipeline=function(){function t(){this.steps=[]}return t.prototype.addStep=function(t){var e=void 0;if("function"==typeof t)e=t;else{if("function"==typeof t.getSteps){for(var i=t.getSteps(),n=0,r=i.length;n<r;n++)this.addStep(i[n]);return this}e=t.run.bind(t)}return this.steps.push(e),this},t.prototype.run=function(t){function e(){if(!(++i<n.length))return e.complete();var r=n[i];try{return r(t,e)}catch(t){return e.reject(t)}}var i=-1,n=this.steps;return e.complete=c(e,q.completed),e.cancel=c(e,q.canceled),e.reject=c(e,q.rejected),e()},t}(),U=t.CommitChangesStep=function(){function t(){}return t.prototype.run=function(t,e){return t._commitChanges(!0).then(function(){return t._updateTitle(),e()})},t}(),Z=t.NavigationInstruction=function(){function t(t){this.plan=null,this.options={},Object.assign(this,t),this.params=this.params||{},this.viewPortInstructions={};var e=[],i=this;do{var n=Object.assign({},i.params);i.config&&i.config.hasChildRouter&&delete n[i.getWildCardName()],e.unshift(n),i=i.parentInstruction}while(i);var r=Object.assign.apply(Object,[{},this.queryParams].concat(e));this.lifecycleArgs=[r,this.config,this]}return t.prototype.getAllInstructions=function(){var t=[this];for(var e in this.viewPortInstructions){var i=this.viewPortInstructions[e].childNavigationInstruction;i&&t.push.apply(t,i.getAllInstructions())}return t},t.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(t){return t.previousInstruction}).filter(function(t){return t})},t.prototype.addViewPortInstruction=function(t,e,i,n){var r=Object.assign({},this.lifecycleArgs[1],{currentViewPort:t});return this.viewPortInstructions[t]={name:t,strategy:e,moduleId:i,component:n,childRouter:n.childRouter,lifecycleArgs:[].concat(this.lifecycleArgs[0],r,this.lifecycleArgs[2])}},t.prototype.getWildCardName=function(){var t=this.config.route.lastIndexOf("*");return this.config.route.substr(t+1)},t.prototype.getWildcardPath=function(){var t=this.getWildCardName(),e=this.params[t]||"";return this.queryString&&(e+="?"+this.queryString),e},t.prototype.getBaseUrl=function(){var t=this,e=this.fragment;if(""===e){var i=this.router.routes.find(function(e){return e.name===t.config.name&&""!==e.route});i&&(e=i.route)}if(!this.params)return e;var n=this.getWildCardName(),r=this.params[n]||"";return r?(r=encodeURI(r),e.substr(0,e.lastIndexOf(r))):e},t.prototype._commitChanges=function(t){var e=this,i=this.router;i.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,i._refreshBaseUrl(),i.refreshNavigation();var n=[],r=[];for(var o in this.viewPortInstructions)!function(o){var s=e.viewPortInstructions[o],a=i.viewPorts[o];if(!a)throw new Error("There was no router-view found in the view for "+s.moduleId+".");s.strategy===X.replace?(t&&r.push({viewPort:a,viewPortInstruction:s}),n.push(a.process(s,t).then(function(t){if(s.childNavigationInstruction)return s.childNavigationInstruction._commitChanges()}))):s.childNavigationInstruction&&n.push(s.childNavigationInstruction._commitChanges(t))}(o);return Promise.all(n).then(function(){return r.forEach(function(t){return t.viewPort.swap(t.viewPortInstruction)}),null}).then(function(){return h(e)})},t.prototype._updateTitle=function(){var t=this._buildTitle();t&&this.router.history.setTitle(t)},t.prototype._buildTitle=function(){var t=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],e="",i=[];this.config.navModel.title&&(e=this.router.transformTitle(this.config.navModel.title));for(var n in this.viewPortInstructions){var r=this.viewPortInstructions[n];if(r.childNavigationInstruction){var o=r.childNavigationInstruction._buildTitle(t);o&&i.push(o)}}return i.length&&(e=i.join(t)+(e?t:"")+e),this.router.title&&(e+=(e?t:"")+this.router.transformTitle(this.router.title)),e},t}(),W=t.NavModel=function(){function t(t,e){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=t,this.relativeHref=e}return t.prototype.setTitle=function(t){this.title=t,this.isActive&&this.router.updateTitle()},t}(),G=t.Redirect=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.url=t,this.options=Object.assign({trigger:!0,replace:!0},e),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigate(this.url,this.options)},t}(),Y=(t.RedirectToRoute=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.route=t,this.params=e,this.options=Object.assign({trigger:!0,replace:!0},i),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigateToRoute(this.route,this.params,this.options)},t}(),t.RouterConfiguration=function(){function t(){this.instructions=[],this.options={},this.pipelineSteps=[]}return t.prototype.addPipelineStep=function(t,e){return this.pipelineSteps.push({name:t,step:e}),this},t.prototype.addAuthorizeStep=function(t){return this.addPipelineStep("authorize",t)},t.prototype.addPreActivateStep=function(t){return this.addPipelineStep("preActivate",t)},t.prototype.addPreRenderStep=function(t){return this.addPipelineStep("preRender",t)},t.prototype.addPostRenderStep=function(t){return this.addPipelineStep("postRender",t)},t.prototype.fallbackRoute=function(t){return this._fallbackRoute=t,this},t.prototype.map=function(t){return Array.isArray(t)?(t.forEach(this.map.bind(this)),this):this.mapRoute(t)},t.prototype.mapRoute=function(t){return this.instructions.push(function(e){var i=[];if(Array.isArray(t.route))for(var n=0,r=t.route.length;n<r;++n){var o=Object.assign({},t);o.route=t.route[n],i.push(o)}else i.push(Object.assign({},t));for(var s=void 0,a=0,u=i.length;a<u;++a){var l=i[a];l.settings=l.settings||{},s||(s=e.createNavModel(l)),e.addRoute(l,s)}}),this},t.prototype.mapUnknownRoutes=function(t){return this.unknownRouteConfig=t,this},t.prototype.exportToRouter=function(t){for(var e=this.instructions,i=0,n=e.length;i<n;++i)e[i](t);this.title&&(t.title=this.title),this.unknownRouteConfig&&t.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(t.fallbackRoute=this._fallbackRoute),t.options=this.options;var r=this.pipelineSteps;if(r.length){if(!t.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=t.pipelineProvider,s=0,a=r.length;s<a;++s){var u=r[s],l=u.name,c=u.step;o.addStep(l,c)}}},t}()),X=t.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},$=t.BuildNavigationPlanStep=function(){function t(){}return t.prototype.run=function(t,e){return p(t).then(function(i){return t.plan=i,e()}).catch(e.cancel)},t}(),Q=t.Router=function(){function t(t,e){var i=this;this.parent=null,this.options={},this.transformTitle=function(t){return i.parent?i.parent.transformTitle(t):t},this.container=t,this.history=e,this.reset()}return t.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new N.RouteRecognizer,this._childRecognizer=new N.RouteRecognizer,this._configuredPromise=new Promise(function(e){t._resolveConfiguredPromise=e})},t.prototype.registerViewPort=function(t,e){e=e||"default",this.viewPorts[e]=t},t.prototype.ensureConfigured=function(){return this._configuredPromise},t.prototype.configure=function(t){var e=this;this.isConfigured=!0;var i=t,n=void 0;return"function"==typeof t&&(n=new Y,i=t(n)),Promise.resolve(i).then(function(t){t&&t.exportToRouter&&(n=t),n.exportToRouter(e),e.isConfigured=!0,e._resolveConfiguredPromise()})},t.prototype.navigate=function(t,e){return!this.isConfigured&&this.parent?this.parent.navigate(t,e):(this.isExplicitNavigation=!0,this.history.navigate(l(t,this.baseUrl,this.history._hasPushState),e))},t.prototype.navigateToRoute=function(t,e,i){var n=this.generate(t,e);return this.navigate(n,i)},t.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},t.prototype.createChild=function(e){var i=new t(e||this.container.createChild(),this.history);return i.parent=this,i},t.prototype.generate=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=this._recognizer.hasRoute(t);if((!this.isConfigured||!n)&&this.parent)return this.parent.generate(t,e);if(!n)throw new Error("A route with name '"+t+"' could not be found. Check that `name: '"+t+"'` was specified in the route's config.");var r=this._recognizer.generate(t,e),o=u(r,this.baseUrl,this.history._hasPushState,i.absolute);return i.absolute?""+this.history.getAbsoluteRoot()+o:o},t.prototype.createNavModel=function(t){var e=new W(this,"href"in t?t.href:t.route);return e.title=t.title,e.order=t.nav,e.href=t.href,e.settings=t.settings,e.config=t,e},t.prototype.addRoute=function(t,e){v(t,this.routes),"viewPorts"in t||t.navigationStrategy||(t.viewPorts={default:{moduleId:t.moduleId,view:t.view}}),e||(e=this.createNavModel(t)),this.routes.push(t);var i=t.route;"/"===i.charAt(0)&&(i=i.substr(1));var n=!0===t.caseSensitive,r=this._recognizer.add({path:i,handler:t,caseSensitive:n});if(i){var o=t.settings;delete t.settings;var s=JSON.parse(JSON.stringify(t));t.settings=o,s.route=i+"/*childRoute",s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:n}),s.navModel=e,s.settings=t.settings,s.navigationStrategy=t.navigationStrategy}if(t.navModel=e,(e.order||0===e.order)&&-1===this.navigation.indexOf(e)){if(!e.href&&""!==e.href&&(r.types.dynamics||r.types.stars))throw new Error('Invalid route config for "'+t.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof e.order&&(e.order=++this._fallbackOrder),this.navigation.push(e),this.navigation=this.navigation.sort(function(t,e){return t.order-e.order})}},t.prototype.hasRoute=function(t){return!!(this._recognizer.hasRoute(t)||this.parent&&this.parent.hasRoute(t))},t.prototype.hasOwnRoute=function(t){return this._recognizer.hasRoute(t)},t.prototype.handleUnknownRoutes=function(t){var e=this;if(!t)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(i){return e._createRouteConfig(t,i).then(function(t){return i.config=t,i})}},t.prototype.updateTitle=function(){if(this.parent)return this.parent.updateTitle();this.currentInstruction&&this.currentInstruction._updateTitle()},t.prototype.refreshNavigation=function(){for(var t=this.navigation,e=0,i=t.length;e<i;e++){var n=t[e];n.config.href?n.href=a(n.config.href,this.history._hasPushState):n.href=u(n.relativeHref,this.baseUrl,this.history._hasPushState)}},t.prototype._refreshBaseUrl=function(){if(this.parent){var t=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+t}},t.prototype._createNavigationInstruction=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=t,n="",r=t.indexOf("?");-1!==r&&(i=t.substr(0,r),n=t.substr(r+1));var o=this._recognizer.recognize(t);o&&o.length||(o=this._childRecognizer.recognize(t));var s={fragment:i,queryString:n,config:null,parentInstruction:e,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(o&&o.length){var a=o[0],u=new Z(Object.assign({},s,{params:a.params,queryParams:a.queryParams||o.queryParams,config:a.config||a.handler}));return"function"==typeof a.handler?g(u,a.handler,a):a.handler&&"function"==typeof a.handler.navigationStrategy?g(u,a.handler.navigationStrategy,a.handler):Promise.resolve(u)}if(this.catchAllHandler){return g(new Z(Object.assign({},s,{params:{path:i},queryParams:o&&o.queryParams,config:null})),this.catchAllHandler)}return Promise.reject(new Error("Route not found: "+t))},t.prototype._createRouteConfig=function(t,e){var i=this;return Promise.resolve(t).then(function(t){return"string"==typeof t?{moduleId:t}:"function"==typeof t?t(e):t}).then(function(t){return"string"==typeof t?{moduleId:t}:t}).then(function(t){return t.route=e.params.path,v(t,i.routes),t.navModel||(t.navModel=i.createNavModel(t)),t})},j(t,[{key:"isRoot",get:function(){return!this.parent}}]),t}(),K=t.CanDeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return _(t.plan,"canDeactivate",e)},t}(),J=t.CanActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return w(t,"canActivate",e)},t}(),tt=t.DeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return _(t.plan,"deactivate",e,!0)},t}(),et=t.ActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return w(t,"activate",e,!0)},t}(),it=function(){function t(t){this._subscribed=!0,this._subscription=t(this),this._subscribed||this.unsubscribe()}return t.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},j(t,[{key:"subscribed",get:function(){return this._subscribed}}]),t}(),nt=t.RouteLoader=function(){function t(){}return t.prototype.loadRoute=function(t,e,i){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},t}(),rt=t.LoadRouteStep=function(){function t(t){this.routeLoader=t}return t.inject=function(){return[nt]},t.prototype.run=function(t,e){return E(this.routeLoader,t).then(e).catch(e.cancel)},t}(),ot=function(){function t(t,e,i){this.steps=[],this.container=t,this.slotName=e,this.slotAlias=i}return t.prototype.getSteps=function(){var t=this;return this.steps.map(function(e){return t.container.get(e)})},t}(),st=t.PipelineProvider=function(){function t(t){this.container=t,this.steps=[$,K,rt,this._createPipelineSlot("authorize"),J,this._createPipelineSlot("preActivate","modelbind"),tt,et,this._createPipelineSlot("preRender","precommit"),U,this._createPipelineSlot("postRender","postcomplete")]}return t.inject=function(){return[B.Container]},t.prototype.createPipeline=function(){var t=this,e=new H;return this.steps.forEach(function(i){return e.addStep(t.container.get(i))}),e},t.prototype._findStep=function(t){return this.steps.find(function(e){return e.slotName===t||e.slotAlias===t})},t.prototype.addStep=function(t,e){var i=this._findStep(t);if(!i)throw new Error("Invalid pipeline slot name: "+t+".");i.steps.includes(e)||i.steps.push(e)},t.prototype.removeStep=function(t,e){var i=this._findStep(t);i&&i.steps.splice(i.steps.indexOf(e),1)},t.prototype._clearSteps=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this._findStep(t);e&&(e.steps=[])},t.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},t.prototype._createPipelineSlot=function(t,e){return new ot(this.container,t,e)},t}(),at=R.getLogger("app-router");t.AppRouter=function(t){function e(e,i,n,r){var s=o(this,t.call(this,e,i));return s.pipelineProvider=n,s.events=r,s}return s(e,t),e.inject=function(){return[B.Container,D.History,st,z.EventAggregator]},e.prototype.reset=function(){t.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},e.prototype.loadUrl=function(t){var e=this;return this._createNavigationInstruction(t).then(function(t){return e._queueInstruction(t)}).catch(function(t){at.error(t),M(e)})},e.prototype.registerViewPort=function(e,i){var n=this;if(t.prototype.registerViewPort.call(this,e,i),this.isActive)this._dequeueInstruction();else{var r=function(){var t=n._findViewModel(e);if("configureRouter"in t){if(!n.isConfigured){var i=function(){var e=n._resolveConfiguredPromise;return n._resolveConfiguredPromise=function(){},{v:{v:n.configure(function(e){return t.configureRouter(e,n)}).then(function(){n.activate(),e()})}}}();if("object"===(void 0===i?"undefined":T(i)))return i.v}}else n.activate()}();if("object"===(void 0===r?"undefined":T(r)))return r.v}return Promise.resolve()},e.prototype.activate=function(t){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,t),this.history.activate(this.options),this._dequeueInstruction())},e.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},e.prototype._queueInstruction=function(t){var e=this;return new Promise(function(i){t.resolve=i,e._queue.unshift(t),e._dequeueInstruction()})},e.prototype._dequeueInstruction=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return Promise.resolve().then(function(){if(!t.isNavigating||e){var i=t._queue.shift();if(t._queue.length=0,i){if(t.isNavigating=!0,i.previousInstruction=t.currentInstruction,e){if(e===t.maxInstructionCount-1)return at.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location."),M(t),t._dequeueInstruction(e+1);if(e>t.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else t.events.publish("router:navigation:processing",{instruction:i});return t.pipelineProvider.createPipeline().run(i).then(function(n){return P(i,n,e,t)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(n){return A(i,n,!!e,t)})}}})},e.prototype._findViewModel=function(t){if(this.container.viewModel)return this.container.viewModel;if(t.container)for(var e=t.container;e;){if(e.viewModel)return this.container.viewModel=e.viewModel,e.viewModel;e=e.parent}},e}(Q)}),t.entry="dist/commonjs/aurelia-router.js"}),t.pkg("aurelia-route-recognizer",{},function(t){return t.file("dist/commonjs/aurelia-route-recognizer.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){var r=t;"/"===t.charAt(0)&&(r=t.substr(1));for(var o=[],s=r.split("/"),a=0,u=s.length;a<u;++a){var l=s[a],c=l.match(/^:([^?]+)(\?)?$/);if(c){var h=c,d=h[1],p=h[2];if(-1!==d.indexOf("="))throw new Error("Parameter "+d+" in route "+t+" has a default value, which is not supported.");o.push(new m(d,!!p)),e.push(d),i.dynamics++}else c=l.match(/^\*(.+)$/),c?(o.push(new v(c[1])),e.push(c[1]),i.stars++):""===l?o.push(new g):(o.push(new f(l,n)),i.statics++)}return o}function s(t){return t.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0})}function a(t,e){for(var i=[],n=0,r=t.length;n<r;n++){var o=t[n];i.push.apply(i,o.match(e))}for(var s=i.filter(function(t){return t.epsilon});s.length>0;)!function(){var t=[];s.forEach(function(e){i.push.apply(i,e.epsilon),t.push.apply(t,e.epsilon)}),s=t.filter(function(t){return t.epsilon})}();return i}function u(t,e,i){for(var n=t.handlers,r=t.regex,o=e.match(r),s=1,a=new _(i),u=0,l=n.length;u<l;u++){
for(var c=n[u],h=c.names,d={},p=0,f=h.length;p<f;p++)d[h[p]]=o[s++];a.push({handler:c.handler,params:d,isDynamic:!!h.length})}return a}function l(t,e){var i=t.put({validChars:"/"});return e.eachChar(function(t){i=i.put(t)}),e.optional&&(t.epsilon=t.epsilon||[],t.epsilon.push(i)),i}Object.defineProperty(t,"__esModule",{value:!0}),t.RouteRecognizer=t.EpsilonSegment=t.StarSegment=t.DynamicSegment=t.StaticSegment=t.State=void 0;var c=e("aurelia-path"),h=t.State=function(){function t(t){this.charSpec=t,this.nextStates=[]}return t.prototype.get=function(t){for(var e=this.nextStates,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var o=r;if(o.charSpec.validChars===t.validChars&&o.charSpec.invalidChars===t.invalidChars)return o}},t.prototype.put=function(e){var i=this.get(e);return i||(i=new t(e),this.nextStates.push(i),e.repeat&&i.nextStates.push(i),i)},t.prototype.match=function(t){for(var e=this.nextStates,i=[],n=0,r=e.length;n<r;n++){var o=e[n],s=o.charSpec;void 0!==s.validChars?-1!==s.validChars.indexOf(t)&&i.push(o):void 0!==s.invalidChars&&-1===s.invalidChars.indexOf(t)&&i.push(o)}return i},t}(),d=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],p=new RegExp("(\\"+d.join("|\\")+")","g"),f=t.StaticSegment=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,i=0,n=e.length;i<n;++i){var r=e[i];t({validChars:this.caseSensitive?r:r.toUpperCase()+r.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(p,"\\$1")},t.prototype.generate=function(){return this.string},t}(),m=t.DynamicSegment=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),v=t.StarSegment=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),g=t.EpsilonSegment=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),_=(t.RouteRecognizer=function(){function t(){this.rootState=new h,this.names={}}return t.prototype.add=function(t){var e=this;if(Array.isArray(t))return void t.forEach(function(t){return e.add(t)});for(var i=this.rootState,n="^",r={statics:0,dynamics:0,stars:0},s=[],a=t.handler.name,u=!0,c=!0,h=o(t.path,s,r,t.caseSensitive),d=0,p=h.length;d<p;d++){var f=h[d];f instanceof g||(u=!1,c=c&&f.optional,i=l(i,f),n+=f.optional?"/?":"/",n+=f.regex())}if(c)if(u)i=i.put({validChars:"/"}),n+="/";else{var m=this.rootState.put({validChars:"/"});i.epsilon=[m],i=m}var v=[{handler:t.handler,names:s}];if(a)for(var _=Array.isArray(a)?a:[a],y=0;y<_.length;y++)this.names[_[y]]={segments:h,handlers:v};return i.handlers=v,i.regex=new RegExp(n+"$",t.caseSensitive?"":"i"),i.types=r,i},t.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.names[t]},t.prototype.generate=function(t,e){var i=this.names[t];if(!i)throw new Error("There is no route named "+t);var n=i.handlers[0].handler;if(n.generationUsesHref)return n.href;for(var r=Object.assign({},e),o=i.segments,s={},a="",u=0,l=o.length;u<l;u++){var h=o[u];if(!(h instanceof g)){var d=h.generate(r,s);if(null===d||void 0===d){if(!h.optional)throw new Error("A value is required for route parameter '"+h.name+"' in route '"+t+"'.")}else a+="/",a+=d}}"/"!==a.charAt(0)&&(a="/"+a);for(var p in s)delete r[p];var f=(0,c.buildQueryString)(r);return a+=f?"?"+f:""},t.prototype.recognize=function(t){var e=[this.rootState],i={},n=!1,r=t,o=r.indexOf("?");if(-1!==o){var l=r.substr(o+1,r.length);r=r.substr(0,o),i=(0,c.parseQueryString)(l)}r=decodeURI(r),"/"!==r.charAt(0)&&(r="/"+r);var h=r.length;h>1&&"/"===r.charAt(h-1)&&(r=r.substr(0,h-1),n=!0);for(var d=0,p=r.length;d<p&&(e=a(e,r.charAt(d)),e.length);d++);for(var f=[],m=0,v=e.length;m<v;m++)e[m].handlers&&f.push(e[m]);e=s(f);var g=f[0];if(g&&g.handlers)return n&&"(.+)$"===g.regex.source.slice(-5)&&(r+="/"),u(g,r,i)},t}(),function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}})}),t.entry="dist/commonjs/aurelia-route-recognizer.js"}),t.pkg("onsenui",{},function(t){return t.file("js/onsenui.js",function(t,e,i,n,r){var o=e("process");window.CustomEvent||function(){var t;t=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i},t.prototype=window.Event.prototype,window.CustomEvent=t}(),"undefined"==typeof WeakMap&&function(){var t=Object.defineProperty,e=Date.now()%1e9,i=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};i.prototype={set:function(e,i){var n=e[this.name];return n&&n[0]===e?n[1]=i:t(e,this.name,{value:[e,i],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=i}(),function(t){function e(t){b.push(t),y||(y=!0,m(n))}function i(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function n(){y=!1;var t=b;b=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var i=t.takeRecords();r(t),i.length&&(t.callback_(i,t),e=!0)}),e&&n()}function r(t){t.nodes_.forEach(function(e){var i=v.get(e);i&&i.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var i=t;i;i=i.parentNode){var n=v.get(i);if(n)for(var r=0;r<n.length;r++){var o=n[r],s=o.options;if(i===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++w}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function l(t,e){return k=new a(t,e)}function c(t){return x||(x=u(k),x.oldValue=t,x)}function h(){k=x=void 0}function d(t){return t===x||t===k}function p(t,e){return t===e?t:x&&d(t)?x:null}function f(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var g=[],_=String(Math.random());window.addEventListener("message",function(t){if(t.data===_){var e=g;g=[],e.forEach(function(t){t()})}}),m=function(t){g.push(t),window.postMessage(_,"*")}}var y=!1,b=[],w=0;s.prototype={observe:function(t,e){if(t=i(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=v.get(t);n||v.set(t,n=[]);for(var r,o=0;o<n.length;o++)if(n[o].observer===this){r=n[o],r.removeListeners(),r.options=e;break}r||(r=new f(this,t,e),n.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=v.get(t),i=0;i<e.length;i++){var n=e[i];if(n.observer===this){n.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var k,x;f.prototype={enqueue:function(t){var i=this.observer.records_,n=i.length;if(i.length>0){var r=i[n-1],o=p(r,t);if(o)return void(i[n-1]=o)}else e(this.observer);i[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=v.get(t);e||v.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=v.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,n=t.target,r=new l("attributes",n);r.attributeName=e,r.attributeNamespace=i;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(n,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?c(s):r});break;case"DOMCharacterDataModified":var n=t.target,r=l("characterData",n),s=t.prevValue;o(n,function(t){if(t.characterData)return t.characterDataOldValue?c(s):r});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,u,d=t.target;"DOMNodeInserted"===t.type?(a=[d],u=[]):(a=[],u=[d]);var p=d.previousSibling,f=d.nextSibling,r=l("childList",t.target.parentNode);r.addedNodes=a,r.removedNodes=u,r.previousSibling=p,r.nextSibling=f,o(t.relatedNode,function(t){if(t.childList)return r})}h()}},t.JsMutationObserver=s,t.MutationObserver||(t.MutationObserver=s,s._isPolyfilled=!0)}}(self),function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},a=function(t){for(var e=n.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],r=0,o=i.length;r<o;r++)this.push(i[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=a.prototype=[],l=function(){return new a(this)};if(o.prototype=Error.prototype,u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==s(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,r=!1;do{t=e[i]+"",-1===s(this,t)&&(this.push(t),r=!0)}while(++i<n);r&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,r=i.length,o=!1;do{for(t=i[n]+"",e=s(this,t);-1!==e;)this.splice(e,1),o=!0,e=s(this,t)}while(++n<r);o&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},i.defineProperty){var c={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",c)}catch(t){-2146823252===t.number&&(c.enumerable=!1,i.defineProperty(e,"classList",c))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self)),function(){"use strict";function t(e,n){var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,a=0,u=o.length;a<u;a++)s[o[a]]=function(t,e){return function(){return t.apply(e,arguments)}}(s[o[a]],s);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=n&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],e.isContentEditable)return!0;if(n){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=c.tagName.toLowerCase())){if(e=this.findControl(c)){if(this.focus(c),i)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-s>100||n&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),n&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!n||r||!(u=c.fastClickScrollParent)||u.fastClickLastScrollTop===u.scrollTop)||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,r;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},window.FastClick=t}();var s=function(){};s.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(t,e){var i=this,n=function(){return i.off(t,n),e.apply(null,arguments)};this.on(t,n)},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&(this._events[t]=this._events[t].filter(function(t){return!!e&&e!==t}))},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},s.mixin=function(t){for(var e=["on","once","off","emit"],i=0;i<e.length;i++)"function"==typeof t?t.prototype[e[i]]=s.prototype[e[i]]:t[e[i]]=s.prototype[e[i]]},void 0!==i&&"exports"in i&&(i.exports=s),window.MicroEvent=s,function(t){function e(){}function i(t,e){return function(){t.apply(e,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,n._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null===i)return void(1===t._state?o:s)(e.promise,t._value);var n;try{n=i(t._value)}catch(t){return void s(e.promise,t)}o(e.promise,n)})}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof n)return t._state=3,t._value=e,void a(t);if("function"==typeof r)return void l(i(r,e),t)}t._state=1,t._value=e,a(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)r(t,t._deferreds[e]);t._deferreds=null}function u(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function l(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,s(e,t))})}catch(t){if(i)return;i=!0,s(e,t)}}var c=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,i){var n=new this.constructor(e);return r(this,new u(t,i,n)),n},n.all=function(t){var e=Array.prototype.slice.call(t);return new n(function(t,i){function n(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){n(o,t)},i)}e[o]=s,0==--r&&t(e)}catch(t){i(t)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)n(o,e[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var n=0,r=t.length;n<r;n++)t[n].then(e,i)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},window.Promise||(window.Promise=n)}(),function(t,e){"use strict";function i(t){return l[u]=n.apply(e,t),u++}function n(t){var i=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,i):new Function(""+t)()}}function r(t){if(c)setTimeout(n(r,t),0);else{var e=l[t];if(e){c=!0;try{e()}finally{s(t),c=!1}}}}function s(t){delete l[t]}if(!t.setImmediate){var a,u=1,l={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(){var t=i(arguments);return o.nextTick(n(r,t)),t}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&r(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(){var n=i(arguments);return t.postMessage(e+n,"*"),n}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){r(t.data)},a=function(){var e=i(arguments);return t.port2.postMessage(e),e}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(){var e=i(arguments),n=h.createElement("script");return n.onreadystatechange=function(){r(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n),e}}():function(){a=function(){var t=i(arguments);return setTimeout(n(r,t),0),t}}(),d.setImmediate=a,d.clearImmediate=s}}(self),function(){function t(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}t.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},t.prototype.setup=function(){this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&(this.viewportElement.getAttribute("content")||("ios"==this.platform.name?this.platform.version>=7&&function(){return!!(window.cordova||window.phonegap||window.PhoneGap)}()?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT)))},t.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},t.prototype.getPlatformVersion=function(){var t=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(t+3,3).replace("_","."))},window.Viewport=t}(),function(){function t(t){return d.call(t)}function e(t,e,i){try{l.call(t,e,i)}catch(t){}}function i(t,e){c.call(t,e)}function n(t){return p.call(t)}function r(t){for(;t.childNodes.length;)t.removeChild(t.lastChild)}function o(t,e,i){h.value.call(t,e,i)}function s(){var t=!0;try{f.innerHTML="<test/>"}catch(e){t=!1}return t}function a(s,a){function u(r){var o=t(r);if(o&&o.length){for(var s,a=0,l=o.length;a<l;a++){var c=o[a],h=c.name;"o"!==h[0]&&"O"!==h[0]||"n"!==h[1]&&"N"!==h[1]||(s=s||[],s.push({name:c.name,value:c.value}))}if(s)for(var a=0,l=s.length;a<l;a++){var c=s[a];i(r,c.name),e(r,"x-"+c.name,c.value)}}for(var d=n(r),a=0,l=d.length;a<l;a++)u(d[a])}var l=document.implementation.createHTMLDocument("cleaner");r(l.documentElement),MSApp.execUnsafeLocalFunction(function(){o(l.documentElement,"afterbegin",s)});var c=l.documentElement.querySelectorAll("script");Array.prototype.forEach.call(c,function(t){switch(t.type.toLowerCase()){case"":t.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":t.type="text/inert-"+t.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":t.type="application/inert-"+t.type.slice("application/".length)}}),u(l.documentElement);var h=[];return"HTML"===a.tagName?h=Array.prototype.slice.call(document.adoptNode(l.documentElement).childNodes):(l.head&&(h=h.concat(Array.prototype.slice.call(document.adoptNode(l.head).childNodes))),l.body&&(h=h.concat(Array.prototype.slice.call(document.adoptNode(l.body).childNodes)))),h}function u(t,e){var i=Object.getOwnPropertyDescriptor(HTMLElement.prototype,t),n=i.set;Object.defineProperty(HTMLElement.prototype,t,{get:i.get,set:function(t){if(window.WinJS&&window.WinJS._execUnsafe&&s())n.call(this,t);else{var r=this,o=a(t,r);MSApp.execUnsafeLocalFunction(function(){e(i,r,o)})}},enumerable:i.enumerable,configurable:i.configurable})}if(window.MSApp&&MSApp.execUnsafeLocalFunction){var l=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,c=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,h=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),d=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,p=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,f=document.createElement("div");u("innerHTML",function(t,e,i){r(e);for(var n=0,o=i.length;n<o;n++)e.appendChild(i[n])}),u("outerHTML",function(t,e,i){for(var n=0,r=i.length;n<r;n++)e.insertAdjacentElement("afterend",i[n]);e.parentNode.removeChild(e)})}}(),function(e,n){"object"==typeof t&&void 0!==i?i.exports=n():"function"==typeof define&&define.amd?define(n):e.ons=n()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(){hi.READY||(ai.determineEventTypes(),ui.each(hi.gestures,function(t){li.register(t)}),ai.onTouch(hi.DOCUMENT,wi,li.detect),ai.onTouch(hi.DOCUMENT,ki,li.detect),hi.READY=!0)}function i(t){return t.childNodes.length>0&&n(t),Ei.has(t)}function n(t){Ei.set(t,!0)}function r(t,e){Li.has(t)||Li.set(t,[]),Li.get(t).push(e)}function o(t){var e=Li.get(t,[])||[];Li.delete(t),e.forEach(function(t){return t()})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(r(t,e),i(t))return void o(t);new MutationObserver(function(e){n(t),o(t)}).observe(t,{childList:!0,characterData:!0}),setImmediate(function(){n(t),o(t)})}function u(t,e){var i=t.page,n=t.parent;t.params;Ne.getPageHTMLAsync(i).then(function(t){var i=ri.createElement(t.trim());n.appendChild(i),e(i)})}function l(t){t._destroy instanceof Function?t._destroy():t.remove()}window.customElements&&(window.customElements.forcePolyfill=!0);var c=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),h=t(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=(function(){function t(t){this.value=t}function e(e){function i(t,e){return new Promise(function(i,r){var a={key:t,arg:e,resolve:i,reject:r,next:null};s?s=s.next=a:(o=s=a,n(t,e))})}function n(i,o){try{var s=e[i](o),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(s.done?"return":"normal",s.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}o=o.next,o?n(o.key,o.arg):s=null}var o,s;this._invoke=i,
"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),f=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),m=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},g=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},_=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},b=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},w=function(t){return"object"===(void 0===t?"undefined":d(t))?null!==t:"function"==typeof t},k=function(t){if(!w(t))throw TypeError(t+" is not an object!");return t},x=function(t){try{return!!t()}catch(t){return!0}},C=!x(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),E=c.document,L=w(E)&&w(E.createElement),O=function(t){return L?E.createElement(t):{}},S=!C&&!x(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a}),P=function(t,e){if(!w(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!w(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!w(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!w(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},A=Object.defineProperty,M=C?Object.defineProperty:function(t,e,i){if(k(t),e=P(e,!0),k(i),S)try{return A(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t},T={f:M},j=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},I=C?function(t,e,i){return T.f(t,e,j(1,i))}:function(t,e,i){return t[e]=i,t},R={}.hasOwnProperty,N=function(t,e){return R.call(t,e)},B=0,D=Math.random(),z=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++B+D).toString(36))},F=t(function(t){var e=z("src"),i=Function.toString,n=(""+i).split("toString");h.inspectSource=function(t){return i.call(t)},(t.exports=function(t,i,r,o){var s="function"==typeof r;s&&(N(r,"name")||I(r,"name",i)),t[i]!==r&&(s&&(N(r,e)||I(r,e,t[i]?""+t[i]:n.join(String(i)))),t===c?t[i]=r:o?t[i]?t[i]=r:I(t,i,r):(delete t[i],I(t,i,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||i.call(this)})}),V=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},q=function(t,e,i){if(V(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},H=function t(e,i,n){var r,o,s,a,u=e&t.F,l=e&t.G,d=e&t.S,p=e&t.P,f=e&t.B,m=l?c:d?c[i]||(c[i]={}):(c[i]||{}).prototype,v=l?h:h[i]||(h[i]={}),g=v.prototype||(v.prototype={});l&&(n=i);for(r in n)o=!u&&m&&void 0!==m[r],s=(o?m:n)[r],a=f&&o?q(s,c):p&&"function"==typeof s?q(Function.call,s):s,m&&F(m,r,s,e&t.U),v[r]!=s&&I(v,r,a),p&&g[r]!=s&&(g[r]=s)};c.core=h,H.F=1,H.G=2,H.S=4,H.P=8,H.B=16,H.W=32,H.U=64,H.R=128;var U=H,Z={}.propertyIsEnumerable,W={f:Z},G={}.toString,Y=function(t){return G.call(t).slice(8,-1)},X=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Y(t)?t.split(""):Object(t)},$=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Q=function(t){return X($(t))},K=Object.getOwnPropertyDescriptor,J=C?K:function(t,e){if(t=Q(t),e=P(e,!0),S)try{return K(t,e)}catch(t){}if(N(t,e))return j(!W.f.call(t,e),t[e])},tt={f:J},et=function(t,e){if(k(t),!w(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},it={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=q(Function.call,tt.f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return et(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:et};U(U.S,"Object",{setPrototypeOf:it.set});var nt=c["__core-js_shared__"]||(c["__core-js_shared__"]={}),rt=function(t){return nt[t]||(nt[t]={})},ot=t(function(t){var e=rt("wks"),i=c.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:z)("Symbol."+t))}).store=e}),st=ot("toStringTag"),at="Arguments"==Y(function(){return arguments}()),ut=function(t,e){try{return t[e]}catch(t){}},lt=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=ut(e=Object(t),st))?i:at?Y(e):"Object"==(n=Y(e))&&"function"==typeof e.callee?"Arguments":n},ct={};ct[ot("toStringTag")]="z",ct+""!="[object z]"&&F(Object.prototype,"toString",function(){return"[object "+lt(this)+"]"},!0);var ht=Math.ceil,dt=Math.floor,pt=function(t){return isNaN(t=+t)?0:(t>0?dt:ht)(t)},ft={},mt=Math.min,vt=function(t){return t>0?mt(pt(t),9007199254740991):0},gt=Math.max,_t=Math.min,yt=function(t,e){return t=pt(t),t<0?gt(t+e,0):_t(t,e)},bt=rt("keys"),wt=function(t){return bt[t]||(bt[t]=z(t))},kt=function(t){return function(e,i,n){var r,o=Q(e),s=vt(o.length),a=yt(n,s);if(t&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===i)return t||a||0;return!t&&-1}}(!1),xt=wt("IE_PROTO"),Ct=function(t,e){var i,n=Q(t),r=0,o=[];for(i in n)i!=xt&&N(n,i)&&o.push(i);for(;e.length>r;)N(n,i=e[r++])&&(~kt(o,i)||o.push(i));return o},Et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Lt=Object.keys||function(t){return Ct(t,Et)},Ot=C?Object.defineProperties:function(t,e){k(t);for(var i,n=Lt(e),r=n.length,o=0;r>o;)T.f(t,i=n[o++],e[i]);return t},St=c.document&&document.documentElement,Pt=wt("IE_PROTO"),At=function(){},Mt=function(){var t,e=O("iframe"),i=Et.length;for(e.style.display="none",St.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),Mt=t.F;i--;)delete Mt.prototype[Et[i]];return Mt()},Tt=Object.create||function(t,e){var i;return null!==t?(At.prototype=k(t),i=new At,At.prototype=null,i[Pt]=t):i=Mt(),void 0===e?i:Ot(i,e)},jt=T.f,It=ot("toStringTag"),Rt=function(t,e,i){t&&!N(t=i?t:t.prototype,It)&&jt(t,It,{configurable:!0,value:e})},Nt={};I(Nt,ot("iterator"),function(){return this});var Bt=function(t,e,i){t.prototype=Tt(Nt,{next:j(1,i)}),Rt(t,e+" Iterator")},Dt=function(t){return Object($(t))},zt=wt("IE_PROTO"),Ft=Object.prototype,Vt=Object.getPrototypeOf||function(t){return t=Dt(t),N(t,zt)?t[zt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ft:null},qt=ot("iterator"),Ht=!([].keys&&"next"in[].keys()),Ut=function(){return this},Zt=function(t,e,i,n,r,o,s){Bt(i,e,n);var a,u,l,c=function(t){if(!Ht&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},h=e+" Iterator",d="values"==r,p=!1,f=t.prototype,m=f[qt]||f["@@iterator"]||r&&f[r],v=m||c(r),g=r?d?c("entries"):v:void 0,_="Array"==e?f.entries||m:m;if(_&&(l=Vt(_.call(new t)))!==Object.prototype&&(Rt(l,h,!0),N(l,qt)||I(l,qt,Ut)),d&&m&&"values"!==m.name&&(p=!0,v=function(){return m.call(this)}),(Ht||p||!f[qt])&&I(f,qt,v),ft[e]=v,ft[h]=Ut,r)if(a={values:d?v:c("values"),keys:o?v:c("keys"),entries:g},s)for(u in a)u in f||F(f,u,a[u]);else U(U.P+U.F*(Ht||p),e,a);return a},Wt=function(t){return function(e,i){var n,r,o=String($(e)),s=pt(i),a=o.length;return s<0||s>=a?t?"":void 0:(n=o.charCodeAt(s),n<55296||n>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):n:t?o.slice(s,s+2):r-56320+(n-55296<<10)+65536)}}(!0);Zt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=Wt(e,i),this._i+=t.length,{value:t,done:!1})});var Gt=ot("unscopables"),Yt=Array.prototype;void 0==Yt[Gt]&&I(Yt,Gt,{});var Xt=function(t){Yt[Gt][t]=!0},$t=function(t,e){return{value:e,done:!!t}},Qt=Zt(Array,"Array",function(t,e){this._t=Q(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,$t(1)):"keys"==e?$t(0,i):"values"==e?$t(0,t[i]):$t(0,[i,t[i]])},"values");ft.Arguments=ft.Array,Xt("keys"),Xt("values"),Xt("entries");for(var Kt=ot("iterator"),Jt=ot("toStringTag"),te=ft.Array,ee=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],ie=0;ie<5;ie++){var ne,re=ee[ie],oe=c[re],se=oe&&oe.prototype;if(se){se[Kt]||I(se,Kt,te),se[Jt]||I(se,Jt,re),ft[re]=te;for(ne in Qt)se[ne]||F(se,ne,Qt[ne],!0)}}var ae=function(t,e,i){for(var n in e)F(t,n,e[n],i);return t},ue=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t},le=function(t,e,i,n){try{return n?e(k(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&k(r.call(t)),e}},ce=ot("iterator"),he=Array.prototype,de=function(t){return void 0!==t&&(ft.Array===t||he[ce]===t)},pe=ot("iterator"),fe=h.getIteratorMethod=function(t){if(void 0!=t)return t[pe]||t["@@iterator"]||ft[lt(t)]},me=t(function(t){var e={},i={},n=t.exports=function(t,n,r,o,s){var a,u,l,c,h=s?function(){return t}:fe(t),d=q(r,o,n?2:1),p=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(de(h)){for(a=vt(t.length);a>p;p++)if((c=n?d(k(u=t[p])[0],u[1]):d(t[p]))===e||c===i)return c}else for(l=h.call(t);!(u=l.next()).done;)if((c=le(l,d,u.value,n))===e||c===i)return c};n.BREAK=e,n.RETURN=i}),ve=ot("species"),ge=function(t){var e=c[t];C&&e&&!e[ve]&&T.f(e,ve,{configurable:!0,get:function(){return this}})},_e=t(function(t){var e=z("meta"),i=T.f,n=0,r=Object.isExtensible||function(){return!0},o=!x(function(){return r(Object.preventExtensions({}))}),s=function(t){i(t,e,{value:{i:"O"+ ++n,w:{}}})},a=function(t,i){if(!w(t))return"symbol"==(void 0===t?"undefined":d(t))?t:("string"==typeof t?"S":"P")+t;if(!N(t,e)){if(!r(t))return"F";if(!i)return"E";s(t)}return t[e].i},u=function(t,i){if(!N(t,e)){if(!r(t))return!0;if(!i)return!1;s(t)}return t[e].w},l=function(t){return o&&c.NEED&&r(t)&&!N(t,e)&&s(t),t},c=t.exports={KEY:e,NEED:!1,fastKey:a,getWeak:u,onFreeze:l}}),ye=T.f,be=_e.fastKey,we=C?"_s":"size",ke=function(t,e){var i,n=be(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i},xe={getConstructor:function(t,e,i,n){var r=t(function(t,o){ue(t,r,e,"_i"),t._i=Tt(null),t._f=void 0,t._l=void 0,t[we]=0,void 0!=o&&me(o,i,t[n],t)});return ae(r.prototype,{clear:function(){for(var t=this,e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[we]=0},delete:function(t){var e=this,i=ke(e,t);if(i){var n=i.n,r=i.p;delete e._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),e._f==i&&(e._f=n),e._l==i&&(e._l=r),e[we]--}return!!i},forEach:function(t){ue(this,r,"forEach");for(var e,i=q(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!ke(this,t)}}),C&&ye(r.prototype,"size",{get:function(){return $(this[we])}}),r},def:function(t,e,i){var n,r,o=ke(t,e);return o?o.v=i:(t._l=o={i:r=be(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[we]++,"F"!==r&&(t._i[r]=o)),t},getEntry:ke,setStrong:function(t,e,i){Zt(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?$t(0,i.k):"values"==e?$t(0,i.v):$t(0,[i.k,i.v]):(t._t=void 0,$t(1))},i?"entries":"values",!i,!0),ge(e)}},Ce=ot("iterator"),Ee=!1;try{var Le=[7][Ce]();Le.return=function(){Ee=!0},Array.from(Le,function(){throw 2})}catch(t){}var Oe=function(t,e){if(!e&&!Ee)return!1;var i=!1;try{var n=[7],r=n[Ce]();r.next=function(){return{done:i=!0}},n[Ce]=function(){return r},t(n)}catch(t){}return i},Se=it.set,Pe=function(t,e,i){var n,r=e.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&w(n)&&Se&&Se(t,n),t},Ae=function(t,e,i,n,r,o){var s=c[t],a=s,u=r?"set":"add",l=a&&a.prototype,h={},d=function(t){var e=l[t];F(l,t,"delete"==t?function(t){return!(o&&!w(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!w(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!w(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof a&&(o||l.forEach&&!x(function(){(new a).entries().next()}))){var p=new a,f=p[u](o?{}:-0,1)!=p,m=x(function(){p.has(1)}),v=Oe(function(t){new a(t)}),g=!o&&x(function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)});v||(a=e(function(e,i){ue(e,a,t);var n=Pe(new s,e,a);return void 0!=i&&me(i,r,n[u],n),n}),a.prototype=l,l.constructor=a),(m||g)&&(d("delete"),d("has"),r&&d("get")),(g||f)&&d(u),o&&l.clear&&delete l.clear}else a=n.getConstructor(e,t,r,u),ae(a.prototype,i),_e.NEED=!0;return Rt(a,t),h[t]=a,U(U.G+U.W+U.F*(a!=s),h),o||n.setStrong(a,t,r),a},Me=(Ae("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return xe.def(this,t=0===t?0:t,t)}},xe),function(t,e){var i=[];return me(t,!1,i.push,i,e),i}),Te=function(t){return function(){if(lt(this)!=t)throw TypeError(t+"#toJSON isn't generic");return Me(this)}};U(U.P+U.R,"Set",{toJSON:Te("Set")});Ae("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=xe.getEntry(this,t);return e&&e.v},set:function(t,e){return xe.def(this,0===t?0:t,e)}},xe,!0);U(U.P+U.R,"Map",{toJSON:Te("Map")}),function(){function t(t){var e=k.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function e(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function i(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function n(t,e,r){r=r||new Set;for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var s=o;e(s);var a=s.localName;if("link"===a&&"import"===s.getAttribute("rel")){if((o=s.import)instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)n(o,e,r);o=i(t,s);continue}if("template"===a){o=i(t,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)n(s,e,r)}o=o.firstChild?o.firstChild:i(t,o)}}function r(t,e,i){t[e]=i}function o(){this.a=new Map,this.f=new Map,this.c=[],this.b=!1}function s(t,e,i){t.a.set(e,i),t.f.set(i.constructor,i)}function a(t,e){t.b=!0,t.c.push(e)}function u(t,e){t.b&&n(e,function(e){return l(t,e)})}function l(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var i=0;i<t.c.length;i++)t.c[i](e)}}function c(t,i){var r=[];for(n(i,function(t){return r.push(t)}),i=0;i<r.length;i++){var o=r[i];1===o.__CE_state?e(o)&&t.connectedCallback(o):p(t,o)}}function h(t,e){var i=[];for(n(e,function(t){return i.push(t)}),e=0;e<i.length;e++){var r=i[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function d(t,e,i){i=i||new Set;var r=[];if(n(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&"complete"===n.readyState?(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0):e.addEventListener("load",function(){var n=e.import;n.__CE_documentLoadHandled||(n.__CE_documentLoadHandled=!0,n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0,new Set(i),i.delete(n),d(t,n,i))})}else r.push(e)},i),t.b)for(e=0;e<r.length;e++)l(t,r[e]);for(e=0;e<r.length;e++)p(t,r[e])}function p(t,i){if(void 0===i.__CE_state){var n=t.a.get(i.localName);if(n){n.constructionStack.push(i);var r=n.constructor;try{try{if(new r!==i)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw i.__CE_state=2,t}if(i.__CE_state=1,i.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],s=i.getAttribute(o);null!==s&&t.attributeChangedCallback(i,o,null,s,null)}e(i)&&t.connectedCallback(i)}}}function f(t,e){this.c=t,this.a=e,this.b=void 0,d(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function m(t){t.b&&t.b.disconnect()}function v(){var t=this;this.b=this.a=void 0,this.c=new Promise(function(e){t.b=e,t.a&&e(t.a)})}function g(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function _(t){this.f=!1,this.a=t,this.h=new Map,this.g=function(t){return t()},this.b=!1,this.c=[],this.l=new f(t,document)}function y(t,i,n){i.prepend=function(i){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];o=r.filter(function(t){return t instanceof Node&&e(t)}),n.j.apply(this,r);for(var s=0;s<o.length;s++)h(t,o[s]);if(e(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&c(t,s)},i.append=function(i){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];o=r.filter(function(t){return t instanceof Node&&e(t)}),n.append.apply(this,r);for(var s=0;s<o.length;s++)h(t,o[s]);if(e(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&c(t,s)}}function b(t){var i=Element.prototype;i.before=function(i){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];r=n.filter(function(t){return t instanceof Node&&e(t)}),Z.apply(this,n);for(var o=0;o<r.length;o++)h(t,r[o]);if(e(this))for(r=0;r<n.length;r++)(o=n[r])instanceof Element&&c(t,o)},i.after=function(i){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];r=n.filter(function(t){return t instanceof Node&&e(t)}),W.apply(this,n);for(var o=0;o<r.length;o++)h(t,r[o]);if(e(this))for(r=0;r<n.length;r++)(o=n[r])instanceof Element&&c(t,o)},i.replaceWith=function(i){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];var r=n.filter(function(t){return t instanceof Node&&e(t)}),o=e(this);G.apply(this,n);for(var s=0;s<r.length;s++)h(t,r[s]);if(o)for(h(t,this),r=0;r<n.length;r++)(o=n[r])instanceof Element&&c(t,o)},i.remove=function(){var i=e(this);Y.call(this),i&&h(t,this)}}var w=new function(){},k=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));o.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t),t.i=!0},o.prototype.disconnectedCallback=function(t){t.i||this.connectedCallback(t);var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t),t.i=void 0},o.prototype.attributeChangedCallback=function(t,e,i,n,r){var o=t.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e)&&o.attributeChangedCallback.call(t,e,i,n,r)},f.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||m(this),e=0;e<t.length;e++)for(var i=t[e].addedNodes,n=0;n<i.length;n++)d(this.c,i[n])},_.prototype.m=function(e,i){var n=this;if(!(i instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!t(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.a.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.f)throw Error("A custom element is already being defined.");this.f=!0;var r,o,a,u,l;try{var c=function(t){var e=h[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},h=i.prototype;if(!(h instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");r=c("connectedCallback"),o=c("disconnectedCallback"),a=c("adoptedCallback"),u=c("attributeChangedCallback"),l=i.observedAttributes||[]}catch(t){return}finally{this.f=!1}s(this.a,e,{localName:e,constructor:i,connectedCallback:r,disconnectedCallback:o,adoptedCallback:a,attributeChangedCallback:u,observedAttributes:l,constructionStack:[]}),this.c.push(e),this.b||(this.b=!0,this.g(function(){if(!1!==n.b)for(n.b=!1,d(n.a,document);0<n.c.length;){var t=n.c.shift();(t=n.h.get(t))&&g(t)}}))},_.prototype.get=function(t){if(t=this.a.a.get(t))return t.constructor},_.prototype.s=function(e){if(!t(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var i=this.h.get(e);return i?i.c:(i=new v,this.h.set(e,i),this.a.a.get(e)&&-1===this.c.indexOf(e)&&g(i),i.c)},_.prototype.o=function(t){m(this.l);var e=this.g;this.g=function(i){return t(function(){return e(i)})}},window.CustomElementRegistry=_,_.prototype.define=_.prototype.m,_.prototype.get=_.prototype.get,_.prototype.whenDefined=_.prototype.s,_.prototype.polyfillWrapFlushCallback=_.prototype.o;var x=window.Document.prototype.createElement,C=window.Document.prototype.createElementNS,E=window.Document.prototype.importNode,L=window.Document.prototype.prepend,O=window.Document.prototype.append,S=window.Node.prototype.cloneNode,P=window.Node.prototype.appendChild,A=window.Node.prototype.insertBefore,M=window.Node.prototype.removeChild,T=window.Node.prototype.replaceChild,j=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),I=window.Element.prototype.attachShadow,R=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),N=window.Element.prototype.getAttribute,B=window.Element.prototype.setAttribute,D=window.Element.prototype.removeAttribute,z=window.Element.prototype.getAttributeNS,F=window.Element.prototype.setAttributeNS,V=window.Element.prototype.removeAttributeNS,q=window.Element.prototype.insertAdjacentElement,H=window.Element.prototype.prepend,U=window.Element.prototype.append,Z=window.Element.prototype.before,W=window.Element.prototype.after,G=window.Element.prototype.replaceWith,Y=window.Element.prototype.remove,X=window.HTMLElement,$=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Q=window.HTMLElement.prototype.insertAdjacentElement,K=window.customElements;if(!K||K.forcePolyfill||"function"!=typeof K.define||"function"!=typeof K.get){var J=new o;!function(){var t=J;window.HTMLElement=function(){function e(){var e=this.constructor,i=t.f.get(e);if(!i)throw Error("The custom element being constructed was not registered with `customElements`.");var n=i.constructionStack;if(!n.length)return n=x.call(document,i.localName),Object.setPrototypeOf(n,e.prototype),n.__CE_state=1,n.__CE_definition=i,l(t,n),n;var i=n.length-1,r=n[i];if(r===w)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return n[i]=w,Object.setPrototypeOf(r,e.prototype),l(t,r),r}return e.prototype=X.prototype,e}()}(),function(){var t=J;r(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var i=t.a.get(e);if(i)return new i.constructor}return e=x.call(this,e),l(t,e),e}),r(Document.prototype,"importNode",function(e,i){return e=E.call(this,e,i),this.__CE_hasRegistry?d(t,e):u(t,e),e}),r(Document.prototype,"createElementNS",function(e,i){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var n=t.a.get(i);if(n)return new n.constructor}return e=C.call(this,e,i),l(t,e),e}),y(t,Document.prototype,{j:L,append:O})}(),function(){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,s=o.length;if(0<s&&e(this))for(var r=Array(s),a=0;a<s;a++)r[a]=o[a]}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)h(i,r[t])}}})}var i=J;r(Node.prototype,"insertBefore",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=A.call(this,t,n),e(this))for(n=0;n<r.length;n++)c(i,r[n]);return t}return r=e(t),n=A.call(this,t,n),r&&h(i,t),e(this)&&c(i,t),n}),r(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=P.call(this,t),e(this))for(var r=0;r<n.length;r++)c(i,n[r]);return t}return n=e(t),r=P.call(this,t),n&&h(i,t),e(this)&&c(i,t),r}),r(Node.prototype,"cloneNode",function(t){return t=S.call(this,t),this.ownerDocument.__CE_hasRegistry?d(i,t):u(i,t),t}),r(Node.prototype,"removeChild",function(t){var n=e(t),r=M.call(this,t);return n&&h(i,t),r}),r(Node.prototype,"replaceChild",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=T.call(this,t,n),e(this))for(h(i,n),n=0;n<r.length;n++)c(i,r[n]);return t}var r=e(t),o=T.call(this,t,n),s=e(this);return s&&h(i,n),r&&h(i,t),s&&c(i,t),o}),j&&j.get?t(Node.prototype,j):a(i,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)M.call(this,this.firstChild);P.call(this,document.createTextNode(t))}})})}(),function(){function t(t,i){Object.defineProperty(t,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(t){var r=this,s=void 0;if(e(this)&&(s=[],n(this,function(t){t!==r&&s.push(t)})),i.set.call(this,t),s)for(var a=0;a<s.length;a++){var l=s[a];1===l.__CE_state&&o.disconnectedCallback(l)}return this.ownerDocument.__CE_hasRegistry?d(o,this):u(o,this),t}})}function i(t,i){r(t,"insertAdjacentElement",function(t,n){var r=e(n);return t=i.call(this,t,n),r&&h(o,n),e(t)&&c(o,n),t})}var o=J;if(I?r(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=t=I.call(this,t)}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),R&&R.get)t(Element.prototype,R);else if($&&$.get)t(HTMLElement.prototype,$);else{var s=x.call(document,"div");a(o,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return S.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(s.innerHTML=t;0<e.childNodes.length;)M.call(e,e.childNodes[0]);for(;0<s.childNodes.length;)P.call(e,s.childNodes[0])}})})}r(Element.prototype,"setAttribute",function(t,e){if(1!==this.__CE_state)return B.call(this,t,e);var i=N.call(this,t);B.call(this,t,e),e=N.call(this,t),o.attributeChangedCallback(this,t,i,e,null)}),r(Element.prototype,"setAttributeNS",function(t,e,i){if(1!==this.__CE_state)return F.call(this,t,e,i);var n=z.call(this,t,e);F.call(this,t,e,i),i=z.call(this,t,e),o.attributeChangedCallback(this,e,n,i,t)}),r(Element.prototype,"removeAttribute",function(t){if(1!==this.__CE_state)return D.call(this,t);var e=N.call(this,t);D.call(this,t),null!==e&&o.attributeChangedCallback(this,t,e,null,null)}),r(Element.prototype,"removeAttributeNS",function(t,e){if(1!==this.__CE_state)return V.call(this,t,e);var i=z.call(this,t,e);V.call(this,t,e);var n=z.call(this,t,e);i!==n&&o.attributeChangedCallback(this,e,i,n,t)}),Q?i(HTMLElement.prototype,Q):q?i(Element.prototype,q):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),y(o,Element.prototype,{j:H,append:U}),b(o)}(),document.__CE_hasRegistry=!0;var tt=new _(J);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:tt})}}.call(self);var je=function(){function t(){p(this,t),this._renderPlatform=null}return f(t,[{key:"select",value:function(t){"string"==typeof t&&(this._renderPlatform=t.trim().toLowerCase())}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIOS",value:function(){return this._renderPlatform?"ios"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":d(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isAndroid",value:function(){return this._renderPlatform?"android"===this._renderPlatform:/Android/i.test("object"!==("undefined"==typeof device?"undefined":d(device))||/browser/i.test(device.platform)?navigator.userAgent:device.platform)}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isWP",value:function(){return this._renderPlatform?"wp"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":d(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isBlackBerry",value:function(){return this._renderPlatform?"blackberry"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":d(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._renderPlatform?"opera"===this._renderPlatform:!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(){return this._renderPlatform?"firefox"===this._renderPlatform:"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._renderPlatform?"safari"===this._renderPlatform:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||function(t){return"[object SafariRemoteNotification]"===t.toString()}(!window.safari||safari.pushNotification)}},{key:"isChrome",value:function(){return this._renderPlatform?"chrome"===this._renderPlatform:!(!window.chrome||window.opera||navigator.userAgent.indexOf(" OPR/")>=0||navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(){return this._renderPlatform?"ie"===this._renderPlatform:!!document.documentMode}},{key:"isEdge",value:function(){return this._renderPlatform?"edge"===this._renderPlatform:navigator.userAgent.indexOf(" Edge/")>=0}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":d(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(t.split(".")[0])>=7}return!1}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),t}(),Ie=new je,Re={_variables:{},defineVariable:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t)throw new Error("Variable name must be a string.")
;if("string"!=typeof e&&"function"!=typeof e)throw new Error("Variable value must be a string or a function.");if(this._variables.hasOwnProperty(t)&&!i)throw new Error('"'+t+'" is already defined.');this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,i=!1,n=0,r=[];if(0===t.length)throw new Error("Unable to parse empty string.");for(var o=0;o<t.length;o++)if("$"===(e=t.charAt(o))&&"{"===t.charAt(o+1)){if(i)throw new Error("Nested interpolation not supported.");var s=t.substring(n,o);s.length>0&&r.push(t.substring(n,o)),n=o,i=!0}else if("}"===e){if(!i)throw new Error("} must be preceeded by ${");var a=t.substring(n,o+1);a.length>0&&r.push(t.substring(n,o+1)),n=o+1,i=!1}if(i)throw new Error("Unterminated interpolation.");return r.push(t.substring(n,t.length)),r},_replaceToken:function(t){var e=t.match(/^\${(.*?)}$/);if(e){var i=e[1].trim(),n=this.getVariable(i);if(null===n)throw new Error('Variable "'+i+'" does not exist.');if("string"==typeof n)return n;var r=n();if("string"!=typeof r)throw new Error("Must return a string.");return r}return t},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};Re.defineVariable("mobileOS",Ie.getMobileOS()),Re.defineVariable("iOSDevice",Ie.getIOSDevice()),Re.defineVariable("runtime",function(){return Ie.isWebView()?"cordova":"browser"});var Ne={};Ne.config={autoStatusBarFill:!0,animationsDisabled:!1,warningsDisabled:!1},Ne.nullElement=window.document.createElement("div"),Ne.isEnabledAutoStatusBarFill=function(){return!!Ne.config.autoStatusBarFill},Ne.normalizePageHTML=function(t){return t=(""+t).trim(),t.match(/^<ons-page/)||(t="<ons-page _muted>"+t+"</ons-page>"),t},Ne.waitDOMContentLoaded=function(t){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",t):setImmediate(t)},Ne.autoStatusBarFill=function(t){var e=function e(){Ne.shouldFillStatusBar()&&t(),document.removeEventListener("deviceready",e),document.removeEventListener("DOMContentLoaded",e)};"object"===("undefined"==typeof device?"undefined":d(device))?document.addEventListener("deviceready",e):-1===["complete","interactive"].indexOf(document.readyState)?document.addEventListener("DOMContentLoaded",function(){e()}):e()},Ne.shouldFillStatusBar=function(){return Ne.isEnabledAutoStatusBarFill()&&Ie.isWebView()&&Ie.isIOS7above()},Ne.templateStore={_storage:{},get:function(t){return Ne.templateStore._storage[t]||null},set:function(t,e){Ne.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&Ne.templateStore.set(t.templateId,t.template)},!1),window.document.addEventListener("DOMContentLoaded",function(){function t(t){for(var e=window.document.querySelectorAll(t),i=0;i<e.length;i++)Ne.templateStore.set(e[i].getAttribute("id"),e[i].textContent)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]')},!1),Ne.getTemplateHTMLAsync=function(t){return new Promise(function(e,i){setImmediate(function(){var n=Ne.templateStore.get(t);if(n){var r="string"==typeof n?n:n[1];e(r)}else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(t){var n=o.responseText;o.status>=400&&o.status<600?i(n):e(n)},o.onerror=function(){throw new Error("The page is not found: "+t)},o.send(null)}})})},Ne.getPageHTMLAsync=function(t){var e=Re.evaluate(t);return function t(i){return"string"!=typeof i?Promise.reject("Must specify a page."):Ne.getTemplateHTMLAsync(i).then(function(t){return Ne.normalizePageHTML(t)},function(i){return 0===e.length?Promise.reject(i):t(e.shift())}).then(function(t){return Ne.normalizePageHTML(t)})}(e.shift())};var Be=function(){function t(e){if(p(this,t),this._animators=e.animators,this._baseClass=e.baseClass,this._baseClassName=e.baseClassName||e.baseClass.name,this._animation=e.defaultAnimation||"default",this._animationOptions=e.defaultAnimationOptions||{},!this._animators[this._animation])throw new Error("No such animation: "+this._animation)}return f(t,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=null;if(t.animation instanceof this._baseClass)return t.animation;var n=null;if("string"==typeof t.animation&&(n=this._animators[t.animation]),!n&&e)i=e;else{n=n||this._animators[this._animation];var r=ri.extend({},this._animationOptions,t.animationOptions||{},Ne.config.animationsDisabled?{duration:0,delay:0}:{});i=new n(r),"function"==typeof i&&(i=new i(r))}if(!(i instanceof this._baseClass))throw new Error('"animator" is not an instance of '+this._baseClassName+".");return i}}],[{key:"parseAnimationOptionsString",value:function(t){try{if("string"==typeof t){var e=ri.animationOptionsParse(t);if("object"===(void 0===e?"undefined":d(e))&&null!==e)return e;console.error('"animation-options" attribute must be a JSON object string: '+t)}return{}}catch(e){return console.error('"animation-options" attribute must be a JSON object string: '+t),{}}}}]),t}(),De=function(){function t(){p(this,t)}return f(t,null,[{key:"diff",value:function(e,i){function n(e){var i={};return t.split(e).forEach(function(t){return i[t]=t}),i}e=n((""+e).trim()),i=n((""+i).trim());var r=Object.keys(e).reduce(function(t,e){return i[e]||t.push(e),t},[]);return{added:Object.keys(i).reduce(function(t,i){return e[i]||t.push(i),t},[]),removed:r}}},{key:"applyDiffToClassList",value:function(t,e,i){t.added.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return e.add(t)}),t.removed.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return e.remove(t)})}},{key:"applyDiffToElement",value:function(e,i,n){for(var r in n)if(n.hasOwnProperty(r))for(var o=!r||ri.match(i,r)?[i]:i.querySelectorAll(r),s=0;s<o.length;s++)t.applyDiffToClassList(e,o[s].classList,n[r])}},{key:"onModifierChanged",value:function(e,i,n,r){return t.applyDiffToElement(t.diff(e,i),n,r)}},{key:"initModifier",value:function(e,i){var n=e.getAttribute("modifier");"string"==typeof n&&t.applyDiffToElement({removed:[],added:t.split(n)},e,i)}},{key:"split",value:function(t){return"string"!=typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}},{key:"addModifier",value:function(e,i){if(e.hasAttribute("modifier")){var n=t.split(e.getAttribute("modifier"));-1==n.indexOf(i)&&(n.push(i),e.setAttribute("modifier",n.join(" ")))}else e.setAttribute("modifier",i)}},{key:"removeModifier",value:function(e,i){if(e.hasAttribute("modifier")){var n=t.split(e.getAttribute("modifier")),r=n.indexOf(i);-1!==r&&(n.splice(r,1),e.setAttribute("modifier",n.join(" ")))}}}]),t}(),ze=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(p(this,t),"object"!==(void 0===e?"undefined":d(e))||null===e)throw Error('"delegate" parameter must be an object.');if(this._userDelegate=e,!(i instanceof Element)&&null!==i)throw Error('"templateElement" parameter must be an instance of Element or null.');this._templateElement=i}return f(t,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(){this._userDelegate._render.apply(this._userDelegate,arguments)}},{key:"loadItemElement",value:function(t,e){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e);else{var i=this._userDelegate.createItemContent(t,this._templateElement);if(!(i instanceof Element))throw Error("createItemContent() must return an instance of Element.");e({element:i})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();if("number"!=typeof t)throw Error("countItems() must return a number.");return t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);if("number"!=typeof e)throw Error("calculateItemHeight() must return a number.");return e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),t}(),Fe=function(){function t(e,i){if(p(this,t),!(i instanceof ze))throw Error('"delegate" parameter must be an instance of LazyRepeatDelegate.');if(this._wrapperElement=e,this._delegate=i,this._insertIndex=this._wrapperElement.children[0]&&"ONS-LAZY-REPEAT"===this._wrapperElement.children[0].tagName?1:0,"ons-list"===e.tagName.toLowerCase()&&e.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(e),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> or an element.");this.lastScrollTop=this._pageContent.scrollTop,this.padding=0,this._topPositions=[0],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return f(t,[{key:"_findPageContentElement",value:function(t){var e=ri.findParent(t,".page__content");if(e)return e;var i=ri.findParent(t,"ons-page");if(i){var n=ri.findChild(i,".content");if(n)return n}return null}},{key:"_checkItemHeight",value:function(t){var e=this;this._delegate.loadItemElement(0,function(i){if(!e._unknownItemHeight)throw Error("Invalid state");e._wrapperElement.appendChild(i.element);var n=function(){e._delegate.destroyItem(0,i),e._wrapperElement.removeChild(i.element),delete e._unknownItemHeight,t()};if(e._itemHeight=i.element.offsetHeight,e._itemHeight>0)return void n();var r=e._wrapperElement.style.visibility;e._wrapperElement.style.visibility="hidden",i.element.style.visibility="hidden",setImmediate(function(){if(e._itemHeight=i.element.offsetHeight,0==e._itemHeight)throw Error("Invalid state: this._itemHeight must be greater than zero.");e._wrapperElement.style.visibility=r,n()})})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this._renderedItems.hasOwnProperty(t)?(this._renderedItems[t].hasOwnProperty("height")||(this._renderedItems[t].height=this._renderedItems[t].element.offsetHeight),this._renderedItems[t].height):this._topPositions[t+1]&&this._topPositions[t]?this._topPositions[t+1]-this._topPositions[t]:this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_calculateRenderedHeight",value:function(){var t=this;return Object.keys(this._renderedItems).reduce(function(e,i){return e+t._getItemHeight(+i)},0)}},{key:"_onChange",value:function(){this._render()}},{key:"_lastItemRendered",value:function(){return Math.max.apply(Math,b(Object.keys(this._renderedItems)))}},{key:"_firstItemRendered",value:function(){return Math.min.apply(Math,b(Object.keys(this._renderedItems)))}},{key:"refresh",value:function(){var t=Math.min(this._lastItemRendered(),this._countItems()-1),e=this._firstItemRendered();this._wrapperElement.style.height=this._topPositions[e]+this._calculateRenderedHeight()+"px",this.padding=this._topPositions[e],this._removeAllElements(),this._render({forceScrollDown:!0,forceFirstIndex:e,forceLastIndex:t}),this._wrapperElement.style.height="inherit"}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.forceScrollDown,n=void 0!==i&&i,r=e.forceFirstIndex,o=e.forceLastIndex;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this,arguments[0]));var s=!n&&this.lastScrollTop>this._pageContent.scrollTop;this.lastScrollTop=this._pageContent.scrollTop;for(var a={},u=this._wrapperElement.getBoundingClientRect().top,l=4*window.innerHeight-u,c=this._countItems(),h=r||Math.max(0,this._calculateStartIndex(u)-30),d=h,p=this._topPositions[d];d<c&&p<l;d++)d>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[d]=p,p+=this._getItemHeight(d);if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(h,d,function(){t.padding=t._topPositions[h]});if(s)for(var f=d-1;f>=h;f--)a[f]=!0,this._renderElement(f,s);else for(var m=o||Math.max.apply(Math,[d-1].concat(b(Object.keys(this._renderedItems)))),v=h;v<=m;v++)a[v]=!0,this._renderElement(v,s);Object.keys(this._renderedItems).forEach(function(e){return a[e]||t._removeElement(e,s)})}},{key:"_renderElement",value:function(t,e){var i=this,n=this._renderedItems[t];if(n)return void this._delegate.updateItem(t,n);this._delegate.loadItemElement(t,function(n){e?(i._wrapperElement.insertBefore(n.element,i._wrapperElement.children[i._insertIndex]),i.padding=i._topPositions[t],n.height=i._topPositions[t+1]-i._topPositions[t]):i._wrapperElement.appendChild(n.element),i._renderedItems[t]=n})}},{key:"_removeElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=+t;var i=this._renderedItems[t];this._delegate.destroyItem(t,i),e?this._topPositions[t+1]=void 0:this.padding=this.padding+this._getItemHeight(t),i.element.parentElement&&i.element.parentElement.removeChild(i.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var t=this;Object.keys(this._renderedItems).forEach(function(e){return t._removeElement(e)})}},{key:"_recalculateTopPositions",value:function(t,e){for(var i=t;i<=e;i++)this._topPositions[i+1]=this._topPositions[i]+this._getItemHeight(i)}},{key:"_calculateStartIndex",value:function(t){var e=this._firstItemRendered(),i=this._lastItemRendered();this._recalculateTopPositions(e,i);for(var n=0,r=this._countItems()-1;;){var o=Math.floor((n+r)/2),s=t+this._topPositions[o];if(r<n)return 0;if(s<=0&&s+this._getItemHeight(o)>0)return o;isNaN(s)||s>=0?r=o-1:n=o+1}}},{key:"_debounce",value:function(t,e,i){var n=void 0;return function(){var r=this,o=arguments,s=i&&!n;clearTimeout(n),s?t.apply(this,arguments):n=setTimeout(function(){n=null,t.apply(r,o)},e)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){ri.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),Ie.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),Ie.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange,!0),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),Ie.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange,!0),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"padding",get:function(){return parseInt(this._wrapperElement.style.paddingTop,10)},set:function(t){this._wrapperElement.style.paddingTop=t+"px"}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),t}();Ne.AnimatorFactory=Be,Ne.ModifierUtil=De,Ne.LazyRepeatProvider=Fe,Ne.LazyRepeatDelegate=ze;var Ve=!0,qe={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",chevron:"",tappable:""},He={};He.android=function(t){if(!/ons-fab|ons-speed-dial|ons-progress/.test(t.tagName.toLowerCase())&&!/material/.test(t.getAttribute("modifier"))){var e=t.getAttribute("modifier")||"",i=e.trim().split(/\s+/).map(function(t){return qe.hasOwnProperty(t)?qe[t]:t});i.unshift("material"),t.setAttribute("modifier",i.join(" ").trim())}!/ons-button|ons-list-item|ons-fab|ons-speed-dial|ons-tab$/.test(t.tagName.toLowerCase())||t.hasAttribute("ripple")||t.querySelector("ons-ripple")||("ons-list-item"===t.tagName.toLowerCase()?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},He.ios=function(t){/material/.test(t.getAttribute("modifier"))&&(ri.removeModifier(t,"material"),ri.removeModifier(t,"material--flat")&&ri.addModifier(t,ri.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))};var Ue={android:!0},Ze=function(t,e){if(Ve&&!t.hasAttribute("disable-auto-styling")){var i=Ie.getMobileOS();He.hasOwnProperty(i)&&(Ue.hasOwnProperty(i)||e)&&He[i](t)}},We=function(t,e,i){if(Ve&&!e.hasAttribute("disable-auto-styling")){var n=Ie.getMobileOS();if(He.hasOwnProperty(n)&&(Ue.hasOwnProperty(n)||i))return qe.hasOwnProperty(t)?qe[t]:t}return t},Ge={isEnabled:function(){return Ve},enable:function(){return Ve=!0},disable:function(){return Ve=!1},prepare:Ze,mapModifier:We},Ye=function(t){return t.slice(1,-1)},Xe=function(t){return t.startsWith("{")&&t.endsWith("}")},$e=function(t){return t.startsWith("[")&&t.endsWith("]")},Qe=function(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')},Ke=function(t,e,i){throw new Error("Unexpected token '"+t+"' at position "+(i.length-e.length-1)+" in string: '"+i+"'")},Je=function(t,e,i){return"true"===t||"false"===t?"true"===t:Qe(t)?Ye(t):isNaN(t)?Xe(t)?ei(Ye(t)):$e(t)?ii(Ye(t)):void Ke(t,e,i):+t},ti=function(t){t=t.trimLeft();var e=t.length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var i=t.charCodeAt(0),n=1,r=1;r<t.length;r++)if(t.charCodeAt(r)===i)n++;else if(t.charCodeAt(r)===i+2&&0===--n){e=r+1;break}}else if("'"===t[0]||'"'===t[0]){for(var o=1;o<t.length;o++)if(t[o]===t[0]){e=o+1;break}}else for(var s=1;s<t.length;s++)if(-1!==[" ",",",":"].indexOf(t[s])){e=s;break}return t.slice(0,e)},ei=function(t){t=t.trim();for(var e=t,i={},n=!0,r=void 0,o=void 0,s=void 0;t.length>0;)if(o=s,s=ti(t),t=t.slice(s.length,t.length).trimLeft(),":"===s&&(!n||!o||","===o)||","===s&&n||":"!==s&&","!==s&&o&&","!==o&&":"!==o)Ke(s,t,e);else if(":"===s&&n&&o){if(!function(t){return/^[A-Z_\$][A-Z0-9_\$]*$/i.test(t)}(o))throw new Error("Invalid key token '"+o+"' at position 0 in string: '"+e+"'");r=o,n=!1}else","===s&&!n&&o&&(i[r]=Je(o,t,e),n=!0);return s&&(i[r]=Je(s,t,e)),i},ii=function(t){t=t.trim();for(var e=t,i=[],n=void 0,r=void 0;t.length>0;)n=r,r=ti(t),t=t.slice(r.length,t.length).trimLeft(),","!==r||n&&","!==n?","===r&&i.push(Je(n,t,e)):Ke(r,t,e);return r&&(","!==r?i.push(Je(r,t,e)):Ke(r,t,e)),i},ni=function(t){if(t=t.trim(),Xe(t))return ei(Ye(t));if($e(t))return ii(Ye(t));throw new Error("Provided string must be object or array like: "+t)},ri={};ri.prepareQuery=function(t){return t instanceof Function?t:function(e){return ri.match(e,t)}},ri.match=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)},ri.findChild=function(t,e){for(var i=ri.prepareQuery(e),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===Node.ELEMENT_NODE&&i(r))return r}return null},ri.findParent=function(t,e){for(var i=ri.prepareQuery(e),n=t.parentNode;;){if(!n||n===document)return null;if(i(n))return n;n=n.parentNode}},ri.isAttached=function(t){for(;document.documentElement!==t;){if(!t)return!1;t=t.parentNode}return!0},ri.hasAnyComponentAsParent=function(t){for(;t&&document.documentElement!==t;)if((t=t.parentNode)&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal|ons-sliding-menu|ons-split-view)/))return!0;return!1},ri.propagateAction=function(t,e){for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];n[e]instanceof Function?n[e]():ri.propagateAction(n,e)}},ri.camelize=function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},ri.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.split("."),n=document.createElement(i.shift()||"div");return i.length&&(n.className=i.join(" ")),ri.extend(n.style,e),n},ri.createElement=function(t){var e=document.createElement("div");if(e.innerHTML=t,e.children.length>1)throw new Error('"html" must be one wrapper element.');return e.children[0]},ri.createFragment=function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=document.createDocumentFragment();e.firstChild;)i.appendChild(e.firstChild);return i},ri.extend=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0;r<i.length;r++)if(i[r])for(var o=Object.keys(i[r]),s=0;s<o.length;s++){var a=o[s];t[a]=i[r][a]}return t},ri.arrayFrom=function(t){return Array.prototype.slice.apply(t)},ri.parseJSONObjectSafely=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i=JSON.parse(""+t);if("object"===(void 0===i?"undefined":d(i))&&null!==i)return i}catch(t){return e}return e},ri.findFromPath=function(t){t=t.split(".");for(var e,i=window;e=t.shift();)i=i[e];return i},ri.getTopPage=function(t){return t&&("ons-page"===t.tagName.toLowerCase()?t:t.topPage)||null},ri.findToolbarPage=function(t){var e=ri.getTopPage(t);if(e){if(e._canAnimateToolbar())return e;for(var i=0;i<e._contentElement.children.length;i++){var n=ri.getTopPage(e._contentElement.children[i]);if(n&&!/ons-tabbar/i.test(e._contentElement.children[i].tagName))return ri.findToolbarPage(n)}}return null},ri.triggerElementEvent=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});return Object.keys(i).forEach(function(t){n[t]=i[t]}),t.dispatchEvent(n),n},ri.hasModifier=function(t,e){return!!t.hasAttribute("modifier")&&t.getAttribute("modifier").split(/\s+/).some(function(t){return t===e})},ri.addModifier=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.autoStyle&&(e=Ge.mapModifier(e,t,i.forceAutoStyle)),ri.hasModifier(t,e))return!1;e=e.trim();var n=t.getAttribute("modifier")||"";return t.setAttribute("modifier",(n+" "+e).trim()),!0},ri.removeModifier=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAttribute("modifier"))return!1;i.autoStyle&&(e=Ge.mapModifier(e,t,i.forceAutoStyle));var n=t.getAttribute("modifier").split(/\s+/),r=n.filter(function(t){return t&&t!==e});return t.setAttribute("modifier",r.join(" ")),n.length!==r.length},ri.updateParentPosition=function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},ri.toggleAttribute=function(t,e,i){i?t.setAttribute(e,i):t.removeAttribute(e)},ri.bindListeners=function(t,e){e.forEach(function(e){var i=e.replace(/^_[a-z]/,"_bound"+e[1].toUpperCase());t[i]=t[i]||t[e].bind(t)})},ri.each=function(t,e){return Object.keys(t).forEach(function(i){return e(i,t[i])})},ri.updateRipple=function(t,e){void 0===e&&(e=t.hasAttribute("ripple"));var i=ri.findChild(t,"ons-ripple");e?i||t.insertBefore(document.createElement("ons-ripple"),t.firstChild):i&&i.remove()},ri.animationOptionsParse=ni,ri.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},ri.defer=function(){var t={};return t.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),t},ri.warn=function(){if(!Ne.config.warningsDisabled){var t;(t=console).warn.apply(t,arguments)}};var oi={};oi.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},oi.buildTransitionValue=function(t){return t.property=t.property||"all",t.duration=t.duration||.4,t.timing=t.timing||"linear",t.property.split(/ +/).map(function(e){return e+" "+t.duration+"s "+t.timing}).join(", ")},oi.onceOnTransitionEnd=function(t,e){if(!t)return function(){};var i=function(i){t==i.target&&(i.stopPropagation(),n(),e())},n=function(){oi._transitionEndEvents.forEach(function(e){t.removeEventListener(e,i,!1)})};return oi._transitionEndEvents.forEach(function(e){t.addEventListener(e,i,!1)}),n},oi._transitionEndEvents=function(){return"ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===oi.vendorPrefix||"o"===oi.vendorPrefix||"moz"===oi.vendorPrefix||"ms"===oi.vendorPrefix?[oi.vendorPrefix+"TransitionEnd","transitionend"]:[]}(),oi._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},i="A".charCodeAt(0),n="z".charCodeAt(0),r=function(t){return t.substr(1).toUpperCase()},o=0;o<t.length;o++){var s=t[o].replace(/^[\-]+/,"").replace(/[\-][a-z]/g,r).replace(/^moz/,"Moz");i<=s.charCodeAt(0)&&n>=s.charCodeAt(0)&&"cssText"!==s&&"parentText"!==s&&(e[s]=!0)}return e}(),oi.hasCssProperty=function(t){return t in oi._cssPropertyDict},oi.vendorPrefix=function(){var t=window.getComputedStyle(document.documentElement,"");return(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1]}(),oi.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},oi.batchImmediate=function(){var t=[];return function(e){0===t.length&&setImmediate(function(){var e=t.slice(0);t=[],e.forEach(function(t){t()})}),t.push(e)}}(),oi.batchAnimationFrame=function(){var t=[],e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};return function(i){0===t.length&&e(function(){var e=t.slice(0);t=[],e.forEach(function(t){t()})}),t.push(i)}}(),oi.transitionPropertyName=function(){if(oi.hasCssProperty("transitionDuration"))return"transition";if(oi.hasCssProperty(oi.vendorPrefix+"TransitionDuration"))return oi.vendorPrefix+"Transition";throw new Error("Invalid state")}();var si=function t(e){if(!(this instanceof t))return new t(e);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.transitionQueue=[],this.lastStyleAttributeDict=[]};si.prototype={transitionQueue:void 0,elements:void 0,play:function(t){return"function"==typeof t&&this.transitionQueue.push(function(e){t(),e()}),this.startAnimation(),this},queue:function(t,e){var i=this.transitionQueue;if(t&&e&&(e.css=t,t=new si.Transition(e)),t instanceof Function||t instanceof si.Transition||(t=new si.Transition(t.css?t:{css:t})),t instanceof Function)i.push(t);else{if(!(t instanceof si.Transition))throw new Error("Invalid arguments");i.push(t.build())}return this},wait:function(t){return t>0&&this.transitionQueue.push(function(e){setTimeout(e,1e3*t)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var i=this.lastStyleAttributeDict[e]={},n=0;n<t.style.length;n++)i[t.style[n]]=t.style[t.style[n]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(t){function e(){i.elements.forEach(function(t,e){t.style[n]="none";var r=i.lastStyleAttributeDict[e];if(!r)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");i.lastStyleAttributeDict[e]=void 0;for(var o=0;o<t.style.length;o++)t.style[o],void 0===r[t.style[o]]&&(r[t.style[o]]="");Object.keys(r).forEach(function(e){t.style[e]=r[e]})})}t=t||{};var i=this;if(t.transition&&!t.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var n=oi.transitionPropertyName;if(t.transition||t.duration&&t.duration>0){var r=t.transition||"all "+t.duration+"s "+(t.timing||"linear");this.transitionQueue.push(function(e){var o,s=this.elements,a=function(){s.forEach(function(t){t.style[n]=""})},u=oi.onceOnTransitionEnd(s[0],function(){clearTimeout(o),a(),e()});o=setTimeout(function(){u(),a(),e()},1e3*t.duration*1.4),s.forEach(function(t,e){var o=i.lastStyleAttributeDict[e];if(!o)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");i.lastStyleAttributeDict[e]=void 0;for(var s,a=0,u=t.style.length;a<u;a++)s=t.style[a],void 0===o[s]&&(o[s]="");t.style[n]=r,Object.keys(o).forEach(function(e){e!==n&&(t.style[e]=o[e])}),t.style[n]=r})})}else this.transitionQueue.push(function(t){e(),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,i=!1,n=function(){if(i)throw new Error("Invalid state: This callback is called twice.");i=!0,e._currentTransition=void 0,e._dequeueTransition()};t&&t.call(this,n)}},si.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},si.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},si.Transition.prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var t=function(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i];if(oi.hasCssProperty(i))return void(e[i]=n);var r=oi.vendorPrefix+oi.capitalize(i);oi.hasCssProperty(r)?e[r]=n:(e[r]=n,e[i]=n)}),e}(this.options.css);if(this.options.duration>0){var e=oi.buildTransitionValue(this.options),i=this;return function(n){var r,o=this.elements,s=1e3*i.options.duration*1.4,a=oi.onceOnTransitionEnd(o[0],function(){clearTimeout(r),n()});r=setTimeout(function(){a(),n()},s),o.forEach(function(i){i.style[oi.transitionPropertyName]=e,Object.keys(t).forEach(function(e){i.style[e]=t[e]})})}}if(this.options.duration<=0)return function(e){var i=this.elements;i.forEach(function(e){e.style[oi.transitionPropertyName]="",Object.keys(t).forEach(function(i){e.style[i]=t[i]})}),i.length>0?oi.forceLayoutAtOnce(i,function(){oi.batchAnimationFrame(e)}):oi.batchAnimationFrame(e)}}};var ai,ui,li,ci,hi=function t(e,i){return new t.Instance(e,i||{})};hi.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hi.DOCUMENT=document,hi.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,hi.HAS_TOUCHEVENTS="ontouchstart"in window,hi.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),hi.NO_MOUSEEVENTS=hi.HAS_TOUCHEVENTS&&hi.IS_MOBILE||hi.HAS_POINTEREVENTS,hi.CALCULATE_INTERVAL=25;var di={},pi=hi.DIRECTION_DOWN="down",fi=hi.DIRECTION_LEFT="left",mi=hi.DIRECTION_UP="up",vi=hi.DIRECTION_RIGHT="right",gi=hi.POINTER_MOUSE="mouse",_i=hi.POINTER_TOUCH="touch",yi=hi.POINTER_PEN="pen",bi=hi.EVENT_START="start",wi=hi.EVENT_MOVE="move",ki=hi.EVENT_END="end",xi=hi.EVENT_RELEASE="release",Ci=hi.EVENT_TOUCH="touch";hi.READY=!1,hi.plugins=hi.plugins||{},hi.gestures=hi.gestures||{},ui=hi.utils={extend:function(t,e,i){for(var n in e)!e.hasOwnProperty(n)||void 0!==t[n]&&i||(t[n]=e[n]);return t},on:function(t,e,i){t.addEventListener(e,i,!1)},
off:function(t,e,i){t.removeEventListener(e,i,!1)},each:function(t,e,i){var n,r;if("forEach"in t)t.forEach(e,i);else if(void 0!==t.length){for(n=0,r=t.length;n<r;n++)if(!1===e.call(i,t[n],n,t))return}else for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(i,t[n],n,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var i=t.indexOf(e);return-1!==i&&i}for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],r=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(ui.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),r.push(t.clientY)}),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,i)+s.apply(Math,i))/2,clientX:(o.apply(Math,n)+s.apply(Math,n))/2,clientY:(o.apply(Math,r)+s.apply(Math,r))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?t.clientX-e.clientX>0?fi:vi:t.clientY-e.clientY>0?mi:pi},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==mi||t==pi},setPrefixedCss:function(t,e,i,n){var r=["","Webkit","Moz","O","ms"];e=ui.toCamelCase(e);for(var o=0;o<r.length;o++){var s=e;if(r[o]&&(s=r[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null===n||n)&&i||"";break}}},toggleBehavior:function(t,e,i){if(e&&t&&t.style){ui.each(e,function(e,n){ui.setPrefixedCss(t,n,e,i)});var n=i&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=n),"none"==e.userDrag&&(t.ondragstart=n)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},ai=hi.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,i,n){var r=e.split(" ");ui.each(r,function(e){ui.on(t,e,i),n&&n(e)})},off:function(t,e,i,n){var r=e.split(" ");ui.each(r,function(e){ui.off(t,e,i),n&&n(e)})},onTouch:function(t,e,i){var n=this,r=function(r){var o,s=r.type.toLowerCase(),a=hi.HAS_POINTEREVENTS,u=ui.inStr(s,"mouse");u&&n.preventMouseEvents||(u&&e==bi&&0===r.button?(n.preventMouseEvents=!1,n.shouldDetect=!0):a&&e==bi?n.shouldDetect=1===r.buttons||ci.matchType(_i,r):u||e!=bi||(n.preventMouseEvents=!0,n.shouldDetect=!0),a&&e!=ki&&ci.updatePointer(e,r),n.shouldDetect&&(o=n.doDetect.call(n,r,e,t,i)),o==ki&&(n.preventMouseEvents=!1,n.shouldDetect=!1,ci.reset()),a&&e==ki&&ci.updatePointer(e,r))};return this.on(t,di[e],r),r},doDetect:function(t,e,i,n){var r=this.getTouchList(t,e),o=r.length,s=e,a=r.trigger,u=o;e==bi?a=Ci:e==ki&&(a=xi,u=r.length-(t.changedTouches?t.changedTouches.length:1)),u>0&&this.started&&(s=wi),this.started=!0;var l=this.collectEventData(i,s,r,t);return e!=ki&&n.call(li,l),a&&(l.changedLength=u,l.eventType=a,n.call(li,l),l.eventType=s,delete l.changedLength),s==ki&&(n.call(li,l),this.started=!1),s},determineEventTypes:function(){var t;return t=hi.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:hi.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],di[bi]=t[0],di[wi]=t[1],di[ki]=t[2],di},getTouchList:function(t,e){if(hi.HAS_POINTEREVENTS)return ci.getTouchList();if(t.touches){if(e==wi)return t.touches;var i=[],n=[].concat(ui.toArray(t.touches),ui.toArray(t.changedTouches)),r=[];return ui.each(n,function(t){!1===ui.inArray(i,t.identifier)&&r.push(t),i.push(t.identifier)}),r}return t.identifier=1,[t]},collectEventData:function(t,e,i,n){var r=_i;return ui.inStr(n.type,"mouse")||ci.matchType(gi,n)?r=gi:ci.matchType(yi,n)&&(r=yi),{center:ui.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:r,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return li.stopDetect()}}}},ci=hi.PointerEvent={pointers:{},getTouchList:function(){var t=[];return ui.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==ki||t!=ki&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[gi]=i===(e.MSPOINTER_TYPE_MOUSE||gi),n[_i]=i===(e.MSPOINTER_TYPE_TOUCH||_i),n[yi]=i===(e.MSPOINTER_TYPE_PEN||yi),n[t]},reset:function(){this.pointers={}}},li=hi.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:ui.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return ui.each(this.gestures,function(n){!this.stopped&&e.enabled&&i[n.name]&&n.handler.call(n,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==ki&&this.stopDetect(),t}},stopDetect:function(){this.previous=ui.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,n,r){var o=this.current,s=!1,a=o.lastCalcEvent,u=o.lastCalcData;a&&t.timeStamp-a.timeStamp>hi.CALCULATE_INTERVAL&&(e=a.center,i=t.timeStamp-a.timeStamp,n=t.center.clientX-a.center.clientX,r=t.center.clientY-a.center.clientY,s=!0),t.eventType!=Ci&&t.eventType!=xi||(o.futureCalcEvent=t),o.lastCalcEvent&&!s||(u.velocity=ui.getVelocity(i,n,r),u.angle=ui.getAngle(e,t.center),u.direction=ui.getDirection(e,t.center),o.lastCalcEvent=o.futureCalcEvent||t,o.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,n=e.lastEvent||i;t.eventType!=Ci&&t.eventType!=xi||(i.touches=[],ui.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var r=t.timeStamp-i.timeStamp,o=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,n.center,r,o,s),ui.extend(t,{startEvent:i,deltaTime:r,deltaX:o,deltaY:s,distance:ui.getDistance(i.center,t.center),angle:ui.getAngle(i.center,t.center),direction:ui.getDirection(i.center,t.center),scale:ui.getScale(i.touches,t.touches),rotation:ui.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),ui.extend(hi.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},hi.Instance=function(t,i){var n=this;e(),this.element=t,this.enabled=!0,ui.each(i,function(t,e){delete i[e],i[ui.toCamelCase(e)]=t}),this.options=ui.extend(ui.extend({},hi.defaults),i||{}),this.options.behavior&&ui.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=ai.onTouch(t,bi,function(t){n.enabled&&t.eventType==bi?li.startDetect(n,t):t.eventType==Ci&&li.detect(t)}),this.eventHandlers=[]},hi.Instance.prototype={on:function(t,e){var i=this;return ai.on(i.element,t,e,function(t){i.eventHandlers.push({gesture:t,handler:e})}),i},off:function(t,e){var i=this;return ai.off(i.element,t,e,function(t){var n=ui.inArray({gesture:t,handler:e});!1!==n&&i.eventHandlers.splice(n,1)}),i},trigger:function(t,e){e||(e={});var i=hi.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return ui.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(ui.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)ui.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],ai.off(this.element,di[bi],this.eventStartHandler),null}},function(t){function e(e,n){var r=li.current;if(!(n.options.dragMaxTouches>0&&e.touches.length>n.options.dragMaxTouches))switch(e.eventType){case bi:i=!1;break;case wi:if(e.distance<n.options.dragMinDistance&&r.name!=t)return;var o=r.startEvent.center;if(r.name!=t&&(r.name=t,n.options.dragDistanceCorrection&&e.distance>0)){var s=Math.abs(n.options.dragMinDistance/e.distance);o.pageX+=e.deltaX*s,o.pageY+=e.deltaY*s,o.clientX+=e.deltaX*s,o.clientY+=e.deltaY*s,e=li.extendEventData(e)}(r.lastEvent.dragLockToAxis||n.options.dragLockToAxis&&n.options.dragLockMinDistance<=e.distance)&&(e.dragLockToAxis=!0);var a=r.lastEvent.direction;e.dragLockToAxis&&a!==e.direction&&(ui.isVertical(a)?e.direction=e.deltaY<0?mi:pi:e.direction=e.deltaX<0?fi:vi),i||(n.trigger(t+"start",e),i=!0),n.trigger(t,e),n.trigger(t+e.direction,e);var u=ui.isVertical(e.direction);(n.options.dragBlockVertical&&u||n.options.dragBlockHorizontal&&!u)&&e.preventDefault();break;case xi:i&&e.changedLength<=n.options.dragMaxTouches&&(n.trigger(t+"end",e),i=!1);break;case ki:i=!1}}var i=!1;hi.gestures.Drag={name:t,index:50,handler:e,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),hi.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){function e(e,n){var r=n.options,o=li.current;switch(e.eventType){case bi:clearTimeout(i),o.name=t,i=setTimeout(function(){o&&o.name==t&&n.trigger(t,e)},r.holdTimeout);break;case wi:e.distance>r.holdThreshold&&clearTimeout(i);break;case xi:clearTimeout(i)}}var i;hi.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:e}}("hold"),hi.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==xi&&e.trigger(this.name,t)}},hi.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==xi){var i=t.touches.length,n=e.options;if(i<n.swipeMinTouches||i>n.swipeMaxTouches)return;(t.velocityX>n.swipeVelocityX||t.velocityY>n.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){function e(e,n){var r,o,s=n.options,a=li.current,u=li.previous;switch(e.eventType){case bi:i=!1;break;case wi:i=i||e.distance>s.tapMaxDistance;break;case ki:!ui.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<s.tapMaxTime&&!i&&(r=u&&u.lastEvent&&e.timeStamp-u.lastEvent.timeStamp,o=!1,u&&u.name==t&&r&&r<s.doubleTapInterval&&e.distance<s.doubleTapDistance&&(n.trigger("doubletap",e),o=!0),o&&!s.tapAlways||(a.name=t,n.trigger(a.name,e)))}}var i=!1;hi.gestures.Tap={name:t,index:100,handler:e,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),hi.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){if(e.options.preventMouse&&t.pointerType==gi)return void t.stopDetect();e.options.preventDefault&&t.preventDefault(),t.eventType==Ci&&e.trigger("touch",t)}},function(t){function e(e,n){switch(e.eventType){case bi:i=!1;break;case wi:if(e.touches.length<2)return;var r=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(r<n.options.transformMinScale&&o<n.options.transformMinRotation)return;li.current.name=t,i||(n.trigger(t+"start",e),i=!0),n.trigger(t,e),o>n.options.transformMinRotation&&n.trigger("rotate",e),r>n.options.transformMinScale&&(n.trigger("pinch",e),n.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case xi:i&&e.changedLength<2&&(n.trigger(t+"end",e),i=!1)}}var i=!1;hi.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:e}}("transform");var Ei=new WeakMap,Li=new WeakMap,Oi={};Oi._createAlertDialog=function(t){var e="";t.isPrompt&&(e='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(t.inputType||"text")+'"\n        placeholder="'+(t.placeholder||"")+'"\n        value="'+(t.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var i="";t.buttonLabels.forEach(function(e,n){i+='\n      <button class="\n        alert-dialog-button\n        '+(n===t.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n        "+(t.buttonLabels.length<=2?" alert-dialog-button--rowfooter":"")+'\n      ">\n        '+e+"\n      </button>\n    "});var n={},r=function(){n.dialog.onDialogCancel&&n.dialog.removeEventListener("dialog-cancel",n.dialog.onDialogCancel),Object.keys(n).forEach(function(t){return delete n[t]}),n=null,t.destroy instanceof Function&&t.destroy()};n.dialog=document.createElement("ons-alert-dialog"),n.dialog.innerHTML='\n    <div class="alert-dialog-mask"></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(t.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(t.message||t.messageHTML)+"\n          "+e+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(t.buttonLabels.length<=2?" alert-dialog-footer--rowfooter":"")+'\n        ">\n          '+i+"\n        </div>\n      </div>\n    </div>\n  ",a(n.dialog),["id","class","animation"].forEach(function(e){return t.hasOwnProperty(e)&&n.dialog.setAttribute(e,t[e])}),t.modifier&&ri.addModifier(n.dialog,t.modifier);var o=ri.defer();return t.isPrompt&&t.submitOnEnter&&(n.input=n.dialog.querySelector(".text-input"),n.input.onkeypress=function(e){13===e.keyCode&&n.dialog.hide().then(function(){if(n){var e=n.input.value;r(),t.callback(e),o.resolve(e)}})}),n.footer=n.dialog.querySelector(".alert-dialog-footer"),ri.arrayFrom(n.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(e,i){e.onclick=function(){n.dialog.hide().then(function(){if(n){var e=t.isPrompt?n.input.value:i;n.dialog.remove(),r(),t.callback(e),o.resolve(e)}})},n.footer.appendChild(e)}),t.cancelable&&(n.dialog.cancelable=!0,n.dialog.onDialogCancel=function(){setImmediate(function(){n.dialog.remove(),r()});var e=t.isPrompt?null:-1;t.callback(e),o.reject(e)},n.dialog.addEventListener("dialog-cancel",n.dialog.onDialogCancel,!1)),document.body.appendChild(n.dialog),t.compile(n.dialog),setImmediate(function(){n.dialog.show().then(function(){n.input&&t.isPrompt&&t.autofocus&&n.input.focus()})}),o.promise};var Si=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t?e.message=t:e=t,!e.message&&!e.messageHTML)throw new Error("Alert dialog must contain a message.");return(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),ri.extend({compile:function(t){return t},callback:function(t){return t},buttonLabels:["OK"],primaryButtonIndex:0,animation:"default",cancelable:!1},i,e)};Oi.alert=function(t,e){return e=Si(t,e,{title:"Alert"}),Oi._createAlertDialog(e)},Oi.confirm=function(t,e){return e=Si(t,e,{buttonLabels:["Cancel","OK"],primaryButtonIndex:1,title:"Confirm"}),Oi._createAlertDialog(e)},Oi.prompt=function(t,e){return e=Si(t,e,{title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0}),Oi._createAlertDialog(e)};var Pi=function(){var t={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var t=this,e=this._isPortrait(),i=0,n=setInterval(function(){i++;var r=window.innerWidth,o=window.innerHeight;e&&r<=o||!e&&r>=o?(t.emit("change",{isPortrait:e}),clearInterval(n)):50===i&&(t.emit("change",{isPortrait:e}),clearInterval(n))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}};return s.mixin(t),t}()._init(),Ai=new s;Ai._visible=!1;var Mi=function(){Ai._visible=!0,Ai.emit("show")},Ti=function(){Ai._visible=!1,Ai.emit("hide")},ji=function(){return"undefined"!=typeof Keyboard?(Keyboard.onshow=Mi,Keyboard.onhide=Ti,Ai.emit("init",{visible:Keyboard.isVisible}),!0):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Mi),window.addEventListener("native.keyboardhide",Ti),Ai.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),!0)},Ii=function(){ri.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){ji()||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&Ii(),Ai.on=Ii)});var Ri={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){Ri._domContentLoaded=!0,Ie.isWebView()?window.document.addEventListener("deviceready",function(){Ri._ready=!0},!1):Ri._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return Ri._onDOMContentLoaded()},!1);var Ni={_store:{},_genId:function(){var t=0;return function(){return t++}}(),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var i=t.dataset.deviceBackButtonHandlerId=Ni._genId();this._store[i]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},Bi=function(){function t(){p(this,t),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return f(t,[{key:"enable",value:function(){this._isEnabled||(Ri.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(Ri.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var i={_callback:e,_element:t,disable:function(){Ni.remove(t)},setListener:function(t){this._callback=t},enable:function(){Ni.set(t,this)},isEnabled:function(){return Ni.get(t)===this},destroy:function(){Ni.remove(t),this._callback=this._element=null}};return i.enable(),i}},{key:"_dispatchDeviceBackButtonEvent",value:function(){function t(e){return{_element:e,callParentHandler:function(){for(var e=this._element.parentNode;e;){if(n=Ni.get(e))return n._callback(t(e));e=e.parentNode}}}}var e=this._captureTree(),i=this._findHandlerLeafElement(e),n=Ni.get(i);n._callback(t(i))}},{key:"_captureTree",value:function(){function t(i){var n={element:i,children:Array.prototype.concat.apply([],e(i.children).map(function(e){if("none"===e.style.display)return[];if(0===e.children.length&&!Ni.has(e))return[];var i=t(e);return 0!==i.children.length||Ni.has(i.element)?[i]:[]}))};if(!Ni.has(n.element))for(var r=0;r<n.children.length;r++){var o=n.children[r];if(Ni.has(o.element))return o}return n}function e(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}return t(document.body)}},{key:"_findHandlerLeafElement",value:function(t){function e(t){return 0===t.children.length?t.element:1===t.children.length?e(t.children[0]):t.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var i=parseInt(window.getComputedStyle(t,"").zIndex,10),n=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(i)&&!isNaN(n))return i>n?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}return e(t)}}]),t}(),Di=new Bi,zi=function(){var t=0;return function(){return t++}}(),Fi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,t),this._lockList=[],this._waitList=[],this._log=e.log||function(){}}return f(t,[{key:"lock",value:function(){var t=this,e=function e(){t._unlock(e)};return e.id=zi(),this._lockList.push(e),this._log("lock: "+e.id),e}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),t}(),Vi=function(){function t(e,i){p(this,t),this._loader=e instanceof Function?e:u,this._unloader=i instanceof Function?i:l}return f(t,[{key:"load",value:function(t,e){var i=t.page,n=t.parent,r=t.params,o=void 0===r?{}:r;this._loader({page:i,parent:n,params:o},function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");e(t)})}},{key:"unload",value:function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(t)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),t}(),qi=new Vi,Hi=new Vi(function(t,e){var i=t.page,n=t.parent,r=(t.params,ri.createElement(i.trim()));n.appendChild(r),e(r)},l),Ui=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,t),this.timing=e.timing||"linear",this.duration=e.duration||0,this.delay=e.delay||0}return f(t,null,[{key:"extend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,i=function(){e.apply(this,arguments),ri.extend(this,t)};return i.prototype=this.prototype,i}}]),t}(),Zi={};Zi._util=ri,Zi.animit=si,Zi._deviceBackButtonDispatcher=Di,Zi._internal=Ne,Zi.GestureDetector=hi,Zi.platform=Ie,Zi.softwareKeyboard=Ai,Zi.pageAttributeExpression=Re,Zi.orientation=Pi,Zi.notification=Oi,Zi._animationOptionsParser=ni,Zi._autoStyle=Ge,Zi._DoorLock=Fi,Zi._contentReady=a,Zi.defaultPageLoader=qi,Zi.PageLoader=Vi,Zi._BaseAnimator=Ui,Zi._readyLock=new Fi,Zi.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),function(){var t=Zi._readyLock.lock();window.addEventListener("DOMContentLoaded",function(){Zi.isWebView()?window.document.addEventListener("deviceready",t,!1):t()},!1)}(),Zi.isReady=function(){return!Zi._readyLock.isLocked()},Zi.isWebView=Zi.platform.isWebView,Zi.ready=function(t){Zi.isReady()?t():Zi._readyLock.waitUnlock(t)},Zi.setDefaultDeviceBackButtonListener=function(t){Zi._defaultDeviceBackButtonHandler.setListener(t)},Zi.disableDeviceBackButtonHandler=function(){Zi._deviceBackButtonDispatcher.disable()},Zi.enableDeviceBackButtonHandler=function(){Zi._deviceBackButtonDispatcher.enable()},Zi.enableAutoStatusBarFill=function(){if(Zi.isReady())throw new Error("This method must be called before ons.isReady() is true.");Zi._internal.config.autoStatusBarFill=!0},Zi.disableAutoStatusBarFill=function(){if(Zi.isReady())throw new Error("This method must be called before ons.isReady() is true.");Zi._internal.config.autoStatusBarFill=!1},Zi.disableAnimations=function(){Zi._internal.config.animationsDisabled=!0},Zi.enableAnimations=function(){Zi._internal.config.animationsDisabled=!1},Zi._disableWarnings=function(){Zi._internal.config.warningsDisabled=!0},Zi._enableWarnings=function(){Zi._internal.config.warningsDisabled=!1},Zi.disableAutoStyling=Zi._autoStyle.disable,Zi.enableAutoStyling=Zi._autoStyle.enable,Zi.forcePlatformStyling=function(t){Zi.enableAutoStyling(),Zi.platform.select(t||"ios"),Zi._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(Zi._autoStyle.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},Zi._createPopoverOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Zi._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-popover/gi)?"<div>"+t+"</div>":"<ons-popover>"+t+"</ons-popover>";var i=Zi._util.createElement("<div>"+t+"</div>"),n=i.querySelector("ons-popover");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},Zi.createPopover=Zi._createPopoverOriginal,Zi._createDialogOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Zi._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-dialog/gi)?"<div>"+t+"</div>":"<ons-dialog>"+t+"</ons-dialog>";var i=Zi._util.createElement("<div>"+t+"</div>"),n=i.querySelector("ons-dialog");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},Zi.createDialog=Zi._createDialogOriginal,Zi._createAlertDialogOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Zi._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-alert-dialog/gi)?"<div>"+t+"</div>":"<ons-alert-dialog>"+t+"</ons-alert-dialog>";var i=Zi._util.createElement("<div>"+t+"</div>"),n=i.querySelector("ons-alert-dialog");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},Zi.createAlertDialog=Zi._createAlertDialogOriginal,Zi._resolveLoadingPlaceholderOriginal=function(t,e){var i=Zi._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));if(!(i.length>0))throw new Error("No ons-loading-placeholder exists.");i.filter(function(t){return!t.getAttribute("page")}).forEach(function(i){i.setAttribute("ons-loading-placeholder",t),Zi._resolveLoadingPlaceholder(i,t,e)})},Zi.resolveLoadingPlaceholder=Zi._resolveLoadingPlaceholderOriginal,Zi._setupLoadingPlaceHolders=function(){Zi.ready(function(){Zi._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"==typeof e&&Zi._resolveLoadingPlaceholder(t,e)})})},Zi._resolveLoadingPlaceholder=function(t,e,i){i=i||function(t,e){e()},Zi._internal.getPageHTMLAsync(e).then(function(e){for(;t.firstChild;)t.removeChild(t.firstChild);var n=Zi._util.createElement("<div>"+e+"</div>");n.style.display="none",t.appendChild(n),i(n,function(){n.style.display=""})}).catch(function(t){throw new Error("Unabled to resolve placeholder: "+t)})},window._superSecretOns=Zi;var Wi=function(t){function e(){p(this,e);var t=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.init(),t}return _(e,t),f(e,[{key:"init",value:function(){}}]),e}(function(){if("function"!=typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}()),Gi=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){for(this.template=this.innerHTML;this.firstChild;)this.removeChild(this.firstChild)}},{key:"connectedCallback",value:function(){this.parentNode&&this.parentNode!==document.body&&ri.warn("ons-template (id = "+this.getAttribute("id")+") must be located just under document.body"+(this.parentNode.outerHTML?":\n\n"+this.parentNode.outerHTML:"."));var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),e}(Wi);customElements.define("ons-template",Gi);var Yi=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){if(null!==Ie._renderPlatform)t._platformUpdate();else if(!t._isAllowedPlatform()){for(;t.childNodes[0];)t.childNodes[0].remove();t._platformUpdate()}}),this._onOrientationChange()}},{key:"connectedCallback",value:function(){Pi.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){Pi.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(Ie.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=Pi.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),e}(Wi);customElements.define("ons-if",Yi);var Xi=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Ui),$i=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,r=t.duration,o=void 0===r?.2:r,s=t.delay,a=void 0===s?0:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:o,timing:n,delay:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({
css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(Xi),Qi=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,r=t.duration,o=void 0===r?.2:r,s=t.delay,a=void 0===s?0:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:o,timing:n,delay:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(Xi),Ki=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"_updateAnimatorFactory",value:function(){throw new Error("_updateAnimatorFactory method must be implemented.")}},{key:"_toggleStyle",value:function(t){this.style.display=t?"block":"none"}},{key:"init",value:function(){var t=this;this._visible=!1,this._doorLock=new Fi,this._boundCancel=function(){return t._cancel()},this._selfCamelName=ri.camelize(this.tagName.slice(4)),this._defaultDBB=function(e){return t.cancelable?t._cancel():e.callParentHandler()},this._animatorFactory=this._updateAnimatorFactory()}},{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){t._running=!1,ri.triggerElementEvent(t,"dialog-cancel")},function(){return t._running=!1}))}},{key:"show",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!0].concat(e))}},{key:"hide",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!1].concat(e))}},{key:"toggle",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!this.visible].concat(e))}},{key:"_setVisible",value:function(t){var e,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?"show":"hide";n=v({},n),n.animationOptions=ri.extend(n.animationOptions||{},Be.parseAnimationOptionsString(this.getAttribute("animation-options")));var o=!1;return ri.triggerElementEvent(this,"pre"+r,(e={},m(e,this._selfCamelName,this),m(e,"cancel",function(){return o=!0}),e)),o?Promise.reject("Canceled in pre"+r+" event."):new Promise(function(e){i._doorLock.waitUnlock(function(){var o=i._doorLock.lock(),s=i._animatorFactory.newAnimator(n);t&&i._toggleStyle(!0,n),a(i,function(){s[r](i,function(){!t&&i._toggleStyle(!1,n),i._visible=t,o(),ri.propagateAction(i,"_"+r),ri.triggerElementEvent(i,"post"+r,m({},i._selfCamelName,i)),n.callback instanceof Function&&n.callback(i),e(i)})})})})}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._defaultDBB.bind(this),a(this,function(){t._mask&&t._mask.addEventListener("click",t._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask&&this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?De.onModifierChanged(e,i,this,this._scheme):"animation"===t&&(this._animatorFactory=this._updateAnimatorFactory())}},{key:"_scheme",get:function(){throw new Error("_scheme getter must be implemented.")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Di.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return ri.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"events",get:function(){return["preshow","postshow","prehide","posthide","dialog-cancel"]}}]),e}(Wi),Ji={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-button":"alert-dialog-button--*",".alert-dialog-footer--rowfooter":"alert-dialog-footer--rowfooter--*",".alert-dialog-button--rowfooter":"alert-dialog-button--rowfooter--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},tn={none:Xi,default:function(){return Ie.isAndroid()?$i:Qi},fade:function(){return Ie.isAndroid()?$i:Qi}},en=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),a(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new Be({animators:tn,baseClass:Xi,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){Ge.prepare(this),this.style.display="none",this.style.zIndex=10001;var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var i=document.createElement("div");i.classList.add("alert-dialog"),this.insertBefore(i,null)}if(!ri.findChild(this._dialog,".alert-dialog-container")){var n=document.createElement("div");n.classList.add("alert-dialog-container"),this._dialog.appendChild(n)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.getAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),De.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Ji}},{key:"_mask",get:function(){return ri.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return ri.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return ri.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return ri.findChild(this._dialog.children[0],".alert-dialog-content")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Xi))throw new Error('"Animator" param must inherit OnsAlertDialogElement.AlertDialogAnimator');tn[t]=e}},{key:"animators",get:function(){return tn}},{key:"AlertDialogAnimator",get:function(){return Xi}}]),e}(Ki);customElements.define("ons-alert-dialog",en);var nn={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},rn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile()}),this._options={},this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){if(Ge.prepare(this),this.classList.add("back-button"),!ri.findChild(this,".back-button__label")){for(var t=ri.create("span.back-button__label");this.childNodes[0];)t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!ri.findChild(this,".back-button__icon")){var e=ri.create("span.back-button__icon");this.insertBefore(e,this.children[0])}De.initModifier(this,nn)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=ri.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("back-button")||(this.className="back-button "+i);break;case"modifier":De.onModifierChanged(e,i,this,nn)}}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-back-button",rn);var on={"":"bottom-bar--*"},sn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this.classList.add("bottom-bar"),De.initModifier(this,on)}},{key:"connectedCallback",value:function(){ri.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("bottom-bar")||(this.className="bottom-bar "+i);break;case"modifier":De.onModifierChanged(e,i,this,on)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-bottom-toolbar",sn);var an={"":"button--*"},un=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("button")||(this.className="button "+i);break;case"modifier":De.onModifierChanged(e,i,this,an);break;case"ripple":this._updateRipple()}}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("button"),this._updateRipple(),De.initModifier(this,an)}},{key:"_updateRipple",value:function(){ri.updateRipple(this)}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}(Wi);customElements.define("ons-button",un);var ln={"":"carousel-item--*"},cn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this.style.width="100%",De.initModifier(this,ln)}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return De.onModifierChanged(e,i,this,ln)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),e}(Wi);customElements.define("ons-carousel-item",cn);var hn={_getScrollDelta:function(t){return t.gesture.deltaY},_getScrollVelocity:function(t){return t.gesture.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d(0px, "+-t+"px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.height||0)-parseInt(this._style.paddingTop,10)-parseInt(this._style.paddingBottom,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),i=this._decomposeSizeString(e),n=0;n<t.length;n++)t[n].style.position="absolute",t[n].style.height=e,t[n].style.visibility="visible",t[n].style.top=n*i.number+i.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},dn={_getScrollDelta:function(t){return t.gesture.deltaX},_getScrollVelocity:function(t){return t.gesture.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d("+-t+"px, 0px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.width||0)-parseInt(this._style.paddingLeft,10)-parseInt(this._style.paddingRight,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),i=this._decomposeSizeString(e),n=0;n<t.length;n++)t[n].style.position="absolute",t[n].style.width=e,t[n].style.visibility="visible",t[n].style.left=n*i.number+i.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},pn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._doorLock=new Fi,this._scroll=0,this._offset=0,this._lastActiveIndex=0,this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?hn:dn)}},{key:"_onResize",value:function(){var t=this._scroll/this._currentElementSize;delete this._currentElementSize,this.setActiveIndex(t)}},{key:"_onDirectionChange",value:function(){this._isVertical()?(this.style.overflowX="auto",this.style.overflowY=""):(this.style.overflowX="",this.style.overflowY="auto"),this.refresh()}},{key:"_saveLastState",value:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this.itemCount,width:this._getCarouselItemSize()*this.itemCount}}},{key:"_getCarouselItemSize",value:function(){var t=this._getCarouselItemSizeAttr(),e=this._decomposeSizeString(t),i=this._getElementSize();if("%"===e.unit)return Math.round(e.number/100*i);if("px"===e.unit)return e.number;throw new Error("Invalid state")}},{key:"_getInitialIndex",value:function(){var t=parseInt(this.getAttribute("initial-index"),10);return"number"!=typeof t||isNaN(t)?0:Math.max(Math.min(t,this.itemCount-1),0)}},{key:"_getCarouselItemSizeAttr",value:function(){var t="item-"+(this._isVertical()?"height":"width"),e=(""+this.getAttribute(t)).trim();return e.match(/^\d+(px|%)$/)?e:"100%"}},{key:"_decomposeSizeString",value:function(t){var e=t.match(/^(\d+)(px|%)/);return{number:parseInt(e[1],10),unit:e[2]}}},{key:"_setupInitialIndex",value:function(){this._scroll=(this._offset||0)+this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)}},{key:"setActiveIndex",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&"object"!=(void 0===i?"undefined":d(i)))throw new Error("options must be an object. You supplied "+i);i.animation=i.animation||this.getAttribute("animation"),i.animationOptions=ri.extend({duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"},i.animationOptions||{},this.hasAttribute("animation-options")?ri.animationOptionsParse(this.getAttribute("animation-options")):{}),t=Math.max(0,Math.min(t,this.itemCount-1));var n=(this._offset||0)+this._getCarouselItemSize()*t,r=this._calculateMaxScroll();return this._scroll=Math.max(0,Math.min(r,n)),this._scrollTo(this._scroll,i).then(function(){return e._tryFirePostChangeEvent(),e})}},{key:"getActiveIndex",value:function(){var t=this._scroll-(this._offset||0),e=this.itemCount,i=this._getCarouselItemSize();if(t<0)return 0;var n=void 0;for(n=0;n<e;n++)if(i*n<=t&&i*(n+1)>t)return n;return n}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"_isEnabledChangeEvent",value:function(){var t=this._getElementSize(),e=this._getCarouselItemSize();return this.autoScroll&&Math.abs(t-e)<.5}},{key:"_isVertical",value:function(){return"vertical"===this.getAttribute("direction")}},{key:"_show",value:function(){window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_prepareEventListeners",value:function(){var t=this;this._gestureDetector=new hi(this,{dragMinDistance:1,dragLockToAxis:!0}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this._updateSwipeable(),this._updateAutoRefresh(),window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_hide",value:function(){window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_removeEventListeners",value:function(){this._gestureDetector.dispose(),this._gestureDetector=null,this._mutationObserver.disconnect(),this._mutationObserver=null,window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_updateSwipeable",value:function(){this._gestureDetector&&(this.swipeable?(this._gestureDetector.on("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.on("dragend",this._boundOnDragEnd)):(this._gestureDetector.off("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.off("dragend",this._boundOnDragEnd)))}},{key:"_updateAutoRefresh",value:function(){this._mutationObserver&&(this.hasAttribute("auto-refresh")?this._mutationObserver.observe(this,{childList:!0}):this._mutationObserver.disconnect())}},{key:"_tryFirePostChangeEvent",value:function(){var t=this.getActiveIndex();if(this._lastActiveIndex!==t){var e=this._lastActiveIndex;this._lastActiveIndex=t,ri.triggerElementEvent(this,"postchange",{carousel:this,activeIndex:t,lastActiveIndex:e})}}},{key:"_isWrongDirection",value:function(t){return this._isVertical()?"left"===t||"right"===t:"up"===t||"down"===t}},{key:"_onDrag",value:function(t){if(!(this._isWrongDirection(t.gesture.direction)||t.target&&"input"===t.target.tagName.toLowerCase()&&"range"===t.target.type)){t.stopPropagation(),this._lastDragEvent=t;var e=this._scroll-this._getScrollDelta(t);this._scrollTo(e),t.gesture.preventDefault(),this._tryFirePostChangeEvent()}}},{key:"_onDragEnd",value:function(t){var e=this;if(this._lastDragEvent){if(this._currentElementSize=void 0,this._scroll=this._scroll-this._getScrollDelta(t),this._isOverScroll(this._scroll)){var i=!1;ri.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(t){i=!0,t.then(function(){return e._scrollToKillOverScroll()})}}),i||this._scrollToKillOverScroll()}else this._startMomentumScroll();this._lastDragEvent=null,t.gesture.preventDefault()}}},{key:"_mixin",value:function(t){Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}},{key:"_startMomentumScroll",value:function(){if(this._lastDragEvent){var t=this._getScrollVelocity(this._lastDragEvent),e=30*t,i=this._normalizeScrollPosition(this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-e:e));this._scroll=i,si(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play()}}},{key:"_normalizeScrollPosition",value:function(t){var e=this._calculateMaxScroll();if(!this.autoScroll)return Math.max(0,Math.min(e,t));for(var i=[],n=this._getCarouselItemSize(),r=this.itemCount,o=0;o<r;o++)o*n+this._offset<e&&i.push(o*n+this._offset);i.push(e),i.sort(function(e,i){return e=Math.abs(e-t),i=Math.abs(i-t),e-i}),i=i.filter(function(t,e){return!e||t!=i[e-1]});var s=this._lastActiveIndex*n+this._offset,a=Math.abs(t-s)/n,u=i[0];return a<=this.autoScrollRatio?u=s:a<1&&i[0]===s&&i.length>1&&(u=i[1]),Math.max(0,Math.min(e,u))}},{key:"_getCarouselItemElements",value:function(){return ri.arrayFrom(this.children).filter(function(t){return"ons-carousel-item"===t.nodeName.toLowerCase()})}},{key:"_scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.overscrollable,r=function(t){if(t<0)return n?Math.round(.35*t):0;var i=e._calculateMaxScroll();return i<t?n?i+Math.round(.35*(t-i)):i:t};return new Promise(function(n){si(e._getCarouselItemElements()).queue({transform:e._generateScrollTransform(r(t))},"none"!==i.animation?i.animationOptions:{}).play(function(){i.callback instanceof Function&&i.callback(),n()})})}},{key:"_calculateMaxScroll",value:function(){var t=this.itemCount*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(t<0?0:t)}},{key:"_isOverScroll",value:function(t){return t<0||t>this._calculateMaxScroll()}},{key:"_getOverScrollDirection",value:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"}},{key:"_scrollToKillOverScroll",value:function(){if(this._scroll<0)return si(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=0);var t=this._calculateMaxScroll();return t<this._scroll?(si(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(t)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=t)):void 0}},{key:"refresh",value:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?hn:dn),this._setup(),this._lastState&&this._lastState.width>0){var t=this._scroll;this._isOverScroll(t)?this._scrollToKillOverScroll():(this.autoScroll&&(t=this._normalizeScrollPosition(t)),this._scrollTo(t))}this._saveLastState(),ri.triggerElementEvent(this,"refresh",{carousel:this})}}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"connectedCallback",value:function(){var t=this;this._prepareEventListeners(),this._setup(),this._setupInitialIndex(),this._saveLastState(),0===this.offsetHeight&&setImmediate(function(){return t.refresh()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"swipeable":this._updateSwipeable();break;case"auto-refresh":this._updateAutoRefresh();break;case"direction":this._onDirectionChange()}}},{key:"disconnectedCallback",value:function(){this._removeEventListeners()}},{key:"itemCount",get:function(){return this._getCarouselItemElements().length}},{key:"autoScrollRatio",get:function(){var t=this.getAttribute("auto-scroll-ratio");if(!t)return.5;var e=parseFloat(t);if(e<0||e>1)throw new Error("Invalid ratio.");return isNaN(e)?.5:e},set:function(t){if(t<0||t>1)throw new Error("Invalid ratio.");this.setAttribute("auto-scroll-ratio",t)}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return ri.toggleAttribute(this,"swipeable",t)}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return ri.toggleAttribute(this,"auto-scroll",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return ri.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return ri.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return ri.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction"]}},{key:"events",get:function(){return["postchange","refresh","overscroll"]}}]),e}(Wi);customElements.define("ons-carousel",pn);var fn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this.getAttribute("width")&&this._updateWidth()}},{key:"attributeChangedCallback",value:function(t,e,i){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");"string"==typeof t&&(t=(""+t).trim(),t=t.match(/^\d+$/)?t+"%":t,this.style.webkitBoxFlex="0",this.style.webkitFlex="0 0 "+t,this.style.mozBoxFlex="0",this.style.mozFlex="0 0 "+t,this.style.msFlex="0 0 "+t,this.style.flex="0 0 "+t,this.style.maxWidth=t)}}],[{key:"observedAttributes",get:function(){return["width"]}}]),e}(Wi);customElements.define("ons-col",fn);var mn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Ui),vn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in-out":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.3:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(mn),gn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in-out":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}));return u.bodyHeight=document.body.clientHeight,u}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(mn),_n=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}));return u.bodyHeight=document.body.clientHeight,u}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},si.runAll(si(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),si(t._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(mn),yn={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},bn={default:function(){return Ie.isAndroid()?vn:gn},slide:_n,none:mn},wn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),a(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new Be({animators:bn,baseClass:mn,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(Ge.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");for(e.classList.add("dialog-container");this.firstChild;)e.appendChild(this.firstChild);t.appendChild(e),this.appendChild(t)}if(!this._mask){var i=document.createElement("div");i.classList.add("dialog-mask"),this.insertBefore(i,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),De.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return yn}},{key:"_mask",get:function(){return ri.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return ri.findChild(this,".dialog")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof mn))throw new Error('"Animator" param must inherit OnsDialogElement.DialogAnimator');bn[t]=e}},{key:"animators",get:function(){return bn}},{key:"DialogAnimator",get:function(){return mn}}]),e}(Ki);customElements.define("ons-dialog",wn);var kn={"":"fab--*",".fab__icon":"fab--*__icon"},xn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this.hide(),this.classList.add("fab"),a(this,function(){t._compile()})}},{key:"_compile",value:function(){if(Ge.prepare(this),!ri.findChild(this,".fab__icon")){
var t=document.createElement("span");t.classList.add("fab__icon"),ri.arrayFrom(this.childNodes).forEach(function(e){e.tagName&&"ons-ripple"===e.tagName.toLowerCase()||t.appendChild(e)}),this.appendChild(t)}this._updateRipple(),De.initModifier(this,kn),this._updatePosition()}},{key:"connectedCallback",value:function(){var t=this;setImmediate(function(){return t.show()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("fab")||(this.className="fab "+i);break;case"modifier":De.onModifierChanged(e,i,this,kn);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){var t=this;setImmediate(function(){return t.hide()})}},{key:"_updateRipple",value:function(){ri.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(1)",this.style.webkitTransform="scale(1)"}},{key:"hide",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(0)",this.style.webkitTransform="scale(0)"}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return"scale(1)"===this.style.transform&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position","class"]}}]),e}(Wi);customElements.define("ons-fab",xn);var Cn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._gestureDetector=new hi(this)}}]),e}(Wi);customElements.define("ons-gesture-detector",Cn);var En=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,i){-1!==["icon","size","modifier"].indexOf(t)&&this._update()}},{key:"_compile",value:function(){var t=this;Ge.prepare(this),this._update(),setImmediate(function(){return t._update()})}},{key:"_update",value:function(){var t=this;this._cleanClassAttribute();var e=this._buildClassAndStyle(this._getAttribute("icon"),this._getAttribute("size")),i=e.classList,n=e.style;ri.extend(this.style,n),i.forEach(function(e){return t.classList.add(e)})}},{key:"_getAttribute",value:function(t){var e=(this.getAttribute(t)||"").split(/\s*,\s*/),i=e[0],n=e[1];return n=(n||"").split(/\s*:\s*/),(ri.hasModifier(this,n[0])?n[1]:i)||""}},{key:"_cleanClassAttribute",value:function(){var t=this;ri.arrayFrom(this.classList).filter(function(t){return/^(fa$|fa-|ion-|zmdi-)/.test(t)}).forEach(function(e){return t.classList.remove(e)}),this.classList.remove("zmdi"),this.classList.remove("ons-icon--ion")}},{key:"_buildClassAndStyle",value:function(t,e){var i=["ons-icon"],n={};return 0===t.indexOf("ion-")?(i.push(t),i.push("ons-icon--ion")):0===t.indexOf("fa-")?(i.push(t),i.push("fa")):0===t.indexOf("md-")?(i.push("zmdi"),i.push("zmdi-"+t.split(/\-(.+)?/)[1])):(i.push("fa"),i.push("fa-"+t)),e.match(/^[1-5]x|lg$/)?(i.push("fa-"+e),this.style.removeProperty("font-size")):n.fontSize=e,{classList:i,style:n}}}],[{key:"observedAttributes",get:function(){return["icon","size","modifier"]}}]),e}(Wi);customElements.define("ons-icon",En);var Ln=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"connectedCallback",value:function(){this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new ze(t,this._templateElement||null);this._lazyRepeatProvider=new Fe(this.parentElement,e)},get:function(){throw new Error("This property can only be used to set the delegate object.")}}]),e}(Wi);customElements.define("ons-lazy-repeat",Ln);var On={"":"list-header--*"},Sn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("list-header"),De.initModifier(this,On)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("list-header")||(this.className="list-header "+i);break;case"modifier":De.onModifierChanged(e,i,this,On)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-list-header",Sn);var Pn={"":"list-title--*"},An=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("list-title"),De.initModifier(this,Pn)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("list-title")||(this.className="list-title "+i);break;case"modifier":De.onModifierChanged(e,i,this,Pn)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-list-title",An);var Mn={".list-item":"list-item--*",".list-item__left":"list-item--*__left",".list-item__center":"list-item--*__center",".list-item__right":"list-item--*__right",".list-item__label":"list-item--*__label",".list-item__title":"list-item--*__title",".list-item__subtitle":"list-item--*__subtitle",".list-item__thumbnail":"list-item--*__thumbnail",".list-item__icon":"list-item--*__icon"},Tn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile()})}},{key:"_compile",value:function(){this.classList.add("list-item");for(var t=void 0,e=void 0,i=void 0,n=0;n<this.children.length;n++){var r=this.children[n];r.classList.contains("left")?(r.classList.add("list-item__left"),t=r):r.classList.contains("center")?e=r:r.classList.contains("right")&&(r.classList.add("list-item__right"),i=r)}if(!e){if(e=document.createElement("div"),t||i)for(var o=this.childNodes.length-1;o>=0;o--){var s=this.childNodes[o];s!==t&&s!==i&&e.insertBefore(s,e.firstChild)}else for(;this.childNodes[0];)e.appendChild(this.childNodes[0]);this.insertBefore(e,i||null)}e.classList.add("center"),e.classList.add("list-item__center"),this._updateRipple(),De.initModifier(this,Mn),Ge.prepare(this)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("list-item")||(this.className="list-item "+i);break;case"modifier":De.onModifierChanged(e,i,this,Mn);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("drag",this._onDrag),this.addEventListener("touchstart",this._onTouch),this.addEventListener("mousedown",this._onTouch),this.addEventListener("touchend",this._onRelease),this.addEventListener("touchmove",this._onRelease),this.addEventListener("touchcancel",this._onRelease),this.addEventListener("mouseup",this._onRelease),this.addEventListener("mouseout",this._onRelease),this.addEventListener("touchleave",this._onRelease),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"disconnectedCallback",value:function(){this.removeEventListener("drag",this._onDrag),this.removeEventListener("touchstart",this._onTouch),this.removeEventListener("mousedown",this._onTouch),this.removeEventListener("touchend",this._onRelease),this.removeEventListener("touchmove",this._onRelease),this.removeEventListener("touchcancel",this._onRelease),this.removeEventListener("mouseup",this._onRelease),this.removeEventListener("mouseout",this._onRelease),this.removeEventListener("touchleave",this._onRelease)}},{key:"_updateRipple",value:function(){ri.updateRipple(this)}},{key:"_onDrag",value:function(t){var e=t.gesture;this._shouldLockOnDrag()&&["left","right"].indexOf(e.direction)>-1&&e.preventDefault()}},{key:"_onTouch",value:function(){this.tapped||(this.tapped=!0,this.style.transition=this._transition,this.style.webkitTransition=this._transition,this.style.MozTransition=this._transition,this._tappable&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),this.style.backgroundColor=this._tapBackgroundColor,this.style.boxShadow="0px -1px 0px 0px "+this._tapBackgroundColor))}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.transition="",this.style.webkitTransition="",this.style.MozTransition="",this.style.backgroundColor=this._originalBackgroundColor||"",this.style.boxShadow=""}},{key:"_shouldLockOnDrag",value:function(){return this.hasAttribute("lock-on-drag")}},{key:"_transition",get:function(){return"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"}},{key:"_tappable",get:function(){return this.hasAttribute("tappable")}},{key:"_tapBackgroundColor",get:function(){return this.getAttribute("tap-background-color")||"#d9d9d9"}}],[{key:"observedAttributes",get:function(){return["modifier","class","ripple"]}}]),e}(Wi);customElements.define("ons-list-item",Tn);var jn={"":"list--*"},In=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("list"),De.initModifier(this,jn)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("list")||(this.className="list "+i);break;case"modifier":De.onModifierChanged(e,i,this,jn)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-list",In);var Rn={".text-input":"text-input--*",".text-input__label":"text-input--*__label",".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark",".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},Nn=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","size","step","type","validator","value"],Bn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile(),t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),this._boundOnInput=this._onInput.bind(this),this._boundOnFocusin=this._onFocusin.bind(this),this._boundDelegateEvent=this._delegateEvent.bind(this)}},{key:"_compile",value:function(){if(Ge.prepare(this),0===this.children.length){var t=document.createElement("span");t.classList.add("_helper");var e=document.createElement("label");e.appendChild(document.createElement("input")),e.appendChild(t);var i=document.createElement("span");switch(i.classList.add("input-label"),ri.arrayFrom(this.childNodes).forEach(function(t){return i.appendChild(t)}),this.hasAttribute("content-left")?e.insertBefore(i,e.firstChild):e.appendChild(i),this.appendChild(e),this.getAttribute("type")){case"checkbox":this.classList.add("checkbox"),this._input.classList.add("checkbox__input"),this._helper.classList.add("checkbox__checkmark"),this._updateBoundAttributes();break;case"radio":this.classList.add("radio-button"),this._input.classList.add("radio-button__input"),this._helper.classList.add("radio-button__checkmark"),this._updateBoundAttributes();break;default:this._input.classList.add("text-input"),this._helper.classList.add("text-input__label"),this._input.parentElement.classList.add("text-input__container"),this._updateLabel(),this._updateBoundAttributes(),this._updateLabelClass()}this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id")),De.initModifier(this,Rn)}}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"modifier":a(this,function(){return De.onModifierChanged(e,i,n,Rn)});break;case"placeholder":a(this,function(){return n._updateLabel()});break;case"input-id":a(this,function(){return n._input.id=i});break;case"checked":this.checked=null!==i;break;case"class":switch(this.getAttribute("type")){case"checkbox":this.classList.contains("checkbox")||(this.className="checkbox "+i);break;case"radio":this.classList.contains("radio-button")||(this.className="radio-button "+i)}}Nn.indexOf(t)>=0&&a(this,function(){return n._updateBoundAttributes()})}},{key:"connectedCallback",value:function(){var t=this;a(this,function(){"checkbox"!==t._input.type&&"radio"!==t._input.type&&(t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin),t._input.addEventListener("focusout",t._boundOnFocusout)),t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;a(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin),t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"_setLabel",value:function(t){void 0!==this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabel",value:function(){this._setLabel(this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"")}},{key:"_updateBoundAttributes",value:function(){var t=this;Nn.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):-1===["checkbox","radio"].indexOf(this.getAttribute("type"))&&this._helper.classList.add("text-input--material__label--active")}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_onInput",value:function(t){this._updateLabelClass()}},{key:"_onFocusin",value:function(t){this._updateLabelClass()}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_helper",get:function(){return this.querySelector("._helper")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;a(this,function(){t instanceof Date&&(t=t.toISOString().substring(0,10)),e._input.value=t,e._onInput()})}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;a(this,function(){e._input.checked=t})}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_isTextInput",get:function(){return"radio"!==this.type&&"checkbox"!==this.type}},{key:"type",get:function(){return this.getAttribute("type")}}],[{key:"observedAttributes",get:function(){return["class","modifier","placeholder","input-id","checked"].concat(Nn)}},{key:"events",get:function(){return["change","input","focus","focusin","focusout","blur"]}}]),e}(Wi);customElements.define("ons-input",Bn);var Dn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Ui),zn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.3:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e=e||function(){},si(t).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},si(t).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}}]),e}(Dn),Fn={"":"modal--*",modal__content:"modal--*__content"},Vn={default:Dn,fade:zn,none:Dn},qn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this._defaultDBB=function(){},a(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new Be({animators:Vn,baseClass:Dn,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!ri.findChild(this,".modal__content")){var t=document.createElement("div");for(t.classList.add("modal__content");this.childNodes[0];){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}De.initModifier(this,this._scheme)}},{key:"_toggleStyle",value:function(t){this.style.display=t?"table":"none"}},{key:"attributeChangedCallback",value:function(t,i,n){"class"===t?this.classList.contains("modal")||(this.className="modal "+n):g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,i,n)}},{key:"_scheme",get:function(){return Fn}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Dn))throw new Error('"Animator" param must inherit OnsModalElement.ModalAnimator');Vn[t]=e}},{key:"observedAttributes",get:function(){return[].concat(b(g(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["class"])}},{key:"animators",get:function(){return Vn}},{key:"ModalAnimator",get:function(){return Dn}}]),e}(Ki);customElements.define("ons-modal",qn);var Hn=function(t){function e(t){return p(this,e),t=ri.extend({timing:"linear",duration:"0.4",delay:"0"},t||{}),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _(e,t),f(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}},{key:"block",value:function(t){var e=ri.createElement('\n      <div style="position: absolute; background-color: transparent; width: 100%; height: 100%; z-index: 100000"></div>\n    ');return t.parentNode.appendChild(e),function(){return e.remove()}}}]),e}(Ui),Un=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.4:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}));return u.backgroundMask=ri.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black; opacity: 0; z-index: 2"></div>\n    '),u}return _(e,t),f(e,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),i=e._getToolbarLeftItemsElement(),n=e._getToolbarRightItemsElement(),r=function(t){for(var e=[],i=0;i<t.length;i++)"ons-back-button"!==t[i].nodeName.toLowerCase()&&e.push(t[i]);return e},o=[].concat(0===i.children.length?i:r(i.children)).concat(0===n.children.length?n:r(n.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:o,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var i=t._canAnimateToolbar()&&e._canAnimateToolbar(),n=!t._getToolbarElement().classList.contains("toolbar--material")&&!e._getToolbarElement().classList.contains("toolbar--material");return i&&n}},{key:"_calculateDelta",value:function(t,e){var i=void 0,n=void 0,r=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var o=e.backButtonLabel.getBoundingClientRect();i=Math.round(r.width/2-o.width/2-o.left)}else i=Math.round(r.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(n=e.backButtonIcon.getBoundingClientRect().right-2),{title:i,label:n}}},{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i.nextSibling);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);a(t,function(){var e=ri.findToolbarPage(t)||t,s=ri.findToolbarPage(i)||i,a=r._decompose(e),u=r._decompose(s),l=r._calculateDelta(i,a),c=si(r.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(r.delay).queue({opacity:.05},{duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()});if(r._shouldAnimateToolbar(e,s)){var h=a.toolbar.getBoundingClientRect().height+"px";r.backgroundMask.style.top=h,si.runAll(c,si([a.content,a.bottomToolbar,a.background]).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle(),si(a.toolbar).saveStyle().queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),si(a.background).queue({css:{top:h},duration:0}),si(a.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(125%, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),si(a.backButtonLabel).saveStyle().queue({css:{transform:"translate3d("+l.title+"px, 0, 0)",opacity:0},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),si(a.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(r.delay).queue({css:{opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),si([u.content,u.bottomToolbar,u.background]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){o(),n(),t()}),si(u.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(-"+l.title+"px, 0, 0)",opacity:0},duration:r.duration,timing:r.timing}).restoreStyle(),si(u.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(-"+l.label+"px, 0, 0)",opacity:0},duration:r.duration,timing:r.timing}).restoreStyle(),si(u.other).saveStyle().queue({css:{opacity:1},duration:0}).wait(r.delay).queue({css:{opacity:0},duration:r.duration,timing:r.timing}).restoreStyle())}else si.runAll(c,si(t).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle(),si(i).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){o(),n(),t()}))})}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=ri.findToolbarPage(t)||t,a=ri.findToolbarPage(i)||i,u=this._decompose(s),l=this._decompose(a),c=this._calculateDelta(i,l),h=si(this.backgroundMask).saveStyle().queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){t()});if(this._shouldAnimateToolbar(s,a)){var d=u.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=d,si.runAll(h,si([u.content,u.bottomToolbar,u.background]).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),si(u.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(-"+c.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),si(u.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(-"+c.label+"px, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),si(u.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),si(l.background).queue({css:{top:d},duration:0}),si([l.content,l.bottomToolbar,l.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(0).queue(function(t){r.backgroundMask.remove(),o(),n(),t()}),si(l.toolbar).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}),si(l.toolbarCenter).queue({css:{transform:"translate3d(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(125%, 0, 0)"},duration:this.duration,timing:this.timing}),si(l.backButtonLabel).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d("+c.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}else si.runAll(h,si(t).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),si(i).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).queue(function(t){r.backgroundMask.remove(),o(),n(),t()}))}}]),e}(Hn),Zn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.4:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}));return u.backgroundMask=ri.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background: linear-gradient(black, white);"></div>\n    '),u}return _(e,t),f(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=si(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()});si.runAll(s,si(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){o(),n(),t()}),si(i).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()}),si(t).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){o(),n(),t()}),si(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),e}(Hn),Wn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.4:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"push",value:function(t,i,n){var r=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si([t._getContentElement(),t._getBackgroundElement()]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),n(),t()}),si(t._getToolbarElement()).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle())}},{key:"pop",value:function(t,i,n){var r=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si([i._getContentElement(),i._getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).queue(function(t){r(),n(),t()}),si(i._getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}}]),e}(Hn),Gn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.3:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))
;return u.backgroundMask=ri.createElement('\n      <div style="position: absolute; width: 100%; height: 100%; z-index: 2;\n        background-color: black; opacity: 0;"></div>\n    '),u.blackMaskOpacity=.4,u}return _(e,t),f(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentElement.insertBefore(this.backgroundMask,i.nextSibling);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()}),si(t).saveStyle().queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),si(i).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().wait(.2).queue(function(t){o(),n(),t()}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(this.backgroundMask).saveStyle().queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()}),si(t).saveStyle().queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),si(i).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(t){o(),n(),t()}))}}]),e}(Hn),Yn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,r=t.delay,o=void 0===r?.05:r,s=t.duration,a=void 0===s?.4:s;p(this,e);var u=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}));return u.backgroundMask=ri.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black;"></div>\n    '),u}return _(e,t),f(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=si(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()});si.runAll(s,si(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){o(),n(),t()}),si(i).queue({css:{opacity:1},duration:0}).queue({css:{opacity:.4},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()}),si(t).queue({css:{transform:"translate3D(0, 0, 0)",opacity:.4},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){o(),n(),t()}),si(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),e}(Hn),Xn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-out":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.25:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"push",value:function(t,i,n){var r=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(t).saveStyle().queue({css:{transform:"translate3D(0, 42px, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),n(),t()}))}},{key:"pop",value:function(t,i,n){var r=g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);si.runAll(si(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(.15).queue({css:{transform:"translate3D(0, 38px, 0)"},duration:this.duration,timing:this.timing}).queue(function(t){r(),n(),t()}),si(i).queue({css:{opacity:1},duration:0}).wait(.04).queue({css:{opacity:0},duration:this.duration,timing:this.timing}))}}]),e}(Hn),$n=function(t){function e(t){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _(e,t),f(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}}]),e}(Hn),Qn={default:function(){return Ie.isAndroid()?Xn:Un},slide:function(){return Ie.isAndroid()?Gn:Un},lift:function(){return Ie.isAndroid()?Yn:Zn},fade:function(){return Ie.isAndroid()?Xn:Wn},"slide-ios":Un,"slide-md":Gn,"lift-ios":Zn,"lift-md":Yn,"fade-ios":Wn,"fade-md":Xn,none:$n},Kn={ready:function(t,e){e()}},Jn=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._isRunning=!1,this._initialized=!1,this._pageLoader=qi,this._pageMap=new WeakMap,this._updateAnimatorFactory()}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this._initialized||(this._initialized=!0,Kn.ready(this,function(){if(0===t.pages.length&&t._getPageTarget())t.pushPage(t._getPageTarget(),{animation:"none"});else if(t.pages.length>0){for(var e=0;e<t.pages.length;e++)if("ONS-PAGE"!==t.pages[e].nodeName)throw new Error("The children of <ons-navigator> need to be of type <ons-page>");t.topPage&&a(t.topPage,function(){return setTimeout(function(){t.topPage._show(),t._updateLastPageBackButton()},0)})}else a(t,function(){0===t.pages.length&&t._getPageTarget()&&t.pushPage(t._getPageTarget(),{animation:"none"})})}))}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new Be({animators:Qn,baseClass:Hn,baseClassName:"NavigatorTransitionAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null}},{key:"attributeChangedCallback",value:function(t,e,i){"animation"===t&&this._updateAnimatorFactory()}},{key:"popPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this._preparePageAndOptions(null,e).options;var i=function(){return new Promise(function(e){t._pageLoader.unload(t.pages[t.pages.length-1]),e()})};return e.refresh?this._popPageAndRefresh(e,i):this._popPage(e,i)}},{key:"_popPageAndRefresh",value:function(t,e){var i=this;ri.warn("'refresh' option for pushPage has been deprecated and will be removed in the next release.");var n=this.pages.length-2,r=this.pages[n];if(!this._pageMap.has(r))throw new Error("Refresh option cannot be used with pages directly inside the Navigator. Use ons-template instead.");var o=this._pageMap.get(r);return new Promise(function(t){var e={page:o,parent:i,params:r.pushedOptions?r.pushedOptions.data:{}};i._pageLoader.load(e,function(e){i._pageMap.set(e,o),e=ri.extend(e,{data:r.data,pushedOptions:r.pushedOptions||{}}),i.insertBefore(e,r||null),i._pageLoader.unload(r),t()})}).then(function(){return i._popPage(t,e)})}},{key:"_popPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var n=this.pages.length;return this._isRunning=!0,this.pages[n-2].updateBackButton(n-2>0),new Promise(function(r){var o=e.pages[n-1],s=e.pages[n-2];t.animation=t.animation||(o.pushedOptions?o.pushedOptions.animation:void 0),t.animationOptions=ri.extend({},o.pushedOptions?o.pushedOptions.animationOptions:{},t.animationOptions||{}),t.data&&(s.data=ri.extend({},s.data||{},t.data||{}));var a=function(){i().then(function(){e._isRunning=!1,s._show(),ri.triggerElementEvent(e,"postpop",{leavePage:o,enterPage:s,navigator:e}),"function"==typeof t.callback&&t.callback(),r(s)})};o._hide(),e._animatorFactory.newAnimator(t).pop(e.pages[n-2],e.pages[n-1],a)}).catch(function(){return e._isRunning=!1})}},{key:"pushPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);t=n.page,i=n.options;var r=function(n){e._verifyPageElement(n),e._pageMap.set(n,t),n=ri.extend(n,{data:i.data}),n.style.visibility="hidden"};return i.pageHTML?this._pushPage(i,function(){return new Promise(function(t){Hi.load({page:i.pageHTML,parent:e,params:i.data},function(e){r(e),t()})})}):this._pushPage(i,function(){return new Promise(function(n){e._pageLoader.load({page:t,parent:e,params:i.data},function(t){r(t),n()})})})}},{key:"_pushPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var n=Be.parseAnimationOptionsString(this.getAttribute("animation-options"));e=ri.extend({},this.options||{},{animationOptions:n},e);var r=this._animatorFactory.newAnimator(e);return i().then(function(){var i=t.pages.length,n=t.pages[i-1],o=e.leavePage||t.pages[i-2];if("ONS-PAGE"!==n.nodeName)throw new Error("Only elements of type <ons-page> can be pushed to the navigator");return n.updateBackButton(i-1),n.pushedOptions=ri.extend({},n.pushedOptions||{},e||{}),n.data=ri.extend({},n.data||{},e.data||{}),n.unload=n.unload||e.unload,new Promise(function(i){var s=function(){t._isRunning=!1,setImmediate(function(){return n._show()}),ri.triggerElementEvent(t,"postpush",{leavePage:o,enterPage:n,navigator:t}),"function"==typeof e.callback&&e.callback(),i(n)};n.style.visibility="",o?(o._hide(),r.push(n,o,s)):s()})}).catch(function(e){throw t._isRunning=!1,e})}},{key:"replacePage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(t,i).then(function(t){return e.pages.length>1&&e._pageLoader.unload(e.pages[e.pages.length-2]),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._preparePageAndOptions(e,n);if(e=r.page,n=r.options,(t=this._normalizeIndex(t))>=this.pages.length)return this.pushPage(e,n);e="string"==typeof n.pageHTML?n.pageHTML:e;var o="string"==typeof n.pageHTML?Hi:this._pageLoader;return new Promise(function(r){o.load({page:e,parent:i},function(o){i._verifyPageElement(o),i._pageMap.set(o,e),o=ri.extend(o,{data:n.data,pushedOptions:n}),n.animationOptions=ri.extend({},Be.parseAnimationOptionsString(i.getAttribute("animation-options")),n.animationOptions||{}),i.insertBefore(o,i.pages[t]),i.topPage.updateBackButton(!0),setTimeout(function(){o=null,r(i.pages[t])},1e3/60)})})}},{key:"resetToPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);t=n.page,i=n.options,i.animator||i.animation||(i.animation="none");var r=i.callback;return i.callback=function(){for(;e.pages.length>1;)e._pageLoader.unload(e.pages[0]);e.pages[0].updateBackButton(!1),r&&r()},i.page||i.pageHTML||!this._getPageTarget()||(t=i.page=this._getPageTarget()),this.pushPage(t,i)}},{key:"bringPageTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1===["number","string"].indexOf(void 0===t?"undefined":d(t)))throw new Error("First argument must be a page name or the index of an existing page. You supplied "+t);var i="number"==typeof t?this._normalizeIndex(t):this._lastIndexOfPage(t),n=this.pages[i];if(i<0)return this.pushPage(t,e);if(e=this._preparePageAndOptions(n,e).options,i===this.pages.length-1)return Promise.resolve(n);if(!n)throw new Error("Failed to find item "+t);return this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(n.style.visibility="hidden",n.setAttribute("_skipinit",""),n.parentNode.appendChild(n),this._pushPage(e))}},{key:"_preparePageAndOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=(void 0===e?"undefined":d(e)))throw new Error("options must be an object. You supplied "+e);return null!==t&&void 0!==t||!e.page||(t=e.page),e=ri.extend({},this.options||{},e,{page:t}),{page:t,options:e}}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;t>=0&&this.pages[t].updateBackButton(t>0)}},{key:"_normalizeIndex",value:function(t){return t>=0?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){this.pages.length>1?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;e>=0;e--){if(!this._pageMap.has(this.pages[e]))throw Error("This is bug.");if(t===this._pageMap.get(this.pages[e]))break}return e}},{key:"_emitPreEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1;return ri.triggerElementEvent(this,"pre"+t,ri.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return i=!0}},e)),i}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=ri.createElement(Ne.normalizePageHTML(t));return this._verifyPageElement(e),e}},{key:"_verifyPageElement",value:function(t){if("ons-page"!==t.nodeName.toLowerCase())throw new Error('You must supply an "ons-page" element to "ons-navigator".')}},{key:"_show",value:function(){this.topPage&&this.topPage._show()}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;t>=0;t--)this._pageLoader.unload(this.pages[t]);this.remove()}},{key:"animatorFactory",get:function(){return this._animatorFactory}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Vi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Di.createHandler(this,t)}},{key:"topPage",get:function(){return this.pages[this.pages.length-1]||null}},{key:"pages",get:function(){return ri.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Hn))throw new Error('"Animator" param must inherit NavigatorElement.NavigatorTransitionAnimator');Qn[t]=e}},{key:"observedAttributes",get:function(){return["animation"]}},{key:"animators",get:function(){return Qn}},{key:"NavigatorTransitionAnimator",get:function(){return Hn}},{key:"events",get:function(){return["prepush","postpush","prepop","postpop"]}},{key:"rewritables",get:function(){return Kn}}]),e}(Wi);customElements.define("ons-navigator",Jn);var tr={"":"toolbar--*",".toolbar__left":"toolbar--*__left",".toolbar__center":"toolbar--*__center",".toolbar__right":"toolbar--*__right"},er=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("toolbar")||(this.className="toolbar "+i);break;case"modifier":De.onModifierChanged(e,i,this,tr)}}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||Ne.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||Ne.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||Ne.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||Ne.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||Ne.nullElement}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("toolbar"),this._ensureToolbarItemElements(),De.initModifier(this,tr)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("toolbar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var i=this._ensureToolbarElement("left"),n=this._ensureToolbarElement("right");this.children[0]===i&&this.children[1]===e&&this.children[2]===n||(this.appendChild(i),this.appendChild(e),this.appendChild(n))}}},{key:"_ensureToolbarElement",value:function(t){if(ri.findChild(this,".toolbar__"+t)){var e=ri.findChild(this,".toolbar__"+t);return e.classList.add(t),e}var i=ri.findChild(this,"."+t)||ri.create("."+t);return i.classList.add("toolbar__"+t),i}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-toolbar",er);var ir={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},nr=document.createElement("ons-toolbar"),rr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this.classList.add("page"),this._initialized=!1,a(this,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._isMuted=t.hasAttribute("_muted"),t._skipInit=t.hasAttribute("_skipinit")})}},{key:"connectedCallback",value:function(){var t=this;this._initialized||(this._initialized=!0,a(this,function(){t._isMuted||(t._skipInit?t.removeAttribute("_skipinit"):setImmediate(function(){return ri.triggerElementEvent(t,"init")})),ri.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}),t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll"))}))}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_tryToFillStatusBar",value:function(){var t=this;Ne.autoStatusBarFill(function(){var e=ri.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});ri.toggleAttribute(t,"status-bar-fill",!e&&(t._canAnimateToolbar()||!t._hasAPageControlChild()))})}},{key:"_hasAPageControlChild",value:function(){return ri.findChild(this._contentElement,function(t){return t.nodeName.match(/ons-(splitter|sliding-menu|navigator|tabbar)/i)})}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,i=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&i&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=ri.findChild(this,".page__content");if(t)return t;throw Error('fail to get ".page__content" element.')}},{key:"_canAnimateToolbar",value:function(){return!!ri.findChild(this,"ons-toolbar")||!!ri.findChild(this._contentElement,function(t){return ri.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"_getBackgroundElement",value:function(){var t=ri.findChild(this,".page__background");if(t)return t;throw Error('fail to get ".page__background" element.')}},{key:"_getBottomToolbarElement",value:function(){return ri.findChild(this,"ons-bottom-toolbar")||Ne.nullElement}},{key:"_getToolbarElement",value:function(){return ri.findChild(this,"ons-toolbar")||nr}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("page")||(this.className="page "+i);break;case"modifier":De.onModifierChanged(e,i,this,ir);break;case"_muted":this._isMuted=this.hasAttribute("_muted");break;case"_skipinit":this._skipInit=this.hasAttribute("_skipinit");break;case"on-infinite-scroll":this.onInfiniteScroll=null===i?null:function(t){var e=ri.findFromPath(i);n.onInfiniteScroll=e,e(t)}}}},{key:"_compile",value:function(){var t=this;if(Ge.prepare(this),ri.findChild(this,".content")&&ri.findChild(this,".content").classList.add("page__content"),ri.findChild(this,".background")&&ri.findChild(this,".background").classList.add("page__background"),!ri.findChild(this,".page__content")){var e=ri.create(".page__content");ri.arrayFrom(this.childNodes).forEach(function(i){(1!==i.nodeType||t._elementShouldBeMoved(i))&&e.appendChild(i)});var i=ri.findChild(this,".page__background")||ri.findChild(this,"ons-toolbar");this.insertBefore(e,i&&i.nextSibling)}if(!ri.findChild(this,".page__background")){var n=ri.create(".page__background");this.insertBefore(n,ri.findChild(this,".page__content"))}De.initModifier(this,ir)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();if("ons-fab"===e)return!t.hasAttribute("position");var i=["ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial","ons-dialog","ons-alert-dialog","ons-popover"];return t.hasAttribute("inline")||-1===i.indexOf(e)}},{key:"_show",value:function(){!this._isShown&&ri.isAttached(this)&&(this._isShown=!0,this._isMuted||ri.triggerElementEvent(this,"show"),ri.propagateAction(this,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this._isMuted||ri.triggerElementEvent(this,"hide"),ri.propagateAction(this,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this._isMuted||ri.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),ri.propagateAction(this,"_destroy"),this.remove()}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){var e=this;if(null===t)return this._onInfiniteScroll=null,void this._contentElement.removeEventListener("scroll",this._boundOnScroll);if(!(t instanceof Function))throw new Error("onInfiniteScroll must be a function or null");this._onInfiniteScroll||(this._infiniteScrollLimit=.9,this._boundOnScroll=this._onScroll.bind(this),setImmediate(function(){return e._contentElement.addEventListener("scroll",e._boundOnScroll)})),this._onInfiniteScroll=t},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Di.createHandler(this,t)}}],[{key:"observedAttributes",get:function(){return["modifier","_muted","_skipinit","on-infinite-scroll","class"]}},{key:"events",get:function(){return["init","show","hide","destroy"]}}]),e}(Wi);customElements.define("ons-page",rr);var or=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,r=t.delay,o=void 0===r?0:r,s=t.duration,a=void 0===s?.2:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:o,duration:a}))}return _(e,t),f(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var i=e.from,n=e.to,r=e.options,o=e.callback,s=e.restore,a=void 0!==s&&s,u=e.animation;return r=ri.extend({},this.options,r),u&&(i=u.from,n=u.to),u=si(t),a&&(u=u.saveStyle()),u=u.queue(i).wait(this.delay).queue({css:n,duration:this.duration,timing:this.timing}),a&&(u=u.restoreStyle()),o&&(u=u.queue(function(t){o(),t()})),u}},{key:"_animateAll",value:function(t,e){var i=this;Object.keys(e).forEach(function(n){return i._animate(t[n],e[n]).play()})}}]),e}(Ui),sr={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},ar=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:sr.in,_popover:{animation:sr.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:sr.out,_popover:{animation:sr.out,restore:!0,callback:e}})}}]),e}(or),ur=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:sr.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),e}(ar),lr={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__content":"popover--*__content",".popover__arrow":"popover--*__arrow"},cr={default:function(){return Ie.isAndroid()?ar:ur},none:or,"fade-ios":ur,"fade-md":ar},hr=ri.createFragment('\n  <div class="popover-mask"></div>\n  <div class="popover">\n    <div class="popover__content"></div>\n    <div class="popover__arrow"></div>\n  </div>\n'),dr={up:"bottom",left:"right",down:"top",right:"left"},pr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this._boundOnChange=this._onChange.bind(this),a(this,function(){t._compile(),t.style.display="none"})}},{key:"_updateAnimatorFactory",value:function(){return new Be({animators:cr,baseClass:or,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"_toggleStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(this.style.display="block",this._currentTarget=e.target,this._positionPopover(e.target)):(this.style.display="none",this._clearStyles())}},{key:"_positionPopover",value:function(t){var e=this._radius,i=this._content,n=this._margin,r=t.getBoundingClientRect(),o=ri.hasModifier(this,"material"),s=o&&this.hasAttribute("cover-target"),a={top:r.top-n,left:r.left-n,right:window.innerWidth-r.right-n,bottom:window.innerHeight-r.bottom-n},u={top:r.top+Math.round(r.height/2),bottom:window.innerHeight-r.bottom+Math.round(r.height/2),left:r.left+Math.round(r.width/2),right:window.innerWidth-r.right+Math.round(r.width/2)},l=this._calculateDirections(a),c=l.vertical,h=l.primary,d=l.secondary;De.addModifier(this,h);var p=c?"width":"height",f=function(t){return{width:parseInt(t.getPropertyValue("width"),10),height:parseInt(t.getPropertyValue("height"),10)}}(window.getComputedStyle(i)),m=s?0:(c?r.height:r.width)+(o?0:14);this._popover.style[h]=Math.max(n,a[h]+m+n)+"px";var v=Math.max(n,n+a[d]-(f[p]-r[p])/2);this._popover.style[d]=v+"px",this._arrow.style[d]=Math.max(e,u[d]-v)+"px"}},{key:"_calculateDirections",value:function(t){var e=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return dr[t]}),i=e.sort(function(e,i){return t[e]-t[i]})[0],n="top"==i||"bottom"==i,r=void 0;return r=n?t.left<t.right?"left":"right":t.top<t.bottom?"top":"bottom",{vertical:n,primary:i,secondary:r}}},{key:"_clearStyles",value:function(){var t=this;["top","bottom","left","right"].forEach(function(e){t._arrow.style[e]=t._content.style[e]=t._popover.style[e]="",De.removeModifier(t,e)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(Ge.prepare(this),!this._popover||!this._mask){if(this._popover&&this._content){if(!this._mask){var t=document.createElement("div");t.classList.add("popover-mask"),this.insertBefore(t,this.firstChild)}if(!this._arrow){var e=document.createElement("div");e.classList.add("popover__arrow"),this._popover.appendChild(e)}}else{for(var i=hr.cloneNode(!0),n=i.querySelector(".popover__content");this.childNodes[0];)n.appendChild(this.childNodes[0]);this.appendChild(i)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),this.hasAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),De.initModifier(this,this._scheme)}}},{key:"show",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=!t||"object"!==(void 0===t?"undefined":d(t))||t instanceof Event||t instanceof HTMLElement?v({},i,{target:t}):v({},t),"string"==typeof i.target?i.target=document.querySelector(i.target):i.target instanceof Event&&(i.target=i.target.target),void 0===i.target)throw new Error("A target or options.target argument must be defined for the popover.");if(!(i.target instanceof HTMLElement))throw new Error("Invalid target for popover.");return g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this,i)}},{key:"connectedCallback",value:function(){var t=this;g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._boundOnChange,!1),this._margin=this._margin||parseInt(window.getComputedStyle(this).getPropertyValue("top")),this._margin=this._margin||6,a(this,function(){t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius"))})}},{key:"disconnectedCallback",value:function(){g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._boundOnChange,!1)}},{key:"attributeChangedCallback",value:function(t,i,n){"direction"===t?this._boundOnChange():g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,i,n)}},{key:"_scheme",get:function(){return lr}},{key:"_mask",get:function(){return ri.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return ri.findChild(this,".popover")}},{key:"_content",get:function(){return ri.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return ri.findChild(this._popover,".popover__arrow")}}],[{key:"registerAnimator",value:function(t,e){
if(!(e.prototype instanceof or))throw new Error('"Animator" param must inherit PopoverAnimator');cr[t]=e}},{key:"observedAttributes",get:function(){return[].concat(b(g(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["direction"])}},{key:"animators",get:function(){return cr}},{key:"PopoverAnimator",get:function(){return or}}]),e}(Ki);customElements.define("ons-popover",pr);var fr={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar--*__primary",".progress-bar__secondary":"progress-bar--*__secondary"},mr=ri.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),vr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){return t._compile()})}},{key:"_compile",value:function(){this._isCompiled()?this._template=ri.findChild(this,".progress-bar"):this._template=mr.cloneNode(!0),this._primary=ri.findChild(this._template,".progress-bar__primary"),this._secondary=ri.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),De.initModifier(this,fr)}},{key:"_isCompiled",value:function(){if(!ri.findChild(this,".progress-bar"))return!1;var t=ri.findChild(this,".progress-bar");return!!ri.findChild(t,".progress-bar__secondary")&&!!ri.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return De.onModifierChanged(e,i,this,fr);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?a(this,function(){t._template.classList.add("progress-bar--indeterminate"),t._template.classList.remove("progress-bar--determinate")}):a(this,function(){t._template.classList.add("progress-bar--determinate"),t._template.classList.remove("progress-bar--indeterminate")})}},{key:"_updateValue",value:function(){var t=this;a(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),e}(Wi);customElements.define("ons-progress-bar",vr);var gr={".progress-circular":"progress-circular--*",".progress-circular__primary":"progress-circular--*__primary",".progress-circular__secondary":"progress-circular--*__secondary"},_r=ri.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__secondary" />\n    <circle class="progress-circular__primary" />\n  </svg>\n'),yr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){return t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return De.onModifierChanged(e,i,this,gr);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?a(this,function(){De.addModifier(t,"indeterminate")}):a(this,function(){De.removeModifier(t,"indeterminate")})}},{key:"_updateValue",value:function(){var t=this;this.hasAttribute("value")&&a(this,function(){var e=Math.ceil(251.32*t.getAttribute("value")*.01);t._primary.style["stroke-dasharray"]=e+"%, 251.32%"}),this.hasAttribute("secondary-value")?a(this,function(){var e=Math.ceil(251.32*t.getAttribute("secondary-value")*.01);t._secondary.style.display=null,t._secondary.style["stroke-dasharray"]=e+"%, 251.32%"}):a(this,function(){t._secondary.style.display="none"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=ri.findChild(this,".progress-circular"):this._template=_r.cloneNode(!0),this._primary=ri.findChild(this._template,".progress-circular__primary"),this._secondary=ri.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),De.initModifier(this,gr)}},{key:"_isCompiled",value:function(){if(!ri.findChild(this,".progress-circular"))return!1;var t=ri.findChild(this,".progress-circular");return!!ri.findChild(t,".progress-circular__secondary")&&!!ri.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),e}(Wi);customElements.define("ons-progress-circular",yr);var br=function(t){t.style.transform="",t.style.WebkitTransform="",t.style.transition="",t.style.WebkitTransition=""},wr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._setState("initial",!0),this._hide()}},{key:"_setStyle",value:function(){var t=this.height;this.style.height=t+"px",this.style.lineHeight=t+"px",this.style.marginTop="-1px",this._pageElement.style.marginTop="-"+t+"px"}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_generateTranslationTransform",value:function(t){return"translate3d(0px, "+t+"px, 0px)"}},{key:"_onDrag",value:function(t){var e=this;if(!this.disabled){if(Ie.isAndroid()){var i=this._pageElement;i.scrollTop=this._startScroll-t.gesture.deltaY,i.scrollTop<window.innerHeight&&"up"!==t.gesture.direction&&t.gesture.preventDefault()}if(0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=t.gesture.deltaY;"down"===t.gesture.interimDirection?this._transitionDragLength-=1:this._transitionDragLength+=1}var n=Math.max(t.gesture.deltaY-this._startScroll,0);this._thresholdHeightEnabled()&&n>=this.thresholdHeight?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):n>=this.height?this._setState("preaction"):this._setState("initial"),"up"!==t.gesture.direction&&"down"!==t.gesture.direction||t.stopPropagation(),this._translateTo(n)}}},{key:"_onDragStart",value:function(t){this.disabled||(this._startScroll=this._getCurrentScroll())}},{key:"_onDragEnd",value:function(t){if(!this.disabled&&this._currentTranslation>0){this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0})}}},{key:"_finish",value:function(){var t=this;this._setState("action"),this._translateTo(this.height,{animate:!0}),(this.onAction||function(t){return t()})(function(){t._translateTo(0,{animate:!0}),t._setState("initial")})}},{key:"_thresholdHeightEnabled",value:function(){var t=this.thresholdHeight;return t>0&&t>=this.height}},{key:"_setState",value:function(t,e){var i=this._getState();this.setAttribute("state",t),e||i===this._getState()||ri.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:i})}},{key:"_getState",value:function(){return this.getAttribute("state")}},{key:"_getCurrentScroll",value:function(){return this._pageElement.scrollTop}},{key:"_isContentFixed",value:function(){return this.hasAttribute("fixed-content")}},{key:"_getScrollableElement",value:function(){return this._isContentFixed()?this:this._pageElement}},{key:"_show",value:function(){this.style.visibility=""}},{key:"_hide",value:function(){this.style.visibility="hidden"}},{key:"_translateTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=t){var n=function(){if(0===t){var n=e._getScrollableElement();br(n)}i.callback&&i.callback()};this._currentTranslation=t,i.animate?si(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(n):si(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)}).play(n)}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._destroyEventListeners(),this._createEventListeners()}},{key:"_createEventListeners",value:function(){this._gestureDetector=new hi(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled}),this._gestureDetector.on("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.on("dragstart",this._boundOnDragStart),this._gestureDetector.on("dragend",this._boundOnDragEnd),this._pageElement.addEventListener("scroll",this._boundOnScroll,!1)}},{key:"_destroyEventListeners",value:function(){this._gestureDetector&&(this._gestureDetector.off("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.off("dragstart",this._boundOnDragStart),this._gestureDetector.off("dragend",this._boundOnDragEnd),this._gestureDetector.dispose(),this._gestureDetector=null),this._pageElement.removeEventListener("scroll",this._boundOnScroll,!1)}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._createEventListeners(),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._pageElement.style.marginTop="",this._destroyEventListeners()}},{key:"attributeChangedCallback",value:function(t,e,i){"height"===t&&this._pageElement&&this._setStyle()}},{key:"onAction",get:function(){return this._onAction},set:function(t){if(!(t instanceof Function)&&null!==t)throw new Error("onAction must be a function or null");this._onAction=t}},{key:"height",set:function(t){if(!ri.isInteger(t))throw new Error("The height must be an integer");this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){if(!ri.isInteger(t))throw new Error("The threshold height must be an integer");this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this._getState()}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"STATE_INITIAL",get:function(){return"initial"}},{key:"STATE_PREACTION",get:function(){return"preaction"}},{key:"STATE_ACTION",get:function(){return"action"}},{key:"events",get:function(){return["changestate"]}}]),e}(Wi);customElements.define("ons-pull-hook",wr);var kr=function(){function t(){p(this,t),this._queue=[],this._index=0}return f(t,[{key:"animate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=(new Date).getTime(),r={},o=!1,s=!1,a=!1,u=Object.keys(e),l=function(){var e=window.getComputedStyle(t);u.forEach(e.getPropertyValue.bind(e)),e=t.offsetHeight},c={stop:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a&&clearTimeout(a);var h=Math.min(1,((new Date).getTime()-n)/i);return u.forEach(function(i){t.style[i]=(1-h)*r[i]+h*e[i]+("opacity"==i?"":"px")}),t.style.transitionDuration="0s",l.stopNext?s=!1:o||(o=!0,s&&s()),c},then:function(t){return s=t,o&&s&&s(),c},speed:function(s){if(Ne.config.animationsDisabled&&(s=0),!o){a&&clearTimeout(a);var h=(new Date).getTime()-n,d=h/i,p=s*(1-d);u.forEach(function(i){t.style[i]=(1-d)*r[i]+d*e[i]+("opacity"==i?"":"px")}),l(),n=t.speedUpTime,i=p,t.style.transitionDuration=i/1e3+"s",u.forEach(function(i){t.style[i]=e[i]+("opacity"==i?"":"px")}),a=setTimeout(c.stop,p)}return c},finish:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=((new Date).getTime()-n)/i;return c.speed(t/(1-e)),c}};if(t.hasAttribute("disabled")||o||Ne.config.animationsDisabled)return c;var h=window.getComputedStyle(t);return u.forEach(function(t){var e=parseFloat(h.getPropertyValue(t));r[t]=isNaN(e)?0:e}),o||(t.style.transitionProperty=u.join(","),t.style.transitionDuration=i/1e3+"s",u.forEach(function(i){t.style[i]=e[i]+("opacity"==i?"":"px")})),a=setTimeout(c.stop,i),this._onStopAnimations(t,c.stop),c}}]),f(t,[{key:"_onStopAnimations",value:function(t,e){var i=this._queue,n=this._index++;i[t]=i[t]||[],i[t][n]=function(r){return delete i[t][n],i[t]&&0==i[t].length&&delete i[t],e(r)}}},{key:"stopAnimations",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,i)});(this._queue[t]||[]).forEach(function(t){t(i||{})})}},{key:"stopAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.animate(t,{opacity:0},e)}}]),t}(),xr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){return t._compile()}),this._animator=new kr,["color","center","start-radius","background"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})}},{key:"_compile",value:function(){this.classList.add("ripple"),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=ri.create(".ripple__wave"),this._background=ri.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background))}},{key:"_calculateCoords",value:function(t){var e,i,n,r,o,s=this.getBoundingClientRect();return this._center?(e=s.width/2,i=s.height/2,o=Math.sqrt(e*e+i*i)):(e=(t.clientX||t.changedTouches[0].clientX)-s.left,i=(t.clientY||t.changedTouches[0].clientY)-s.top,n=Math.max(i,s.height-i),r=Math.max(e,s.width-e),o=Math.sqrt(n*n+r*r)),{x:e,y:i,r:o}}},{key:"_rippleAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=this._animator,n=this._wave,r=this._background,o=this._minR,s=this._calculateCoords(t),a=s.x,u=s.y,l=s.r;return i.stopAll({stopNext:1}),i.animate(r,{opacity:1},e),ri.extend(n.style,{opacity:1,top:u-o+"px",left:a-o+"px",width:2*o+"px",height:2*o+"px"}),i.animate(n,{top:u-l,left:a-l,height:2*l,width:2*l},e)}},{key:"_updateParent",value:function(){if(!this._parentUpdated&&this.parentNode){"static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0}}},{key:"_onTap",value:function(t){var e=this;this.disabled||(this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||(this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._boundOnRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&(this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._boundOnRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,this._boundOnTap=this._onTap.bind(this),this._boundOnHold=this._onHold.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnRelease=this._onRelease.bind(this),Ne.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._boundOnTap),this._parentNode.addEventListener("hold",this._boundOnHold),this._parentNode.addEventListener("dragstart",this._boundOnDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._boundOnTap),t.removeEventListener("hold",this._boundOnHold),t.removeEventListener("dragstart",this._boundOnDragStart)}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("ripple")||(this.className="ripple "+i);break;case"start-radius":this._minR=Math.max(0,parseFloat(i)||0);break;case"color":i&&a(this,function(){n._wave.style.background=i,n.hasAttribute("background")||(n._background.style.background=i)});break;case"background":(i||e)&&("none"===i?a(this,function(){n._background.setAttribute("disabled","disabled"),n._background.style.background="transparent"}):a(this,function(){n._background.hasAttribute("disabled")&&n._background.removeAttribute("disabled"),n._background.style.background=i}));break;case"center":"center"===t&&(this._center=null!=i&&"false"!=i)}}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center","class"]}}]),e}(Wi);customElements.define("ons-ripple",xr);var Cr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),e}(Wi);customElements.define("ons-row",Cr);var Er={"":"select-*",".select-input":"select-input--*"},Lr=["autofocus","disabled","form","multiple","name","required","size"],Or=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("select")||(this.className="select "+i);break;case"modifier":De.onModifierChanged(e,i,this,Er)}Lr.indexOf(t)>=0&&a(this,function(){return n._updateBoundAttributes()})}},{key:"_updateBoundAttributes",value:function(){var t=this;Lr.forEach(function(e){t.hasAttribute(e)?t._select.setAttribute(e,t.getAttribute(e)):t._select.removeAttribute(e)})}},{key:"_compile",value:function(){var t=this;Ge.prepare(this),this.classList.add("select");var e=this._select||document.createElement("select");!e.id&&this.hasAttribute("select-id")&&(e.id=this.getAttribute("select-id")),e.classList.add("select-input"),this._select||(ri.arrayFrom(this.childNodes).forEach(function(t){return e.appendChild(t)}),this.appendChild(e)),De.initModifier(this,Er);for(var i=["disabled","length","multiple","name","options","selectedIndex","size","value"],n=0;n<i.length;n++)!function(){var e=i[n];t.__defineGetter__(e,function(){return t._select[e]}),t.__defineSetter__(e,function(i){t._select[e]=i})}();this.__defineGetter__("form",function(){return t._select.form}),this.__defineGetter__("type",function(){return t._select.type}),this.add=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t._select.add(e,i)},this.remove=function(e){t._select.remove(e)}}},{key:"_select",get:function(){return this.querySelector("select")}}],[{key:"observedAttributes",get:function(){return["modifier","class"].concat(Lr)}},{key:"events",get:function(){return["change"]}}]),e}(Wi);customElements.define("ons-select",Or);var Sr="fab fab--mini speed-dial__item",Pr={"":"speed-dial__item--*"},Ar=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile(),this._boundOnClick=this._onClick.bind(this)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this._updateClassName(i);break;case"modifier":De.onModifierChanged(e,i,this,Pr);break;case"ripple":this._updateRipple()}}},{key:"_updateClassName",value:function(t){var e=this;Sr.split(/\s+/).every(function(t){return e.classList.contains(t)})||(this.className=Sr+" "+t)}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){ri.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){var t=this;Ge.prepare(this),Sr.split(/\s+/).forEach(function(e){t.classList.add(e)}),this._updateRipple(),De.initModifier(this,Pr)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}(Wi);customElements.define("ons-speed-dial-item",Ar);var Mr=function t(e,i){return t.css.apply(t,arguments)};Mr.css=function(t,e){return Object.keys(e).forEach(function(i){i in t.style?t.style[i]=e[i]:Mr._prefix(i)in t.style?t.style[Mr._prefix(i)]=e[i]:ri.warn("No such style property: "+i)}),t},Mr._prefix=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return function(t){return e+t.substr(0,1).toUpperCase()+t.substr(1)}}(),Mr.clear=function(t){Mr._clear(t)},Mr._clear=function(t){for(var e=t.style.length,i=t.style,n=[],r=0;r<e;r++)n.push(i[r]);n.forEach(function(t){i[t]=""})};var Tr={"":"speed-dial--*"},jr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile()}),this._itemShown=!1,this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){this.classList.add("speed-dial"),Ge.prepare(this),this._updateRipple(),De.initModifier(this,Tr),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("speed-dial")||(this.className="speed-dial "+i);break;case"modifier":De.onModifierChanged(e,i,this,Tr);break;case"ripple":a(this,function(){return n._updateRipple()});break;case"direction":a(this,function(){return n._updateDirection(i)});break;case"position":a(this,function(){return n._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){return this.onClick?(this.onClick.apply(this),Promise.resolve()):!this.disabled&&this.visible?this.toggleItems():void 0}},{key:"_show",value:function(){return this.inline?Promise.resolve():this.show()}},{key:"_hide",value:function(){var t=this;return new Promise(function(e){t.inline?e():setImmediate(function(){return t.hide().then(e)})})}},{key:"_updateRipple",value:function(){this._fab&&(this.hasAttribute("ripple")?this._fab.setAttribute("ripple",""):this._fab.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,i=0;i<e.length;i++)Mr(e[i],{transitionDelay:25*i+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var n=0;n<e.length;n++)e[n].style.bottom=72+56*n+"px",e[n].style.right="8px";break;case"down":for(var r=0;r<e.length;r++)e[r].style.top=72+56*r+"px",e[r].style.left="8px";break;case"left":for(var o=0;o<e.length;o++)e[o].style.top="8px",e[o].style.right=72+56*o+"px";break;case"right":for(var s=0;s<e.length;s++)e[s].style.top="8px",e[s].style.left=72+56*s+"px";break;default:throw new Error("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){return this._fab.show(),Promise.resolve()}},{key:"hide",value:function(){var t=this;return this.hideItems().then(function(){return t._fab.hide()})}},{key:"showItems",value:function(){this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up");var t=0;if(!this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*i;t+=n,Mr(e[i],{transform:"scale(1)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!0,ri.triggerElementEvent(this,"open")}var r=ri.defer();return setTimeout(r.resolve,t),r.promise}},{key:"hideItems",value:function(){var t=0;if(this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*(e.length-i);t+=n,Mr(e[i],{transform:"scale(0)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!1,ri.triggerElementEvent(this,"close")}var r=ri.defer();return setTimeout(r.resolve,t),r.promise}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){return this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return ri.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"_fab",get:function(){return ri.findChild(this,"ons-fab")}},{key:"disabled",set:function(t){return t&&this.hideItems(),ri.arrayFrom(this.children).forEach(function(e){ri.match(e,".fab")&&ri.toggleAttribute(e,"disabled",t)}),ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._fab.visible&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["class","modifier","ripple","direction","position"]}},{key:"events",get:function(){return["open","close"]}}]),e}(Wi);customElements.define("ons-speed-dial",jr);var Ir={ready:function(t,e){setImmediate(e)}},Rr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=qi,a(this,function(){Ir.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})})}},{key:"connectedCallback",value:function(){if(!ri.match(this.parentNode,"ons-splitter"))throw new Error('"ons-splitter-content" must have "ons-splitter" as parentNode.')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"load",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var n=i.callback||function(){};return new Promise(function(i){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),n(t),i(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Vi))throw Error("First parameter must be an instance of PageLoader");this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return Ir}}]),e}(Wi);customElements.define("ons-splitter-content",Rr);var Nr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._boundOnClick=this._onClick.bind(this),a(this,function(){t.parentNode._sides.every(function(t){return"split"===t.mode})&&t.setAttribute("style","display: none !important")})}},{key:"_onClick",value:function(t){this.onClick instanceof Function?this.onClick():ri.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick)}}],[{key:"observedAttributes",get:function(){return[]}}]),e}(Wi);customElements.define("ons-splitter-mask",Nr);var Br=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,r=t.duration,o=void 0===r?.3:r,s=t.delay,a=void 0===s?0:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:o,delay:a}))}return _(e,t),f(e,[{key:"updateOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ri.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},t)}},{key:"activate",value:function(t){var e=this,i=t.parentNode;a(i,function(){e._side=t,e._oppositeSide=i.right!==t&&i.right||i.left!==t&&i.left,e._content=i.content,e._mask=i.mask})}},{key:"deactivate",value:function(){this.clearTransition(),this.clearMask(),this._content=this._side=this._oppositeSide=this._mask=null}},{key:"clearTransition",value:function(){this._side&&(this._side.style.transform=this._side.style.transition=this._side.style.webkitTransition=""),this._mask&&(this._mask.style.transform=this._mask.style.transition=this._mask.style.webkitTransition=""),this._content&&(this._content.style.transform=this._content.style.transition=this._content.style.webkitTransition="")}},{key:"clearMask",value:function(){this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(this._mask.style.opacity="",this._mask.style.display="none")}},{key:"translate",value:function(t){}},{key:"open",value:function(t){t()}},{key:"close",value:function(t){t()}},{key:"minus",get:function(){return"right"===this._side._side?"-":""}}]),e}(Ui),Dr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}
return _(e,t),f(e,[{key:"translate",value:function(t){si(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(t){si.runAll(si(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(e){e(),t&&t()}),si(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(t){si.runAll(si(this._side).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(e){t&&t(),e()}),si(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}}]),e}(Br),zr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"_getSlidingElements",value:function(){var t=[this._side,this._content];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"translate",value:function(t){this._slidingElements||(this._slidingElements=this._getSlidingElements()),si(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(t){var e=this,i=this._side.offsetWidth;this._slidingElements=this._getSlidingElements(),si.runAll(si(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+i)+"px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(i){e._slidingElements=null,i(),t&&t()}),si(this._mask).wait(this.delay).queue({display:"block"}))}},{key:"close",value:function(t){var i=this;this._slidingElements=this._getSlidingElements(),si.runAll(si(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(n){i._slidingElements=null,g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clearTransition",i).call(i),t&&t(),n()}),si(this._mask).wait(this.delay).queue({display:"none"}))}}]),e}(Br),Fr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"_getSlidingElements",value:function(){var t=[this._content,this._mask];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"activate",value:function(t){g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this,t),this.maxWidth=this._getMaxWidth(),"collapse"===t.mode&&this._setStyles(t)}},{key:"deactivate",value:function(){this._unsetStyles(this._side),g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}},{key:"_setStyles",value:function(t){t.style.left="right"===t.side?"auto":0,t.style.right="right"===t.side?0:"auto",t.style.zIndex=0,t.style.opacity=.9,t.style.visibility="hidden";var e=t.parentElement;e.style.backgroundColor="black",a(e,function(){e.content&&(e.content.style.boxShadow="0 0 12px 0 rgba(0, 0, 0, 0.2)")})}},{key:"_unsetStyles",value:function(t){t.style.left=t.style.right=t.style.zIndex=t.style.opacity=t.style.visibility="",this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(t.parentElement.style.backgroundColor="",t.parentElement.content&&(t.parentElement.content.style.boxShadow=""))}},{key:"_generateBehindPageStyle",value:function(t){var e=this.maxWidth,i=(t-e)/e*10;return i=isNaN(i)?0:Math.max(Math.min(i,0),-10),{transform:"translate3d("+(this.minus?-1:1)*i+"%, 0, 0)",opacity:1+i/100}}},{key:"translate",value:function(t){this.maxWidth=this.maxWidth||this._getMaxWidth();var e=this._generateBehindPageStyle(Math.min(t,this.maxWidth));this._side.style.visibility="visible",this._slidingElements||(this._slidingElements=this._getSlidingElements()),si.runAll(si(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}),si(this._side).queue(e))}},{key:"open",value:function(t){var e=this;this.maxWidth=this.maxWidth||this._getMaxWidth();var i=this._generateBehindPageStyle(this.maxWidth);this._slidingElements=this._getSlidingElements(),this._side.style.visibility="visible",si.runAll(si(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+this.maxWidth)+"px, 0px, 0px)"},{duration:this.duration,timing:this.timing}),si(this._mask).wait(this.delay).queue({display:"block"}),si(this._side).wait(this.delay).queue(i,{duration:this.duration,timing:this.timing}).queue(function(i){e._slidingElements=null,i(),t&&t()}))}},{key:"close",value:function(t){var i=this,n=this._generateBehindPageStyle(0);this._slidingElements=this._getSlidingElements(),this._side.style.visibility="visible",si.runAll(si(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}),si(this._mask).wait(this.delay).queue({display:"none"}),si(this._side).wait(this.delay).queue(n,{duration:this.duration,timing:this.timing}).queue(function(n){i._slidingElements=null,i._side.style.visibility="hidden",g(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clearTransition",i).call(i),t&&t(),n()}))}},{key:"_getMaxWidth",value:function(){return this._side.offsetWidth}}]),e}(Br),Vr={default:Dr,overlay:Dr,push:zr,reveal:Fr},qr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"_getSide",value:function(t){return ri.findChild(this,function(e){return ri.match(e,"ons-splitter-side")&&e.getAttribute("side")===t})}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&a(this,function(){e._layout()})}},{key:"_layout",value:function(){var t=this;this._sides.forEach(function(e){t.content.style[e.side]="split"===e.mode?e._width:0})}},{key:"init",value:function(){var t=this;this._boundOnModeChange=this._onModeChange.bind(this),a(this,function(){t._compile(),t._layout()})}},{key:"_compile",value:function(){this.mask||this.appendChild(document.createElement("ons-splitter-mask"))}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._boundOnModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._boundOnModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"_show",value:function(){ri.propagateAction(this,"_show")}},{key:"_hide",value:function(){ri.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){ri.propagateAction(this,"_destroy"),this.remove()}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"side",get:function(){return ri.findChild(this,"ons-splitter-side")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return ri.findChild(this,"ons-splitter-content")}},{key:"topPage",get:function(){return this.content._content}},{key:"mask",get:function(){return ri.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Di.createHandler(this,t)}}],[{key:"registerAnimator",value:function(t,e){if(!(e instanceof SplitterAnimator))throw new Error("Animator parameter must be an instance of SplitterAnimator.");Vr[t]=e}},{key:"SplitterAnimator",get:function(){return SplitterAnimator}},{key:"animators",get:function(){return Vr}}]),e}(Wi);customElements.define("ons-splitter",qr);var Hr="closed",Ur=["animation","width","side","collapse","swipeable","swipe-target-width","animation-options","open-threshold"],Zr={ready:function(t,e){setImmediate(e)}},Wr=function(){function t(e,i){p(this,t),this._element=e,this._boundOnChange=this._onChange.bind(this),i&&this.changeTarget(i)}return f(t,[{key:"changeTarget",value:function(t){this.disable(),this._target=t,t&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?"collapse":"split")}},{key:"activate",value:function(){this._orientation?(Pi.on("change",this._boundOnChange),this._onChange({isPortrait:Pi.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._boundOnChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?Pi.off("change",this._boundOnChange):this._queryResult&&(this._queryResult.removeListener(this._boundOnChange),this._queryResult=null)}}]),t}(),Gr=function(t,e){var i=[parseInt(t,10),/px/.test(t)],n=i[0];return i[1]?n:Math.round(e.offsetWidth*n/100)},Yr=function(){function t(e){p(this,t),this._active=!1,this._state=Hr,this._element=e,this._lock=new Fi}return f(t,[{key:"_animator",get:function(){return this._element._animator}}]),f(t,[{key:"isOpen",value:function(){return this._active&&this._state!==Hr}},{key:"handleGesture",value:function(t){!this._active||this._lock.isLocked()||this._isOpenOtherSideMenu()||("dragstart"===t.type?this._onDragStart(t):this._ignoreDrag||("dragend"===t.type?this._onDragEnd(t):this._onDrag(t)))}},{key:"_onDragStart",value:function(t){var e=!/left|right/.test(t.gesture.direction),i="left"===this._element._side?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX,n=this._element._swipeTargetWidth,r=this.isOpen();this._ignoreDrag=e||n&&i>n&&!r,this._width=Gr(this._element._width,this._element.parentNode),this._startDistance=this._distance=r?this._width:0}},{key:"_onDrag",value:function(t){t.gesture.preventDefault();var e="left"===this._element._side?t.gesture.deltaX:-t.gesture.deltaX,i=Math.max(0,Math.min(this._width,this._startDistance+e));i!==this._distance&&(this._animator.translate(i),this._distance=i,this._state="changing")}},{key:"_onDragEnd",value:function(t){var e=this._distance,i=this._width,n=this._element,r=t.gesture.interimDirection,o=n._side!==r&&e>i*n._threshold;this.executeAction(o?"open":"close"),this._ignoreDrag=!0}},{key:"layout",value:function(){this._active&&"open"===this._state&&this._animator.open()}},{key:"enterMode",value:function(){this._active||(this._active=!0,this._animator&&this._animator.activate(this._element),this.layout())}},{key:"exitMode",value:function(){this._animator&&this._animator.deactivate(),this._state=Hr,this._active=!1}},{key:"_isOpenOtherSideMenu",value:function(){var t=this;return ri.arrayFrom(this._element.parentElement.children).some(function(e){return ri.match(e,"ons-splitter-side")&&e!==t._element&&e.isOpen})}},{key:"executeAction",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="open"===t?"open":Hr;if(!this._active)return Promise.resolve(!1);if(this._state===n)return Promise.resolve(this._element);if(this._lock.isLocked())return Promise.reject("Splitter side is locked.");if("open"===t&&this._isOpenOtherSideMenu())return Promise.reject("Another menu is already open.");if(this._element._emitEvent("pre"+t))return Promise.reject("Canceled in pre"+t+" event.");var r=i.callback,o=this._lock.lock(),s=function(){e._state=n,e.layout(),o(),e._element._emitEvent("post"+t),r&&r()};return i.withoutAnimation?(s(),Promise.resolve(this._element)):(this._state="changing",new Promise(function(i){e._animator[t](function(){s(),i(e._element)})}))}}]),t}(),Xr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=qi,this._collapseMode=new Yr(this),this._collapseDetection=new Wr(this),this._animatorFactory=new Be({animators:qr.animators,baseClass:Br,baseClassName:"SplitterAnimator",defaultAnimation:this.getAttribute("animation")}),this._boundHandleGesture=function(e){return t._collapseMode.handleGesture(e)},this._watchedAttributes=Ur,a(this,function(){Zr.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})})}},{key:"connectedCallback",value:function(){var t=this;if(!ri.match(this.parentNode,"ons-splitter"))throw new Error("Parent must be an ons-splitter element.");this._gestureDetector=new hi(this.parentElement,{dragMinDistance:1}),a(this,function(){t._watchedAttributes.forEach(function(e){return t._update(e)})}),this.hasAttribute("side")||this.setAttribute("side","left")}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){this._collapseDetection.disable(),this._gestureDetector.dispose(),this._gestureDetector=null}},{key:"attributeChangedCallback",value:function(t,e,i){this._update(t,i)}},{key:"_update",value:function(t,e){return t="_update"+t.split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join(""),this[t](e)}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return ri.triggerElementEvent(this,t,{side:this});var e=!1;return ri.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_updateCollapse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode("split")):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode("collapse")):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this._collapseMode["collapse"===t?"enterMode":"exitMode"](),this.setAttribute("mode",t),ri.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateOpenThreshold",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("open-threshold");this._threshold=Math.max(0,Math.min(1,parseFloat(t)||.3))}},{key:"_updateSwipeable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipeable"),e=null===t?"off":"on";this._gestureDetector&&this._gestureDetector[e]("dragstart dragleft dragright dragend",this._boundHandleGesture)}},{key:"_updateSwipeTargetWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipe-target-width");this._swipeTargetWidth=Math.max(0,parseInt(t)||0)}},{key:"_updateWidth",value:function(){this.style.width=this._width}},{key:"_updateSide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("side");this._side="right"===t?t:"left"}},{key:"_updateAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this._animator&&this._animator.deactivate(),this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this)}},{key:"_updateAnimationOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(Be.parseAnimationOptionsString(t))}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("open",t)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("close",t)}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isOpen?this.close(t):this.open(t)}},{key:"load",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var n=i.callback||function(){};return new Promise(function(i){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),n(t),i(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"_width",get:function(){var t=this.getAttribute("width");return/^\d+(px|%)$/.test(t)?t:"80%"},set:function(t){this.setAttribute("width",t)}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Vi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"isOpen",get:function(){return this._collapseMode.isOpen()}}],[{key:"observedAttributes",get:function(){return Ur}},{key:"events",get:function(){return["preopen","postopen","preclose","postclose","modechange"]}},{key:"rewritables",get:function(){return Zr}}]),e}(Wi);customElements.define("ons-splitter-side",Xr);var $r={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},Qr=ri.createFragment('\n  <input type="checkbox" class="switch__input">\n  <div class="switch__toggle">\n    <div class="switch__handle">\n      <div class="switch__touch"></div>\n    </div>\n  </div>\n'),Kr={ios:[1,21],material:[0,16]},Jr=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._checked=!1,this._disabled=!1,this._boundOnChange=this._onChange.bind(this),a(this,function(){t._compile(),["checked","disabled","modifier","name","value","input-id"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})})}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("switch"),ri.findChild(this,".switch__input")&&ri.findChild(this,".switch__toggle")||this.appendChild(Qr.cloneNode(!0)),De.initModifier(this,$r),this._checkbox=this.querySelector(".switch__input"),this._handle=this.querySelector(".switch__handle"),this._checkbox.checked=this._checked,this._checkbox.disabled=this._disabled}},{key:"disconnectedCallback",value:function(){var t=this;a(this,function(){t._checkbox.removeEventListener("change",t._boundOnChange),t.removeEventListener("dragstart",t._onDragStart),t.removeEventListener("hold",t._onHold),t.removeEventListener("tap",t.click),t.removeEventListener("click",t._onClick),t._gestureDetector&&t._gestureDetector.dispose()})}},{key:"connectedCallback",value:function(){var t=this;a(this,function(){t._checkbox.addEventListener("change",t._boundOnChange),t.addEventListener("dragstart",t._onDragStart),t.addEventListener("hold",t._onHold),t.addEventListener("tap",t.click),t.addEventListener("click",t._onClick),t._gestureDetector=new hi(t,{dragMinDistance:1,holdTimeout:251}),t._boundOnRelease=t._onRelease.bind(t)})}},{key:"_onChange",value:function(t){t&&t.stopPropagation&&t.stopPropagation(),this.click()}},{key:"_onClick",value:function(t){t.target.classList.contains("switch__touch")&&t.preventDefault()}},{key:"click",value:function(){this._disabled||(this.checked=!this.checked,ri.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}))}},{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_onHold",value:function(t){this.disabled||(De.addModifier(this,"active"),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDragStart",value:function(t){if(this.disabled||-1===["left","right"].indexOf(t.gesture.direction))return void De.removeModifier(this,"active");t.stopPropagation(),De.addModifier(this,"active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._boundOnRelease)}},{key:"_onDrag",value:function(t){t.gesture.srcEvent.preventDefault(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,i=this._getPosition(t),n=this.checked;this.checked=i>=(e[0]+e[1])/2,this.checked!==n&&ri.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._boundOnRelease),this._handle.style.left="",De.removeModifier(this,"active")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;a(this,function(){switch(t){case"class":n.classList.contains("switch")||(n.className="switch "+i);break;case"modifier":n._isMaterial=-1!==(i||"").indexOf("material"),n._locations=Kr[n._isMaterial?"material":"ios"],De.onModifierChanged(e,i,n,$r);break;case"input-id":n._checkbox.id=i;break;case"checked":n._checked=null!==i,n._checkbox.checked=null!==i,ri.toggleAttribute(n._checkbox,t,null!==i);break;case"disabled":n._disabled=null!==i,n._checkbox.disabled=null!==i,ri.toggleAttribute(n._checkbox,t,null!==i);break;default:null!==i?n._checkbox.setAttribute(t,i):n._checkbox.removeAttribute(t)}})}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=!!t,ri.toggleAttribute(this,"checked",this._checked)}},{key:"disabled",get:function(){return this._disabled},set:function(t){var e=this;a(this,function(){e._disabled=!!t,ri.toggleAttribute(e,"disabled",e._disabled),e._checkbox.disabled=e._disabled})}},{key:"checkbox",get:function(){return this._checkbox}},{key:"value",get:function(){return this.hasOwnProperty("_checkbox")?this._checkbox.value:this.getAttribute("value")},set:function(t){var e=this;a(this,function(){e._checkbox.value=t})}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","checked","value","disabled","class"]}},{key:"events",get:function(){return["change"]}}]),e}(Wi);customElements.define("ons-switch",Jr);var to=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,r=t.duration,o=void 0===r?.4:r,s=t.delay,a=void 0===s?0:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:o,delay:a}))}return _(e,t),f(e,[{key:"apply",value:function(t,e,i,n,r){throw new Error("This method must be implemented.")}}]),e}(Ui),eo=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"apply",value:function(t,e,i,n,r){setTimeout(r,1e3/60)}}]),e}(to),io=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"apply",value:function(t,e,i,n,r){si.runAll(si(t).saveStyle().queue({transform:"translate3D(0, 0, 0)",opacity:0}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),si(e).queue({transform:"translate3D(0, 0, 0)",opacity:1}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:this.duration,timing:this.timing}))}}]),e}(to),no=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in":i,r=t.duration,o=void 0===r?.15:r,s=t.delay,a=void 0===s?0:s;return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:o,delay:a}))}return _(e,t),f(e,[{key:"apply",value:function(t,e,i,n,r){var o=i>n;si.runAll(si(t).saveStyle().queue({transform:"translate3D("+(o?"":"-")+"100%, 0, 0)"}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)"},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),si(e).queue({transform:"translate3D(0, 0, 0)"}).wait(this.delay).queue({transform:"translate3D("+(o?"-":"")+"100%, 0, 0)"},{duration:this.duration,timing:this.timing}))}}]),e}(to),ro={".tabbar__content":"tabbar--*__content",".tabbar":"tabbar--*"},oo={default:eo,fade:io,slide:no,none:eo},so={ready:function(t,e){e()}},ao=function(){var t=0;return function(){return"ons-tabbar-gen-"+t++}}(),uo=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._tabbarId=ao(),a(this,function(){t._compile();for(var e=t._contentElement,i=0;i<e.children.length;i++)e.children[i].style.display="none";var n=t.getAttribute("activeIndex"),r=t._tabbarElement;n&&r.children.length>n&&r.children[n].setAttribute("active","true"),Ge.prepare(t),De.initModifier(t,ro),t._animatorFactory=new Be({animators:oo,baseClass:to,baseClassName:"TabbarAnimator",defaultAnimation:t.getAttribute("animation")})})}},{key:"connectedCallback",value:function(){var t=this;a(this,function(){return t._updatePosition()})}},{key:"_compile",value:function(){if(this._contentElement&&this._tabbarElement){var t=ri.findChild(this,".tabbar__content"),e=ri.findChild(this,".tabbar");t.classList.add("ons-tabbar__content"),e.classList.add("ons-tabbar__footer")}else{for(var i=ri.create(".ons-tabbar__content.tabbar__content"),n=ri.create(".tabbar.ons-tabbar__footer");this.firstChild;)n.appendChild(this.firstChild);this.appendChild(i),this.appendChild(n)}}},{key:"_updatePosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),i=this._top="top"===e||"auto"===e&&Ie.isAndroid(),n=i?ri.addModifier:ri.removeModifier;n(this,"top");var r=ri.findParent(this,"ons-page");r&&a(r,function(){t.style.top=i?window.getComputedStyle(r._getContentElement(),null).getPropertyValue("padding-top"):"",r.children[0]&&ri.match(r.children[0],"ons-toolbar")&&n(r.children[0],"noshadow")}),Ne.autoStatusBarFill(function(){var e=ri.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});ri.toggleAttribute(t,"status-bar-fill",i&&!e)})}},{key:"_getTabbarElement",value:function(){return ri.findChild(this,".tabbar")}},{key:"getTabbarId",value:function(){return this._tabbarId}},{key:"_getCurrentPageElement",value:function(){for(var t=this._contentElement.children,e=null,i=0;i<t.length;i++)if("none"!==t[i].style.display){e=t[i];break}if(e&&"ons-page"!==e.nodeName.toLowerCase())throw new Error('Invalid state: page element must be a "ons-page" element.');return e}},{key:"_switchPage",value:function(t,e){var i=this._oldPageElement||Ne.nullElement;this._oldPageElement=t;var n=this._animatorFactory.newAnimator(e);return new Promise(function(r){i!==Ne.nullElement&&i._hide(),n.apply(t,i,e.selectedTabIndex,e.previousTabIndex,function(){i!==Ne.nullElement&&(i.style.display="none"),t.style.display="block",t._show(),e.callback instanceof Function&&e.callback(),r(t)})})}},{key:"setActiveTab",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&"object"!=(void 0===i?"undefined":d(i)))throw new Error("options must be an object. You supplied "+i);i.animationOptions=ri.extend(i.animationOptions||{},Be.parseAnimationOptionsString(this.getAttribute("animation-options"))),!i.animation&&this.hasAttribute("animation")&&(i.animation=this.getAttribute("animation"));var n=this._getActiveTabElement(),r=this._getTabElement(t),o=this.getActiveTabIndex(),s=t,a=this._getCurrentPageElement();if(!r)return Promise.reject("Specified index does not match any tab.");if(s===o)return ri.triggerElementEvent(this,"reactive",{index:s,tabItem:r}),Promise.resolve(a);var u=!1;if(ri.triggerElementEvent(this,"prechange",{index:s,tabItem:r,cancel:function(){return u=!0}}),u)return r.setInactive(),n&&n.setActive(),Promise.reject("Canceled in prechange event.");r.setActive();var l=v({},i,{previousTabIndex:o,selectedTabIndex:s});return n?n.setInactive():l.animation="none",new Promise(function(t){r._loadPageElement(e._contentElement,function(i){i.removeAttribute("style"),e._switchPage(i,l).then(function(i){return ri.triggerElementEvent(e,"postchange",{index:s,tabItem:r}),t(i)})})})}},{key:"setTabbarVisibility",value:function(t){this._contentElement.style[this._top?"top":"bottom"]=t?"":"0px",this._getTabbarElement().style.display=t?"":"none"}},{key:"show",value:function(){this.setTabbarVisibility(!0)}},{key:"hide",value:function(){this.setTabbarVisibility(!1)}},{key:"getActiveTabIndex",value:function(){for(var t=this._getTabbarElement().children,e=0;e<t.length;e++)if(t[e]instanceof po&&t[e].isActive&&t[e].isActive())return e;return-1}},{key:"_getActiveTabElement",value:function(){return this._getTabElement(this.getActiveTabIndex())}},{key:"_getTabElement",value:function(t){return this._getTabbarElement().children[t]}},{key:"disconnectedCallback",value:function(){}},{key:"_show",value:function(){var t=this._getCurrentPageElement();t&&t._show()}},{key:"_hide",value:function(){var t=this._getCurrentPageElement();t&&t._hide()}},{key:"_destroy",value:function(){for(var t=this._getTabbarElement().children,e=t.length-1;e>=0;e--)t[e].remove();this.remove()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return De.onModifierChanged(e,i,this,ro)}},{key:"_contentElement",get:function(){return ri.findChild(this,".tabbar__content")}},{key:"_tabbarElement",get:function(){return ri.findChild(this,".tabbar")}},{key:"topPage",get:function(){return this._getCurrentPageElement()}},{key:"pages",get:function(){return ri.arrayFrom(this._contentElement.children)}},{key:"visible",get:function(){return"none"!==this._getTabbarElement().style.display}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof to))throw new Error('"Animator" param must inherit TabbarElement.TabbarAnimator');oo[t]=e}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"rewritables",get:function(){return so}},{key:"TabbarAnimator",get:function(){return to}},{key:"events",get:function(){return["prechange","postchange","reactive"]}},{key:"animators",get:function(){return oo}}]),e}(Wi);customElements.define("ons-tabbar",uo);var lo={"":"tabbar--*__item",".tabbar__button":"tabbar--*__button"},co=ri.createElement('\n  <div>\n    <input type="radio" style="display: none">\n    <button class="tabbar__button"></button>\n  </div>\n'),ho=ri.createElement('\n  <div>\n    <div class="tabbar__icon">\n      <ons-icon icon="ion-cloud"></ons-icon>\n    </div>\n    <div class="tabbar__label">label</div>\n    <div class="tabbar__badge notification">1</div>\n  </div>\n'),po=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;this._pageLoader=qi,this._page=null,this.hasAttribute("label")||this.hasAttribute("icon")||this.hasAttribute("badge")?this._compile():a(this,function(){t._compile()}),this._boundOnClick=this._onClick.bind(this)}},{key:"_getPageTarget",value:function(){return this.page||this.getAttribute("page")}},{key:"_templateLoaded",value:function(){if(0==this.children.length)return!1;var t="radio"===this._input.getAttribute("type"),e=this._button;return!(!t||!e)}},{key:"_compile",value:function(){if(Ge.prepare(this),this.classList.add("tabbar__item"),!this._templateLoaded()){for(var t=document.createDocumentFragment(),e=!1;this.childNodes[0];){var i=this.childNodes[0];this.removeChild(i),t.appendChild(i),i.nodeType==Node.ELEMENT_NODE&&(e=!0)}for(var n=co.cloneNode(!0);n.children[0];)this.appendChild(n.children[0]);e?(this._button.appendChild(t),this._hasDefaultTemplate=!1):(this._hasDefaultTemplate=!0,this._updateDefaultTemplate())}De.initModifier(this,lo),this._updateRipple()}},{key:"_updateRipple",value:function(){
ri.updateRipple(this.querySelector(".tabbar__button"),this.hasAttribute("ripple"))}},{key:"_updateDefaultTemplate",value:function(){if(this._hasDefaultTemplate){var t=this._button,e=ho.cloneNode(!0);if(0===t.children.length)for(;e.children[0];)t.appendChild(e.children[0]);t.querySelector(".tabbar__icon")||t.insertBefore(e.querySelector(".tabbar__icon"),t.firstChild),t.querySelector(".tabbar__label")||t.appendChild(e.querySelector(".tabbar__label")),t.querySelector(".tabbar__badge")||t.appendChild(e.querySelector(".tabbar__badge"));var i=this.getAttribute("icon"),n=this.getAttribute("label"),r=this.getAttribute("badge"),o=t.querySelector(".tabbar__icon").children[0],s=t.querySelector(".tabbar__label"),a=t.querySelector(".tabbar__badge");if(o)if("string"==typeof i){var u=o.getAttribute("icon");o.setAttribute("icon",i),o.attributeChangedCallback("icon",u,i)}else o.parentElement.remove();s&&("string"==typeof n?s.textContent=n:s.remove()),a&&("string"==typeof r?a.textContent=r:a.remove())}}},{key:"_onClick",value:function(){if(this.onClick instanceof Function)this.onClick();else{var t=this._findTabbarElement();t&&t.setActiveTab(this._findTabIndex())}}},{key:"setActive",value:function(){if(this._input.checked=!0,this.classList.add("active"),this.setAttribute("active",""),this.hasAttribute("icon")&&this.hasAttribute("active-icon")){var t=this.getAttribute("active-icon");this._button.querySelector(".tabbar__icon").children[0].setAttribute("icon",t)}ri.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="none"}),ri.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="inherit"})}},{key:"setInactive",value:function(){if(this._input.checked=!1,this.classList.remove("active"),this.removeAttribute("active"),this.hasAttribute("icon")){var t=this.getAttribute("icon");this._button.querySelector(".tabbar__icon").children[0].setAttribute("icon",t)}ri.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="inherit"}),ri.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="none"})}},{key:"_loadPageElement",value:function(t,e){var i=this;if(this._loadedPage||this._getPageTarget())if(this._loadingPage)this._loadingPage.then(function(t){e(t)});else if(this._loadedPage)e(this._loadedPage);else{var n=ri.defer();this._loadingPage=n.promise,this._pageLoader.load({page:this._getPageTarget(),parent:t},function(t){i._loadedPage=t,n.resolve(t),delete i._loadingPage,e(t)})}else{var r=this._findTabbarElement().pages,o=this._findTabIndex();if(!r[o])throw Error("Page was not provided to <ons-tab> index "+o);e(r[o])}}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null)}},{key:"connectedCallback",value:function(){var t=this;a(this,function(){t._ensureElementPosition();var e=t._findTabbarElement();if(e.hasAttribute("modifier")){var i=t.hasAttribute("modifier")?t.getAttribute("modifier")+" ":"";t.setAttribute("modifier",i+e.getAttribute("modifier"))}var n=function(){t._getPageTarget()&&!t.hasLoaded&&(t.hasLoaded=!0,t._loadPageElement(e._contentElement,function(t){t.style.display="none",e._contentElement.appendChild(t)})),t.hasAttribute("active")&&e.setActiveTab(t._findTabIndex())};uo.rewritables.ready(e,n),t.addEventListener("click",t._boundOnClick,!1)})}},{key:"_findTabbarElement",value:function(){return this.parentNode&&"ons-tabbar"===this.parentNode.nodeName.toLowerCase()?this.parentNode:this.parentNode.parentNode&&"ons-tabbar"===this.parentNode.parentNode.nodeName.toLowerCase()?this.parentNode.parentNode:null}},{key:"_findTabIndex",value:function(){for(var t=this.parentNode.children,e=0;e<t.length;e++)if(this===t[e])return e}},{key:"_ensureElementPosition",value:function(){if(!this._findTabbarElement())throw new Error("This ons-tab element is must be child of ons-tabbar element.")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("tabbar__item")||(this.className="tabbar__item "+i);break;case"modifier":a(this,function(){return De.onModifierChanged(e,i,n,lo)});break;case"ripple":this._templateLoaded()&&a(this,function(){return n._updateRipple()});break;case"icon":case"label":case"badge":a(this,function(){return n._updateDefaultTemplate()});break;case"page":"string"==typeof i&&(this._page=i)}}},{key:"page",set:function(t){this._page=t},get:function(){return this._page}},{key:"pageLoader",set:function(t){if(!(t instanceof Vi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t},get:function(){return this._pageLoader}},{key:"_input",get:function(){return this.children[0]}},{key:"_button",get:function(){return ri.findChild(this,".tabbar__button")}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var t=this._findTabbarElement(),e=this._findTabIndex();return t._contentElement.children[e]}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge","class"]}}]),e}(Wi);customElements.define("ons-tab",po);var fo={"":"toolbar-button--*"},mo=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Ge.prepare(this),this.classList.add("toolbar-button"),De.initModifier(this,fo)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("toolbar-button")||(this.className="toolbar-button "+i);break;case"modifier":De.onModifierChanged(e,i,this,fo)}}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Wi);customElements.define("ons-toolbar-button",mo);var vo={"":"range--*",".range__input":"range--*__input"},go=["autofocus","disabled","inputmode","max","min","name","placeholder","readonly","size","step","validator","value"],_o=function(t){function e(){return p(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),f(e,[{key:"init",value:function(){var t=this;a(this,function(){t._compile(),t._updateBoundAttributes(),t._onChange()})}},{key:"_compile",value:function(){if(this.classList.add("range"),Ge.prepare(this),!ri.findChild(this,".range__input")){var t=document.createElement("input");t.setAttribute("type","range"),t.classList.add("range__input"),this.appendChild(t)}De.initModifier(this,vo),this._updateDisabled()}},{key:"_onChange",value:function(){this._input.style.backgroundSize=100*this._ratio+"% 2px"}},{key:"_onDragstart",value:function(t){t.stopPropagation(),t.gesture.stopPropagation()}},{key:"_updateDisabled",value:function(){this.hasAttribute("disabled")?De.addModifier(this,"disabled"):De.removeModifier(this,"disabled")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;"modifier"===t?De.onModifierChanged(e,i,this,vo):"class"===t?this.classList.contains("range")||(this.className="range "+i):"disabled"===t&&this._updateDisabled(),go.indexOf(t)>=0&&a(this,function(){n._updateBoundAttributes(),"min"!==t&&"max"!==t||n._onChange()})}},{key:"connectedCallback",value:function(){this.addEventListener("dragstart",this._onDragstart),this.addEventListener("input",this._onChange)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("dragstart",this._onDragstart),this.removeEventListener("input",this._onChange)}},{key:"_updateBoundAttributes",value:function(){var t=this;go.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}},{key:"_input",get:function(){return this.querySelector("input.range__input")}},{key:"disabled",set:function(t){return ri.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;a(this,function(){e._input.value=t,e._onChange()})}}],[{key:"observedAttributes",get:function(){return["class","modifier"].concat(go)}},{key:"events",get:function(){return["input","change"]}}]),e}(Wi);return customElements.define("ons-range",_o),Zi.TemplateElement=Gi,Zi.IfElement=Yi,Zi.AlertDialogElement=en,Zi.BackButtonElement=rn,Zi.BottomToolbarElement=sn,Zi.ButtonElement=un,Zi.CarouselItemElement=cn,Zi.CarouselElement=pn,Zi.ColElement=fn,Zi.DialogElement=wn,Zi.FabElement=xn,Zi.GestureDetectorElement=Cn,Zi.IconElement=En,Zi.LazyRepeatElement=Ln,Zi.ListHeaderElement=Sn,Zi.ListTitleElement=An,Zi.ListItemElement=Tn,Zi.ListElement=In,Zi.InputElement=Bn,Zi.ModalElement=qn,Zi.NavigatorElement=Jn,Zi.PageElement=rr,Zi.PopoverElement=pr,Zi.ProgressBarElement=vr,Zi.ProgressCircularElement=yr,Zi.PullHookElement=wr,Zi.RippleElement=xr,Zi.RowElement=Cr,Zi.SelectElement=Or,Zi.SpeedDialItemElement=Ar,Zi.SpeedDialElement=jr,Zi.SplitterContentElement=Rr,Zi.SplitterMaskElement=Nr,Zi.SplitterSideElement=Xr,Zi.SplitterElement=qr,Zi.SwitchElement=Jr,Zi.TabElement=po,Zi.TabbarElement=uo,Zi.ToolbarButtonElement=mo,Zi.ToolbarElement=er,Zi.RangeElement=_o,window.addEventListener("load",function(){Zi.fastClick=FastClick.attach(document.body)},!1),window.addEventListener("DOMContentLoaded",function(){Zi._deviceBackButtonDispatcher.enable(),Zi._defaultDeviceBackButtonHandler=Zi._deviceBackButtonDispatcher.createHandler(window.document.body,function(){navigator.app.exitApp()}),document.body._gestureDetector=new Zi.GestureDetector(document.body)},!1),Zi.ready(function(){Zi._setupLoadingPlaceHolders()}),(new Viewport).setup(),Zi})}),t.entry="js/onsenui.js"}),t.pkg("aurelia-templating-router",{},function(t){return t.file("dist/commonjs/aurelia-templating-router.js",function(t,e,i,n,r){"use strict";function o(t){t.singleton(a.RouteLoader,u.TemplatingRouteLoader).singleton(a.Router,a.AppRouter).globalResources(s.PLATFORM.moduleName("./router-view"),s.PLATFORM.moduleName("./route-href")),t.container.registerAlias(a.Router,a.AppRouter)}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.RouteHref=t.RouterView=t.TemplatingRouteLoader=void 0;var s=e("aurelia-pal"),a=e("aurelia-router"),u=e("./route-loader"),l=e("./router-view"),c=e("./route-href");t.TemplatingRouteLoader=u.TemplatingRouteLoader,t.RouterView=l.RouterView,t.RouteHref=c.RouteHref,t.configure=o}),t.file("dist/commonjs/route-loader.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e,i,n,r=/([^\/^\?]+)\.html/i.exec(t)[1];return e=(0,h.customElement)(r),i=(0,h.useView)(t),e(n=i(n=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||n)||n}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingRouteLoader=void 0;var u,l,c=e("aurelia-dependency-injection"),h=e("aurelia-templating"),d=e("aurelia-router"),p=e("aurelia-path"),f=e("aurelia-metadata"),m=e("./router-view");t.TemplatingRouteLoader=(u=(0,c.inject)(h.CompositionEngine))(l=function(t){function e(e){var i=o(this,t.call(this));return i.compositionEngine=e,i}return s(e,t),e.prototype.loadRoute=function(t,e){var i=t.container.createChild(),n=/\.html/.test(e.moduleId)?a(e.moduleId):(0,p.relativeToFile)(e.moduleId,f.Origin.get(t.container.viewModel.constructor).moduleId),r={viewModel:n,childContainer:i,view:e.view||e.viewStrategy,router:t};return i.registerSingleton(m.RouterViewLocator),i.getChildRouter=function(){var e=void 0;return i.registerHandler(d.Router,function(n){return e||(e=t.createChild(i))}),i.get(d.Router)},this.compositionEngine.ensureViewModel(r)},e}(d.RouteLoader))||l}),t.file("dist/commonjs/router-view.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.RouterViewLocator=t.RouterView=void 0;var a,u,l,c,h,d,p,f,m=e("aurelia-dependency-injection"),v=e("aurelia-binding"),g=e("aurelia-templating"),_=e("aurelia-router"),y=e("aurelia-metadata"),b=e("aurelia-pal"),w=(t.RouterView=(a=(0,g.customElement)("router-view"),u=(0,m.inject)(b.DOM.Element,m.Container,g.ViewSlot,_.Router,g.ViewLocator,g.CompositionTransaction,g.CompositionEngine),a(l=(0,g.noView)(l=u((c=function(){function t(t,e,i,n,r,s,a){o(this,"swapOrder",h,this),o(this,"layoutView",d,this),o(this,"layoutViewModel",p,this),o(this,"layoutModel",f,this),this.element=t,this.container=e,this.viewSlot=i,this.router=n,this.viewLocator=r,this.compositionTransaction=s,this.compositionEngine=a,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in s||(s.initialComposition=!0,this.compositionTransactionNotifier=s.enlist())}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.container.viewModel=t,this.overrideContext=e},t.prototype.process=function(t,e){var i=this,n=t.component,r=n.childContainer,o=n.viewModel,s=n.viewModelResource,a=s.metadata,u=n.router.currentInstruction.config,l=u.viewPorts?u.viewPorts[t.name]:{};r.get(w)._notify(this);var c={viewModel:l.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:l.layoutView||u.layoutView||this.layoutView,model:l.layoutModel||u.layoutModel||this.layoutModel,router:t.component.router,childContainer:r,viewSlot:this.viewSlot},h=this.viewLocator.getViewStrategy(n.view||o);return h&&n.view&&h.makeRelativeTo(y.Origin.get(n.router.container.viewModel.constructor).moduleId),a.load(r,s.value,null,h,!0).then(function(n){i.compositionTransactionNotifier||(i.compositionTransactionOwnershipToken=i.compositionTransaction.tryCapture()),(c.viewModel||c.view)&&(t.layoutInstruction=c),t.controller=a.create(r,g.BehaviorInstruction.dynamic(i.element,o,n)),e||i.swap(t)})},t.prototype.swap=function(t){var e=this,i=t.layoutInstruction,n=this.view,r=function(){var t=g.SwapStrategies[e.swapOrder]||g.SwapStrategies.after,i=e.viewSlot;t(i,n,function(){return Promise.resolve(i.add(e.view))}).then(function(){e._notify()})},o=function(i){return t.controller.automate(e.overrideContext,i),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e.compositionTransactionOwnershipToken=null,r()}):r()};return i?(i.viewModel||(i.viewModel={}),this.compositionEngine.createController(i).then(function(n){return g.ShadowDOM.distributeView(t.controller.view,n.slots||n.view.slots),n.automate((0,v.createOverrideContext)(i.viewModel),e.owningView),n.view.children.push(t.controller.view),n.view||n}).then(function(t){return e.view=t,o(t)})):(this.view=t.controller.view,o(this.owningView))},t.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},t}(),h=s(c.prototype,"swapOrder",[g.bindable],{enumerable:!0,initializer:null}),d=s(c.prototype,"layoutView",[g.bindable],{enumerable:!0,initializer:null}),p=s(c.prototype,"layoutViewModel",[g.bindable],{enumerable:!0,initializer:null}),f=s(c.prototype,"layoutModel",[g.bindable],{enumerable:!0,initializer:null}),l=c))||l)||l)||l),t.RouterViewLocator=function(){function t(){var t=this;this.promise=new Promise(function(e){return t.resolve=e})}return t.prototype.findNearest=function(){return this.promise},t.prototype._notify=function(t){this.resolve(t)},t}())}),t.file("dist/commonjs/route-href.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouteHref=void 0;var o,s,a,u,l,c,h=e("aurelia-templating"),d=e("aurelia-dependency-injection"),p=e("aurelia-router"),f=e("aurelia-pal"),m=e("aurelia-logging"),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(m),g=v.getLogger("route-href");t.RouteHref=(o=(0,h.customAttribute)("route-href"),s=(0,h.bindable)({name:"route",changeHandler:"processChange"}),a=(0,h.bindable)({name:"params",changeHandler:"processChange"}),u=(0,h.bindable)({name:"attribute",defaultValue:"href"}),l=(0,d.inject)(p.Router,f.DOM.Element),o(c=s(c=a(c=u(c=l(c=function(){function t(t,e){this.router=t,this.element=e}return t.prototype.bind=function(){this.isActive=!0,this.processChange()},t.prototype.unbind=function(){this.isActive=!1},t.prototype.attributeChanged=function(t,e){e&&this.element.removeAttribute(e),this.processChange()},t.prototype.processChange=function(){var t=this;return this.router.ensureConfigured().then(function(){if(!t.isActive)return null;var e=t.router.generate(t.route,t.params);return t.element.au.controller?t.element.au.controller.viewModel[t.attribute]=e:t.element.setAttribute(t.attribute,e),null}).catch(function(t){g.error(t)})},t}())||c)||c)||c)||c)||c)}),t.entry="dist/commonjs/aurelia-templating-router.js"}),t.pkg("aurelia-pal-browser",{},function(t){return t.file("dist/commonjs/aurelia-pal-browser.js",function(t,e,i,n,r){"use strict";function o(){a.isInitialized||(0,a.initializePAL)(function(t,e,i){Object.assign(t,u),Object.assign(e,p),Object.assign(i,m),Object.defineProperty(i,"title",{get:function(){return document.title},set:function(t){document.title=t}}),Object.defineProperty(i,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(t,"XMLHttpRequest",{get:function(){return t.global.XMLHttpRequest}})})}Object.defineProperty(t,"__esModule",{value:!0}),t._DOM=t._FEATURE=t._PLATFORM=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.initialize=o;var a=e("aurelia-pal"),u=t._PLATFORM={location:window.location,history:window.history,addEventListener:function(t,e,i){this.global.addEventListener(t,e,i)},removeEventListener:function(t,e,i){this.global.removeEventListener(t,e,i)},performance:window.performance,requestAnimationFrame:function(t){return this.global.requestAnimationFrame(t)}};if("undefined"==typeof FEATURE_NO_IE){void 0===function(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})}if("undefined"==typeof FEATURE_NO_IE)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var c=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var i=0,n=arguments.length;i<n;++i)t=arguments[i],e.call(this,t)}};c("add"),c("remove")}l.classList.toggle("c3",!1),l.classList.contains("c3")&&function(){var t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,i){return 1 in arguments&&!this.contains(e)==!i?i:t.call(this,e)}}(),l=null}else!function(){var t=String.prototype.trim,e=Array.prototype.indexOf,i=[],n=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},r=function(t,i){if(""===i)throw new n("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(i))throw new n("INVALID_CHARACTER_ERR","String contains an invalid character");return e.call(t,i)},o=function(e){for(var n=t.call(e.getAttribute("class")||""),r=n?n.split(/\s+/):i,o=0,s=r.length;o<s;++o)this.push(r[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},s=o.prototype=[];n.prototype=Error.prototype,s.item=function(t){return this[t]||null},s.contains=function(t){return t+="",-1!==r(this,t)},s.add=function(){var t=arguments,e=0,i=t.length,n=void 0,o=!1;do{n=t[e]+"",-1===r(this,n)&&(this.push(n),o=!0)}while(++e<i);o&&this._updateClassName()},s.remove=function(){var t=arguments,e=0,i=t.length,n=void 0,o=!1,s=void 0;do{for(n=t[e]+"",s=r(this,n);-1!==s;)this.splice(s,1),o=!0,s=r(this,n)}while(++e<i);o&&this._updateClassName()},s.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},s.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new o(this)},enumerable:!0,configurable:!0})}();if("undefined"==typeof FEATURE_NO_IE&&("performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&function(){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}(),u.performance=window.performance),"undefined"==typeof FEATURE_NO_IE&&function(){var t=window.console=window.console||{},e=function(){};t.memory||(t.memory={}),"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",").forEach(function(i){t[i]||(t[i]=e)}),"object"===s(t.log)&&"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach(function(t){console[t]=this.bind(console[t],console)},Function.prototype.call)}(),"undefined"==typeof FEATURE_NO_IE&&(!window.CustomEvent||"function"!=typeof window.CustomEvent)){var h=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};h.prototype=window.Event.prototype,window.CustomEvent=h}if(Element&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}var p=t._FEATURE={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:"content"in document.createElement("template"),mutationObserver:!(!window.MutationObserver&&!window.WebKitMutationObserver),ensureHTMLTemplateElement:function(t){return t}};"undefined"==typeof FEATURE_NO_IE&&function(){var t=function(t){return"template"===t.tagName&&"http://www.w3.org/2000/svg"===t.namespaceURI},e=function(t){var e=t.ownerDocument.createElement("template"),n=t.attributes,r=n.length,o=void 0;for(t.parentNode.insertBefore(e,t);r-- >0;)o=n[r],e.setAttribute(o.name,o.value),t.removeAttribute(o.name);return t.parentNode.removeChild(t),i(e)},i=function(t){for(var e=t.content=document.createDocumentFragment(),i=void 0;i=t.firstChild;)e.appendChild(i);return t},n=function(n){for(var r=i(n).content,o=r.querySelectorAll("template"),s=0,a=o.length;s<a;++s){var u=o[s];t(u)?e(u):i(u)}return n};p.htmlTemplateElement||(p.ensureHTMLTemplateElement=n)}();var f=window.ShadowDOMPolyfill||null,m=t._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(t,e,i){document.addEventListener(t,e,i)},removeEventListener:function(t,e,i){document.removeEventListener(t,e,i)},adoptNode:function(t){return document.adoptNode(t,!0)},createElement:function(t){return document.createElement(t)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},createDocumentFragment:function(){return document.createDocumentFragment()},createMutationObserver:function(t){return new(window.MutationObserver||window.WebKitMutationObserver)(t)},createCustomEvent:function(t,e){return new window.CustomEvent(t,e)},dispatchEvent:function(t){document.dispatchEvent(t)},getComputedStyle:function(t){return window.getComputedStyle(t)},getElementById:function(t){return document.getElementById(t)},querySelectorAll:function(t){return document.querySelectorAll(t)},nextElementSibling:function(t){if(t.nextElementSibling)return t.nextElementSibling;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t},createTemplateFromMarkup:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.firstElementChild;if(!i||"TEMPLATE"!==i.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return p.ensureHTMLTemplateElement(i)},appendNode:function(t,e){(e||document.body).appendChild(t)},replaceNode:function(t,e,i){e.parentNode?e.parentNode.replaceChild(t,e):null!==f?f.unwrap(i).replaceChild(f.unwrap(t),f.unwrap(e)):i.replaceChild(t,e)},removeNode:function(t,e){t.parentNode?t.parentNode.removeChild(t):e&&(null!==f?f.unwrap(e).removeChild(f.unwrap(t)):e.removeChild(t))},injectStyles:function(t,e,i){var n=document.createElement("style");return n.innerHTML=t,n.type="text/css",e=e||document.head,i&&e.childNodes.length>0?e.insertBefore(n,e.childNodes[0]):e.appendChild(n),n}}}),t.entry="dist/commonjs/aurelia-pal-browser.js"}),t.pkg("aurelia-templating-binding",{},function(t){return t.file("dist/commonjs/aurelia-templating-binding.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if("style"===e)_.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(t.parentElement&&"TEXTAREA"===t.parentElement.nodeName&&"textContent"===e)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}function u(t){t.container.registerSingleton(b.BindingLanguage,O),t.container.registerAlias(b.BindingLanguage,O)}Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingBindingLanguage=t.SyntaxInterpreter=t.ChildInterpolationBinding=t.InterpolationBinding=t.InterpolationBindingExpression=t.AttributeMap=void 0;var l,c,h,d,p,f,m,v;t.configure=u;var g=e("aurelia-logging"),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(g),y=e("aurelia-binding"),b=e("aurelia-templating"),w=t.AttributeMap=(c=l=function(){function t(t){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=t,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return t.prototype.register=function(t,e,i){t=t.toLowerCase(),e=e.toLowerCase(),(this.elements[t]=this.elements[t]||Object.create(null))[e]=i},t.prototype.registerUniversal=function(t,e){t=t.toLowerCase(),this.allElements[t]=e},t.prototype.map=function(t,e){if(this.svg.isStandardSvgAttribute(t,e))return e;t=t.toLowerCase(),e=e.toLowerCase();var i=this.elements[t];return void 0!==i&&e in i?i[e]:e in this.allElements?this.allElements[e]:/(?:^data-)|(?:^aria-)|:/.test(e)?e:(0,y.camelCase)(e)},t}(),l.inject=[y.SVGAnalyzer],c),k=t.InterpolationBindingExpression=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.targetProperty=e,this.parts=i,this.mode=n,this.lookupFunctions=r,this.attribute=this.attrToRemove=o,this.discrete=!1}return t.prototype.createBinding=function(t){return 3===this.parts.length?new C(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new x(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)},t}(),x=t.InterpolationBinding=function(){function t(t,e,i,n,r,o){a(i,n),this.observerLocator=t,this.parts=e,this.target=i,this.targetProperty=n,this.targetAccessor=t.getAccessor(i,n),this.mode=r,this.lookupFunctions=o}return t.prototype.interpolate=function(){if(this.isBound){for(var t="",e=this.parts,i=0,n=e.length;i<n;i++)t+=i%2==0?e[i]:this["childBinding"+i].value;this.targetAccessor.setValue(t,this.target,this.targetProperty)}},t.prototype.updateOneTimeBindings=function(){for(var t=1,e=this.parts.length;t<e;t+=2){var i=this["childBinding"+t];i.mode===y.bindingMode.oneTime&&i.call()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.source=t;for(var e=this.parts,i=1,n=e.length;i<n;i+=2){var r=new C(this,this.observerLocator,e[i],this.mode,this.lookupFunctions);r.bind(t),this["childBinding"+i]=r}this.isBound=!0,this.interpolate()},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var t=this.parts,e=1,i=t.length;e<i;e+=2){this["childBinding"+e].unbind()}}},t}(),C=t.ChildInterpolationBinding=(h=(0,y.connectable)())(d=function(){function t(t,e,i,n,r,o,s,u){t instanceof x?this.parent=t:(a(t,o),this.target=t,this.targetProperty=o,this.targetAccessor=e.getAccessor(t,o)),this.observerLocator=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=r,this.left=s,this.right=u}return t.prototype.updateTarget=function(t){(t=null===t||void 0===t?"":t.toString())!==this.value&&(this.value=t,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty))},t.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==y.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}
this.isBound=!0,this.source=t;var e=this.sourceExpression;e.bind&&e.bind(this,t,this.lookupFunctions),this.rawValue=e.evaluate(t,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===y.bindingMode.oneWay&&(0,y.enqueueBindingConnect)(this)},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var t=this.sourceExpression;t.unbind&&t.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},t.prototype.connect=function(t){this.isBound&&(t&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},t}())||d,E=t.SyntaxInterpreter=(f=p=function(){function t(t,e,i,n){this.parser=t,this.observerLocator=e,this.eventManager=i,this.attributeMap=n}return t.prototype.interpret=function(t,e,i,n,r){return i.command in this?this[i.command](t,e,i,n,r):this.handleUnknownCommand(t,e,i,n,r)},t.prototype.handleUnknownCommand=function(t,e,i,n,r){return _.getLogger("templating-binding").warn("Unknown binding command.",i),n},t.prototype.determineDefaultBindingMode=function(t,e,i){var n=t.tagName.toLowerCase();return"input"===n&&("value"===e||"files"===e)&&"checkbox"!==t.type&&"radio"!==t.type||"input"===n&&"checked"===e&&("checkbox"===t.type||"radio"===t.type)||("textarea"===n||"select"===n)&&"value"===e||("textcontent"===e||"innerhtml"===e)&&"true"===t.contentEditable||"scrolltop"===e||"scrollleft"===e?y.bindingMode.twoWay:i&&e in i.attributes&&i.attributes[e]&&i.attributes[e].defaultBindingMode>=y.bindingMode.oneTime?i.attributes[e].defaultBindingMode:y.bindingMode.oneWay},t.prototype.bind=function(t,e,i,n,r){var o=n||b.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new y.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),i.defaultBindingMode||this.determineDefaultBindingMode(e,i.attrName,r),t.lookupFunctions),o},t.prototype.trigger=function(t,e,i){return new y.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),y.delegationStrategy.none,!0,t.lookupFunctions)},t.prototype.capture=function(t,e,i){return new y.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),y.delegationStrategy.capturing,!0,t.lookupFunctions)},t.prototype.delegate=function(t,e,i){return new y.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),y.delegationStrategy.bubbling,!0,t.lookupFunctions)},t.prototype.call=function(t,e,i,n){var r=n||b.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new y.CallExpression(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),t.lookupFunctions),r},t.prototype.options=function(t,e,i,n,r){var o=n||b.BehaviorInstruction.attribute(i.attrName),s=i.attrValue,a=this.language,u=null,l="",c=void 0,h=void 0,d=void 0,p=!1,f=!1,m=!1;for(h=0,d=s.length;h<d;++h){if(";"!==(c=s[h])||p)if(":"===c&&null===u)m=!0,u=l.trim(),l="";else{if("\\"===c){l+=c,f=!0;continue}l+=c,null!==u&&!1===f&&"'"===c&&(p=!p)}else m||(u=this._getPrimaryPropertyName(t,r)),i=a.inspectAttribute(t,"?",u,l.trim()),a.createAttributeInstruction(t,e,i,o,r),o.attributes[i.attrName]||(o.attributes[i.attrName]=i.attrValue),l="",u=null;f=!1}return m||(u=this._getPrimaryPropertyName(t,r)),null!==u&&(i=a.inspectAttribute(t,"?",u,l.trim()),a.createAttributeInstruction(t,e,i,o,r),o.attributes[i.attrName]||(o.attributes[i.attrName]=i.attrValue)),o},t.prototype._getPrimaryPropertyName=function(t,e){var i=t.getAttribute(e.attributeName);return i&&i.primaryProperty?i.primaryProperty.name:null},t.prototype.for=function(t,e,i,n){var r=void 0,o=void 0,s=void 0,a=void 0,u=void 0;if(a=i.attrValue,u=a.match(/^ *[[].+[\]]/),r=u?a.split("of "):a.split(" of "),2!==r.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return s=n||b.BehaviorInstruction.attribute(i.attrName),u?(o=r[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),s.attributes.key=o[0],s.attributes.value=o[1]):s.attributes.local=r[0],s.attributes.items=new y.BindingExpression(this.observerLocator,"items",this.parser.parse(r[1]),y.bindingMode.oneWay,t.lookupFunctions),s},t.prototype["two-way"]=function(t,e,i,n){var r=n||b.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new y.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),y.bindingMode.twoWay,t.lookupFunctions),r},t.prototype["one-way"]=function(t,e,i,n){var r=n||b.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new y.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),y.bindingMode.oneWay,t.lookupFunctions),r},t.prototype["one-time"]=function(t,e,i,n){var r=n||b.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new y.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),y.bindingMode.oneTime,t.lookupFunctions),r},t}(),p.inject=[y.Parser,y.ObserverLocator,y.EventManager,w],f),L={},O=t.TemplatingBindingLanguage=(v=m=function(t){function e(e,i,n,r){var s=o(this,t.call(this));return s.parser=e,s.observerLocator=i,s.syntaxInterpreter=n,s.emptyStringExpression=s.parser.parse("''"),n.language=s,s.attributeMap=r,s}return s(e,t),e.prototype.inspectAttribute=function(t,e,i,n){var r=i.split(".");if(L.defaultBindingMode=null,2===r.length)L.attrName=r[0].trim(),L.attrValue=n,L.command=r[1].trim(),"ref"===L.command?(L.expression=new y.NameExpression(this.parser.parse(n),L.attrName,t.lookupFunctions),L.command=null,L.attrName="ref"):L.expression=null;else if("ref"===i)L.attrName=i,L.attrValue=n,L.command=null,L.expression=new y.NameExpression(this.parser.parse(n),"element",t.lookupFunctions);else{L.attrName=i,L.attrValue=n,L.command=null;var o=this.parseInterpolation(t,n);L.expression=null===o?null:new k(this.observerLocator,this.attributeMap.map(e,i),o,y.bindingMode.oneWay,t.lookupFunctions,i)}return L},e.prototype.createAttributeInstruction=function(t,e,i,n,r){var o=void 0;if(i.expression){if("ref"===i.attrName)return i.expression;o=n||b.BehaviorInstruction.attribute(i.attrName),o.attributes[i.attrName]=i.expression}else i.command&&(o=this.syntaxInterpreter.interpret(t,e,i,n,r));return o},e.prototype.inspectTextContent=function(t,e){var i=this.parseInterpolation(t,e);return null===i?null:new k(this.observerLocator,"textContent",i,y.bindingMode.oneWay,t.lookupFunctions,"textContent")},e.prototype.parseInterpolation=function(t,e){for(var i=e.indexOf("${",0),n=e.length,r=void 0,o=0,s=0,a=null,u=void 0,l=void 0,c=0;i>=0&&i<n-2;){s=1,u=i,i+=2;do{r=e[i],i++,"'"!==r&&'"'!==r?"\\"!==r?null===a&&("{"===r?s++:"}"===r&&s--):i++:null===a?a=r:a===r&&(a=null)}while(s>0&&i<n);if(0!==s)break;l=l||[],"\\"===e[u-1]&&"\\"!==e[u-2]?(l[c]=e.substring(o,u-1)+e.substring(u,i),c++,l[c]=this.emptyStringExpression,c++):(l[c]=e.substring(o,u),c++,l[c]=this.parser.parse(e.substring(u+2,i-1)),c++),o=i,i=e.indexOf("${",i)}return 0===c?null:(l[c]=e.substr(o),l)},e}(b.BindingLanguage),m.inject=[y.Parser,y.ObserverLocator,E,w],v)}),t.entry="dist/commonjs/aurelia-templating-binding.js"}),t.pkg("aurelia-templating-resources",{},function(t){return t.file("dist/commonjs/aurelia-templating-resources.js",function(t,e,i,n,r){"use strict";function o(t){(0,B.injectAureliaHideStyleAtHead)(),t.globalResources(s.PLATFORM.moduleName("./compose"),s.PLATFORM.moduleName("./if"),s.PLATFORM.moduleName("./with"),s.PLATFORM.moduleName("./repeat"),s.PLATFORM.moduleName("./show"),s.PLATFORM.moduleName("./hide"),s.PLATFORM.moduleName("./replaceable"),s.PLATFORM.moduleName("./sanitize-html"),s.PLATFORM.moduleName("./focus"),s.PLATFORM.moduleName("./binding-mode-behaviors"),s.PLATFORM.moduleName("./self-binding-behavior"),s.PLATFORM.moduleName("./throttle-binding-behavior"),s.PLATFORM.moduleName("./debounce-binding-behavior"),s.PLATFORM.moduleName("./signal-binding-behavior"),s.PLATFORM.moduleName("./update-trigger-binding-behavior"),s.PLATFORM.moduleName("./attr-binding-behavior")),(0,P.configure)(t);var e=t.container.get(v.ViewEngine),i={fetch:function(t){var e;return e={},e[t]=(0,g._createCSSResource)(t),e}};[".css",".less",".sass",".scss",".styl"].forEach(function(t){return e.addResourcePlugin(t,i)})}Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=t.unwrapExpression=t.updateOneTimeBinding=t.isOneTime=t.getItemsSourceExpression=t.updateOverrideContext=t.createFullOverrideContext=t.NumberRepeatStrategy=t.SetRepeatStrategy=t.MapRepeatStrategy=t.ArrayRepeatStrategy=t.NullRepeatStrategy=t.RepeatStrategyLocator=t.AbstractRepeater=t.UpdateTriggerBindingBehavior=t.BindingSignaler=t.SignalBindingBehavior=t.SelfBindingBehavior=t.DebounceBindingBehavior=t.ThrottleBindingBehavior=t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=t.AttrBindingBehavior=t.configure=t.Focus=t.Replaceable=t.SanitizeHTMLValueConverter=t.HTMLSanitizer=t.Hide=t.Show=t.Repeat=t.With=t.If=t.Compose=void 0;var s=e("aurelia-pal"),a=e("./compose"),u=e("./if"),l=e("./with"),c=e("./repeat"),h=e("./show"),d=e("./hide"),p=e("./sanitize-html"),f=e("./replaceable"),m=e("./focus"),v=e("aurelia-templating"),g=e("./css-resource"),_=e("./html-sanitizer"),y=e("./attr-binding-behavior"),b=e("./binding-mode-behaviors"),w=e("./throttle-binding-behavior"),k=e("./debounce-binding-behavior"),x=e("./self-binding-behavior"),C=e("./signal-binding-behavior"),E=e("./binding-signaler"),L=e("./update-trigger-binding-behavior"),O=e("./abstract-repeater"),S=e("./repeat-strategy-locator"),P=e("./html-resource-plugin"),A=e("./null-repeat-strategy"),M=e("./array-repeat-strategy"),T=e("./map-repeat-strategy"),j=e("./set-repeat-strategy"),I=e("./number-repeat-strategy"),R=e("./repeat-utilities"),N=e("./analyze-view-factory"),B=e("./aurelia-hide-style");t.Compose=a.Compose,t.If=u.If,t.With=l.With,t.Repeat=c.Repeat,t.Show=h.Show,t.Hide=d.Hide,t.HTMLSanitizer=_.HTMLSanitizer,t.SanitizeHTMLValueConverter=p.SanitizeHTMLValueConverter,t.Replaceable=f.Replaceable,t.Focus=m.Focus,t.configure=o,t.AttrBindingBehavior=y.AttrBindingBehavior,t.OneTimeBindingBehavior=b.OneTimeBindingBehavior,t.OneWayBindingBehavior=b.OneWayBindingBehavior,t.TwoWayBindingBehavior=b.TwoWayBindingBehavior,t.ThrottleBindingBehavior=w.ThrottleBindingBehavior,t.DebounceBindingBehavior=k.DebounceBindingBehavior,t.SelfBindingBehavior=x.SelfBindingBehavior,t.SignalBindingBehavior=C.SignalBindingBehavior,t.BindingSignaler=E.BindingSignaler,t.UpdateTriggerBindingBehavior=L.UpdateTriggerBindingBehavior,t.AbstractRepeater=O.AbstractRepeater,t.RepeatStrategyLocator=S.RepeatStrategyLocator,t.NullRepeatStrategy=A.NullRepeatStrategy,t.ArrayRepeatStrategy=M.ArrayRepeatStrategy,t.MapRepeatStrategy=T.MapRepeatStrategy,t.SetRepeatStrategy=j.SetRepeatStrategy,t.NumberRepeatStrategy=I.NumberRepeatStrategy,t.createFullOverrideContext=R.createFullOverrideContext,t.updateOverrideContext=R.updateOverrideContext,t.getItemsSourceExpression=R.getItemsSourceExpression,t.isOneTime=R.isOneTime,t.updateOneTimeBinding=R.updateOneTimeBinding,t.unwrapExpression=R.unwrapExpression,t.viewsRequireLifecycle=N.viewsRequireLifecycle}),t.file("dist/commonjs/compose.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function a(t,e){return Object.assign(e,{bindingContext:t.bindingContext,overrideContext:t.overrideContext,owningView:t.owningView,container:t.container,viewSlot:t.viewSlot,viewResources:t.viewResources,currentController:t.currentController,host:t.element,swapOrder:t.swapOrder})}function u(t,e){t.currentInstruction=null,t.compositionEngine.compose(e).then(function(e){t.currentController=e,t.currentViewModel=e?e.viewModel:null})}Object.defineProperty(t,"__esModule",{value:!0}),t.Compose=void 0;var l,c,h,d,p,f,m,v,g=e("aurelia-dependency-injection"),_=e("aurelia-task-queue"),y=e("aurelia-templating"),b=e("aurelia-pal");t.Compose=(l=(0,y.customElement)("compose"),c=(0,g.inject)(b.DOM.Element,g.Container,y.CompositionEngine,y.ViewSlot,y.ViewResources,_.TaskQueue),l(h=(0,y.noView)(h=c((d=function(){function t(t,e,i,n,r,s){o(this,"model",p,this),o(this,"view",f,this),o(this,"viewModel",m,this),o(this,"swapOrder",v,this),this.element=t,this.container=e,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.taskQueue=s,this.currentController=null,this.currentViewModel=null}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,u(this,a(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},t.prototype.unbind=function(t,e){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},t.prototype.modelChanged=function(t,e){var i=this;if(this.currentInstruction)return void(this.currentInstruction.model=t);this.taskQueue.queueMicroTask(function(){if(i.currentInstruction)return void(i.currentInstruction.model=t);var e=i.currentViewModel;e&&"function"==typeof e.activate&&e.activate(t)})},t.prototype.viewChanged=function(t,e){var i=this,n=a(this,{view:t,viewModel:this.currentViewModel||this.viewModel,model:this.model});if(this.currentInstruction)return void(this.currentInstruction=n);this.currentInstruction=n,this.taskQueue.queueMicroTask(function(){return u(i,i.currentInstruction)})},t.prototype.viewModelChanged=function(t,e){var i=this,n=a(this,{viewModel:t,view:this.view,model:this.model});if(this.currentInstruction)return void(this.currentInstruction=n);this.currentInstruction=n,this.taskQueue.queueMicroTask(function(){return u(i,i.currentInstruction)})},t}(),p=s(d.prototype,"model",[y.bindable],{enumerable:!0,initializer:null}),f=s(d.prototype,"view",[y.bindable],{enumerable:!0,initializer:null}),m=s(d.prototype,"viewModel",[y.bindable],{enumerable:!0,initializer:null}),v=s(d.prototype,"swapOrder",[y.bindable],{enumerable:!0,initializer:null}),h=d))||h)||h)||h)}),t.file("dist/commonjs/if.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;var o,s,a,u=e("aurelia-templating"),l=e("aurelia-dependency-injection");t.If=(o=(0,u.customAttribute)("if"),s=(0,l.inject)(u.BoundViewFactory,u.ViewSlot),o(a=(0,u.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=this;if(this.__queuedChanges)return void this.__queuedChanges.push(t);var i=this._runValueChanged(t);i instanceof Promise&&function(){var t=e.__queuedChanges=[],n=function i(){if(!t.length)return void(e.__queuedChanges=void 0);(e._runValueChanged(t.shift())||Promise.resolve()).then(i)};i.then(n)}()},t.prototype._runValueChanged=function(t){var e=this;if(!t){var i=void 0;return null!==this.view&&this.showing&&(i=this.viewSlot.remove(this.view),i instanceof Promise?i.then(function(){return e.view.unbind()}):this.view.unbind()),this.showing=!1,i}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)},t.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},t}())||a)||a)||a)}),t.file("dist/commonjs/with.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-templating"),c=e("aurelia-binding");t.With=(o=(0,l.customAttribute)("with"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),o(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.parentOverrideContext=null,this.view=null}return t.prototype.bind=function(t,e){this.parentOverrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=(0,c.createOverrideContext)(t,this.parentOverrideContext);this.view?this.view.bind(t,e):(this.view=this.viewFactory.create(),this.view.bind(t,e),this.viewSlot.add(this.view))},t.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/repeat.js",function(t,e,i,n,r){"use strict";function o(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Repeat=void 0;var l,c,h,d,p,f,m,v,g=e("aurelia-dependency-injection"),_=e("aurelia-binding"),y=e("aurelia-templating"),b=e("./repeat-strategy-locator"),w=e("./repeat-utilities"),k=e("./analyze-view-factory"),x=e("./abstract-repeater");t.Repeat=(l=(0,y.customAttribute)("repeat"),c=(0,g.inject)(y.BoundViewFactory,y.TargetInstruction,y.ViewSlot,y.ViewResources,_.ObserverLocator,b.RepeatStrategyLocator),l(h=(0,y.templateController)(h=c((d=function(t){function e(e,i,n,r,a,u){var l=s(this,t.call(this,{local:"item",viewsRequireLifecycle:(0,k.viewsRequireLifecycle)(e)}));return o(l,"items",p,l),o(l,"local",f,l),o(l,"key",m,l),o(l,"value",v,l),l.viewFactory=e,l.instruction=i,l.viewSlot=n,l.lookupFunctions=r.lookupFunctions,l.observerLocator=a,l.key="key",l.value="value",l.strategyLocator=u,l.ignoreMutation=!1,l.sourceExpression=(0,w.getItemsSourceExpression)(l.instruction,"repeat.for"),l.isOneTime=(0,w.isOneTime)(l.sourceExpression),l.viewsRequireLifecycle=(0,k.viewsRequireLifecycle)(e),l}return a(e,t),e.prototype.call=function(t,e){this[t](this.items,e)},e.prototype.bind=function(t,e){this.scope={bindingContext:t,overrideContext:e},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},e.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},e.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},e.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,t)}},e.prototype._getInnerCollection=function(){var t=(0,w.unwrapExpression)(this.sourceExpression);return t?t.evaluate(this.scope,null):null},e.prototype.handleCollectionMutated=function(t,e){this.collectionObserver&&this.strategy.instanceMutated(this,t,e)},e.prototype.handleInnerCollectionMutated=function(t,e){var i=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return i.ignoreMutation=!1}),n===this.items?this.itemsChanged():this.items=n}},e.prototype._observeInnerCollection=function(){var t=this._getInnerCollection(),e=this.strategyLocator.getStrategy(t);return!!e&&(this.collectionObserver=e.getCollectionObserver(this.observerLocator,t),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},e.prototype._observeCollection=function(){var t=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,t),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},e.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var t=this.viewFactory.viewFactory.instructions,e=Object.keys(t),i=0;i<e.length;i++){var n=t[e[i]].expressions;if(n)for(;i<n.length;i++)if("matcher"===n[0].targetProperty){var r=n[0];return n.splice(0,1),r}}},e.prototype.viewCount=function(){return this.viewSlot.children.length},e.prototype.views=function(){return this.viewSlot.children},e.prototype.view=function(t){return this.viewSlot.children[t]},e.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},e.prototype.addView=function(t,e){var i=this.viewFactory.create();i.bind(t,e),this.viewSlot.add(i)},e.prototype.insertView=function(t,e,i){var n=this.viewFactory.create();n.bind(e,i),this.viewSlot.insert(t,n)},e.prototype.moveView=function(t,e){this.viewSlot.move(t,e)},e.prototype.removeAllViews=function(t,e){return this.viewSlot.removeAll(t,e)},e.prototype.removeViews=function(t,e,i){return this.viewSlot.removeMany(t,e,i)},e.prototype.removeView=function(t,e,i){return this.viewSlot.removeAt(t,e,i)},e.prototype.updateBindings=function(t){for(var e=t.bindings.length;e--;)(0,w.updateOneTimeBinding)(t.bindings[e]);for(e=t.controllers.length;e--;)for(var i=t.controllers[e].boundProperties.length;i--;){var n=t.controllers[e].boundProperties[i].binding;(0,w.updateOneTimeBinding)(n)}},e}(x.AbstractRepeater),p=u(d.prototype,"items",[y.bindable],{enumerable:!0,initializer:null}),f=u(d.prototype,"local",[y.bindable],{enumerable:!0,initializer:null}),m=u(d.prototype,"key",[y.bindable],{enumerable:!0,initializer:null}),v=u(d.prototype,"value",[y.bindable],{enumerable:!0,initializer:null}),h=d))||h)||h)||h)}),t.file("dist/commonjs/repeat-strategy-locator.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatStrategyLocator=void 0;var o=e("./null-repeat-strategy"),s=e("./array-repeat-strategy"),a=e("./map-repeat-strategy"),u=e("./set-repeat-strategy"),l=e("./number-repeat-strategy");t.RepeatStrategyLocator=function(){function t(){this.matchers=[],this.strategies=[],this.addStrategy(function(t){return null===t||void 0===t},new o.NullRepeatStrategy),this.addStrategy(function(t){return t instanceof Array},new s.ArrayRepeatStrategy),this.addStrategy(function(t){return t instanceof Map},new a.MapRepeatStrategy),this.addStrategy(function(t){return t instanceof Set},new u.SetRepeatStrategy),this.addStrategy(function(t){return"number"==typeof t},new l.NumberRepeatStrategy)}return t.prototype.addStrategy=function(t,e){this.matchers.push(t),this.strategies.push(e)},t.prototype.getStrategy=function(t){for(var e=this.matchers,i=0,n=e.length;i<n;++i)if(e[i](t))return this.strategies[i];return null},t}()}),t.file("dist/commonjs/null-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NullRepeatStrategy=function(){function t(){}return t.prototype.instanceChanged=function(t,e){t.removeAllViews(!0)},t.prototype.getCollectionObserver=function(t,e){},t}()}),t.file("dist/commonjs/array-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayRepeatStrategy=void 0;var o=e("./repeat-utilities"),s=e("aurelia-binding");t.ArrayRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getArrayObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=e.length;if(!e||0===n)return void t.removeAllViews(!0,!t.viewsRequireLifecycle);var r=t.views(),s=r.length;if(0===s)return void this._standardProcessInstanceChanged(t,e);t.viewsRequireLifecycle?function(){for(var a=r.slice(0),u=t.local,l=t.matcher(),c=[],h=[],d=0;d<s;d++){var p=a[d],f=p.bindingContext[u];-1===(0,o.indexOf)(e,f,l)?h.push(p):c.push(f)}var m=void 0,v=void 0;c.length>0?(v=t.removeViews(h,!0,!t.viewsRequireLifecycle),m=function(){for(var s=0;s<n;s++){var a=e[s],u=(0,o.indexOf)(c,a,l,s),h=void 0;if(-1===u){var d=(0,o.createFullOverrideContext)(t,e[s],s,n);t.insertView(s,d.bindingContext,d),c.splice(s,0,void 0)}else u===s?(h=r[u],c[u]=void 0):(h=r[u],t.moveView(u,s),c.splice(u,1),c.splice(s,0,void 0));h&&(0,o.updateOverrideContext)(h.overrideContext,s,n)}i._inPlaceProcessItems(t,e)}):(v=t.removeAllViews(!0,!t.viewsRequireLifecycle),m=function(){return i._standardProcessInstanceChanged(t,e)}),v instanceof Promise?v.then(m):m()}():this._inPlaceProcessItems(t,e)},t.prototype._standardProcessInstanceChanged=function(t,e){for(var i=0,n=e.length;i<n;i++){var r=(0,o.createFullOverrideContext)(t,e[i],i,n);t.addView(r.bindingContext,r)}},t.prototype._inPlaceProcessItems=function(t,e){for(var i=e.length,n=t.viewCount();n>i;)n--,t.removeView(n,!0,!t.viewsRequireLifecycle);for(var r=t.local,s=0;s<n;s++){var a=t.view(s),u=s===i-1,l=0!==s&&!u;a.bindingContext[r]===e[s]&&a.overrideContext.$middle===l&&a.overrideContext.$last===u||(a.bindingContext[r]=e[s],a.overrideContext.$middle=l,a.overrideContext.$last=u,t.updateBindings(a))}for(var c=n;c<i;c++){var h=(0,o.createFullOverrideContext)(t,e[c],c,i);t.addView(h.bindingContext,h)}},t.prototype.instanceMutated=function(t,e,i){var n=this;if(t.__queuedSplices){for(var r=0,o=i.length;r<o;++r){var a=i[r],u=a.index,l=a.removed,c=a.addedCount;(0,s.mergeSplice)(t.__queuedSplices,u,l,c)}return void(t.__array=e.slice(0))}var h=this._runSplices(t,e.slice(0),i);h instanceof Promise&&function(){var e=t.__queuedSplices=[],i=function i(){if(!e.length)return t.__queuedSplices=void 0,void(t.__array=void 0);var r=n._runSplices(t,t.__array,e)||Promise.resolve();e=t.__queuedSplices=[],r.then(i)};h.then(i)}()},t.prototype._runSplices=function(t,e,i){for(var n=this,r=0,s=[],a=0,u=i.length;a<u;++a){for(var l=i[a],c=l.removed,h=0,d=c.length;h<d;++h){var p=t.removeView(l.index+r+s.length,!0);p instanceof Promise&&s.push(p)}r-=l.addedCount}if(s.length>0)return Promise.all(s).then(function(){var r=n._handleAddedSplices(t,e,i);(0,o.updateOverrideContexts)(t.views(),r)});var f=this._handleAddedSplices(t,e,i);(0,o.updateOverrideContexts)(t.views(),f)},t.prototype._handleAddedSplices=function(t,e,i){for(var n=void 0,r=void 0,s=e.length,a=0,u=i.length;a<u;++a){var l=i[a],c=n=l.index,h=l.index+l.addedCount;for((void 0===r||null===r||r>l.index)&&(r=n);c<h;++c){var d=(0,o.createFullOverrideContext)(t,e[c],c,s);t.insertView(c,d.bindingContext,d)}}return r},t}()}),t.file("dist/commonjs/repeat-utilities.js",function(t,e,i,n,r){"use strict";function o(t,e){var i=t.length;for(e>0&&(e-=1);e<i;++e)a(t[e].overrideContext,e,i)}function s(t,e,i,n,r){var o={},s=(0,p.createOverrideContext)(o,t.scope.overrideContext);return void 0!==r?(o[t.key]=r,o[t.value]=e):o[t.local]=e,a(s,i,n),s}function a(t,e,i){var n=0===e,r=e===i-1,o=e%2==0;t.$index=e,t.$first=n,t.$last=r,t.$middle=!(n||r),t.$odd=!o,t.$even=o}function u(t,e){return t.behaviorInstructions.filter(function(t){return t.originalAttrName===e})[0].attributes.items.sourceExpression}function l(t){for(var e=!1;t instanceof p.BindingBehavior;)t=t.expression;for(;t instanceof p.ValueConverter;)t=t.expression,e=!0;return e?t:null}function c(t){for(;t instanceof p.BindingBehavior;){if("oneTime"===t.name)return!0;t=t.expression}return!1}function h(t){t.call&&t.mode===f?t.call(p.sourceContext):t.updateOneTimeBindings&&t.updateOneTimeBindings()}function d(t,e,i,n){if(!i)return t.indexOf(e);for(var r=t.length,o=n||0;o<r;o++)if(i(t[o],e))return o;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.updateOverrideContexts=o,t.createFullOverrideContext=s,t.updateOverrideContext=a,t.getItemsSourceExpression=u,t.unwrapExpression=l,t.isOneTime=c,t.updateOneTimeBinding=h,t.indexOf=d;var p=e("aurelia-binding"),f=p.bindingMode.oneTime}),t.file("dist/commonjs/map-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapRepeatStrategy=void 0;var o=e("./repeat-utilities");t.MapRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getMapObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);if(n instanceof Promise)return void n.then(function(){return i._standardProcessItems(t,e)});this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=0,n=void 0;e.forEach(function(r,s){n=(0,o.createFullOverrideContext)(t,r,i,e.size,s),t.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,e,i){var n=void 0,r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0;for(r=0,s=i.length;r<s;++r)switch(l=i[r],n=l.key,l.type){case"update":u=this._getViewIndexByKey(t,n),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&c.push(h),a=(0,o.createFullOverrideContext)(t,e.get(n),u,e.size,n),t.insertView(u,a.bindingContext,a);break;case"add":a=(0,o.createFullOverrideContext)(t,e.get(n),e.size-1,e.size,n),t.insertView(e.size-1,a.bindingContext,a);break;case"delete":if(void 0===l.oldValue)return;u=this._getViewIndexByKey(t,n),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&c.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}c.length>0?Promise.all(c).then(function(){(0,o.updateOverrideContexts)(t.views(),0)}):(0,o.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByKey=function(t,e){var i=void 0,n=void 0,r=void 0;for(i=0,n=t.viewCount();i<n;++i)if(r=t.view(i),r.bindingContext[t.key]===e)return i},t}()}),t.file("dist/commonjs/set-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetRepeatStrategy=void 0;var o=e("./repeat-utilities");t.SetRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getSetObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);if(n instanceof Promise)return void n.then(function(){return i._standardProcessItems(t,e)});this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=0,n=void 0;e.forEach(function(r){n=(0,o.createFullOverrideContext)(t,r,i,e.size),t.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,e,i){var n=void 0,r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0;for(r=0,s=i.length;r<s;++r)switch(l=i[r],n=l.value,l.type){case"add":a=(0,o.createFullOverrideContext)(t,n,e.size-1,e.size),t.insertView(e.size-1,a.bindingContext,a);break
;case"delete":u=this._getViewIndexByValue(t,n),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&c.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}c.length>0?Promise.all(c).then(function(){(0,o.updateOverrideContexts)(t.views(),0)}):(0,o.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByValue=function(t,e){var i=void 0,n=void 0,r=void 0;for(i=0,n=t.viewCount();i<n;++i)if(r=t.view(i),r.bindingContext[t.local]===e)return i},t}()}),t.file("dist/commonjs/number-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRepeatStrategy=void 0;var o=e("./repeat-utilities");t.NumberRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(){return null},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);if(n instanceof Promise)return void n.then(function(){return i._standardProcessItems(t,e)});this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=t.viewCount(),n=void 0,r=void 0,s=void 0,a=void 0;if(e=Math.floor(e),(a=i-e)>0)for(a>i&&(a=i),n=0,r=a;n<r;++n)t.removeView(i-(n+1),!0,!t.viewsRequireLifecycle);else{for(n=i,r=e;n<r;++n)s=(0,o.createFullOverrideContext)(t,n,n,r),t.addView(s.bindingContext,s);(0,o.updateOverrideContexts)(t.views(),0)}},t}()}),t.file("dist/commonjs/analyze-view-factory.js",function(t,e,i,n,r){"use strict";function o(t){var e=t.type,i=null!==e.elementName?e.elementName:e.attributeName;return-1===u.indexOf(i)&&(e.handlesAttached||e.handlesBind||e.handlesCreated||e.handlesDetached||e.handlesUnbind)||e.viewFactory&&a(e.viewFactory)||t.viewFactory&&a(t.viewFactory)}function s(t){var e=t.behaviorInstructions;if(e)for(var i=e.length;i--;)if(o(e[i]))return!0;return t.viewFactory&&a(t.viewFactory)}function a(t){if("_viewsRequireLifecycle"in t)return t._viewsRequireLifecycle;if(t._viewsRequireLifecycle=!1,t.viewFactory)return t._viewsRequireLifecycle=a(t.viewFactory),t._viewsRequireLifecycle;if(t.template.querySelector(".au-animate"))return t._viewsRequireLifecycle=!0,!0;for(var e in t.instructions)if(s(t.instructions[e]))return t._viewsRequireLifecycle=!0,!0;return t._viewsRequireLifecycle=!1,!1}Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=a;var u=t.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]}),t.file("dist/commonjs/abstract-repeater.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractRepeater=function(){function t(t){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return t.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},t.prototype.views=function(){throw new Error("subclass must implement `views`")},t.prototype.view=function(t){throw new Error("subclass must implement `view`")},t.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},t.prototype.addView=function(t,e){throw new Error("subclass must implement `addView`")},t.prototype.insertView=function(t,e,i){throw new Error("subclass must implement `insertView`")},t.prototype.moveView=function(t,e){throw new Error("subclass must implement `moveView`")},t.prototype.removeAllViews=function(t,e){throw new Error("subclass must implement `removeAllViews`")},t.prototype.removeViews=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.removeView=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.updateBindings=function(t){throw new Error("subclass must implement `updateBindings`")},t}()}),t.file("dist/commonjs/show.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Show=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-templating"),c=e("aurelia-pal"),h=e("./aurelia-hide-style");t.Show=(o=(0,l.customAttribute)("show"),s=(0,u.inject)(c.DOM.Element,l.Animator,u.Optional.of(c.DOM.boundary,!0)),o(a=s(a=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,h.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.removeClass(this.element,h.aureliaHideClassName):this.animator.addClass(this.element,h.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||a)||a)}),t.file("dist/commonjs/aurelia-hide-style.js",function(t,e,i,n,r){"use strict";function o(){a.DOM.injectStyles(l)}function s(t){a.FEATURE.shadowDOM&&t&&!t.hasAureliaHideStyle&&(t.hasAureliaHideStyle=!0,a.DOM.injectStyles(l,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.aureliaHideClassName=void 0,t.injectAureliaHideStyleAtHead=o,t.injectAureliaHideStyleAtBoundary=s;var a=e("aurelia-pal"),u=t.aureliaHideClassName="aurelia-hide",l="."+u+" { display:none !important; }"}),t.file("dist/commonjs/hide.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hide=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-templating"),c=e("aurelia-pal"),h=e("./aurelia-hide-style");t.Hide=(o=(0,l.customAttribute)("hide"),s=(0,u.inject)(c.DOM.Element,l.Animator,u.Optional.of(c.DOM.boundary,!0)),o(a=s(a=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,h.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.addClass(this.element,h.aureliaHideClassName):this.animator.removeClass(this.element,h.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||a)||a)}),t.file("dist/commonjs/sanitize-html.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizeHTMLValueConverter=void 0;var o,s,a,u=e("aurelia-binding"),l=e("aurelia-dependency-injection"),c=e("./html-sanitizer");t.SanitizeHTMLValueConverter=(o=(0,u.valueConverter)("sanitizeHTML"),s=(0,l.inject)(c.HTMLSanitizer),o(a=s(a=function(){function t(t){this.sanitizer=t}return t.prototype.toView=function(t){return null===t||void 0===t?null:this.sanitizer.sanitize(t)},t}())||a)||a)}),t.file("dist/commonjs/html-sanitizer.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HTMLSanitizer=function(){function t(){}return t.prototype.sanitize=function(t){return t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")},t}()}),t.file("dist/commonjs/replaceable.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Replaceable=void 0;var o,s,a,u=e("aurelia-dependency-injection"),l=e("aurelia-templating");t.Replaceable=(o=(0,l.customAttribute)("replaceable"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),o(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null}return t.prototype.bind=function(t,e){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(t,e)},t.prototype.unbind=function(){this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/focus.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Focus=void 0;var o,s,a,u=e("aurelia-templating"),l=e("aurelia-binding"),c=e("aurelia-dependency-injection"),h=e("aurelia-task-queue"),d=e("aurelia-pal");t.Focus=(o=(0,u.customAttribute)("focus",l.bindingMode.twoWay),s=(0,c.inject)(d.DOM.Element,h.TaskQueue),o(a=s(a=function(){function t(t,e){var i=this;this.element=t,this.taskQueue=e,this.isAttached=!1,this.needsApply=!1,this.focusListener=function(t){i.value=!0},this.blurListener=function(t){d.DOM.activeElement!==i.element&&(i.value=!1)}}return t.prototype.valueChanged=function(t){this.isAttached?this._apply():this.needsApply=!0},t.prototype._apply=function(){var t=this;this.value?this.taskQueue.queueMicroTask(function(){t.value&&t.element.focus()}):this.element.blur()},t.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},t.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},t}())||a)||a)}),t.file("dist/commonjs/css-resource.js",function(t,e,i,n,r){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if("string"!=typeof e)throw new Error("Failed loading required CSS file: "+t);return e.replace(p,function(e,i){var n=i.charAt(0);return"'"!==n&&'"'!==n||(i=i.substr(1,i.length-2)),"url('"+(0,h.relativeToFile)(i,t)+"')"})}function u(t){var e;return(0,l.resource)(new f(t))(e=function(t){function e(){return o(this,t.apply(this,arguments))}return s(e,t),e}(m))||e}Object.defineProperty(t,"__esModule",{value:!0}),t._createCSSResource=u;var l=e("aurelia-templating"),c=e("aurelia-loader"),h=(e("aurelia-dependency-injection"),e("aurelia-path")),d=e("aurelia-pal"),p=/url\((?!['"]data)([^)]+)\)/gi,f=function(){function t(t){this.address=t,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return t.prototype.initialize=function(t,e){this._scoped=new e(this)},t.prototype.register=function(t,e){"scoped"===e?t.registerViewEngineHooks(this._scoped):this._global=!0},t.prototype.load=function(t){var e=this;return t.get(c.Loader).loadText(this.address).catch(function(t){return null}).then(function(t){t=a(e.address,t),e._scoped.css=t,e._global&&(e._alreadyGloballyInjected=!0,d.DOM.injectStyles(t))})},t}(),m=function(){function t(t){this.owner=t,this.css=null}return t.prototype.beforeCompile=function(t,e,i){if(i.targetShadowDOM)d.DOM.injectStyles(this.css,t,!0);else if(d.FEATURE.scopedCSS){var n=d.DOM.injectStyles(this.css,t,!0);n.setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(d.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},t}()}),t.file("dist/commonjs/attr-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrBindingBehavior=void 0;var o=e("aurelia-binding");t.AttrBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){t.targetObserver=new o.DataAttributeObserver(t.target,t.targetProperty)},t.prototype.unbind=function(t,e){},t}()}),t.file("dist/commonjs/binding-mode-behaviors.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=void 0;var o,s,a,u=e("aurelia-binding"),l=e("aurelia-metadata"),c={bind:function(t,e,i){t.originalMode=t.mode,t.mode=this.mode},unbind:function(t,e){t.mode=t.originalMode,t.originalMode=null}};t.OneTimeBindingBehavior=(0,l.mixin)(c)(o=function(){this.mode=u.bindingMode.oneTime})||o,t.OneWayBindingBehavior=(0,l.mixin)(c)(s=function(){this.mode=u.bindingMode.oneWay})||s,t.TwoWayBindingBehavior=(0,l.mixin)(c)(a=function(){this.mode=u.bindingMode.twoWay})||a}),t.file("dist/commonjs/throttle-binding-behavior.js",function(t,e,i,n,r){"use strict";function o(t){var e=this,i=this.throttleState,n=+new Date-i.last;if(n>=i.delay)return clearTimeout(i.timeoutId),i.timeoutId=null,i.last=+new Date,void this.throttledMethod(t);i.newValue=t,null===i.timeoutId&&(i.timeoutId=setTimeout(function(){i.timeoutId=null,i.last=+new Date,e.throttledMethod(i.newValue)},i.delay-n))}Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottleBindingBehavior=void 0;var s=e("aurelia-binding");t.ThrottleBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n="updateTarget";t.callSource?n="callSource":t.updateSource&&t.mode===s.bindingMode.twoWay&&(n="updateSource"),t.throttledMethod=t[n],t.throttledMethod.originalName=n,t[n]=o,t.throttleState={delay:i,last:0,timeoutId:null}},t.prototype.unbind=function(t,e){t[t.throttledMethod.originalName]=t.throttledMethod,t.throttledMethod=null,clearTimeout(t.throttleState.timeoutId),t.throttleState=null},t}()}),t.file("dist/commonjs/debounce-binding-behavior.js",function(t,e,i,n,r){"use strict";function o(t){var e=this,i=this.debounceState;if(i.immediate)return i.immediate=!1,void this.debouncedMethod(t);clearTimeout(i.timeoutId),i.timeoutId=setTimeout(function(){return e.debouncedMethod(t)},i.delay)}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceBindingBehavior=void 0;var s=e("aurelia-binding");t.DebounceBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n="updateTarget";t.callSource?n="callSource":t.updateSource&&t.mode===s.bindingMode.twoWay&&(n="updateSource"),t.debouncedMethod=t[n],t.debouncedMethod.originalName=n,t[n]=o,t.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===n}},t.prototype.unbind=function(t,e){t[t.debouncedMethod.originalName]=t.debouncedMethod,t.debouncedMethod=null,clearTimeout(t.debounceState.timeoutId),t.debounceState=null},t}()}),t.file("dist/commonjs/self-binding-behavior.js",function(t,e,i,n,r){"use strict";function o(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}function s(t){var e=o(t);this.target===e&&this.selfEventCallSource(t)}Object.defineProperty(t,"__esModule",{value:!0});t.SelfBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){if(!t.callSource||!t.targetEvent)throw new Error("Self binding behavior only supports event.");t.selfEventCallSource=t.callSource,t.callSource=s},t.prototype.unbind=function(t,e){t.callSource=t.selfEventCallSource,t.selfEventCallSource=null},t}()}),t.file("dist/commonjs/signal-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalBindingBehavior=void 0;var o=e("./binding-signaler");t.SignalBindingBehavior=function(){function t(t){this.signals=t.signals}return t.inject=function(){return[o.BindingSignaler]},t.prototype.bind=function(t,e){if(!t.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var i=arguments[2];(this.signals[i]||(this.signals[i]=[])).push(t),t.signalName=i}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var n=Array.prototype.slice.call(arguments,2),r=n.length;r--;){var o=n[r];(this.signals[o]||(this.signals[o]=[])).push(t)}t.signalName=n}},t.prototype.unbind=function(t,e){var i=t.signalName;if(t.signalName=null,Array.isArray(i))for(var n=i,r=n.length;r--;){var o=n[r],s=this.signals[o];s.splice(s.indexOf(t),1)}else{var a=this.signals[i];a.splice(a.indexOf(t),1)}},t}()}),t.file("dist/commonjs/binding-signaler.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingSignaler=void 0;var o=e("aurelia-binding");t.BindingSignaler=function(){function t(){this.signals={}}return t.prototype.signal=function(t){var e=this.signals[t];if(e)for(var i=e.length;i--;)e[i].call(o.sourceContext)},t}()}),t.file("dist/commonjs/update-trigger-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTriggerBindingBehavior=void 0;var o,s,a=e("aurelia-binding"),u="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";t.UpdateTriggerBindingBehavior=(s=o=function(){function t(t){this.eventManager=t}return t.prototype.bind=function(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(0===n.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(t.mode!==a.bindingMode.twoWay)throw new Error(u);var o=t.observerLocator.getObserver(t.target,t.targetProperty);if(!o.handler)throw new Error(u);t.targetObserver=o,o.originalHandler=t.targetObserver.handler;var s=this.eventManager.createElementHandler(n);o.handler=s},t.prototype.unbind=function(t,e){t.targetObserver.handler=t.targetObserver.originalHandler,t.targetObserver.originalHandler=null},t}(),o.inject=[a.EventManager],s)}),t.file("dist/commonjs/html-resource-plugin.js",function(t,e,i,n,r){"use strict";function o(t){return/([^\/^\?]+)\.html/i.exec(t)[1].toLowerCase()}function s(t){var e=t.container.get(a.ViewEngine),i=t.aurelia.loader;e.addResourcePlugin(".html",{fetch:function(t){return i.loadTemplate(t).then(function(e){var i,n=e.template.getAttribute("bindable"),r=o(t);return n?(n=n.split(",").map(function(t){return t.trim()}),e.template.removeAttribute("bindable")):n=[],i={},i[r]=(0,u._createDynamicElement)(r,t,n),i})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementName=o,t.configure=s;var a=e("aurelia-templating"),u=e("./dynamic-element")}),t.file("dist/commonjs/dynamic-element.js",function(t,e,i,n,r){"use strict";function o(t,e,i){for(var n,r,o,a=(n=(0,s.customElement)(t),r=(0,s.useView)(e),n(o=r(o=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||o)||o),u=0,l=i.length;u<l;++u)(0,s.bindable)(i[u])(a);return a}Object.defineProperty(t,"__esModule",{value:!0}),t._createDynamicElement=o;var s=e("aurelia-templating")}),t.entry="dist/commonjs/aurelia-templating-resources.js"}),t.pkg("fuse-box-aurelia-loader",{},function(e){return e.file("dist/commonjs/fuse-box-aurelia-loader.js",function(e,i,n,r,o){function s(t,e){var i,n,r=t;if(r.__useDefault&&(r=r.default),h.Origin.set(r,new h.Origin(e,"default")),"object"==typeof r)for(i in r)"function"==typeof(n=r[i])&&h.Origin.set(n,new h.Origin(e,i));return t}function a(t,e,i){_&&("error"===t&&m.error(e,i),"info"===t&&m.debug(e,i))}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,o&&(s=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(o,i[1])).done)return s;switch(o=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,o=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){u.label=i[1];break}if(6===i[0]&&u.label<s[1]){u.label=s[1],s=i;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(i);break}s[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],o=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var h=i("aurelia-metadata"),d=i("aurelia-loader"),p=i("aurelia-pal"),f=i("aurelia-logging"),m=f.getLogger("fuse-box-aurelia-loader"),v=function(){function t(){}return t.prototype.loadTemplate=function(t,e){return l(this,void 0,void 0,function(){var i;return c(this,function(n){switch(n.label){case 0:return[4,t.loadText(e.address)];case 1:return i=n.sent(),e.template=p.DOM.createTemplateFromMarkup(i),[2]}})})},t}();e.TextTemplateLoader=v,e.ensureOriginOnExports=s;var g;try{g=t.import("process").env}catch(t){g={},console.log(t)}var _=g.FB_AU_LOG||window.FUSEBOX_AURELIA_LOADER_LOGGING,y=function(e){function i(){var t=e.call(this)||this;return t.loaderPlugins=Object.create(null),t.moduleRegistry=Object.create(null),t.modulesBeingLoaded=new Map,t.useTemplateLoader(new v),t.addPlugin("template-registry-entry",{fetch:function(e){return l(t,void 0,void 0,function(){var t;return c(this,function(i){switch(i.label){case 0:return a("info","template-registry-entry- fetch =>",e),t=this.getOrCreateTemplateRegistryEntry(e),t.templateIsLoaded?[3,2]:[4,this.templateLoader.loadTemplate(this,t)];case 1:i.sent(),i.label=2;case 2:return[2,t]}})})}}),t}return u(i,e),i.prototype.useTemplateLoader=function(t){this.templateLoader=t},i.prototype.loadAllModules=function(t){var e=this;return a("info","loadAllModules => ",arguments),Promise.all(t.map(function(t){return e.loadModule(t)}))},i.prototype.loadTemplate=function(t){return a("info","loadTemplate => ",arguments),this.loadModule(this.applyPluginToUrl(t,"template-registry-entry"))},i.prototype.loadText=function(t){return a("info","loadText => ",arguments),Promise.resolve(this.loadWithFusebox(this.findFuseBoxPath(t))).then(function(t){return"string"==typeof t?t:t.default?t.default:""})},i.prototype.loadModule=function(t){return l(this,void 0,void 0,function(){var e,i,n;return c(this,function(r){switch(r.label){case 0:return a("info","loadModule => ",t),(e=this.moduleRegistry[t])?[2,e]:(i=this.modulesBeingLoaded.get(t))?[2,i]:(i=this._import(t),this.modulesBeingLoaded.set(t,i),[4,i]);case 1:return n=r.sent(),this.moduleRegistry[t]=s(n,t),this.modulesBeingLoaded.delete(t),[2,n]}})})},i.prototype.addPlugin=function(t,e){this.loaderPlugins[t]=e},i.prototype.normalize=function(t,e){return a("info","normalize =>",[t,e]),Promise.resolve(t)},i.prototype.map=function(){},i.prototype._import=function(t){return l(this,void 0,void 0,function(){var e,i,n,r,o,a,u;return c(this,function(l){switch(l.label){case 0:e=t.split("!"),i=e.splice(e.length-1,1)[0],n=1===e.length?e[0]:null,l.label=1;case 1:if(l.trys.push([1,4,,5]),!n)return[3,3];if(!(r=this.loaderPlugins[n]))throw new Error("Plugin "+n+" is not registered in the loader.");return[4,r.fetch(i)];case 2:return[2,l.sent()];case 3:return[3,5];case 4:throw o=l.sent(),new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+t+", module id was: "+i+"\n        Did you forget to add it to bundle?\n\n        "+o+"\n      ");case 5:a=this.findFuseBoxPath(i);try{return u=this.loadWithFusebox(a),u=s(u,i),this.moduleRegistry[i]=u,[2,Promise.resolve(u)]}catch(e){throw new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+t+", module path returned: "+a+"\n        Did you forget to add it to bundle?\n\n        "+e+"\n      ")}return[2]}})})},i.prototype.applyPluginToUrl=function(t,e){return a("info","applyPluginToUrl =>",arguments),e+"!"+t},i.prototype.loadWithFusebox=function(e){return t.import(e)},i.prototype.fuseBoxExist=function(e){var i=!1;try{i=t.exists(e)}catch(t){i=!1}return i},i.prototype.findFuseBoxPath=function(e){var i;switch(!0){case-1!==e.indexOf("/"):switch(e.split("/")[0],!0){case this.fuseBoxExist(e):i=e;break;case this.fuseBoxExist("~/"+e):i="~/"+e;break;default:var n=Object.keys(t.packages).find(function(t){return e.startsWith(t+"/")});if(n){var r=t.packages[n].s.entry,o=e.replace(n,"");i=n+"/"+r.replace(/\/([^\/]+)\/?$/,o)}if(!this.fuseBoxExist(i))throw a("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}break;default:switch(!0){case this.fuseBoxExist(e):i=e;break;case this.fuseBoxExist("~/"+e):i="~/"+e;break;default:throw a("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}}return i},i}(d.Loader);e.FuseBoxAureliaLoader=y,p.PLATFORM.Loader=y}),e.entry="dist/commonjs/fuse-box-aurelia-loader.js"}),t.pkg("resize-observer-polyfill",{},function(t){return t.file("dist/ResizeObserver.js",function(t,e,i,n,r){!function(e,n){"object"==typeof t&&void 0!==i?i.exports=n():"function"==typeof define&&define.amd?define(n):e.ResizeObserver=n()}(this,function(){"use strict";function t(t){return parseFloat(t)||0}function e(e){return Array.prototype.slice.call(arguments,1).reduce(function(i,n){return i+t(e["border-"+n+"-width"])},0)}function i(e){for(var i=["top","right","bottom","left"],n={},r=0,o=i;r<o.length;r+=1){var s=o[r],a=e["padding-"+s];n[s]=t(a)}return n}function n(t){var e=t.getBBox();return u(0,0,e.width,e.height)}function r(n){var r=n.clientWidth,s=n.clientHeight;if(!r&&!s)return y;var a=getComputedStyle(n),l=i(a),c=l.left+l.right,h=l.top+l.bottom,d=t(a.width),p=t(a.height);if("border-box"===a.boxSizing&&(Math.round(d+c)!==r&&(d-=e(a,"left","right")+c),Math.round(p+h)!==s&&(p-=e(a,"top","bottom")+h)),!o(n)){var f=Math.round(d+c)-r,m=Math.round(p+h)-s;1!==Math.abs(f)&&(d-=f),1!==Math.abs(m)&&(p-=m)}return u(l.left,l.top,d,p)}function o(t){return t===document.documentElement}function s(t){return c?b(t)?n(t):r(t):y}function a(t){var e=t.x,i=t.y,n=t.width,r=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return _(s,{x:e,y:i,width:n,height:r,top:i,right:e+n,bottom:r+i,left:e}),s}function u(t,e,i,n){return{x:t,y:e,width:i,height:n}}var l=function(){function t(t,e){var i=-1;return t.some(function(t,n){return t[0]===e&&(i=n,!0)}),i}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var i={size:{}};return i.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i+=1){var r=n[i];t.call(e,r[1],r[0])}},Object.defineProperties(e.prototype,i),e}()}(),c="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,h=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),d=2,p=function(t,e){function i(){o&&(o=!1,t()),s&&r()}function n(){h(i)}function r(){var t=Date.now();if(o){if(t-a<d)return;s=!0}else o=!0,s=!1,setTimeout(n,e);a=t}var o=!1,s=!1,a=0;return r},f=["top","right","bottom","left","width","height","size","weight"],m="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),v="undefined"!=typeof MutationObserver&&!m,g=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=p(this.refresh.bind(this),20)};g.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},g.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},g.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},g.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},g.prototype.connect_=function(){c&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),v?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},g.prototype.disconnect_=function(){c&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},g.prototype.onTransitionEnd_=function(t){var e=t.propertyName;f.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},g.getInstance=function(){return this.instance_||(this.instance_=new g),this.instance_},g.instance_=null;var _=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i+=1){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},y=u(0,0,0,0),b=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof SVGGraphicsElement}:function(t){return t instanceof SVGElement&&"function"==typeof t.getBBox}}(),w=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=u(0,0,0,0),this.target=t};w.prototype.isActive=function(){var t=s(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},w.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var k=function(t,e){var i=a(e);_(this,{target:t,contentRect:i})},x=function(t,e,i){if("function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new l,this.callback_=t,this.controller_=e,this.callbackCtx_=i};x.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new w(t)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},x.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new k(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return this.activeObservations_.length>0};var C="undefined"!=typeof WeakMap?new WeakMap:new l,E=function(t){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=g.getInstance(),i=new x(t,e,this)
;C.set(this,i)};return["observe","unobserve","disconnect"].forEach(function(t){E.prototype[t]=function(){return(e=C.get(this))[t].apply(e,arguments);var e}}),function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:E}()})}),t.entry="dist/ResizeObserver.js"}),t.pkg("whatwg-fetch",{},function(t){return t.file("fetch.js",function(t,e,i,n,r){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function a(t){var e=new FileReader,i=s(e);return e.readAsArrayBuffer(t),i}function u(t){var e=new FileReader,i=s(e);return e.readAsText(t),i}function l(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&y(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var i=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=d(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function m(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=i(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=i(n)},r.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),n(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),n(t)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];v.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=p,t.Response=v,t.fetch=function(t,e){return new Promise(function(i,n){var r=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;i(new v(e,t))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}),t.entry="fetch.js"}),t.import("fuse-box-aurelia-loader"),t.import("aurelia-bootstrapper"),t.target="browser"}(function(t){function e(t){var e=t.charCodeAt(0),i=t.charCodeAt(1);if((p||58!==i)&&(e>=97&&e<=122||64===e)){if(64===e){var n=t.split("/"),r=n.splice(2,n.length).join("/");return[n[0]+"/"+n[1],r||void 0]}var o=t.indexOf("/");if(-1===o)return[t];return[t.substring(0,o),t.substring(o+1)]}}function i(t){return t.substring(0,t.lastIndexOf("/"))||"./"}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],n=0,r=arguments.length;n<r;n++)i=i.concat(arguments[n].split("/"));for(var o=[],n=0,r=i.length;n<r;n++){var s=i[n];s&&"."!==s&&(".."===s?o.pop():o.push(s))}return""===i[0]&&o.unshift(""),o.join("/")||(o.length?"/":".")}function r(t){var e=t.match(/\.(\w{1,})$/);return e&&e[1]?t:t+".js"}function o(t){if(p){var e,i=document,n=i.getElementsByTagName("head")[0];/\.css$/.test(t)?(e=i.createElement("link"),e.rel="stylesheet",e.type="text/css",e.href=t):(e=i.createElement("script"),e.type="text/javascript",e.src=t,e.async=!0),n.insertBefore(e,n.firstChild)}}function s(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function a(t){return{server:require(t)}}function u(t,i){var o=i.path||"./",s=i.pkg||"default",u=e(t);if(u&&(o="./",s=u[0],i.v&&i.v[s]&&(s=s+"@"+i.v[s]),t=u[1]),t)if(126===t.charCodeAt(0))t=t.slice(2,t.length),o="./";else if(!p&&(47===t.charCodeAt(0)||58===t.charCodeAt(1)))return a(t);var l=v[s];if(!l){if(p&&"electron"!==_.target)throw"Package not found "+s;return a(s+(t?"/"+t:""))}t=t||"./"+l.s.entry;var c,h=n(o,t),d=r(h),f=l.f[d];return!f&&d.indexOf("*")>-1&&(c=d),f||c||(d=n(h,"/","index.js"),f=l.f[d],f||"."!==h||(d=l.s&&l.s.entry||"index.js",f=l.f[d]),f||(d=h+".js",f=l.f[d]),f||(f=l.f[h+".jsx"]),f||(d=h+"/index.jsx",f=l.f[d])),{file:f,wildcard:c,pkgName:s,versions:l.v,filePath:h,validPath:d}}function l(t,e,i){if(void 0===i&&(i={}),!p)return e(/\.(js|json)$/.test(t)?f.require(t):"");if(i&&i.ajaxed===t)return console.error(t,"does not provide a module");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var i=r.getResponseHeader("Content-Type"),o=r.responseText;/json/.test(i)?o="module.exports = "+o:/javascript/.test(i)||(o="module.exports = "+JSON.stringify(o));var s=n("./",t);_.dynamic(s,o),e(_.import(t,{ajaxed:t}))}else console.error(t,"not found on request"),e(void 0)},r.open("GET",t,!0),r.send()}function c(t,e){var i=g[t];if(i)for(var n in i){var r=i[n].apply(null,e);if(!1===r)return!1}}function h(t,e){if(void 0===e&&(e={}),58===t.charCodeAt(4)||58===t.charCodeAt(5))return o(t);var n=u(t,e);if(n.server)return n.server;var r=n.file;if(n.wildcard){var s=new RegExp(n.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@@/g,".*").replace(/@/g,"[a-z0-9$_-]+"),"i"),a=v[n.pkgName];if(a){var d={};for(var m in a.f)s.test(m)&&(d[m]=h(n.pkgName+"/"+m));return d}}if(!r){var g="function"==typeof e;if(!1===c("async",[t,e]))return;return l(t,function(t){return g?e(t):null},e)}var _=n.pkgName;if(r.locals&&r.locals.module)return r.locals.module.exports;var y=r.locals={},b=i(n.validPath);y.exports={},y.module={exports:y.exports},y.require=function(t,e){return h(t,{pkg:_,path:b,v:n.versions})},p||!f.require.main?y.require.main={filename:"./",paths:[]}:y.require.main=f.require.main;var w=[y.module.exports,y.require,y.module,n.validPath,b,_];return c("before-import",w),r.fn.apply(0,w),c("after-import",w),y.module.exports}if(t.FuseBox)return t.FuseBox;var d="undefined"!=typeof WorkerGlobalScope,p="undefined"!=typeof window&&window.navigator||d,f=p?d?{}:window:global;p&&(f.global=d?{}:window),t=p&&"undefined"==typeof __fbx__dnm__?t:module.exports;var m=p?d?{}:window.__fsbx__=window.__fsbx__||{}:f.$fsbx=f.$fsbx||{};p||(f.require=require);var v=m.p=m.p||{},g=m.e=m.e||{},_=function(){function e(){}return e.global=function(t,e){return void 0===e?f[t]:void(f[t]=e)},e.import=function(t,e){return h(t,e)},e.on=function(t,e){g[t]=g[t]||[],g[t].push(e)},e.exists=function(t){try{return void 0!==u(t,{}).file}catch(t){return!1}},e.remove=function(t){var e=u(t,{}),i=v[e.pkgName];i&&i.f[e.validPath]&&delete i.f[e.validPath]},e.main=function(t){return this.mainFile=t,e.import(t,{})},e.expose=function(e){for(var i in e)!function(i){var n=e[i].alias,r=h(e[i].pkg);"*"===n?s(r,function(e,i){return t[e]=i}):"object"==typeof n?s(n,function(e,i){return t[i]=r[e]}):t[n]=r}(i)},e.dynamic=function(e,i,n){this.pkg(n&&n.pkg||"default",{},function(n){n.file(e,function(e,n,r,o,s){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",i)(!0,e,n,r,o,s,t)})})},e.flush=function(t){var e=v.default;for(var i in e.f)t&&!t(i)||delete e.f[i].locals},e.pkg=function(t,e,i){if(v[t])return i(v[t].s);var n=v[t]={};return n.f={},n.v=e,n.s={file:function(t,e){return n.f[t]={fn:e}}},i(n.s)},e.addPlugin=function(t){this.plugins.push(t)},e.packages=v,e.isBrowser=p,e.isServer=!p,e.plugins=[],e}();return p||(f.FuseBox=_),t.FuseBox=_}(this));