!function(y){var t,e,i,n,o,r;y.$fuse$=y,t=this,e=function(t){"use strict";function u(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}function f(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function c(t){return t._leaflet_id=t._leaflet_id||++Ht,t._leaflet_id}function e(t,e,i){var n,o,r,s;return s=function(){n=!1,o&&(r.apply(i,o),o=!1)},r=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function i(t,e,i){var n=e[1],o=e[0],r=n-o;return t===n&&i?t:((t-o)%r+r)%r+o}function a(){return!1}function n(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function o(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return o(t).split(/\s+/)}function s(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?qt(t.options):{}),e)t.options[i]=e[i];return t.options}function h(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}function r(t,n){return t.replace(Ut,function(t,e){var i=n[e];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(n)),i})}function d(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,i=Math.max(0,16-(e-Gt));return Gt=e+i,window.setTimeout(t,i)}function b(t,e,i){if(!i||Xt!==m)return Xt.call(window,f(t,e));t.call(e)}function v(t){t&&Yt.call(window,t)}function g(){}function _(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}function y(t,e,i){return t instanceof _?t:Zt(t)?new _(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new _(t.x,t.y):new _(t,e,i)}function w(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function k(t,e){return!t||t instanceof w?t:new w(t,e)}function x(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function C(t,e){return t instanceof x?t:new x(t,e)}function E(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function S(t,e,i){return t instanceof E?t:Zt(t)&&"object"!=typeof t[0]?3===t.length?new E(t[0],t[1],t[2]):2===t.length?new E(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new E(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new E(t,e,i)}function P(t,e,i,n){if(Zt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function A(t,e,i,n){return new P(t,e,i,n)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t,e){var i,n,o,r,s,a,u="";for(i=0,o=t.length;i<o;i++){for(n=0,r=(s=t[i]).length;n<r;n++)u+=(n?"L":"M")+(a=s[n]).x+" "+a.y;u+=e?Ve?"z":"x":""}return u||"M0 0"}function T(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}function I(t,e,i,n){return"touchstart"===e?(c=t,h=i,d=n,p=f(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Xe.indexOf(t.target.tagName)<0))return;G(t)}B(t,h)}),c["_leaflet_touchstart"+d]=p,c.addEventListener(Ue,p,!1),$e||(document.documentElement.addEventListener(Ue,j,!0),document.documentElement.addEventListener(Ze,N,!0),document.documentElement.addEventListener(We,R,!0),document.documentElement.addEventListener(Ge,R,!0),$e=!0)):"touchmove"===e?(u=i,l=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&B(t,u)},(a=t)["_leaflet_touchmove"+n]=l,a.addEventListener(Ze,l,!1)):"touchend"===e&&(r=i,s=function(t){B(t,r)},(o=t)["_leaflet_touchend"+n]=s,o.addEventListener(We,s,!1),o.addEventListener(Ge,s,!1)),this;var o,r,s,a,u,l,c,h,d,p}function j(t){Ye[t.pointerId]=t,Ke++}function N(t){Ye[t.pointerId]&&(Ye[t.pointerId]=t)}function R(t){delete Ye[t.pointerId],Ke--}function B(t,e){for(var i in t.touches=[],Ye)t.touches.push(Ye[i]);t.changedTouches=[t],e(t)}function D(t,o,e){function i(t){var e;if(Ne){if(!fe||"mouse"===t.pointerType)return;e=Ke}else e=t.touches.length;if(!(1<e)){var i=Date.now(),n=i-(r||i);s=t.touches?t.touches[0]:t,a=0<n&&n<=u,r=i}}function n(t){if(a&&!s.cancelBubble){if(Ne){if(!fe||"mouse"===t.pointerType)return;var e,i,n={};for(i in s)e=s[i],n[i]=e&&e.bind?e.bind(s):e;s=n}s.type="dblclick",o(s),r=null}}var r,s,a=!1,u=250;return t[ti+Qe+e]=i,t[ti+Je+e]=n,t[ti+"dblclick"+e]=o,t.addEventListener(Qe,i,!1),t.addEventListener(Je,n,!1),t.addEventListener("dblclick",o,!1),this}function z(t,e){var i=t[ti+Qe+e],n=t[ti+Je+e],o=t[ti+"dblclick"+e];return t.removeEventListener(Qe,i,!1),t.removeEventListener(Je,n,!1),fe||t.removeEventListener("dblclick",o,!1),this}function F(t,e,i,n){if("object"==typeof e)for(var o in e)q(t,o,e[o],i);else for(var r=0,s=(e=l(e)).length;r<s;r++)q(t,e[r],i,n);return this}function V(t,e,i,n){if("object"==typeof e)for(var o in e)H(t,o,e[o],i);else if(e)for(var r=0,s=(e=l(e)).length;r<s;r++)H(t,e[r],i,n);else{for(var a in t[ei])H(t,a,t[ei][a]);delete t[ei]}return this}function q(e,t,i,n){var o=t+c(i)+(n?"_"+c(n):"");if(e[ei]&&e[ei][o])return this;var r=function(t){return i.call(n||e,t||window.event)},s=r;Ne&&0===t.indexOf("touch")?I(e,t,r,o):!Re||"dblclick"!==t||Ne&&we?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",r,!1):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,J(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1)):("click"===t&&ve&&(r=function(t){var e,i,n,o;i=s,n=(e=t).timeStamp||e.originalEvent&&e.originalEvent.timeStamp,(o=oe&&n-oe)&&100<o&&o<500||e.target._simulatedClick&&!e._simulated?X(e):(oe=n,i(e))}),e.addEventListener(t,r,!1)):"attachEvent"in e&&e.attachEvent("on"+t,r):D(e,r,o),e[ei]=e[ei]||{},e[ei][o]=r}function H(t,e,i,n){var o=e+c(i)+(n?"_"+c(n):""),r=t[ei]&&t[ei][o];if(!r)return this;Ne&&0===e.indexOf("touch")?(s=t,a=e,u=o,l=s["_leaflet_"+a+u],"touchstart"===a?s.removeEventListener(Ue,l,!1):"touchmove"===a?s.removeEventListener(Ze,l,!1):"touchend"===a&&(s.removeEventListener(We,l,!1),s.removeEventListener(Ge,l,!1))):!Re||"dblclick"!==e||Ne&&we?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):z(t,o),t[ei][o]=null;var s,a,u,l}function U(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Q(t),this}function Z(t){return q(t,"mousewheel",U),this}function W(t){return F(t,"mousedown touchstart dblclick",U),q(t,"click",K),this}function G(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function X(t){return G(t),U(t),this}function Y(t,e){if(!e)return new _(t.clientX,t.clientY);var i=e.getBoundingClientRect(),n=i.width/e.offsetWidth||1,o=i.height/e.offsetHeight||1;return new _(t.clientX/n-i.left-e.clientLeft,t.clientY/o-i.top-e.clientTop)}function $(t){return fe?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ii:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function K(t){ni[t.type]=!0}function Q(t){var e=ni[t.type];return ni[t.type]=!1,e}function J(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}function tt(t){return"string"==typeof t?document.getElementById(t):t}function et(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function it(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function nt(t){var e=t.parentNode;e&&e.removeChild(t)}function ot(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function rt(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function st(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function at(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ht(t);return 0<i.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function ut(t,e){if(void 0!==t.classList)for(var i=l(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!at(t,e)){var r=ht(t);ct(t,(r?r+" ":"")+e)}}function lt(t,e){void 0!==t.classList?t.classList.remove(e):ct(t,o((" "+ht(t)+" ").replace(" "+e+" "," ")))}function ct(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ht(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function dt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function pt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ft(t,e,i){var n=e||new _(0,0);t.style[ri]=(Se?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function mt(t,e){t._leaflet_pos=e,Oe?ft(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function vt(t){return t._leaflet_pos||new _(0,0)}function gt(){F(window,"dragstart",G)}function _t(){V(window,"dragstart",G)}function yt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(bt(),ci=(li=t).style.outline,t.style.outline="none",F(window,"keydown",bt))}function bt(){li&&(li.style.outline=ci,ci=li=void 0,V(window,"keydown",bt))}function wt(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,o,r){var s,a,u,l=0;for(a=o+1;a<=r-1;a++)(u=Lt(e[a],e[o],e[r],!0))>l&&(s=a,l=u);n<l&&(i[s]=1,t(e,i,n,o,s),t(e,i,n,s,r))}(t,n,e,0,i-1);var o,r=[];for(o=0;o<i;o++)n[o]&&r.push(t[o]);return r}(t=function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)s=t[n],a=t[o],void 0,void 0,u=a.x-s.x,l=a.y-s.y,e<u*u+l*l&&(i.push(t[n]),o=n);var s,a,u,l;return o<r-1&&i.push(t[r-1]),i}(t,i),i)}function kt(t,e,i){return Math.sqrt(Lt(t,e,i,!0))}function xt(t,e,i,n,o){var r,s,a,u=n?wi:Et(t,i),l=Et(e,i);for(wi=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=Et(s=Ct(t,e,r=u||l,i,o),i),r===u?(t=s,u=a):(e=s,l=a)}}function Ct(t,e,i,n,o){var r,s,a=e.x-t.x,u=e.y-t.y,l=n.min,c=n.max;return 8&i?(r=t.x+a*(c.y-t.y)/u,s=c.y):4&i?(r=t.x+a*(l.y-t.y)/u,s=l.y):2&i?(r=c.x,s=t.y+u*(c.x-t.x)/a):1&i&&(r=l.x,s=t.y+u*(l.x-t.x)/a),new _(r,s,o)}function Et(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Lt(t,e,i,n){var o,r=e.x,s=e.y,a=i.x-r,u=i.y-s,l=a*a+u*u;return 0<l&&(1<(o=((t.x-r)*a+(t.y-s)*u)/l)?(r=i.x,s=i.y):0<o&&(r+=a*o,s+=u*o)),a=t.x-r,u=t.y-s,n?a*a+u*u:new _(r,s)}function St(t){return!Zt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Pt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),St(t)}function At(t,e,i){var n,o,r,s,a,u,l,c,h,d=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=Et(t[o],e);for(s=0;s<4;s++){for(c=d[s],n=[],o=0,r=(l=t.length)-1;o<l;r=o++)a=t[o],u=t[r],a._code&c?u._code&c||((h=Ct(u,a,c,e,i))._code=Et(h,e),n.push(h)):(u._code&c&&((h=Ct(u,a,c,e,i))._code=Et(h,e),n.push(h)),n.push(a));t=n}return t}function Ot(t,e){var i,n,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Mt;if(!a&&!s)return null;switch(s.type){case"Point":return i=c(a),l?l(t,i):new qi(i);case"MultiPoint":for(o=0,r=a.length;o<r;o++)i=c(a[o]),u.push(l?l(t,i):new qi(i));return new Di(u);case"LineString":case"MultiLineString":return n=Tt(a,"LineString"===s.type?0:1,c),new Wi(n,e);case"Polygon":case"MultiPolygon":return n=Tt(a,"Polygon"===s.type?1:2,c),new Gi(n,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=Ot({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Di(u);default:throw new Error("Invalid GeoJSON object.")}}function Mt(t){return new E(t[1],t[0],t[2])}function Tt(t,e,i){for(var n,o=[],r=0,s=t.length;r<s;r++)n=e?Tt(t[r],e-1,i):(i||Mt)(t[r]),o.push(n);return o}function It(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[n(t.lng,e),n(t.lat,e),n(t.alt,e)]:[n(t.lng,e),n(t.lat,e)]}function jt(t,e,i,n){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?jt(t[r],e-1,i,n):It(t[r],n));return!e&&i&&o.push(o[0]),o}function Nt(t,e){return t.feature?u({},t.feature,{geometry:e}):Rt(e)}function Rt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Bt(t,e){return new Xi(t,e)}function Dt(t,e){return new rn(t,e)}function zt(t){return Fe?new un(t):null}function Ft(t){return Ve||qe?new dn(t):null}var Vt=Object.freeze;Object.freeze=function(t){return t};var qt=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),Ht=0,Ut=/\{ *([\w_-]+) *\}/g,Zt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Wt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Gt=0,Xt=window.requestAnimationFrame||p("RequestAnimationFrame")||m,Yt=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},$t=(Object.freeze||Object)({freeze:Vt,extend:u,create:qt,bind:f,lastId:Ht,stamp:c,throttle:e,wrapNum:i,falseFn:a,formatNum:n,trim:o,splitWords:l,setOptions:s,getParamString:h,template:r,isArray:Zt,indexOf:d,emptyImageUrl:Wt,requestFn:Xt,cancelFn:Yt,requestAnimFrame:b,cancelAnimFrame:v});g.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=qt(i);for(var o in(n.constructor=e).prototype=n,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);return t.statics&&(u(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=Zt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),u.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=u(qt(n.options),t.options)),u(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;t<e;t++)n._initHooks[t].call(this)}},e},g.include=function(t){return u(this.prototype,t),this},g.mergeOptions=function(t){return u(this.prototype.options,t),this},g.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var Kt={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,r=(t=l(t)).length;o<r;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,r=(t=l(t)).length;o<r;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var o={fn:e,ctx:i},r=n,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===i)return;r.push(o)},_off:function(t,e,i){var n,o,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,r=n.length;o<r;o++){var s=n[o];if(s.ctx===i&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,r=n.length;o<r;o++)n[o].fn=a;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=u({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,s=o.length;r<s;r++){var a=o[r];a.fn.call(a.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var o=f(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[c(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[c(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};Kt.addEventListener=Kt.on,Kt.removeEventListener=Kt.clearAllEventListeners=Kt.off,Kt.addOneTimeEventListener=Kt.once,Kt.fireEvent=Kt.fire,Kt.hasEventListeners=Kt.listens;var Qt=g.extend(Kt),Jt=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};_.prototype={clone:function(){return new _(this.x,this.y)},add:function(t){return this.clone()._add(y(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(y(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new _(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new _(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Jt(this.x),this.y=Jt(this.y),this},distanceTo:function(t){var e=(t=y(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=y(t)).x===this.x&&t.y===this.y},contains:function(t){return t=y(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+n(this.x)+", "+n(this.y)+")"}},w.prototype={extend:function(t){return t=y(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new _((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new _(this.min.x,this.max.y)},getTopRight:function(){return new _(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof _?y(t):k(t))instanceof w?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>=e.x&&n.x<=i.x,s=o.y>=e.y&&n.y<=i.y;return r&&s},overlaps:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>e.x&&n.x<i.x,s=o.y>e.y&&n.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},x.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof E)i=e=t;else{if(!(t instanceof x))return t?this.extend(S(t)||C(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new E(e.lat,e.lng),this._northEast=new E(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new x(new E(e.lat-n,e.lng-o),new E(i.lat+n,i.lng+o))},getCenter:function(){return new E((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new E(this.getNorth(),this.getWest())},getSouthEast:function(){return new E(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof E||"lat"in t?S(t):C(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof x?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&n.lat<=i.lat,s=o.lng>=e.lng&&n.lng<=i.lng;return r&&s},overlaps:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&n.lat<i.lat,s=o.lng>e.lng&&n.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var te,ee={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new w(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!(E.prototype={equals:function(t,e){return!!t&&(t=S(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+n(this.lat,t)+", "+n(this.lng,t)+")"},distanceTo:function(t){return ie.distance(this,S(t))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new E(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?i(t.lng,this.wrapLng,!0):t.lng;return new E(this.wrapLat?i(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new x(new E(r.lat-n,r.lng-o),new E(s.lat-n,s.lng-o))}},ie=u({},ee,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(n)*Math.cos(o)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),ne={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new _(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new E((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(te=6378137*Math.PI,new w([-te,-te],[te,te]))};P.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new _((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var oe,re,se,ae,ue,le=u({},ie,{code:"EPSG:3857",projection:ne,transformation:(ue=.5/(Math.PI*ne.R),A(ue,.5,-ue,.5))}),ce=u({},le,{code:"EPSG:900913"}),he=document.documentElement.style,de="ActiveXObject"in window,pe=de&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),me=T("webkit"),ve=T("android"),ge=T("android 2")||T("android 3"),_e=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ye=ve&&T("Google")&&_e<537&&!("AudioNode"in window),be=!!window.opera,we=T("chrome"),ke=T("gecko")&&!me&&!be&&!de,xe=!we&&T("safari"),Ce=T("phantom"),Ee="OTransition"in he,Le=0===navigator.platform.indexOf("Win"),Se=de&&"transition"in he,Pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ge,Ae="MozPerspective"in he,Oe=!window.L_DISABLE_3D&&(Se||Pe||Ae)&&!Ee&&!Ce,Me="undefined"!=typeof orientation||T("mobile"),Te=Me&&me,Ie=Me&&Pe,je=!window.PointerEvent&&window.MSPointerEvent,Ne=!(!window.PointerEvent&&!je),Re=!window.L_NO_TOUCH&&(Ne||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Be=Me&&be,De=Me&&ke,ze=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Fe=!!document.createElement("canvas").getContext,Ve=!(!document.createElementNS||!O("svg").createSVGRect),qe=!Ve&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),He=(Object.freeze||Object)({ie:de,ielt9:pe,edge:fe,webkit:me,android:ve,android23:ge,androidStock:ye,opera:be,chrome:we,gecko:ke,safari:xe,phantom:Ce,opera12:Ee,win:Le,ie3d:Se,webkit3d:Pe,gecko3d:Ae,any3d:Oe,mobile:Me,mobileWebkit:Te,mobileWebkit3d:Ie,msPointer:je,pointer:Ne,touch:Re,mobileOpera:Be,mobileGecko:De,retina:ze,canvas:Fe,svg:Ve,vml:qe}),Ue=je?"MSPointerDown":"pointerdown",Ze=je?"MSPointerMove":"pointermove",We=je?"MSPointerUp":"pointerup",Ge=je?"MSPointerCancel":"pointercancel",Xe=["INPUT","SELECT","OPTION"],Ye={},$e=!1,Ke=0,Qe=je?"MSPointerDown":Ne?"pointerdown":"touchstart",Je=je?"MSPointerUp":Ne?"pointerup":"touchend",ti="_leaflet_",ei="_leaflet_events",ii=Le&&we?2*window.devicePixelRatio:ke?window.devicePixelRatio:1,ni={},oi=(Object.freeze||Object)({on:F,off:V,stopPropagation:U,disableScrollPropagation:Z,disableClickPropagation:W,preventDefault:G,stop:X,getMousePosition:Y,getWheelDelta:$,fakeStop:K,skipped:Q,isExternalTarget:J,addListener:F,removeListener:V}),ri=pt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),si=pt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ai="webkitTransition"===si||"OTransition"===si?si+"End":"transitionend";if("onselectstart"in document)re=function(){F(window,"selectstart",G)},se=function(){V(window,"selectstart",G)};else{var ui=pt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(ui){var t=document.documentElement.style;ae=t[ui],t[ui]="none"}},se=function(){ui&&(document.documentElement.style[ui]=ae,ae=void 0)}}var li,ci,hi=(Object.freeze||Object)({TRANSFORM:ri,TRANSITION:si,TRANSITION_END:ai,get:tt,getStyle:et,create:it,remove:nt,empty:ot,toFront:rt,toBack:st,hasClass:at,addClass:ut,removeClass:lt,setClass:ct,getClass:ht,setOpacity:dt,testProp:pt,setTransform:ft,setPosition:mt,getPosition:vt,disableTextSelection:re,enableTextSelection:se,disableImageDrag:gt,enableImageDrag:_t,preventOutline:yt,restoreOutline:bt}),di=Qt.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=vt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=b(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),mt(this._el,i),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),pi=Qt.extend({options:{crs:le,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=s(this,e),this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(S(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=si&&Oe&&!Be&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(S(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=u({animate:i.animate},i.zoom),i.pan=u({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?clearTimeout(this._sizeTimer):this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Oe?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Oe?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof _?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var i=y(e.paddingTopLeft||e.padding||[0,0]),n=y(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=C(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=y(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new di,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ut(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(r,s,t){function e(t){var e=(o*o-d*d+(t?-1:1)*m*m*p*p)/(2*(t?o:d)*m*p),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return d*(a(v)*(i(e=v+f*t)/a(e))-i(v))/m;var e}if(!1===(t=t||{}).animate||!Oe)return this.setView(r,s,t);this._stop();var l=this.project(this.getCenter()),c=this.project(r),n=this.getSize(),h=this._zoom;r=S(r),s=void 0===s?h:s;var d=Math.max(n.x,n.y),o=d*this.getZoomScale(h,s),p=c.distanceTo(l)||1,f=1.42,m=f*f,v=e(0),g=Date.now(),_=(e(1)-v)/f,y=t.duration?1e3*t.duration:1e3*_*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e,i,n=(Date.now()-g)/y,o=(e=n,(1-Math.pow(1-e,1.5))*_);n<=1?(this._flyToFrame=b(t,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(u(o)/p)),h),this.getScaleZoom(d/(i=o,d*(a(v)/a(v+f*i))),h),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=C(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,C(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),r=n.subtract(o);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=f(this._handleGeolocationResponse,this),i=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new E(t.coords.latitude,t.coords.longitude),i=e.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)nt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=it("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new x(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=C(t),i=y(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(i),l=k(this.project(a,n),this.project(s,n)).getSize(),c=Oe?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,p=e?Math.max(h,d):Math.min(h,d);return n=this.getScaleZoom(p,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(o,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new _(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new w(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(S(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(y(t),e)},layerPointToLatLng:function(t){var e=y(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(S(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(S(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(S(t),S(e))},containerPointToLayerPoint:function(t){return y(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return y(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(y(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(S(t)))},mouseEventToContainerPoint:function(t){return Y(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=tt(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");F(e,"scroll",this._onScroll,this),this._containerId=c(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe,ut(t,"leaflet-container"+(Re?" leaflet-touch":"")+(ze?" leaflet-retina":"")+(pe?" leaflet-oldie":"")+(xe?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=et(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new _(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(t.markerPane,"leaflet-zoom-hide"),ut(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){mt(this._mapPane,new _(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){mt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?V:F;e((this._targets[c(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Oe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=b(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;r;){if((i=this._targets[c(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){s=!0;break}if(i&&i.listens(e,!0)){if(o&&!J(r,t))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n.length||s||o||!J(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!Q(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||yt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=u({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&G(t);var r={originalEvent:t};if("keypress"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);r.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=s?o.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var a=0;a<i.length;a++)if(i[a].fire(e,r,!0),r.originalEvent._stopped||!1===i[a].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return vt(this._mapPane)||new _(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return k([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),r=new w(n.subtract(o),n.add(o)),s=this._getBoundsOffset(r,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new w(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=k(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),r=n.max.subtract(t.max);return new _(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=Oe?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ri,i=this._proxy.style[e];ft(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ft(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(b(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),b(function(){this._moveEnd(!0)},this))}}),fi=g.extend({options:{position:"topright"},initialize:function(t){s(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return ut(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map&&(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),mi=function(t){return new fi(t)};pi.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,e){var i=o+t+" "+o+e;n[t+e]=it("div",i,r)}var n=this._controlCorners={},o="leaflet-",r=this._controlContainer=it("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)nt(this._controlCorners[t]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vi=fi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in s(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return fi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(c(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ut(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):lt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=it("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),W(e),Z(e);var n=this._form=it("form",t+"-list");i&&(this._map.on("click",this.collapse,this),ve||F(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=it("a",t+"-toggle",e);o.href="#",o.title="Layers",Re?(F(o,"click",X),F(o,"click",this.expand,this)):F(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=it("div",t+"-base",n),this._separator=it("div",t+"-separator",n),this._overlaysList=it("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&c(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(f(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ot(this._baseLayersList),ot(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<o,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(c(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers",n),this._layerControlInputs.push(e),e.layerId=c(t.layer),F(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return i.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var r=i.length-1;0<=r;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;0<=o;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),gi=fi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=it("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var r=it("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),W(r),F(r,"click",X),F(r,"click",o,this),F(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";lt(this._zoomInButton,e),lt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ut(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ut(this._zoomInButton,e)}});pi.mergeOptions({zoomControl:!0}),pi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gi,this.addControl(this.zoomControl))});var _i=fi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=it("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=it("div",e,i)),t.imperial&&(this._iScale=it("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;5280<o?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=10<=i?10:5<=i?5:3<=i?3:2<=i?2:1)}}),yi=fi.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){s(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=it("div","leaflet-control-attribution"),W(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});pi.mergeOptions({attributionControl:!0}),pi.addInitHook(function(){this.options.attributionControl&&(new yi).addTo(this)}),fi.Layers=vi,fi.Zoom=gi,fi.Scale=_i,fi.Attribution=yi,mi.layers=function(t,e,i){return new vi(t,e,i)},mi.zoom=function(t){return new gi(t)},mi.scale=function(t){return new _i(t)},mi.attribution=function(t){return new yi(t)};var bi=g.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});bi.addTo=function(t,e){return t.addHandler(e,this),this};var wi,ki,xi={Events:Kt},Ci=Re?"touchstart mousedown":"mousedown",Ei={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Li={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Si=Qt.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){s(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(F(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(),V(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!at(this._element,"leaflet-zoom-anim")&&!(Si._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Si._dragging=this)._preventOutline&&yt(this._element),gt(),re(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new _(e.clientX,e.clientY),F(document,Li[t.type],this._onMove,this),F(document,Ei[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&1<t.touches.length)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new _(e.clientX,e.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(G(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=vt(this._element).subtract(i),ut(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,v(this._animRequest),this._lastEvent=t,this._animRequest=b(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),mt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Li)V(document,Li[t],this._onMove,this),V(document,Ei[t],this._onUp,this);_t(),se(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Si._dragging=!1}}),Pi=(Object.freeze||Object)({simplify:wt,pointToSegmentDistance:kt,closestPointOnSegment:function(t,e,i){return Lt(t,e,i)},clipSegment:xt,_getEdgeIntersection:Ct,_getBitCode:Et,_sqClosestPointOnSegment:Lt,isFlat:St,_flat:Pt}),Ai=(Object.freeze||Object)({clipPolygon:At}),Oi={project:function(t){return new _(t.lng,t.lat)},unproject:function(t){return new E(t.y,t.x)},bounds:new w([-180,-90],[180,90])},Mi={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=r*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),r/2);return n=-i*Math.log(Math.max(a,1e-10)),new _(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&1e-7<Math.abs(l);u++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new E(a*i,t.x*i/n)}},Ti=(Object.freeze||Object)({LonLat:Oi,Mercator:Mi,SphericalMercator:ne}),Ii=u({},ie,{code:"EPSG:3395",projection:Mi,transformation:(ki=.5/(Math.PI*Mi.R),A(ki,.5,-ki,.5))}),ji=u({},ie,{code:"EPSG:4326",projection:Oi,transformation:A(1/180,1,-1/180,.5)}),Ni=u({},ee,{projection:Oi,transformation:A(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});ee.Earth=ie,ee.EPSG3395=Ii,ee.EPSG3857=le,ee.EPSG900913=ce,ee.EPSG4326=ji,ee.Simple=Ni;var Ri=Qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[c(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[c(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});pi.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=c(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=c(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&c(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?Zt(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[c(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=c(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=Ri.extend({initialize:function(t,e){var i,n;if(s(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return c(t)}}),Di=Bi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Bi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Bi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new x;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),zi=g.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){s(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=y(n),r=y("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return ze&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Fi=zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Fi.imagePath||(Fi.imagePath=this._detectIconPath()),(this.options.imagePath||Fi.imagePath)+zi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=it("div","leaflet-default-icon-path",document.body),e=et(t,"background-image")||et(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Vi=bi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Si(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=L.DomUtil.getPosition(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),u=k(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!u.contains(r)){var l=y((Math.max(u.max.x,r.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,r.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,r.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,r.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(n);i.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=b(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(v(this._panRequest),this._panRequest=b(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=vt(e._icon),o=e._map.layerPointToLatLng(n);i&&mt(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){v(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),qi=Ri.extend({options:{icon:new Fi,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){s(this,e),this._latlng=S(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),ut(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ut(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(t){mt(this._icon,t),this._shadow&&mt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;dt(this._icon,t),this._shadow&&dt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Hi=Ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return s(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ui=Hi.extend({options:{fill:!0,radius:10},initialize:function(t,e){s(this,e),this._latlng=S(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=S(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Hi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new w(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Zi=Ui.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=u({},i,{radius:e})),s(this,e),this._latlng=S(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new x(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Hi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===ie.distance){var o=Math.PI/180,r=this._mRadius/ie.R/o,s=i.project([e+r,t]),a=i.project([e-r,t]),u=s.add(a).divideBy(2),l=i.unproject(u).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-i.project([l,t-c]).x,this._radiusY=u.y-s.y}else{var h=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}}),Wi=Hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){s(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,r=Lt,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=r(t,e=u[l-1],i=u[l],!0);h<n&&(n=h,o=r(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a=this._rings[0],u=a.length;if(!u)return null;for(e=t=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(n=t=0;t<u-1;t++)if(o=a[t],r=a[t+1],(n+=i=o.distanceTo(r))>e)return s=(n-e)/i,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=S(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new x,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return St(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=St(t),n=0,o=t.length;n<o;n++)i?(e[n]=S(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new _(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,r=t[0]instanceof E,s=t.length;if(r){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,r,s,a,u=this._parts;for(n=e=0,o=this._rings.length;e<o;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=xt(a[i],a[i+1],t,i,!0))&&(u[n]=u[n]||[],u[n].push(s[0]),s[1]===a[i+1]&&i!==r-2||(u[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=wt(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,r,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,o=(s=(a=this._parts[i]).length)-1;n<s;o=n++)if((e||0!==n)&&kt(t,a[o],a[n])<=u)return!0;return!1}});Wi._flat=Pt;var Gi=Wi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(r=s=a=0,t=0,e=c-1;t<c;e=t++)i=l[t],n=l[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,a+=(i.y+n.y)*o,r+=3*o;return u=0===r?l[0]:[s/r,a/r],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Wi.prototype._convertLatLngs.call(this,t),i=e.length;return 2<=i&&e[0]instanceof E&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Wi.prototype._setLatLngs.call(this,t),St(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return St(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new _(e,e);if(t=new w(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,r=this._rings.length;o<r;o++)(n=At(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,r,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(u=(e=this._parts[o]).length)-1;r<u;s=r++)i=e[r],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||Wi.prototype._containsPoint.call(this,t,!0)}}),Xi=Di.extend({initialize:function(t,e){s(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=Zt(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Ot(t,r);return s?(s.feature=Rt(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Yi={toGeoJSON:function(t){return Nt(this,{type:"Point",coordinates:It(this.getLatLng(),t)})}};qi.include(Yi),Zi.include(Yi),Ui.include(Yi),Wi.include({toGeoJSON:function(t){var e=!St(this._latlngs);return Nt(this,{type:(e?"Multi":"")+"LineString",coordinates:jt(this._latlngs,e?1:0,!1,t)})}}),Gi.include({toGeoJSON:function(t){var e=!St(this._latlngs),i=e&&!St(this._latlngs[0]),n=jt(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Nt(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Bi.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(t){i.push(t.toGeoJSON(e).geometry.coordinates)}),Nt(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(n){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(n);var o="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON(n);if(o)r.push(e.geometry);else{var i=Rt(e);"FeatureCollection"===i.type?r.push.apply(r,i.features):r.push(i)}}}),o?Nt(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var $i=Bt,Ki=Ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=C(e),s(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&rt(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:it("img");ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),this.options.className&&ut(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=f(this.fire,this,"load"),e.onerror=f(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ft(this._image,i,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();mt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Qi=Ki.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:it("video");if(ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=f(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=0<i.length?n:[e.src]}else{Zt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var r=0;r<this._url.length;r++){var s=it("source");s.src=this._url[r],e.appendChild(s)}}}}),Ji=Ri.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){s(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&dt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(f(nt,void 0,this._container),200)):nt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=S(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rt(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=y(this.options.offset),i=this._getAnchor();this._zoomAnimated?mt(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),tn=Ji.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ji.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hi||this._source.on("preclick",U))},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hi||this._source.off("preclick",U))},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=it("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=it("div",t+"-content-wrapper",e);if(this._contentNode=it("div",t+"-content",i),W(i),Z(this._contentNode),F(i,"contextmenu",U),this._tipContainer=it("div",t+"-tip-container",e),this._tip=it("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=it("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",F(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&o<n?(e.height=o+"px",ut(t,"leaflet-popup-scrolled")):lt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();mt(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(et(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new _(this._containerLeft,-i-this._containerBottom);o._add(vt(this._container));var r=t.layerPointToContainerPoint(o),s=y(this.options.autoPanPadding),a=y(this.options.autoPanPaddingTopLeft||s),u=y(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;r.x+n+u.x>l.x&&(c=r.x+n-l.x+u.x),r.x-c-a.x<0&&(c=r.x-a.x),r.y+i+u.y>l.y&&(h=r.y+i-l.y+u.y),r.y-h-a.y<0&&(h=r.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),X(t)},_getAnchor:function(){return y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});pi.mergeOptions({closePopupOnClick:!0}),pi.include({openPopup:function(t,e,i){return t instanceof tn||(t=new tn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Ri.include({bindPopup:function(t,e){return t instanceof tn?(s(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new tn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Ri||(e=t,t=this),t instanceof Di)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(X(t),e instanceof Hi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var en=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ji.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return Re&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,u=y(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(y(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===r?t=t.subtract(y(s/2-u.x,-u.y,!0)):"center"===r?t=t.subtract(y(s/2+u.x,a/2-l.y+u.y,!0)):"right"===r||"auto"===r&&o.x<n.x?(r="right",t=t.add(y(u.x+l.x,l.y-a/2+u.y,!0))):(r="left",t=t.subtract(y(s+l.x-u.x,a/2-l.y-u.y,!0))),lt(i,"leaflet-tooltip-right"),lt(i,"leaflet-tooltip-left"),lt(i,"leaflet-tooltip-top"),lt(i,"leaflet-tooltip-bottom"),ut(i,"leaflet-tooltip-"+r),mt(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&dt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});pi.include({openTooltip:function(t,e,i){return t instanceof en||(t=new en(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Ri.include({bindTooltip:function(t,e){return t instanceof en?(s(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new en(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),Re&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Ri||(e=t,t=this),t instanceof Di)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ut(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(lt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var nn=zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=y(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});zi.Default=Fi;var on=Ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){s(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),nt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=e(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof _?t:new _(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe){dt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);dt(o.el,r),r<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(v(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(nt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)nt(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new _(+o,+r);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n<s&&this._retainParent(o,r,s,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new _(o,r);s.z=i+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();Oe?ft(t.el,o,n):mt(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new w(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),r=o.getCenter(),s=[],a=this.options.keepBuffer,u=new w(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new _(c.x,c.y))||(this._tiles[l].current=!1)}if(1<Math.abs(i-this._tileZoom))this._setView(t,i);else{for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var p=new _(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new x(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new _(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ye||e.el.setAttribute("src",Wt),nt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ut(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,pe&&this.options.opacity<1&&dt(t,this.options.opacity),ve&&!ge&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&b(f(this._tileReady,this,t,null,o)),mt(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(dt(i.el,0),v(this._fadeFrame),this._fadeFrame=b(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ut(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe||!this._map._fadeAnimated?b(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new _(this._wrapX?i(t.x,this._wrapX):t.x,this._wrapY?i(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),rn=on.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=s(this,e)).detectRetina&&ze&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ve||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return F(i,"load",f(this._tileOnLoad,this,e,i)),F(i,"error",f(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:ze?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return r(this._url,u(e,this.options))},_tileOnLoad:function(t,e){pe?setTimeout(f(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=Wt,nt(e),delete this._tiles[t]))}}),sn=rn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=u({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);var o=(e=s(this,e)).detectRetina&&ze?2:1,r=this.getTileSize();i.width=r.x*o,i.height=r.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,rn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=k(i.project(e[0]),i.project(e[1])),o=n.min,r=n.max,s=(1.3<=this._wmsVersion&&this._crs===ji?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=L.TileLayer.prototype.getTileUrl.call(this,t);return a+h(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return u(this.wmsParams,t),e||this.redraw(),this}});rn.WMS=sn,Dt.wms=function(t,e){return new sn(t,e)};var an=Ri.extend({options:{padding:.1,tolerance:0},initialize:function(t){s(this,t),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=vt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-i).add(n).add(o).subtract(s);Oe?ft(this._container,a,i):mt(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),un=an.extend({getEvents:function(){var t=an.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");F(t,"mousemove",e(this._onMouseMove,32,this),this),F(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,nt(this._container),V(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},an.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=ze?2:1;mt(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",ze&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[c(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||b(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,r,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),i=0;i<a;i++){for(n=0,o=s[i].length;n<o;n++)r=s[i][n],u[n?"lineTo":"moveTo"](r.x,r.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(K(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(lt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(ut(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&((i.prev=n)?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&((n.next=i)?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),ln=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cn={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ln("shape");ut(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ln("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;nt(e),t.removeInteractiveTarget(e),delete this._layers[c(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=ln("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=Zt(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=ln("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){rt(t._container)},_bringToBack:function(t){st(t._container)}},hn=qe?ln:O,dn=an.extend({getEvents:function(){var t=an.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),V(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){an.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),mt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=hn("path");t.options.className&&ut(e,t.options.className),t.options.interactive&&ut(e,"leaflet-interactive"),this._updateStyle(t),this._layers[c(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){nt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[c(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,M(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){rt(t._path)},_bringToBack:function(t){st(t._path)}});qe&&dn.include(cn),pi.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&zt()||Ft()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=dn&&Ft({pane:t})||un&&zt({pane:t}),this._paneRenderers[t]=e),e}});var pn=Gi.extend({initialize:function(t,e){Gi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=C(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});dn.create=hn,dn.pointsToPath=M,Xi.geometryToLayer=Ot,Xi.coordsToLatLng=Mt,Xi.coordsToLatLngs=Tt,Xi.latLngToCoords=It,Xi.latLngsToCoords=jt,Xi.getFeature=Nt,Xi.asFeature=Rt,pi.mergeOptions({boxZoom:!0});var fn=bi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),gt(),this._startPoint=this._map.mouseEventToContainerPoint(t),F(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),i=e.getSize();mt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(nt(this._box),lt(this._container,"leaflet-crosshair")),se(),_t(),V(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var e=new x(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});pi.addInitHook("addHandler","boxZoom",fn),pi.mergeOptions({doubleClickZoom:!0});var mn=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});pi.addInitHook("addHandler","doubleClickZoom",mn),pi.mergeOptions({dragging:!0,inertia:!ge,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vn=bi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Si(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=k(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=o.multiplyBy(s/r),u=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(i.inertiaDeceleration*s),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),b(function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});pi.addInitHook("addHandler","dragging",vn),pi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gn=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),F(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),V(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){V(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=y(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}X(t)}}});pi.addInitHook("addHandler","keyboard",gn),pi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _n=bi.extend({addHooks:function(){F(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){V(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),n),X(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(0<this._delta?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});pi.addInitHook("addHandler","scrollWheelZoom",_n),pi.mergeOptions({tap:!0,tapTolerance:15});var yn=bi.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(G(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new _(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&ut(i,"leaflet-active"),this._holdTimeout=setTimeout(f(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),F(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),V(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&lt(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new _(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});Re&&!Ne&&pi.addInitHook("addHandler","tap",yn),pi.mergeOptions({touchZoom:Re&&!ge,bounceAtZoomLimits:!0});var bn=bi.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend",this._onTouchEnd,this),G(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var r=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),v(this._animRequest);var s=f(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=b(s,this,!0),G(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,v(this._animRequest),V(document,"touchmove",this._onTouchMove),V(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});pi.addInitHook("addHandler","touchZoom",bn),pi.BoxZoom=fn,pi.DoubleClickZoom=mn,pi.Drag=vn,pi.Keyboard=gn,pi.ScrollWheelZoom=_n,pi.Tap=yn,pi.TouchZoom=bn;var wn=window.L;window.L=t,Object.freeze=Vt,t.version="1.3.1",t.noConflict=function(){return window.L=wn,this},t.Control=fi,t.control=mi,t.Browser=He,t.Evented=Qt,t.Mixin=xi,t.Util=$t,t.Class=g,t.Handler=bi,t.extend=u,t.bind=f,t.stamp=c,t.setOptions=s,t.DomEvent=oi,t.DomUtil=hi,t.PosAnimation=di,t.Draggable=Si,t.LineUtil=Pi,t.PolyUtil=Ai,t.Point=_,t.point=y,t.Bounds=w,t.bounds=k,t.Transformation=P,t.transformation=A,t.Projection=Ti,t.LatLng=E,t.latLng=S,t.LatLngBounds=x,t.latLngBounds=C,t.CRS=ee,t.GeoJSON=Xi,t.geoJSON=Bt,t.geoJson=$i,t.Layer=Ri,t.LayerGroup=Bi,t.layerGroup=function(t,e){return new Bi(t,e)},t.FeatureGroup=Di,t.featureGroup=function(t){return new Di(t)},t.ImageOverlay=Ki,t.imageOverlay=function(t,e,i){return new Ki(t,e,i)},t.VideoOverlay=Qi,t.videoOverlay=function(t,e,i){return new Qi(t,e,i)},t.DivOverlay=Ji,t.Popup=tn,t.popup=function(t,e){return new tn(t,e)},t.Tooltip=en,t.tooltip=function(t,e){return new en(t,e)},t.Icon=zi,t.icon=function(t){return new zi(t)},t.DivIcon=nn,t.divIcon=function(t){return new nn(t)},t.Marker=qi,t.marker=function(t,e){return new qi(t,e)},t.TileLayer=rn,t.tileLayer=Dt,t.GridLayer=on,t.gridLayer=function(t){return new on(t)},t.SVG=dn,t.svg=Ft,t.Renderer=an,t.Canvas=un,t.canvas=zt,t.Path=Hi,t.CircleMarker=Ui,t.circleMarker=function(t,e){return new Ui(t,e)},t.Circle=Zi,t.circle=function(t,e,i){return new Zi(t,e,i)},t.Polyline=Wi,t.polyline=function(t,e){return new Wi(t,e)},t.Polygon=Gi,t.polygon=function(t,e){return new Gi(t,e)},t.Rectangle=pn,t.rectangle=function(t,e){return new pn(t,e)},t.Map=pi,t.map=function(t,e){return new pi(t,e)}},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={}),i=this,n=function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):(t.getLatLng?this._map?t.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow())):(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t})):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t})),this)},addLayers:function(o,r){if(!L.Util.isArray(o))return this.addLayer(o);var s,a=this._featureGroup,u=this._nonPointGroup,l=this.options.chunkedLoading,c=this.options.chunkInterval,h=this.options.chunkProgress,d=o.length,p=0,f=!0;if(this._map){var m=(new Date).getTime(),v=L.bind(function(){for(var t=(new Date).getTime();p<d;p++){if(l&&0==p%200){var e=(new Date).getTime()-t;if(c<e)break}if((s=o[p])instanceof L.LayerGroup)f&&(o=o.slice(),f=!1),this._extractNonGroupLayers(s,o),d=o.length;else if(s.getLatLng){if(!this.hasLayer(s)&&(this._addLayer(s,this._maxZoom),r||this.fire("layeradd",{layer:s}),s.__parent&&2===s.__parent.getChildCount())){var i=s.__parent.getAllChildMarkers(),n=i[0]===s?i[1]:i[0];a.removeLayer(n)}}else u.addLayer(s),r||this.fire("layeradd",{layer:s})}h&&h(p,d,(new Date).getTime()-m),p===d?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(v,this.options.chunkDelay)},this);v()}else for(var t=this._needsClustering;p<d;p++)(s=o[p])instanceof L.LayerGroup?(f&&(o=o.slice(),f=!1),this._extractNonGroupLayers(s,o),d=o.length):s.getLatLng?this.hasLayer(s)||t.push(s):u.addLayer(s);return this},removeLayers:function(t){var e,i,n=t.length,o=this._featureGroup,r=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),r.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),u=n;for(e=0;e<u;e++)(i=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),u=a.length):this._unspiderfyLayer(i)}for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):(r.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;0<=e;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,o,r=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;0<=n;n--){for(i=!0,o=s.length-1;0<=o;o--)if(s[o].layer===r[n]){i=!1;break}i&&t.call(e,r[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var i=null;return e=parseInt(e,10),this.eachLayer(function(t){L.stamp(t)===e&&(i=t)}),i},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;0<=e;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;0<=e;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;0<=i;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());o<=e&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,c=l._markers;for(this._arraySplice(c,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(r.removeLayer(l),i||r.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),2<t.layer.getChildCount()&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;e<=o;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,r=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);s<=e;e--){i=this._map.project(t.getLatLng(),e);var a=o[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=r[e].getNearObject(i)){var u=a.__parent;u&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l;var c=t.__parent=l;for(n=e-1;n>u._zoom;n--)c=new this._markerCluster(this,n,c),o[n].addObject(c,this._map.project(a.getLatLng(),n));return u._addChild(c),void this._removeFromGridUnclustered(a,e)}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(i=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,r){var s,a=this._getExpandedVisibleBounds(),u=this._featureGroup,t=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(a,o,t,function(t){var e,i=t._latlng,n=t._markers;for(a.contains(i)||(i=null),t._isSingleParent()&&o+1===r?(u.removeLayer(t),t._recursivelyAddChildrenToMap(null,r,a)):(t.clusterHide(),t._recursivelyAddChildrenToMap(i,r,a)),s=n.length-1;0<=s;s--)e=n[s],a.contains(e._latlng)||u.removeLayer(e)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(a,r),u.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(a,o,r,function(t){t._recursivelyRestoreChildPositions(r)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(a,o,t,function(t){u.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(2<e._childCount?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,i,n){var o=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(o,r,i+1,n);var s=this;this._forceLayout(),e._recursivelyBecomeVisible(o,n),this._enqueue(function(){if(1===e._childCount){var t=e._markers[0];this._ignoreMove=!0,t.setLatLng(t.getLatLng()),this._ignoreMove=!1,t.clusterShow&&t.clusterShow()}else e._recursively(o,n,r,function(t){t._recursivelyRemoveChildrenFromMap(o,r,i+1)});s._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;0<=e;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;0<=i;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,i=this._childClusters.slice(),n=this._group._map,o=n.getBoundsZoom(this._bounds),r=this._zoom+1,s=n.getZoom();0<i.length&&r<o;){r++;var a=[];for(e=0;e<i.length;e++)a=a.concat(i[e]._childClusters);i=a}r<o?this._group._map.setView(this._latlng,r):o<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,r=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<o.length;t++)i=o[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,o,e){this._recursively(t,this._group._map.getMinZoom(),e-1,function(t){var e,i,n=t._markers;for(e=n.length-1;0<=e;e--)(i=n[e])._icon&&(i._setPos(o),i.clusterHide())},function(t){var e,i,n=t._childClusters;for(e=n.length-1;0<=e;e--)(i=n[e])._icon&&(i._setPos(o),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,i,n,o){this._recursively(e,o,i,function(t){t._recursivelyAnimateChildrenIn(e,t._group._map.latLngToLayerPoint(t.getLatLng()).round(),n),t._isSingleParent()&&n-1===o?(t.clusterShow(),t._recursivelyRemoveChildrenFromMap(e,i,n)):t.clusterHide(),t._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(n,o,r){this._recursively(r,this._group._map.getMinZoom()-1,o,function(t){if(o!==t._zoom)for(var e=t._markers.length-1;0<=e;e--){var i=t._markers[e];r.contains(i._latlng)&&(n&&(i._backupLatlng=i.getLatLng(),i.setLatLng(n),i.clusterHide&&i.clusterHide()),t._group._featureGroup.addLayer(i))}},function(t){t._addToMap(n)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;0<=e;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;0<=n;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;0<=o;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var o,r;this._recursively(t,e-1,i-1,function(t){for(r=t._markers.length-1;0<=r;r--)o=t._markers[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;0<=r;r--)o=t._childClusters[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,i,n,o){var r,s,a=this._childClusters,u=this._zoom;if(e<=u&&(n&&n(this),o&&u===i&&o(this)),u<e||u<i)for(r=a.length-1;0<=r;r--)s=a[r],t.intersects(s._bounds)&&s._recursively(t,e,i,n,o)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,r=o[n]=o[n]||{},s=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},u=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=u.length;i<n;i++)if(u[i]===t)return u.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,s,a,u=this._grid;for(i in u)for(n in s=u[i])for(o=0,r=(a=s[n]).length;o<r;o++)t.call(e,a[o])&&(o--,r--)},getNearObject:function(t){var e,i,n,o,r,s,a,u,l=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=c-1;e<=c+1;e++)if(o=this._grid[e])for(i=l-1;i<=l+1;i++)if(r=o[i])for(n=0,s=r.length;n<s;n++)a=r[n],((u=this._sqDist(h[L.Util.stamp(a)],t))<d||u<=d&&null===p)&&(d=u,p=a);return p},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,r=0,s=null,a=[];for(i=e.length-1;0<=i;i--)n=e[i],0<(o=this.getDistant(n,t))&&(a.push(n),r<o&&(r=o,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,r=!1,s=null,a=null,u=null,l=null,c=null,h=null;for(e=t.length-1;0<=e;e--){var d=t[e];(!1===i||d.lat>i)&&(i=(s=d).lat),(!1===n||d.lat<n)&&(n=(a=d).lat),(!1===o||d.lng>o)&&(o=(u=d).lng),(!1===r||d.lng<r)&&(r=(l=d).lng)}return n!==i?(h=a,c=s):(h=l,c=u),[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;0<=e;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,s=[];for(o=Math.max(o,35),s.length=t,i=0;i<t;i++)n=this._circleStartAngle+i*r,s[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return s},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,u=[];for(i=u.length=t;0<=i;i--)i<t&&(u[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round()),o+=s/(a+=r/o+5e-4*i);return u},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;0<=e;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)r=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],l),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),u.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,o,r,s,a,u=this,l=this._group,c=l._map,h=l._featureGroup,d=this._latlng,p=c.latLngToLayerPoint(d),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),v=m.opacity;for(void 0===v&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=v,l._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],a=c.layerPointToLatLng(e[i]),o=new L.Polyline([d,a],m),c.addLayer(o),n._spiderLeg=o,f&&(s=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=s,r.style.strokeDashoffset=s),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),h.addLayer(n),n._setPos&&n._setPos(p);for(l._forceLayout(),l._animationStart(),i=t.length-1;0<=i;i--)a=c.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&&n.clusterShow(),f&&((r=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:v}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,o,r,s,a=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),i=d.length-1;0<=i;i--)(e=d[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(h),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&c.removeLayer(e),p&&(r=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(i=d.length-1;0<=i;i--)(e=d[i])._spiderLeg&&t++;for(i=d.length-1;0<=i;i--)(e=d[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),1<t&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=i},"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((i.Leaflet=i.Leaflet||{},i.Leaflet.markercluster=i.Leaflet.markercluster||{})),o=function(a){var i=function(e,i,t){(t=t.split(" ")).forEach(function(t){a.DomUtil[e].call(this,i,t)})},e=function(t,e){i("addClass",t,e)},n=function(t,e){i("removeClass",t,e)},t=a.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:a.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,e){var i=a.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);return i.title=e.strings.title,{link:i,icon:a.DomUtil.create(e.iconElementTag,e.icon,i)}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var e in t)"object"==typeof this.options[e]?a.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=a.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=a.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(t){var e=a.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._layer=this.options.layer||new a.LayerGroup,this._layer.addTo(t),this._event=void 0,this._prevBounds=null;var i=this.options.createButtonCallback(e,this.options);return this._link=i.link,this._icon=i.icon,a.DomEvent.on(this._link,"click",a.DomEvent.stopPropagation).on(this._link,"click",a.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",a.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event)switch(this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel)(t=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{var t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;t.bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,e,i=this._event.accuracy,n=this._event.latlng;if(this.options.drawCircle){var o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(n).setRadius(i).setStyle(o):this._circle=a.circle(n,i,o).addTo(this._layer)}if(this.options.metric?(t=i.toFixed(0),e=this.options.strings.metersUnit):(t=(3.2808399*i).toFixed(0),e=this.options.strings.feetUnit),this.options.drawMarker){var r=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(n),this._marker.setStyle&&this._marker.setStyle(r)):this._marker=new this.options.markerClass(n,r).addTo(this._layer)}var s=this.options.strings.popup;this.options.showPopup&&s&&this._marker&&this._marker.bindPopup(a.Util.template(s,{distance:t,unit:e}))._popup.setLatLng(n)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(n(this._container,"active following"),e(this._container,"requesting"),n(this._icon,this.options.icon),e(this._icon,this.options.iconLoading)):"active"==t?(n(this._container,"requesting following"),e(this._container,"active"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)):"following"==t&&(n(this._container,"requesting"),e(this._container,"active following"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon))},_cleanClasses:function(){a.DomUtil.removeClass(this._container,"requesting"),a.DomUtil.removeClass(this._container,"active"),a.DomUtil.removeClass(this._container,"following"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return a.control.locate=function(t){return new a.Control.Locate(t)},t},r=window,"function"==typeof define&&define.amd?define(["leaflet"],o):"object"==typeof exports&&(void 0!==r&&r.L?module.exports=o(L):module.exports=o(require("leaflet"))),void 0!==r&&r.L&&(r.L.Control.Locate=o(L)),L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(t,e){var i=0,n=null;n=setInterval(function(){return 10<=i?(clearInterval(n),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(n),t(window.google)):void i++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(e){L.GridLayer.prototype.onAdd.call(this,e),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=e,this._initMutant(),e.on("viewreset",this._reset,this),e.on("move",this._update,this),e.on("zoomend",this._handleZoomAnim,this),e.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),e._controlCorners.bottomright.style.marginBottom="20px",e._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var t in this._subLayers)this._subLayers[t].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,google.maps.event.clearListeners(t,"idle"),google.maps.event.clearListeners(this._mutant,"idle"),t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners&&(t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em")},getAttribution:function(){return this.options.attribution},setOpacity:function(t){(this.options.opacity=t)<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(e,i){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var t=new(0,google.maps[e])(i);return t.setMap(this._mutant),this._subLayers[e]=t}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var i=t[e],n=0;n<i.addedNodes.length;++n){var o=i.addedNodes[n];o instanceof HTMLImageElement?this._onMutatedImage(o):o instanceof HTMLElement&&Array.prototype.forEach.call(o.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,i=t.src.match(this._roadRegexp),n=0;if(i?(e={z:i[1],x:i[2],y:i[3]},1<this._imagesPerTile&&(n=t.style.zIndex=1)):((i=t.src.match(this._satRegexp))&&(e={x:i[1],y:i[2],z:i[3]}),n=0),e){var o=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var r=o+"/"+n;if(this._freshTiles[r]=t,r in this._tileCallbacks&&this._tileCallbacks[r])this._tileCallbacks[r].pop()(t),this._tileCallbacks[r].length||delete this._tileCallbacks[r];else if(this._tiles[o]){var s=this._tiles[o].el,a=0===n?s.firstChild:s.firstChild.nextSibling,u=this._clone(t);s.replaceChild(u,a)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,i){var e=this._tileCoordsToKey(t),n=L.DomUtil.create("div");n.dataset.pending=this._imagesPerTile,i=i.bind(this,null,n);for(var o=0;o<this._imagesPerTile;o++){var r=e+"/"+o;if(r in this._freshTiles){var s=this._freshTiles[r];n.appendChild(this._clone(s)),n.dataset.pending--}else this._tileCallbacks[r]=this._tileCallbacks[r]||[],this._tileCallbacks[r].push(function(e){return function(t){e.appendChild(this._clone(t)),e.dataset.pending--,parseInt(e.dataset.pending)||i()}.bind(this)}.bind(this)(n))}return parseInt(n.dataset.pending)||L.Util.requestAnimFrame(i),n},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var i=this._map.getZoom(),n=i!==Math.round(i),o=this._mutant.getZoom();n||i==o||(this._mutant.setZoom(i),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),i=t.split(":")[2],n=this._mutant.getBounds(),o=n.getSouthWest(),r=n.getNorthEast(),s=L.latLngBounds([[o.lat(),o.lng()],[r.lat(),r.lng()]]),a=0;a<this._imagesPerTile;a++){var u=t+"/"+a;if(u in this._freshTiles){var l=this._map&&this._keyToBounds(t);this._map&&l.overlaps(s)&&i==e||delete this._freshTiles[u]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)},function(){function r(t,e){this.title=t.title,this.stateName=t.stateName?t.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=function(t){var e;t.match(/[&;=<>"']/)?e=t:(t=t.replace(/(^\s*|\s*$)/g,""),e=L.DomUtil.create("span",""),0===t.indexOf("fa-")?L.DomUtil.addClass(e,"fa "+t):0===t.indexOf("glyphicon-")?L.DomUtil.addClass(e,"glyphicon "+t):L.DomUtil.addClass(e,t),e=e.outerHTML);return e}(t.icon),this.onClick=L.Util.bind(t.onClick?t.onClick:function(){},e)}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(t,e){e&&L.Util.setOptions(this,e),this._buildContainer(),this._buttons=[];for(var i=0;i<t.length;i++)t[i]._bar=this,t[i]._container=t[i].button,this._buttons.push(t[i]),this.container.appendChild(t[i].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(t){this._map=t;for(var e=0;e<this._buttons.length;e++)this._buttons[e]._map=t;var i=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return L.DomUtil.addClass(i,"leaflet-control"),-1!==n.indexOf("bottom")?o.insertBefore(i,o.firstChild):o.appendChild(i),this}}),L.easyBar=function(){for(var t=[L.Control.EasyBar],e=0;e<arguments.length;e++)t.push(arguments[e]);return new(Function.prototype.bind.apply(L.Control.EasyBar,t))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(t,e,i,n){this.options.states=[],null!=n&&(this.options.id=n),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof t&&"function"==typeof e&&this.options.states.push({icon:t,onClick:e,title:"string"==typeof i?i:""}),this._states=[];for(var o=0;o<this.options.states.length;o++)this._states.push(new r(this.options.states[o],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),"button"===this.options.tagName&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(t){L.DomEvent.stop(t),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var t=0;t<this._states.length;t++)this.button.appendChild(this._states[t].icon)},_currentState:{stateName:"unnamed",icon:document.createElement("span")},_states:null,state:function(t){return"string"==typeof t?this._activateStateNamed(t):"number"==typeof t&&this._activateState(this._states[t]),this},_activateStateNamed:function(t){for(var e=0;e<this._states.length;e++)this._states[e].stateName==t&&this._activateState(this._states[e])},_activateState:function(t){if(t!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(t.icon),this.button.removeChild(this._currentState.icon)),t.title?this.button.title=t.title:this.button.removeAttribute("title");for(var e=0;e<this._states.length;e++)L.DomUtil.removeClass(this._states[e].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[e].icon,t.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,t.stateName+"-active"),this._currentState=t}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(t){var e=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=e,this._container=e.container,this._anonymousBar.container},removeFrom:function(t){return this._map===t&&this.remove(),this}}),L.easyButton=function(){var t=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,t))}}(),function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(v){"use strict";return v.Polyline._flat=v.LineUtil.isFlat||v.Polyline._flat||function(t){return!v.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},v.GeometryUtil=v.extend(v.GeometryUtil||{},{distance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))},distanceSegment:function(t,e,i,n){var o=t.latLngToLayerPoint(e),r=t.latLngToLayerPoint(i),s=t.latLngToLayerPoint(n);return v.LineUtil.pointToSegmentDistance(o,r,s)},readableDistance:function(t,e){return"imperial"!==e?1e3<t?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":1760<(t*=1.09361)?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"},belongsSegment:function(t,e,i,n){n=void 0===n?.2:n;var o=e.distanceTo(i);return(e.distanceTo(t)+t.distanceTo(i)-o)/o<n},length:function(t){var e=v.GeometryUtil.accumulatedLengths(t);return 0<e.length?e[e.length-1]:0},accumulatedLengths:function(t){if("function"==typeof t.getLatLngs&&(t=t.getLatLngs()),0===t.length)return[];for(var e=0,i=[0],n=0,o=t.length-1;n<o;n++)e+=t[n].distanceTo(t[n+1]),i.push(e);return i},closestOnSegment:function(t,e,i,n){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var r=t.project(e,o),s=t.project(i,o),a=t.project(n,o),u=v.LineUtil.closestPointOnSegment(r,s,a);return t.unproject(u,o)},closest:function(t,e,i,n){var o,r,s,a=1/0,u=null;if(e instanceof Array){if(e[0]instanceof Array&&"number"!=typeof e[0][0]){for(var l=0;l<e.length;l++){(f=v.GeometryUtil.closest(t,e[l],i,n)).distance<a&&(a=f.distance,u=f)}return u}if(!(e[0]instanceof v.LatLng||"number"==typeof e[0][0]||"number"==typeof e[0].lat))return u;e=v.polyline(e)}if(!(e instanceof v.Polyline))return u;if(o=JSON.parse(JSON.stringify(e.getLatLngs().slice(0))),e instanceof v.Polygon){var c=function(t){if(v.Polyline._flat(t))t.push(t[0]);else for(var e=0;e<t.length;e++)c(t[e])};c(o)}if(v.Polyline._flat(o)){if(n){for(l=0,r=o.length;l<r;l++){var h=o[l];(s=v.GeometryUtil.distance(t,i,h))<a&&(a=s,(u=h).distance=s)}return u}for(l=0,r=o.length;l<r-1;l++){var d=o[l],p=o[l+1];(s=v.GeometryUtil.distanceSegment(t,i,d,p))<=a&&(a=s,(u=v.GeometryUtil.closestOnSegment(t,i,d,p)).distance=s)}return u}for(l=0;l<o.length;l++){var f;(f=v.GeometryUtil.closest(t,o[l],i,n)).distance<a&&(a=f.distance,u=f)}return u},closestLayer:function(t,e,i){for(var n=1/0,o=null,r=null,s=1/0,a=0,u=e.length;a<u;a++){var l=e[a];if(l instanceof v.LayerGroup){var c=v.GeometryUtil.closestLayer(t,l.getLayers(),i);c.distance<n&&(n=c.distance,o=c)}else"function"==typeof l.getLatLng?(r=l.getLatLng(),s=v.GeometryUtil.distance(t,i,r)):(r=v.GeometryUtil.closest(t,l,i))&&(s=r.distance),s<n&&(o={layer:l,latlng:r,distance:n=s})}return o},nClosestLayers:function(t,e,i,n){if((n="number"==typeof n?n:e.length)<1||e.length<1)return null;for(var o,r,s=[],a=0,u=e.length;a<u;a++){var l=e[a];if(l instanceof v.LayerGroup){var c=v.GeometryUtil.closestLayer(t,l.getLayers(),i);s.push(c)}else"function"==typeof l.getLatLng?(r=l.getLatLng(),o=v.GeometryUtil.distance(t,i,r)):(r=v.GeometryUtil.closest(t,l,i))&&(o=r.distance),s.push({layer:l,latlng:r,distance:o})}return s.sort(function(t,e){return t.distance-e.distance}),s.length>n?s.slice(0,n):s},layersWithin:function(t,e,i,n){n="number"==typeof n?n:1/0;for(var o=[],r=null,s=0,a=0,u=e.length;a<u;a++){var l=e[a];"function"==typeof l.getLatLng?(r=l.getLatLng(),s=v.GeometryUtil.distance(t,i,r)):(r=v.GeometryUtil.closest(t,l,i))&&(s=r.distance),r&&s<n&&o.push({layer:l,latlng:r,distance:s})}return o.sort(function(t,e){return t.distance-e.distance})},closestLayerSnap:function(t,e,i,n,o){n="number"==typeof n?n:1/0,o="boolean"!=typeof o||o;var r=v.GeometryUtil.closestLayer(t,e,i);if(!r||r.distance>n)return null;if(o&&"function"==typeof r.layer.getLatLngs){var s=v.GeometryUtil.closest(t,r.layer,r.latlng,!0);s.distance<n&&(r.latlng=s,r.distance=v.GeometryUtil.distance(t,s,i))}return r},interpolateOnPointSegment:function(t,e,i){return v.point(t.x*(1-i)+i*e.x,t.y*(1-i)+i*e.y)},interpolateOnLine:function(t,e,i){var n=(e=e instanceof v.Polyline?e.getLatLngs():e).length;if(n<2)return null;if(0===(i=Math.max(Math.min(i,1),0)))return{latLng:e[0]instanceof v.LatLng?e[0]:v.latLng(e[0]),predecessor:-1};if(1==i)return{latLng:e[e.length-1]instanceof v.LatLng?e[e.length-1]:v.latLng(e[e.length-1]),predecessor:e.length-2};var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());for(var r=[],s=0,a=0;a<n;a++)r[a]=t.project(e[a],o),0<a&&(s+=r[a-1].distanceTo(r[a]));for(var u=s*i,l=r[0],c=r[1],h=0,d=l.distanceTo(c),p=1;p<n&&d<u;p++)l=c,h=d,c=r[p],d+=l.distanceTo(c);var f=d-h!=0?(u-h)/(d-h):0,m=v.GeometryUtil.interpolateOnPointSegment(l,c,f);return{latLng:t.unproject(m,o),predecessor:p-2}},locateOnLine:function(t,e,i){var n=e.getLatLngs();if(i.equals(n[0]))return 0;if(i.equals(n[n.length-1]))return 1;for(var o=v.GeometryUtil.closest(t,e,i,!1),r=v.GeometryUtil.accumulatedLengths(n),s=r[r.length-1],a=0,u=!1,l=0,c=n.length-1;l<c;l++){var h=n[l],d=n[l+1];if(a=r[l],v.GeometryUtil.belongsSegment(o,h,d)){a+=h.distanceTo(o),u=!0;break}}if(!u)throw"Could not interpolate "+i.toString()+" within "+e.toString();return a/s},reverse:function(t){return v.polyline(t.getLatLngs().slice(0).reverse())},extract:function(t,e,i,n){if(n<i)return v.GeometryUtil.extract(t,v.GeometryUtil.reverse(e),1-i,1-n);i=Math.max(Math.min(i,1),0),n=Math.max(Math.min(n,1),0);var o=e.getLatLngs(),r=v.GeometryUtil.interpolateOnLine(t,e,i),s=v.GeometryUtil.interpolateOnLine(t,e,n);if(i==n)return[v.GeometryUtil.interpolateOnLine(t,e,n).latLng];-1==r.predecessor&&(r.predecessor=0),-1==s.predecessor&&(s.predecessor=0);var a=o.slice(r.predecessor+1,s.predecessor+1);return a.unshift(r.latLng),a.push(s.latLng),a},isBefore:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[i.length-1].equals(n[0])},isAfter:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[0].equals(n[n.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs(),o=i[0];return o.equals(n[0])||o.equals(n[n.length-1])},computeAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},computeSlope:function(t,e){var i=(e.y-t.y)/(e.x-t.x);return{a:i,b:t.y-i*t.x}},rotatePoint:function(t,e,i,n){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var r=i*Math.PI/180,s=t.project(e,o),a=t.project(n,o),u=Math.cos(r)*(s.x-a.x)-Math.sin(r)*(s.y-a.y)+a.x,l=Math.sin(r)*(s.x-a.x)+Math.cos(r)*(s.y-a.y)+a.y;return t.unproject(new v.Point(u,l),o)},bearing:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=t.lng*i,s=e.lng*i,a=Math.sin(s-r)*Math.cos(o),u=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(s-r),l=(180*Math.atan2(a,u)/Math.PI+360)%360;return 180<=l?l-360:l},destination:function(t,e,i){e=(e+360)%360;var n=Math.PI/180,o=180/Math.PI,r=t.lng*n,s=t.lat*n,a=e*n,u=Math.sin(s),l=Math.cos(s),c=Math.cos(i/6378137),h=Math.sin(i/6378137),d=Math.asin(u*c+l*h*Math.cos(a)),p=r+Math.atan2(Math.sin(a)*h*l,c-u*Math.sin(d));return p=180<(p*=o)?p-360:p<-180?p+360:p,v.latLng([d*o,p])}}),v.GeometryUtil});var f={NODE_ENV:"production"};y.pkg("default",{},function(t){}),y.pkg("leaflet",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("leaflet.markercluster",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("leaflet.locatecontrol",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("leaflet.gridlayer.googlemutant",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("leaflet-easybutton",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("leaflet-geometryutil",{},function(t){return t.file("index.js",function(t,e,i,n,o){i.exports=L}),t.entry="index.js"}),y.pkg("aurelia-bootstrapper",{},function(t){return t.file("dist/commonjs/aurelia-bootstrapper.js",function(t,i,n,e,o){var r=i("process");Object.defineProperty(t,"__esModule",{value:!0}),t.starting=void 0,t.bootstrap=m,i("aurelia-polyfills");var s=i("aurelia-pal"),a=[],u=void 0,l=new Promise(function(t){return u=t}),c=s.PLATFORM.global,h=void 0!==r&&!r.browser;function d(){if(s.PLATFORM.Loader)return Promise.resolve(new s.PLATFORM.Loader);if("undefined"==typeof AURELIA_WEBPACK_2_0){if("undefined"!=typeof __webpack_require__){var t=__webpack_require__(i.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(c.System&&"function"==typeof c.System.config)return c.System.normalize("aurelia-bootstrapper").then(function(t){return c.System.normalize("aurelia-loader-default",t)}).then(function(t){return c.System.import(t).then(function(t){return new t.DefaultLoader})});if("function"==typeof c.require&&"string"==typeof c.require.version)return new Promise(function(e,t){return c.require(["aurelia-loader-default"],function(t){return e(new t.DefaultLoader)},t)});if(h&&void 0!==n&&void 0!==n.require){var e=n.require("aurelia-loader-nodejs");return Promise.resolve(new e.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function p(i){var n=function(e,t){return i.normalize(e,t).then(function(t){return i.map(e,t),t})};return function(t){var e=void 0,i=h&&("renderer"===r.type||r.versions["node-webkit"]);if(h&&!i)e="nodejs";else if("undefined"!=typeof window)e="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");e="worker"}return t.loadModule("aurelia-pal-"+e).then(function(t){return"nodejs"===e&&!s.isInitialized&&t.globalize()||t.initialize()})}(i).then(function(){return i.normalize("aurelia-bootstrapper")}).then(function(t){var e=n(s.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),t);return Promise.all([e,e.then(function(t){return n("aurelia-dependency-injection",t)}),n("aurelia-router",t),n("aurelia-logging-console",t)])}).then(function(t){var e=t[0];return i.loadModule(e)}).then(function(t){return u(function(){return new t.Aurelia(i)})})}function f(t,e,i){return i.host=t,i.configModuleId=e||null,e?i.loader.loadModule(e).then(function(t){if(!t.configure)throw new Error("Cannot initialize module '"+e+"' without a configure function.");return t.configure(i)}):(i.use.standardConfiguration().developmentLogging(),i.start().then(function(){return i.setRoot()}))}function m(e){var t=l.then(function(t){return e(t())});return a&&a.push(t),t}t.starting=(c.document&&"complete"!==c.document.readyState?new Promise(function(t){function e(){c.document.removeEventListener("DOMContentLoaded",e),c.removeEventListener("load",e),t()}c.document.addEventListener("DOMContentLoaded",e),c.addEventListener("load",e)}):Promise.resolve()).then(d).then(p).then(function(){for(var t=c.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),e=0,i=t.length;e<i;++e){var n=t[e],o=n.getAttribute("aurelia-app")||n.getAttribute("data-aurelia-app");m(f.bind(null,n,o))}var r=console.error.bind(console),s=a.map(function(t){return t.catch(r)});return a=null,Promise.all(s)})}),t.entry="dist/commonjs/aurelia-bootstrapper.js"}),y.pkg("aurelia-polyfills",{},function(t){return t.file("dist/commonjs/aurelia-polyfills.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,d,p,h,f,m,v,g,_,y,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},F=e("aurelia-pal");"undefined"==typeof FEATURE_NO_ES2015&&(function(i,t){if(!(t in i)){var r,e=F.PLATFORM.global,n=0,o=""+Math.random(),s="__symbol:",a=s.length,u="__symbol@@"+o,l="defineProperty",c="defineProperties",h="getOwnPropertyNames",d="getOwnPropertyDescriptor",p="propertyIsEnumerable",f=i[h],m=i[d],v=i.create,g=i.keys,_=i[l],y=i[c],b=m(i,h),w=i.prototype,k=w.hasOwnProperty,x=w[p],C=w.toString,E=(Array.prototype.indexOf,function(t,e,i){k.call(t,u)||_(t,u,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[u]["@@"+e]=i}),L=function(){},S=function(t){return t!=u&&!k.call(T,t)},P=function(t){return t!=u&&k.call(T,t)},A=function(t){var e=""+t;return P(e)?k.call(this,e)&&this[u]&&this[u]["@@"+e]:x.call(this,t)},O=function(e){return _(w,e,{enumerable:!1,configurable:!0,get:L,set:function(t){r(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),E(this,e,!0)}}),T[e]=_(i(e),"constructor",I)},M=function(t){if(this&&this!==e)throw new TypeError("Symbol is not a constructor");return O(s.concat(t||"",o,++n))},T=v(null),I={value:M},j=function(t){return T[t]},N=function(t,e,i){var n,o=""+e;return P(o)?(r(t,o,i.enumerable?((n=v(i)).enumerable=!1,n):i),E(t,o,!!i.enumerable)):_(t,e,i),t},R=function(t){return t="[object String]"===C.call(t)?t.split(""):i(t),f(t).filter(P).map(j)};b.value=N,_(i,l,b),b.value=R,_(i,t,b);var B="object"===("undefined"==typeof window?"undefined":z(window))?i.getOwnPropertyNames(window):[],D=i.getOwnPropertyNames;b.value=function(t){if("[object Window]"===C.call(t))try{return D(t)}catch(t){return[].concat([],B)}return f(t).filter(S)},_(i,h,b),b.value=function(e,i){var t=R(i);return t.length?g(i).concat(t).forEach(function(t){A.call(i,t)&&N(e,t,i[t])}):y(e,i),e},_(i,c,b),b.value=A,_(w,p,b),b.value=M,_(e,"Symbol",b),b.value=function(t){var e=s.concat(s,t,o);return e in w?T[e]:O(e)},_(M,"for",b),b.value=function(t){return k.call(T,t)?t.slice(2*a,-o.length):void 0},_(M,"keyFor",b),b.value=function(t,e){var i=m(t,e);return i&&P(e)&&(i.enumerable=A.call(t,e)),i},_(i,d,b),b.value=function(t,e){return 1===arguments.length?v(t):(i=e,n=v(t),null!==i&&"object"===(void 0===i?"undefined":z(i))&&f(i).forEach(function(t){A.call(i,t)&&N(n,t,i[t])}),n);var i,n},_(i,"create",b),b.value=function(){var t=C.call(this);return"[object String]"===t&&P(this)?"[object Symbol]":t},_(w,"toString",b);try{r=v(_({},s,{get:function(){return _(this,s,{value:!1})[s]}}))[s]||_}catch(t){r=function(t,e,i){var n=m(w,e);delete w[e],_(t,e,i),_(w,e,n)}}}}(Object,"getOwnPropertySymbols"),r=Object,Symbol,a=r.defineProperty,u=r.prototype,l=u.toString,["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",c="toStringTag"].forEach(function(t){if(!(t in Symbol))switch(a(Symbol,t,{value:Symbol(t)}),t){case c:(s=r.getOwnPropertyDescriptor(u,"toString")).value=function(){var t=l.call(this),e=null==this?void 0:this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},a(u,"toString",s)}}),function(s,t,e){function a(){return this}t[s]||(t[s]=function(){var e=0,i=this,t={next:function(){var t=i.length<=e;return t?{done:t}:{done:t,value:i[e++]}}};return t[s]=a,t}),e[s]||(e[s]=function(){var i=String.fromCodePoint,n=this,o=0,r=n.length,t={next:function(){var t=r<=o,e=t?"":i(n.codePointAt(o));return o+=e.length,t?{done:t}:{done:t,value:e}}};return t[s]=a,t})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(t){return t!=t},Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(t){return!0}}()||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(t){return!0}}()||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=(d=function(t){return 0<t?Math.min((e=t,isNaN(e=+e)?0:(0<e?Math.floor:Math.ceil)(e)),9007199254740991):0;var e},p=function(e,t,i,n){try{return t(i,n)}catch(t){throw"function"==typeof e.return&&e.return(),t}},function(t){var e,i,n,o,r=Object(t),s="function"==typeof this?this:Array,a=arguments.length,u=1<a?arguments[1]:void 0,l=void 0!==u,c=0,h=r[Symbol.iterator];if(l&&(u=u.bind(2<a?arguments[2]:void 0)),null==h||Array.isArray(t))for(i=new s(e=d(r.length));c<e;c++)i[c]=l?u(r[c],c):r[c];else for(o=h.call(r),i=new s;!(n=o.next()).done;c++)i[c]=l?p(o,u,n.value,c):n.value;return i.length=c,i})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(e=i[r],t.call(o,e,r,i))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,o=arguments[1],r=0;r<n;r++)if(e=i[r],t.call(o,e,r,i))return r;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(t){var e=Object(this),i=parseInt(e.length)||0;if(0===i)return!1;var n,o,r=parseInt(arguments[1])||0;for(0<=r?n=r:(n=i+r)<0&&(n=0);n<i;){if(t===(o=e[n])||t!=t&&o!=o)return!0;n++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(!function(){var o,r,s,a,e=!1;try{var t=Object.keys("a");e=1!==t.length||"0"!==t[0]}catch(t){e=!0}e&&(Object.keys=(o=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),a=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");t=Object(t);var e,i,n=[];for(e in t)o.call(t,e)&&n.push(e);if(r)for(i=0;i<a;i++)o.call(t,s[i])&&n.push(s[i]);return n}))}(),"assign"in(h=Object)||h.defineProperty(h,"assign",{configurable:!0,writable:!0,value:(f=h.getOwnPropertySymbols,m=h.propertyIsEnumerable,v=f?function(t){return f(t).filter(m,t)}:function(){return Array.prototype},function(e){function t(t){e[t]=o[t]}!f||e instanceof h||console.warn("problematic Symbols",e);for(var i=1,n=arguments.length;i<n;++i){var o=arguments[i];null!=o&&h.keys(o).concat(v(o)).forEach(t)}return e})}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e})),"undefined"==typeof FEATURE_NO_ES2015&&function(t){var i,e,n,o=Object.defineProperty,r=function(t,e){return t===e||t!=t&&e!=e};("undefined"==typeof WeakMap&&(t.WeakMap=s({delete:a,clear:f,get:u,has:h,set:d},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next)||(t.Map=s(((e={delete:a,has:h,get:u,set:d,keys:function(){return g(this._itp,this._keys)},values:m,entries:v,forEach:y,clear:f})[Symbol.iterator]=v,e)));"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=s(((n={has:c,add:p,delete:a,clear:f,keys:m,values:m,entries:function(){return g(this._itp,this._values,this._values)},forEach:y})[Symbol.iterator]=m,n)));function s(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&function(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}.call(this,t)}return e||o(t,"size",{get:_}),(t.constructor=i).prototype=t,i}function a(t){return this.has(t)&&(this._keys.splice(i,1),this._values.splice(i,1),this._itp.forEach(function(t){i<t[0]&&t[0]--})),-1<i}function u(t){return this.has(t)?this._values[i]:void 0}function l(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(i=t.length;i--&&!r(t[i],e););else i=t.indexOf(e);return-1<i}function c(t){return l.call(this,this._values,t)}function h(t){return l.call(this,this._keys,t)}function d(t,e){return this.has(t)?this._values[i]=e:this._values[this._keys.push(t)-1]=e,this}function p(t){return this.has(t)||this._values.push(t),this}function f(){(this._keys||0).length=this._values.length=0}function m(){return g(this._itp,this._values)}function v(){return g(this._itp,this._keys,this._values)}function g(i,n,o){var t,r=[0],s=!1;return i.push(r),(t={})[Symbol.iterator]=function(){return this},t.next=function(){var t,e=r[0];return!s&&e<n.length?(t=o?[n[e],o[e]]:n[e],r[0]++):(s=!0,i.splice(i.indexOf(r),1)),{done:s,value:t}},t}function _(){return this._values.length}function y(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}"undefined"==typeof WeakSet&&(t.WeakSet=s({delete:a,add:p,clear:f,has:c},!0))}(F.PLATFORM.global),"undefined"==typeof FEATURE_NO_ES2015&&(g=Function.prototype.bind,void 0===F.PLATFORM.global.Reflect&&(F.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(t,e,i){if("object"===(void 0===t?"undefined":z(t))?null===t:"function"!=typeof t)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(t,e,i),!0}catch(t){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(t,e){if(e)switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(g.apply(t,i))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))})),"undefined"==typeof FEATURE_NO_ESNEXT&&(_=Object.freeze({}),y="__metadata__","function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(t,e,i){if(e.hasOwnProperty(y))return(e[y][i]||_)[t]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(t,e,i,n){var o=i.hasOwnProperty(y)?i[y]:i[y]={};(o[n]||(o[n]={}))[t]=e}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(i,n){return function(t,e){Reflect.defineMetadata(i,n,t,e)}}))}),t.entry="dist/commonjs/aurelia-polyfills.js"}),y.pkg("aurelia-pal",{},function(t){return t.file("dist/commonjs/aurelia-pal.js",function(e,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateError=function(t,e,i){if(e){if(e.innerError&&i)return e;var n="\n------------------------------------------------\n";t+=n+"Inner Error:\n","string"==typeof e?t+="Message: "+e:(e.message?t+="Message: "+e.message:t+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(e,null,"  "),e.stack&&(t+="\nInner Error Stack:\n"+e.stack,t+="\nEnd Inner Error Stack")),t+=n}var o=new Error(t);e&&(o.innerError=e);return o},e.initializePAL=function(t){if(u)return;e.isInitialized=u=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(t,e){for(var i=Object.getOwnPropertyDescriptor(t,e),n=Object.getPrototypeOf(t);void 0===i&&null!==n;)i=Object.getOwnPropertyDescriptor(n,e),n=Object.getPrototypeOf(n);return i});t(s,r,a)},e.reset=function(){e.isInitialized=u=!1};var r=e.FEATURE={},s=e.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return t})};s.global="undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")();var a=e.DOM={},u=e.isInitialized=!1}),t.entry="dist/commonjs/aurelia-pal.js"}),y.pkg("process",{},function(t){return t.file("index.js",function(t,e,i,n,o){if(y.isServer)void 0!==f&&Object.assign(global.process.env,f),i.exports=global.process;else{"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i});var r,s=i.exports={},a=[],u=!1,l=-1;function c(){u=!1,r.length?a=r.concat(a):l=-1,a.length&&h()}function h(){if(!u){var t=setTimeout(c);u=!0;for(var e=a.length;e;){for(r=a,a=[];++l<e;)r&&r[l].run();l=-1,e=a.length}r=null,u=!1,clearTimeout(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.push(new d(t,e)),1!==a.length||u||setTimeout(h,0)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={NODE_ENV:"development"},void 0!==f&&Object.assign(s.env,f),s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}}),t.entry="index.js"}),y.pkg("aurelia-event-aggregator",{},function(t){return t.file("dist/commonjs/aurelia-event-aggregator.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregator=void 0,t.includeEventsIn=c,t.configure=function(t){t.instance(l,c(t.aurelia))};var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")).getLogger("event-aggregator"),s=function(){function t(t,e){this.messageType=t,this.callback=e}return t.prototype.handle=function(t){t instanceof this.messageType&&this.callback.call(null,t)},t}();function a(t,e,i){try{t(e,i)}catch(t){r.error(t)}}function u(t,e){try{t.handle(e)}catch(t){r.error(t)}}var l=t.EventAggregator=function(){function t(){this.eventLookup={},this.messageHandlers=[]}return t.prototype.publish=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event was invalid.");if("string"==typeof t){if(i=this.eventLookup[t])for(n=(i=i.slice()).length;n--;)a(i[n],e,t)}else for(n=(i=this.messageHandlers.slice()).length;n--;)u(i[n],t)},t.prototype.subscribe=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event channel/type was invalid.");return"string"==typeof t?(i=e,n=this.eventLookup[t]||(this.eventLookup[t]=[])):(i=new s(t,e),n=this.messageHandlers),n.push(i),{dispose:function(){var t=n.indexOf(i);-1!==t&&n.splice(t,1)}}},t.prototype.subscribeOnce=function(t,i){var n=this.subscribe(t,function(t,e){return n.dispose(),i(t,e)});return n},t}();function c(t){var i=new l;return t.subscribeOnce=function(t,e){return i.subscribeOnce(t,e)},t.subscribe=function(t,e){return i.subscribe(t,e)},t.publish=function(t,e){i.publish(t,e)},i}}),t.entry="dist/commonjs/aurelia-event-aggregator.js"}),y.pkg("aurelia-logging",{},function(t){return t.file("dist/commonjs/aurelia-logging.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=function(t){return s[t]||new m(t)},t.addAppender=function(t){1===a.push(t)&&f()},t.removeAppender=function(e){a=a.filter(function(t){return t!==e})},t.getAppenders=function(){return[].concat(a)},t.clearAppenders=function(){a=[],function(){var t=m.prototype;for(var e in r)"none"!==e&&(t[e]=function(){})}()},t.addCustomLevel=function(t,e){if(void 0!==r[t])throw Error('Log level "'+t+'" already exists.');if(isNaN(e))throw Error("Value must be a number.");r[t]=e,0<a.length?f():m.prototype[t]=function(){}},t.removeCustomLevel=function(t){if(void 0===r[t])return;if(c(t))throw Error('Built-in log level "'+t+'" cannot be removed.');delete r[t],delete m.prototype[t]},t.setLevel=function(t){for(var e in u=t,s)s[e].setLevel(t)},t.getLevel=function(){return u};var r=t.logLevel={none:0,error:10,warn:20,info:30,debug:40},s={},a=[],u=r.none,l=["none","error","warn","info","debug"];function c(e){return 0<l.filter(function(t){return t===e}).length}function h(){return[this].concat(Array.prototype.slice.call(arguments))}function d(n){var o=r[n];return function(){if(!(this.level<o))for(var t=h.apply(this,arguments),e=a.length;e--;){var i;(i=a[e])[n].apply(i,t)}}}function p(n){var o=r[n];return function(){if(!(this.level<o))for(var t=h.apply(this,arguments),e=a.length;e--;){var i=a[e];void 0!==i[n]&&i[n].apply(i,t)}}}function f(){var t=m.prototype;for(var e in r)c(e)?"none"!==e&&(t[e]=d(e)):t[e]=p(e)}var m=t.Logger=function(){function t(t){var e=s[t];if(e)return e;(s[t]=this).id=t,this.level=u}return t.prototype.debug=function(t){},t.prototype.info=function(t){},t.prototype.warn=function(t){},t.prototype.error=function(t){},t.prototype.setLevel=function(t){this.level=t},t}()}),t.entry="dist/commonjs/aurelia-logging.js"}),y.pkg("aurelia-fetch-client",{},function(t){return t.file("dist/commonjs/aurelia-fetch-client.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.json=function(t,e){return JSON.stringify(void 0!==t?t:{},e)};var s=t.HttpClientConfiguration=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:a})},t}();function a(t){if(!t.ok)throw t;return t}t.HttpClient=function(){function t(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}return t.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":r(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");(e=new s).baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var i=t(e);s.prototype.isPrototypeOf(i)&&(e=i)}var n=e.defaults;if(n&&Headers.prototype.isPrototypeOf(n.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},t.prototype.fetch=function(i){function t(t,e){return i.apply(this,arguments)}return t.toString=function(){return i.toString()},t}(function(t,e){var o=this;(function(){this.isRequesting=!!++this.activeRequestCount}).call(this);var i,n,r=Promise.resolve().then(function(){return function(t,e){var i=this.defaults||{},n=void 0,o=void 0,r=void 0,s=function(t){var e={};for(var i in t||{})t.hasOwnProperty(i)&&(e[i]="function"==typeof t[i]?t[i]():t[i]);return e}(i.headers);if(Request.prototype.isPrototypeOf(t))n=t,r=new Headers(n.headers).get("Content-Type");else{e||(e={});var a=(o=e.body)?{body:o}:null,u=Object.assign({},i,{headers:{}},e,a);r=new Headers(u.headers).get("Content-Type"),n=new Request(function(t,e){if(l.test(e))return e;return(t||"")+e}(this.baseUrl,t),u)}r||(new Headers(s).has("content-type")?n.headers.set("Content-Type",new Headers(s).get("content-type")):o&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(o)&&n.headers.set("Content-Type","application/json"));(function(t,e){for(var i in e||{})e.hasOwnProperty(i)&&!t.has(i)&&t.set(i,e[i])})(n.headers,s),o&&Blob.prototype.isPrototypeOf(o)&&o.type&&n.headers.set("Content-Type",o.type);return n}.call(o,t,e,o.defaults)}),s=(i=r,n=this.interceptors,u(i,n,"request","requestError")).then(function(t){var n=null;if(Response.prototype.isPrototypeOf(t))n=t;else{if(!Request.prototype.isPrototypeOf(t))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+t+"]");r=Promise.resolve(t),n=fetch(t)}return r.then(function(t){return e=n,i=o.interceptors,u(e,i,"response","responseError",t);var e,i})});return function(t){var e=function(){this.isRequesting=!!--this.activeRequestCount}.bind(this);return t.then(e,e),t}.call(this,s)}),t}();var l=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function u(t,e,o,r){for(var i=arguments.length,s=Array(4<i?i-4:0),n=4;n<i;n++)s[n-4]=arguments[n];return(e||[]).reduce(function(t,e){var i=e[o],n=e[r];return t.then(i&&function(t){return i.call.apply(i,[e,t].concat(s))}||c,n&&function(t){return n.call.apply(n,[e,t].concat(s))}||h)},Promise.resolve(t))}function c(t){return t}function h(t){throw t}}),t.entry="dist/commonjs/aurelia-fetch-client.js"}),y.pkg("aurelia-framework",{},function(t){return t.file("dist/commonjs/aurelia-framework.js",function(e,t,i,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogManager=e.FrameworkConfiguration=e.Aurelia=void 0;var r=t("aurelia-dependency-injection");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var s=t("aurelia-binding");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("aurelia-metadata");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("aurelia-templating");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=t("aurelia-loader");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=t("aurelia-task-queue");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var h=t("aurelia-path");Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var d=t("aurelia-pal");Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var p=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(t("aurelia-logging"));e.Aurelia=function(){function n(t,e,i){this.loader=t||new d.PLATFORM.Loader,this.container=e||(new r.Container).makeGlobal(),this.resources=i||new u.ViewResources,this.use=new b(this),this.logger=p.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(n,this),this.use.instance(l.Loader,this.loader),this.use.instance(u.ViewResources,this.resources)}return n.prototype.start=function(){var i=this;return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then(function(){if(d.DOM.addEventListener("submit",function(t){var e=t.target,i=e.action;"form"!==e.tagName.toLowerCase()||i||t.preventDefault()}),!i.container.hasResolver(u.BindingLanguage)){var t="You must configure Aurelia with a BindingLanguage implementation.";throw i.logger.error(t),new Error(t)}i.logger.info("Aurelia Started");var e=d.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return d.DOM.dispatchEvent(e),i}))},n.prototype.enhance=function(){var i=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this._configureHost(t||d.DOM.querySelectorAll("body")[0]),new Promise(function(t){var e=i.container.get(u.TemplatingEngine);i.root=e.enhance({container:i.container,element:i.host,resources:i.resources,bindingContext:n}),i.root.attached(),i._onAureliaComposed(),t(i)})},n.prototype.setRoot=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(i);var o=this.container.get(u.TemplatingEngine);return delete this.container.get(u.CompositionTransaction).initialComposition,t||(t=this.configModuleId?(0,h.relativeToFile)("./app",this.configModuleId):"app"),n.viewModel=t,n.container=n.childContainer=this.container,n.viewSlot=this.hostSlot,n.host=this.host,o.compose(n).then(function(t){return e.root=t,n.viewSlot.attached(),e._onAureliaComposed(),e})},n.prototype._configureHost=function(t){if(!this.hostConfigured){if(t=t||this.host,this.host=t&&"string"!=typeof t?t:d.DOM.getElementById(t||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,(this.host.aurelia=this).hostSlot=new u.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(d.DOM.boundary,this.host)}},n.prototype._onAureliaComposed=function(){var t=d.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return d.DOM.dispatchEvent(t)},1)},n}();var f=p.getLogger("aurelia"),m=/\.[^/.]+$/;function v(e,i){var n=void 0;return function t(){return(n=i.shift())?Promise.resolve(n(e)).then(t):Promise.resolve()}()}function g(e,i,n){var o=e.container.get(u.ViewEngine);return Promise.all(Object.keys(i).map(function(t){return function(n){var t=n.moduleId,o=_(t);r(t)&&(t=s(t));return e.loader.normalize(t,n.relativeTo).then(function(t){return{name:n.moduleId,importId:r(n.moduleId)?(e=t,i=o,s(e)+"."+i):t};var e,i})}(i[t])})).then(function(t){var e=[],i=[];return t.forEach(function(t){e.push(void 0),i.push(t.importId)}),o.importViewResources(i,e,n)});function r(t){var e=_(t);return!!e&&(""!==e&&(".js"!==e&&".ts"!==e))}function s(t){return t.replace(m,"")}}function _(t){var e=t.match(m);if(e&&0<e.length)return e[0].split(".")[1]}function y(t){if(t.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}var b=function(){function t(t){var e=this;this.aurelia=t,this.container=t.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return t.loader.normalize("aurelia-bootstrapper").then(function(t){return e.bootstrapperName=t})}),this.postTask(function(){return g(t,e.resourcesToLoad,t.resources)})}return t.prototype.instance=function(t,e){return this.container.registerInstance(t,e),this},t.prototype.singleton=function(t,e){return this.container.registerSingleton(t,e),this},t.prototype.transient=function(t,e){return this.container.registerTransient(t,e),this},t.prototype.preTask=function(t){return y(this),this.preTasks.push(t),this},t.prototype.postTask=function(t){return y(this),this.postTasks.push(t),this},t.prototype.feature=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=/\/index$/i.test(t),n=i||_(t)?t:t+"/index",o=i?t.substr(0,t.length-6):t;return this.plugin({moduleId:n,resourcesRelativeTo:[o,""],config:e})},t.prototype.globalResources=function(t){y(this);for(var e=Array.isArray(t)?t:arguments,i=void 0,n=this.resourcesRelativeTo||["",""],o=0,r=e.length;o<r;++o){if("string"!=typeof(i=e[o]))throw new Error("Invalid resource path ["+i+"]. Resources must be specified as relative module IDs.");var s=n[0],a=n[1],u=i;(i.startsWith("./")||i.startsWith("../"))&&""!==s&&(u=(0,h.join)(s,i)),this.resourcesToLoad[u]={moduleId:u,relativeTo:a}}return this},t.prototype.globalName=function(t,e){return y(this),this.resourcesToLoad[t]={moduleId:e,relativeTo:""},this},t.prototype.plugin=function(t,e){return y(this),"string"==typeof t?this.plugin({moduleId:t,resourcesRelativeTo:[t,""],config:e||{}}):(this.info.push(t),this)},t.prototype._addNormalizedPlugin=function(e,t){var i=this,n={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};return this.plugin(n),this.preTask(function(){var t=[e,i.bootstrapperName];return n.moduleId=e,n.resourcesRelativeTo=t,Promise.resolve()}),this},t.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},t.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},t.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},t.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},t.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},t.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},t.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},t.prototype.developmentLogging=function(t){var e=this,i=t?p.logLevel[t]:void 0;return void 0===i&&(i=p.logLevel.debug),this.preTask(function(){return e.aurelia.loader.normalize("aurelia-logging-console",e.bootstrapperName).then(function(t){return e.aurelia.loader.loadModule(t).then(function(t){p.addAppender(new t.ConsoleAppender),p.setLevel(i)})})}),this},t.prototype.apply=function(){var o=this;return this.processed?Promise.resolve():v(this,this.preTasks).then(function(){var e=o.aurelia.loader,i=o.info,n=void 0;return function t(){return(n=i.shift())?function(e,i,n){f.debug("Loading plugin "+n.moduleId+"."),e.resourcesRelativeTo=n.resourcesRelativeTo;var t=n.moduleId;return 1<n.resourcesRelativeTo.length?i.normalize(n.moduleId,n.resourcesRelativeTo[1]).then(function(t){return o(t)}):o(t);function o(t){return i.loadModule(t).then(function(t){if("configure"in t)return Promise.resolve(t.configure(e,n.config||{})).then(function(){e.resourcesRelativeTo=null,f.debug("Configured plugin "+n.moduleId+".")});e.resourcesRelativeTo=null,f.debug("Loaded plugin "+n.moduleId+".")})}}(o,e,n).then(t):(o.processed=!0,Promise.resolve())}().then(function(){return v(o,o.postTasks)})})},t}();e.FrameworkConfiguration=b;e.LogManager=p}),t.entry="dist/commonjs/aurelia-framework.js"}),y.pkg("aurelia-dependency-injection",{},function(t){return t.file("dist/commonjs/aurelia-dependency-injection.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.InvocationHandler=t._emptyParameters=t.SingletonRegistration=t.TransientRegistration=t.FactoryInvoker=t.NewInstance=t.Factory=t.StrategyResolver=t.Parent=t.Optional=t.All=t.Lazy=t.resolver=void 0,t.getDecoratorDependencies=x,t.lazy=function(o){return function(t,e,i){var n=x(t,"lazy");n[i]=v.of(o)}},t.all=function(o){return function(t,e,i){var n=x(t,"all");n[i]=g.of(o)}},t.optional=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=function(o){return function(t,e,i){var n=x(t,"optional");n[i]=_.of(n[i],o)}};if("boolean"==typeof t)return e(t);return e(!0)},t.parent=function(t,e,i){var n=x(t,"parent");n[i]=y.of(n[i])},t.factory=function(r,s){return function(t,e,i){var n=x(t,"factory"),o=w.of(r);n[i]=s?o.as(s):o}},t.newInstance=function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var n=function(o){return function(t,e,i){var n=x(t,"newInstance");n[i]=k.of.apply(k,[n[i]].concat(r)),o&&n[i].as(o)}};if(1<=arguments.length)return n(t);return n()},t.invoker=function(e){return function(t){p.metadata.define(p.metadata.invoker,e,t)}},t.invokeAsFactory=function(t){var e=function(t){p.metadata.define(p.metadata.invoker,C.instance,t)};return t?e(t):e},t.registration=E,t.transient=function(t){return E(new L(t))},t.singleton=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return E(new S(t,e))},t.autoinject=function(t){var e=function(t){var e=t.inject?t.inject.slice():null,i=p.metadata.getOwn(p.metadata.paramTypes,t)||A;if(e){for(var n=0;n<i.length;n++)if(e[n]&&e[n]!==i[n]){var o=e.indexOf(i[n]);-1<o&&e.splice(o,1),e.splice(-1<o&&o<n?n-1:n,0,i[n])}else e[n]||(e[n]=i[n]);t.inject=e}else t.inject=i};return t?e(t):e},t.inject=function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return function(t,e,i){if("number"==typeof i&&1===r.length){var n=t.inject;if("function"==typeof n)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return n||(n=p.metadata.getOwn(p.metadata.paramTypes,t).slice(),t.inject=n),void(n[i]=r[0])}if(i){var o=i.value;o.inject=r}else t.inject=r}};var p=e("aurelia-metadata"),f=e("aurelia-pal"),m=t.resolver=p.protocol.create("aurelia:resolver",function(t){return"function"==typeof t.get||"Resolvers must implement: get(container: Container, key: any): any"}),v=t.Lazy=m()(r=function(){function e(t){this._key=t}return e.prototype.get=function(t){var e=this;return function(){return t.get(e._key)}},e.of=function(t){return new e(t)},e}())||r,g=t.All=m()(s=function(){function e(t){this._key=t}return e.prototype.get=function(t){return t.getAll(this._key)},e.of=function(t){return new e(t)},e}())||s,_=t.Optional=m()(a=function(){function e(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=t,this._checkParent=e}return e.prototype.get=function(t){return t.hasResolver(this._key,this._checkParent)?t.get(this._key):null},e.of=function(t){return new e(t,arguments.length<=1||void 0===arguments[1]||arguments[1])},e}())||a,y=t.Parent=m()(u=function(){function e(t){this._key=t}return e.prototype.get=function(t){return t.parent?t.parent.get(this._key):null},e.of=function(t){return new e(t)},e}())||u,b=t.StrategyResolver=m()(l=function(){function t(t,e){this.strategy=t,this.state=e}return t.prototype.get=function(t,e){switch(this.strategy){case 0:return this.state;case 1:var i=t.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return t.invoke(this.state);case 3:return this.state(t,e,this);case 4:return this.state[0].get(t,e);case 5:return t.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},t}())||l,w=t.Factory=m()(c=function(){function e(t){this._key=t}return e.prototype.get=function(n){var o=this;return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.invoke(o._key,e)}},e.of=function(t){return new e(t)},e}())||c,k=t.NewInstance=m()(h=function(){function o(t){this.key=t,this.asKey=t;for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return o.prototype.get=function(e){var t=0<this.dynamicDependencies.length?this.dynamicDependencies.map(function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)}):void 0,i=e.invoke(this.key,t);return e.registerInstance(this.asKey,i),i},o.prototype.as=function(t){return this.asKey=t,this},o.of=function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return new(Function.prototype.bind.apply(o,[null].concat([t],i)))},o}())||h;function x(t,e){var i=t.inject;if("function"==typeof i)throw new Error("Decorator "+e+' cannot be used with "inject()".  Please use an array instead.');return i||(i=p.metadata.getOwn(p.metadata.paramTypes,t).slice(),t.inject=i),i}var C=t.FactoryInvoker=function(){function t(){}return t.prototype.invoke=function(t,e,i){for(var n=i.length,o=new Array(n);n--;)o[n]=t.get(i[n]);return e.apply(void 0,o)},t.prototype.invokeWithDynamicDependencies=function(t,e,i,n){for(var o=i.length,r=new Array(o);o--;)r[o]=t.get(i[o]);return void 0!==n&&(r=r.concat(n)),e.apply(void 0,r)},t}();function E(e){return function(t){p.metadata.define(p.metadata.registration,e,t)}}C.instance=new C;var L=t.TransientRegistration=function(){function t(t){this._key=t}return t.prototype.registerResolver=function(t,e,i){var n=t.getResolver(this._key||e);return void 0===n?t.registerTransient(this._key||e,i):n},t}(),S=t.SingletonRegistration=function(){function t(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof t?this._registerInChild=t:(this._key=t,this._registerInChild=e)}return t.prototype.registerResolver=function(t,e,i){var n=this._registerInChild?t:t.root,o=n.getResolver(this._key||e);return void 0===o?n.registerSingleton(this._key||e,i):o},t}();function P(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}var A=t._emptyParameters=Object.freeze([]);p.metadata.registration="aurelia:registration",p.metadata.invoker="aurelia:invoker";var O=m.decorates,M=t.InvocationHandler=function(){function t(t,e,i){this.fn=t,this.invoker=e,this.dependencies=i}return t.prototype.invoke=function(t,e){return void 0!==e?this.invoker.invokeWithDynamicDependencies(t,this.fn,this.dependencies,e):this.invoker.invoke(t,this.fn,this.dependencies)},t}();function T(t,e,i,n){for(var o=i.length,r=new Array(o),s=void 0;o--;){if(null==(s=i[o]))throw new Error("Constructor Parameter with index "+o+" cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?");r[o]=t.get(s)}return void 0!==n&&(r=r.concat(n)),Reflect.construct(e,r)}var I=((d={})[0]={invoke:function(t,e){return new e},invokeWithDynamicDependencies:T},d[1]={invoke:function(t,e,i){return new e(t.get(i[0]))},invokeWithDynamicDependencies:T},d[2]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]))},invokeWithDynamicDependencies:T},d[3]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]))},invokeWithDynamicDependencies:T},d[4]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]))},invokeWithDynamicDependencies:T},d[5]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]),t.get(i[4]))},invokeWithDynamicDependencies:T},d.fallback={invoke:T,invokeWithDynamicDependencies:T},d);t.Container=function(){function n(t){void 0===t&&(t={}),this._configuration=t,this._onHandlerCreated=t.onHandlerCreated,this._handlers=t.handlers||(t.handlers=new Map),this._resolvers=new Map,(this.root=this).parent=null}return n.prototype.makeGlobal=function(){return n.instance=this},n.prototype.setHandlerCreatedCallback=function(t){this._onHandlerCreated=t,this._configuration.onHandlerCreated=t},n.prototype.registerInstance=function(t,e){return this.registerResolver(t,new b(0,void 0===e?t:e))},n.prototype.registerSingleton=function(t,e){return this.registerResolver(t,new b(1,void 0===e?t:e))},n.prototype.registerTransient=function(t,e){return this.registerResolver(t,new b(2,void 0===e?t:e))},n.prototype.registerHandler=function(t,e){return this.registerResolver(t,new b(3,e))},n.prototype.registerAlias=function(t,e){return this.registerResolver(e,new b(5,t))},n.prototype.registerResolver=function(t,e){P(t);var i=this._resolvers,n=i.get(t);return void 0===n?i.set(t,e):4===n.strategy?n.state.push(e):i.set(t,new b(4,[n,e])),e},n.prototype.autoRegister=function(t,e){if("function"==typeof(e=void 0===e?t:e)){var i=p.metadata.get(p.metadata.registration,e);return void 0===i?this.registerResolver(t,new b(1,e)):i.registerResolver(this,t,e)}return this.registerResolver(t,new b(0,e))},n.prototype.autoRegisterAll=function(t){for(var e=t.length;e--;)this.autoRegister(t[e])},n.prototype.unregister=function(t){this._resolvers.delete(t)},n.prototype.hasResolver=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return P(t),this._resolvers.has(t)||e&&null!==this.parent&&this.parent.hasResolver(t,e)},n.prototype.getResolver=function(t){return this._resolvers.get(t)},n.prototype.get=function(t){if(P(t),t===n)return this;if(O(t))return t.get(this,t);var e=this._resolvers.get(t);if(void 0===e){if(null===this.parent)return this.autoRegister(t).get(this,t);var i=p.metadata.get(p.metadata.registration,t);return void 0===i?this.parent._get(t):i.registerResolver(this,t,t).get(this,t)}return e.get(this,t)},n.prototype._get=function(t){var e=this._resolvers.get(t);return void 0===e?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):e.get(this,t)},n.prototype.getAll=function(t){P(t);var e=this._resolvers.get(t);if(void 0===e)return null===this.parent?A:this.parent.getAll(t);if(4===e.strategy){for(var i=e.state,n=i.length,o=new Array(n);n--;)o[n]=i[n].get(this,t);return o}return[e.get(this,t)]},n.prototype.createChild=function(){var t=new n(this._configuration);return t.root=this.root,t.parent=this,t},n.prototype.invoke=function(e,t){try{var i=this._handlers.get(e);return void 0===i&&(i=this._createInvocationHandler(e),this._handlers.set(e,i)),i.invoke(this,t)}catch(t){throw new f.AggregateError("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},n.prototype._createInvocationHandler=function(t){var e,i=void 0;if(void 0===t.inject)i=p.metadata.getOwn(p.metadata.paramTypes,t)||A;else{i=[];for(var n=t;"function"==typeof n;){var o;(o=i).push.apply(o,(e=n).hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]),n=Object.getPrototypeOf(n)}}var r=p.metadata.getOwn(p.metadata.invoker,t)||I[i.length]||I.fallback,s=new M(t,r,i);return void 0!==this._onHandlerCreated?this._onHandlerCreated(s):s},n}()}),t.entry="dist/commonjs/aurelia-dependency-injection.js"}),y.pkg("aurelia-metadata",{},function(t){return t.file("dist/commonjs/aurelia-metadata.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Origin=t.metadata=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.decorators=function(){for(var t=arguments.length,o=Array(t),e=0;e<t;e++)o[e]=arguments[e];var i=function(t,e,i){var n=o.length;if(e){for(i=i||{value:t[e],writable:!0,configurable:!0,enumerable:!0};n--;)i=o[n](t,e,i)||i;Object.defineProperty(t,e,i)}else for(;n--;)t=o[n](t)||t;return t};return i.on=i},t.deprecated=function(s,a,t){function e(t,e,i){var n=t.constructor.name+"#"+e,o=a?{}:s||{},r="DEPRECATION - "+n;if("function"!=typeof i.value)throw new SyntaxError("Only methods can be marked as deprecated.");return o.message&&(r+=" - "+o.message),u({},i,{value:function(){if(o.error)throw new Error(r);return console.warn(r),i.value.apply(this,arguments)}})}return a?e(s,a,t):e},t.mixin=function(o){var r=Object.keys(o);return function(t){var e=function(t){for(var e="function"==typeof t?t.prototype:t,i=r.length;i--;){var n=r[i];Object.defineProperty(e,n,{value:o[n],writable:!0})}};return t?e(t):e}},t.protocol=g;var a=e("aurelia-pal");function r(t){return t&&("function"==typeof t||"object"===(void 0===t?"undefined":s(t)))}var l=t.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(t,e,i){if(r(e)){var n=l.getOwn(t,e,i);return void 0===n?l.get(t,Object.getPrototypeOf(e),i):n}},getOwn:function(t,e,i){if(r(e))return Reflect.getOwnMetadata(t,e,i)},define:function(t,e,i,n){Reflect.defineMetadata(t,e,i,n)},getOrCreateOwn:function(t,e,i,n){var o=l.getOwn(t,i,n);return void 0===o&&(o=new e,Reflect.defineMetadata(t,o,i,n)),o}},c=new Map,h=Object.freeze({moduleId:void 0,moduleMember:void 0});t.Origin=function(){function r(t,e){this.moduleId=t,this.moduleMember=e}return r.get=function(n){var o=c.get(n);return void 0===o&&a.PLATFORM.eachModule(function(t,e){if("object"===(void 0===e?"undefined":s(e)))for(var i in e){if(e[i]===n)return c.set(n,o=new r(t,i)),!0}return e===n&&(c.set(n,o=new r(t,"default")),!0)}),o||h},r.set=function(t,e){c.set(t,e)},r}();function d(){return!0}function p(){}function f(t){return void 0===t?t={}:"function"==typeof t&&(t={validate:t}),t.validate||(t.validate=d),t.compose||(t.compose=p),t}function m(e){return function(t){return!0===e(t)}}function v(i,n){return function(t){var e=n(t);if(!0!==e)throw new Error(e||i+" was not correctly implemented.")}}function g(n,o){o=f(o);var t=function t(e){var i="function"==typeof e?e.prototype:e;o.compose(i),t.assert(i),Object.defineProperty(i,"protocol:"+n,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return t.validate=m(o.validate),t.assert=v(n,o.validate),t}g.create=function(i,n){n=f(n);var e="protocol:"+i,t=function(t){var e=g(i,n);return t?e(t):e};return t.decorates=function(t){return!0===t[e]},t.validate=m(n.validate),t.assert=v(i,n.validate),t}}),t.entry="dist/commonjs/aurelia-metadata.js"}),y.pkg("aurelia-binding",{},function(t){return t.file("dist/commonjs/aurelia-binding.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSetObserver=t.BindingEngine=t.NameExpression=t.Listener=t.ListenerExpression=t.BindingBehaviorResource=t.ValueConverterResource=t.Call=t.CallExpression=t.Binding=t.BindingExpression=t.ObjectObservationAdapter=t.ObserverLocator=t.SVGAnalyzer=t.presentationAttributes=t.presentationElements=t.elements=t.ComputedExpression=t.ClassObserver=t.SelectValueObserver=t.CheckedObserver=t.ValueAttributeObserver=t.StyleObserver=t.DataAttributeObserver=t.dataAttributeAccessor=t.XLinkAttributeObserver=t.SetterObserver=t.PrimitiveObserver=t.propertyAccessor=t.DirtyCheckProperty=t.DirtyChecker=t.EventSubscriber=t.EventManager=t.delegationStrategy=t.getMapObserver=t.ParserImplementation=t.Parser=t.Scanner=t.Lexer=t.Token=t.bindingMode=t.ExpressionCloner=t.Unparser=t.LiteralObject=t.LiteralArray=t.LiteralString=t.LiteralPrimitive=t.PrefixNot=t.Binary=t.CallFunction=t.CallMember=t.CallScope=t.AccessKeyed=t.AccessMember=t.AccessScope=t.AccessThis=t.Conditional=t.Assign=t.ValueConverter=t.BindingBehavior=t.Chain=t.Expression=t.getArrayObserver=t.CollectionLengthObserver=t.ModifyCollectionObserver=t.ExpressionObserver=t.sourceContext=t.targetContext=void 0;var r,s,a,u,l,c,h,d,p,f,m,v,g,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();t.camelCase=A,t.createOverrideContext=O,t.getContextFor=M,t.createScopeForTest=function(t,e){if(e)return{bindingContext:t,overrideContext:O(t,O(e))};return{bindingContext:t,overrideContext:O(t)}},t.connectable=z,t.enqueueBindingConnect=X,t.subscriberCollection=nt,t.calcSplices=ut,t.mergeSplice=lt,t.projectArraySplices=ct,t.getChangeRecords=ht,t.cloneExpression=function(t){var e=new Zt;return t.accept(e)},t.hasDeclaredDependencies=Ti,t.declarePropertyDependencies=function(t,e,i){Object.getOwnPropertyDescriptor(t.prototype,e).get.dependencies=i},t.computedFrom=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t,e,i){return i.get.dependencies=n,i}},t.createComputedObserver=ji,t.valueConverter=function(e){if(void 0===e||"string"==typeof e)return function(t){x.metadata.define(x.metadata.resource,new Xi(e),t)};x.metadata.define(x.metadata.resource,new Xi,e)},t.bindingBehavior=function(e){if(void 0===e||"string"==typeof e)return function(t){x.metadata.define(x.metadata.resource,new Yi(e),t)};x.metadata.define(x.metadata.resource,new Yi,e)},t.observable=function(n,t,e){function o(t,i,e,n){var o=void 0===i;o&&(t=t.prototype,i="string"==typeof n?n:n.name);var r="_"+i,s={configurable:!0,enumerable:!1,writable:!0},a=n&&n.changeHandler||i+"Changed";if(e?"function"==typeof e.initializer&&(s.value=e.initializer()):e={},"enumerable"in e||(e.enumerable=!0),delete e.value,delete e.writable,delete e.initializer,Reflect.defineProperty(t,r,s),e.get=function(){return this[r]},e.set=function(t){var e=this[r];t!==e&&(this[r]=t,Reflect.defineProperty(this,r,{enumerable:!1}),this[a]&&this[a](t,e,i))},e.get.dependencies=[r],!o)return e;Reflect.defineProperty(t,i,e)}if(void 0===t)return function(t,e,i){return o(t,e,i,n)};return o(n,t,e)},t.connectBindingToSignal=rn,t.signalBindings=function(t){on.hasOwnProperty(t)&&on[t]++};var b=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),w=e("aurelia-pal"),k=e("aurelia-task-queue"),x=e("aurelia-metadata");function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L=t.targetContext="Binding:target",S=t.sourceContext="Binding:source",P=Object.create(null);function A(t){if(t in P)return P[t];var e=t.charAt(0).toLowerCase()+t.slice(1).replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()});return P[t]=e}function O(t,e){return{bindingContext:t,parentOverrideContext:e||null}}function M(t,e,i){var n=e.overrideContext;if(i){for(;i&&n;)i--,n=n.parentOverrideContext;if(i||!n)return;return t in n?n:n.bindingContext}for(;n&&!(t in n)&&!(n.bindingContext&&t in n.bindingContext);)n=n.parentOverrideContext;return n?t in n?n:n.bindingContext:e.bindingContext||e.overrideContext}for(var T=[],I=[],j=0;j<100;j++)T.push("_observer"+j),I.push("_observerVersion"+j);function N(t){for(var e=void 0===this._observerSlots?0:this._observerSlots,i=e;i--&&this[T[i]]!==t;);if(-1===i){for(i=0;this[T[i]];)i++;(this[T[i]]=t).subscribe(S,this),i===e&&(this._observerSlots=i+1)}void 0===this._version&&(this._version=0),this[I[i]]=this._version}function R(t,e){var i=this.observerLocator.getObserver(t,e);N.call(this,i)}function B(t){var e=this.observerLocator.getArrayObserver(t);N.call(this,e)}function D(t){for(var e=this._observerSlots;e--;)if(t||this[I[e]]!==this._version){var i=this[T[e]];this[T[e]]=null,i&&i.unsubscribe(S,this)}}function z(){return function(t){t.prototype.observeProperty=R,t.prototype.observeArray=B,t.prototype.unobserve=D,t.prototype.addObserver=N}}var F=[],V={},q=0,H=100,U=15,Z=!1,W=0;function G(t){for(var e=F.length,i=0;i<e;){var n=F[i];if(V[n.__connectQueueId]=!1,n.connect(!0),++i%100==0&&w.PLATFORM.performance.now()-t>U)break}F.splice(0,i),F.length?w.PLATFORM.requestAnimationFrame(G):(Z=!1,W=0)}function X(t){if(W<H)W++,t.connect(!1);else{var e=t.__connectQueueId;void 0===e&&(e=q,q++,t.__connectQueueId=e),V[e]||(F.push(t),V[e]=!0)}Z||(Z=!0,w.PLATFORM.requestAnimationFrame(G))}function Y(t,e){return!this.hasSubscriber(t,e)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(t),this._callablesRest.push(e)):(this._contextsRest=[t],this._callablesRest=[e]):(this._context2=t,this._callable2=e):(this._context1=t,this._callable1=e):(this._context0=t,this._callable0=e),!0)}function $(t,e){if(this._context0===t&&this._callable0===e)return this._context0=null,!(this._callable0=null);if(this._context1===t&&this._callable1===e)return this._context1=null,!(this._callable1=null);if(this._context2===t&&this._callable2===e)return this._context2=null,!(this._callable2=null);var i=this._callablesRest;if(void 0===i||0===i.length)return!1;for(var n=this._contextsRest,o=0;(i[o]!==e||n[o]!==t)&&i.length>o;)o++;return!(o>=i.length)&&(n.splice(o,1),i.splice(o,1),!0)}var K=[],Q=[],J=[];function tt(t,e){var i=this._context0,n=this._callable0,o=this._context1,r=this._callable1,s=this._context2,a=this._callable2,u=this._contextsRest?this._contextsRest.length:0,l=void 0,c=void 0,h=void 0,d=void 0;if(u){for(h=J.length;h--&&J[h];);for(h<0?(h=J.length,l=[],c=[],J.push(!0),K.push(l),Q.push(c)):(J[h]=!0,l=K[h],c=Q[h]),d=u;d--;)l[d]=this._contextsRest[d],c[d]=this._callablesRest[d]}if(i&&(n?n.call(i,t,e):i(t,e)),o&&(r?r.call(o,t,e):o(t,e)),s&&(a?a.call(s,t,e):s(t,e)),u){for(d=0;d<u;d++){var p=c[d],f=l[d];p?p.call(f,t,e):f(t,e),l[d]=null,c[d]=null}J[h]=!1}}function et(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function it(t,e){if(this._context0===t&&this._callable0===e||this._context1===t&&this._callable1===e||this._context2===t&&this._callable2===e)return!0;var i=void 0,n=this._contextsRest;if(!n||0===(i=n.length))return!1;for(var o=this._callablesRest;i--;)if(n[i]===t&&o[i]===e)return!0;return!1}function nt(){return function(t){t.prototype.addSubscriber=Y,t.prototype.removeSubscriber=$,t.prototype.callSubscribers=tt,t.prototype.hasSubscribers=et,t.prototype.hasSubscriber=it}}var ot=t.ExpressionObserver=z()(r=nt()(r=function(){function t(t,e,i,n){this.scope=t,this.expression=e,this.observerLocator=i,this.lookupFunctions=n}return t.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},t.prototype.setValue=function(t){this.expression.assign(this.scope,t)},t.prototype.subscribe=function(t,e){var i=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(t,e),1===arguments.length&&t instanceof Function)return{dispose:function(){i.unsubscribe(t,e)}}},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},t.prototype.call=function(){var t=this.expression.evaluate(this.scope,this.lookupFunctions),e=this.oldValue;t!==e&&(this.oldValue=t,this.callSubscribers(t,e)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},t}())||r)||r;function rt(t,e,i){return{index:t,removed:e,addedCount:i}}function st(){}st.prototype={calcEditDistances:function(t,e,i,n,o,r){for(var s=r-o+1,a=i-e+1,u=new Array(s),l=void 0,c=void 0,h=0;h<s;++h)u[h]=new Array(a),u[h][0]=h;for(var d=0;d<a;++d)u[0][d]=d;for(var p=1;p<s;++p)for(var f=1;f<a;++f)this.equals(t[e+f-1],n[o+p-1])?u[p][f]=u[p-1][f-1]:(l=u[p-1][f]+1,c=u[p][f-1]+1,u[p][f]=l<c?l:c);return u},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,i=t[0].length-1,n=t[e][i],o=[];0<e||0<i;)if(0!==e)if(0!==i){var r=t[e-1][i-1],s=t[e-1][i],a=t[e][i-1],u=void 0;(u=s<a?s<r?s:r:a<r?a:r)===r?(r===n?o.push(0):(o.push(1),n=r),e--,i--):u===s?(o.push(3),e--,n=s):(o.push(2),i--,n=a)}else o.push(3),e--;else o.push(2),i--;return o.reverse(),o},calcSplices:function(t,e,i,n,o,r){var s=0,a=0,u=Math.min(i-e,r-o);if(0===e&&0===o&&(s=this.sharedPrefix(t,n,u)),i===t.length&&r===n.length&&(a=this.sharedSuffix(t,n,u-s)),o+=s,r-=a,(i-=a)-(e+=s)==0&&r-o==0)return[];if(e===i){for(var l=rt(e,[],0);o<r;)l.removed.push(n[o++]);return[l]}if(o===r)return[rt(e,[],i-e)];for(var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,i,n,o,r)),h=void 0,d=[],p=e,f=o,m=0;m<c.length;++m)switch(c[m]){case 0:h&&(d.push(h),h=void 0),p++,f++;break;case 1:h||(h=rt(p,[],0)),h.addedCount++,p++,h.removed.push(n[f]),f++;break;case 2:h||(h=rt(p,[],0)),h.addedCount++,p++;break;case 3:h||(h=rt(p,[],0)),h.removed.push(n[f]),f++}return h&&d.push(h),d},sharedPrefix:function(t,e,i){for(var n=0;n<i;++n)if(!this.equals(t[n],e[n]))return n;return i},sharedSuffix:function(t,e,i){for(var n=t.length,o=e.length,r=0;r<i&&this.equals(t[--n],e[--o]);)r++;return r},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var at=new st;function ut(t,e,i,n,o,r){return at.calcSplices(t,e,i,n,o,r)}function lt(t,e,i,n){for(var o,r,s,a,u=rt(e,i,n),l=!1,c=0,h=0;h<t.length;h++){var d=t[h];if(d.index+=c,!l){var p=(o=u.index,r=u.index+u.removed.length,s=d.index,a=d.index+d.addedCount,r<s||a<o?-1:r===s||a===o?0:o<s?r<a?r-s:a-s:a<r?a-o:r-o);if(0<=p){t.splice(h,1),h--,c-=d.addedCount-d.removed.length,u.addedCount+=d.addedCount-p;var f=u.removed.length+d.removed.length-p;if(u.addedCount||f){var m=d.removed;if(u.index<d.index){var v=u.removed.slice(0,d.index-u.index);Array.prototype.push.apply(v,m),m=v}if(u.index+u.removed.length>d.index+d.addedCount){var g=u.removed.slice(d.index+d.addedCount-u.index);Array.prototype.push.apply(m,g)}u.removed=m,d.index<u.index&&(u.index=d.index)}else l=!0}else if(u.index<d.index){l=!0,t.splice(h,0,u),h++;var _=u.addedCount-u.removed.length;d.index+=_,c+=_}}}l||t.push(u)}function ct(e,t){var i=[];return function(t,e){for(var i,n=[],o=0;o<e.length;o++){var r=e[o];switch(r.type){case"splice":lt(n,r.index,r.removed.slice(),r.addedCount);break;case"add":case"update":case"delete":if(+(i=r.name)!=i>>>0)continue;var s=+r.name;if(s<0)continue;lt(n,s,[r.oldValue],"delete"===r.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(r))}}return n}(0,t).forEach(function(t){1!==t.addedCount||1!==t.removed.length?i=i.concat(ut(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)):t.removed[0]!==e[t.index]&&i.push(t)}),i}function ht(t){for(var e,i,n,o=new Array(t.size),r=t.keys(),s=0,a=void 0;(a=r.next())&&!a.done;)o[s]=(e="added",i=t,n=a.value,{type:e,object:i,key:n,oldValue:void 0}),s++;return o}var dt=t.ModifyCollectionObserver=nt()(s=function(){function t(t,e){this.taskQueue=t,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length"}return t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.addChangeRecord=function(t){if(this.hasSubscribers()||this.lengthObserver){if("splice"===t.type){var e=t.index,i=t.object.length;i<e?e=i-t.addedCount:e<0&&(e=i+t.removed.length+e-t.addedCount),e<0&&(e=0),t.index=e}null===this.changeRecords?this.changeRecords=[t]:this.changeRecords.push(t),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},t.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},t.prototype.reset=function(t){this.oldCollection=t,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},t.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new pt(this.collection))},t.prototype.call=function(){var t=this.changeRecords,e=this.oldCollection,i=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(i=e?this.collection instanceof Map||this.collection instanceof Set?ht(e):ut(this.collection,0,this.collection.length,e,0,e.length):this.collection instanceof Map||this.collection instanceof Set?t:ct(this.collection,t),this.callSubscribers(i)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},t}())||s,pt=t.CollectionLengthObserver=nt()(a=function(){function t(t){this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length",this.currentValue=t[this.lengthPropertyName]}return t.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},t.prototype.setValue=function(t){this.collection[this.lengthPropertyName]=t},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.call=function(t){var e=this.currentValue;this.callSubscribers(t,e),this.currentValue=t},t}())||a,ft=Array.prototype.pop,mt=Array.prototype.push,vt=Array.prototype.reverse,gt=Array.prototype.shift,_t=Array.prototype.sort,yt=Array.prototype.splice,bt=Array.prototype.unshift;function wt(t,e){return kt.for(t,e)}Array.prototype.pop=function(){var t=0<this.length,e=ft.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:e}),e},Array.prototype.push=function(){var t=mt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),t},Array.prototype.reverse=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=vt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.shift=function(){var t=0<this.length,e=gt.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:e}),e},Array.prototype.sort=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=_t.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.splice=function(){var t=yt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:t,addedCount:2<arguments.length?arguments.length-2:0}),t},Array.prototype.unshift=function(){var t=bt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),t},t.getArrayObserver=wt;var kt=function(i){function n(t,e){return C(this,i.call(this,t,e))}return E(n,i),n.for=function(t,e){return"__array_observer__"in e||Reflect.defineProperty(e,"__array_observer__",{value:n.create(t,e),enumerable:!1,configurable:!1}),e.__array_observer__},n.create=function(t,e){return new n(t,e)},n}(dt),xt=t.Expression=function(){function t(){this.isChain=!1,this.isAssignable=!1}return t.prototype.evaluate=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},t.prototype.assign=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},t.prototype.toString=function(){return"undefined"==typeof FEATURE_NO_UNPARSER?Ut.unparse(this):Function.prototype.toString.call(this)},t}(),Ct=t.Chain=function(i){function t(t){var e=C(this,i.call(this));return e.expressions=t,e.isChain=!0,e}return E(t,i),t.prototype.evaluate=function(t,e){for(var i=void 0,n=this.expressions,o=void 0,r=0,s=n.length;r<s;++r)null!==(o=n[r].evaluate(t,e))&&(i=o);return i},t.prototype.accept=function(t){return t.visitChain(this)},t}(xt),Et=t.BindingBehavior=function(o){function t(t,e,i){var n=C(this,o.call(this));return n.expression=t,n.name=e,n.args=i,n}return E(t,o),t.prototype.evaluate=function(t,e){return this.expression.evaluate(t,e)},t.prototype.assign=function(t,e,i){return this.expression.assign(t,e,i)},t.prototype.accept=function(t){return t.visitBindingBehavior(this)},t.prototype.connect=function(t,e){this.expression.connect(t,e)},t.prototype.bind=function(t,e,i){this.expression.expression&&this.expression.bind&&this.expression.bind(t,e,i);var n=i.bindingBehaviors(this.name);if(!n)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var o="behavior-"+this.name;if(t[o])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');(t[o]=n).bind.apply(n,[t,e].concat(qt(e,this.args,t.lookupFunctions)))},t.prototype.unbind=function(t,e){var i="behavior-"+this.name;t[i].unbind(t,e),t[i]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(t,e)},t}(xt),Lt=t.ValueConverter=function(r){function t(t,e,i,n){var o=C(this,r.call(this));return o.expression=t,o.name=e,o.args=i,o.allArgs=n,o}return E(t,r),t.prototype.evaluate=function(t,e){var i=e.valueConverters(this.name);if(!i)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in i?i.toView.apply(i,qt(t,this.allArgs,e)):this.allArgs[0].evaluate(t,e)},t.prototype.assign=function(t,e,i){var n=i.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in n&&(e=n.fromView.apply(n,[e].concat(qt(t,this.args,i)))),this.allArgs[0].assign(t,e,i)},t.prototype.accept=function(t){return t.visitValueConverter(this)},t.prototype.connect=function(t,e){for(var i=this.allArgs,n=i.length;n--;)i[n].connect(t,e);var o=t.lookupFunctions.valueConverters(this.name);if(!o)throw new Error('No ValueConverter named "'+this.name+'" was found!');var r=o.signals;if(void 0!==r)for(n=r.length;n--;)rn(t,r[n])},t}(xt),St=t.Assign=function(n){function t(t,e){var i=C(this,n.call(this));return i.target=t,i.value=e,i.isAssignable=!0,i}return E(t,n),t.prototype.evaluate=function(t,e){return this.target.assign(t,this.value.evaluate(t,e))},t.prototype.accept=function(t){t.visitAssign(this)},t.prototype.connect=function(t,e){},t.prototype.assign=function(t,e){this.value.assign(t,e),this.target.assign(t,e)},t}(xt),Pt=t.Conditional=function(o){function t(t,e,i){var n=C(this,o.call(this));return n.condition=t,n.yes=e,n.no=i,n}return E(t,o),t.prototype.evaluate=function(t,e){return this.condition.evaluate(t,e)?this.yes.evaluate(t,e):this.no.evaluate(t,e)},t.prototype.accept=function(t){return t.visitConditional(this)},t.prototype.connect=function(t,e){this.condition.connect(t,e),this.condition.evaluate(e)?this.yes.connect(t,e):this.no.connect(t,e)},t}(xt),At=t.AccessThis=function(i){function t(t){var e=C(this,i.call(this));return e.ancestor=t,e}return E(t,i),t.prototype.evaluate=function(t,e){for(var i=t.overrideContext,n=this.ancestor;n--&&i;)i=i.parentOverrideContext;return n<1&&i?i.bindingContext:void 0},t.prototype.accept=function(t){return t.visitAccessThis(this)},t.prototype.connect=function(t,e){},t}(xt),Ot=t.AccessScope=function(n){function t(t,e){var i=C(this,n.call(this));return i.name=t,i.ancestor=e,i.isAssignable=!0,i}return E(t,n),t.prototype.evaluate=function(t,e){return M(this.name,t,this.ancestor)[this.name]},t.prototype.assign=function(t,e){var i=M(this.name,t,this.ancestor);return i?i[this.name]=e:void 0},t.prototype.accept=function(t){return t.visitAccessScope(this)},t.prototype.connect=function(t,e){var i=M(this.name,e,this.ancestor);t.observeProperty(i,this.name)},t}(xt),Mt=t.AccessMember=function(n){function t(t,e){var i=C(this,n.call(this));return i.object=t,i.name=e,i.isAssignable=!0,i}return E(t,n),t.prototype.evaluate=function(t,e){var i=this.object.evaluate(t,e);return null==i?i:i[this.name]},t.prototype.assign=function(t,e){var i=this.object.evaluate(t);return null==i&&(i={},this.object.assign(t,i)),i[this.name]=e},t.prototype.accept=function(t){return t.visitAccessMember(this)},t.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);i&&t.observeProperty(i,this.name)},t}(xt),Tt=t.AccessKeyed=function(n){function t(t,e){var i=C(this,n.call(this));return i.object=t,i.key=e,i.isAssignable=!0,i}return E(t,n),t.prototype.evaluate=function(t,e){return function(t,e){{if(Array.isArray(t))return t[parseInt(e,10)];if(t)return t[e];if(null==t)return}return t[e]}(this.object.evaluate(t,e),this.key.evaluate(t,e))},t.prototype.assign=function(t,e){return function(t,e,i){if(Array.isArray(t)){var n=parseInt(e,10);t.length<=n&&(t.length=n+1),t[n]=i}else t[e]=i;return i}(this.object.evaluate(t),this.key.evaluate(t),e)},t.prototype.accept=function(t){return t.visitAccessKeyed(this)},t.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);if(i instanceof Object){this.key.connect(t,e);var n=this.key.evaluate(e);null==n||Array.isArray(i)&&"number"==typeof n||t.observeProperty(i,n)}},t}(xt),It=t.CallScope=function(o){function t(t,e,i){var n=C(this,o.call(this));return n.name=t,n.args=e,n.ancestor=i,n}return E(t,o),t.prototype.evaluate=function(t,e,i){var n=qt(t,this.args,e),o=M(this.name,t,this.ancestor),r=Ht(o,this.name,i);if(r)return r.apply(o,n)},t.prototype.accept=function(t){return t.visitCallScope(this)},t.prototype.connect=function(t,e){for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},t}(xt),jt=t.CallMember=function(o){function t(t,e,i){var n=C(this,o.call(this));return n.object=t,n.name=e,n.args=i,n}return E(t,o),t.prototype.evaluate=function(t,e,i){var n=this.object.evaluate(t,e),o=qt(t,this.args,e),r=Ht(n,this.name,i);if(r)return r.apply(n,o)},t.prototype.accept=function(t){return t.visitCallMember(this)},t.prototype.connect=function(t,e){if(this.object.connect(t,e),Ht(this.object.evaluate(e),this.name,!1))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},t}(xt),Nt=t.CallFunction=function(n){function t(t,e){var i=C(this,n.call(this));return i.func=t,i.args=e,i}return E(t,n),t.prototype.evaluate=function(t,e,i){var n=this.func.evaluate(t,e);if("function"==typeof n)return n.apply(null,qt(t,this.args,e));if(i||null!=n)throw new Error(this.func+" is not a function")},t.prototype.accept=function(t){return t.visitCallFunction(this)},t.prototype.connect=function(t,e){if(this.func.connect(t,e),"function"==typeof this.func.evaluate(e))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},t}(xt),Rt=t.Binary=function(o){function t(t,e,i){var n=C(this,o.call(this));return n.operation=t,n.left=e,n.right=i,n}return E(t,o),t.prototype.evaluate=function(t,e){var i=this.left.evaluate(t,e);switch(this.operation){case"&&":return i&&this.right.evaluate(t,e);case"||":return i||this.right.evaluate(t,e)}var n=this.right.evaluate(t,e);switch(this.operation){case"==":return i==n;case"===":return i===n;case"!=":return i!=n;case"!==":return i!==n}if(null===i||null===n||void 0===i||void 0===n){switch(this.operation){case"+":return null!=i?i:null!=n?n:0;case"-":return null!=i?i:null!=n?0-n:0}return null}switch(this.operation){case"+":return function(t,e){if(null!==t&&null!==e)return"string"==typeof t&&"string"!=typeof e?t+e.toString():"string"!=typeof t&&"string"==typeof e?t.toString()+e:t+e;if(null!==t)return t;if(null!==e)return e;return 0}(i,n);case"-":return i-n;case"*":return i*n;case"/":return i/n;case"%":return i%n;case"<":return i<n;case">":return n<i;case"<=":return i<=n;case">=":return n<=i;case"^":return i^n}throw new Error("Internal error ["+this.operation+"] not handled")},t.prototype.accept=function(t){return t.visitBinary(this)},t.prototype.connect=function(t,e){this.left.connect(t,e);var i=this.left.evaluate(e);"&&"===this.operation&&!i||"||"===this.operation&&i||this.right.connect(t,e)},t}(xt),Bt=t.PrefixNot=function(n){function t(t,e){var i=C(this,n.call(this));return i.operation=t,i.expression=e,i}return E(t,n),t.prototype.evaluate=function(t,e){return!this.expression.evaluate(t,e)},t.prototype.accept=function(t){return t.visitPrefix(this)},t.prototype.connect=function(t,e){this.expression.connect(t,e)},t}(xt),Dt=t.LiteralPrimitive=function(i){function t(t){var e=C(this,i.call(this));return e.value=t,e}return E(t,i),t.prototype.evaluate=function(t,e){return this.value},t.prototype.accept=function(t){return t.visitLiteralPrimitive(this)},t.prototype.connect=function(t,e){},t}(xt),zt=t.LiteralString=function(i){function t(t){var e=C(this,i.call(this));return e.value=t,e}return E(t,i),t.prototype.evaluate=function(t,e){return this.value},t.prototype.accept=function(t){return t.visitLiteralString(this)},t.prototype.connect=function(t,e){},t}(xt),Ft=t.LiteralArray=function(i){function t(t){var e=C(this,i.call(this));return e.elements=t,e}return E(t,i),t.prototype.evaluate=function(t,e){for(var i=this.elements,n=[],o=0,r=i.length;o<r;++o)n[o]=i[o].evaluate(t,e);return n},t.prototype.accept=function(t){return t.visitLiteralArray(this)},t.prototype.connect=function(t,e){for(var i=this.elements.length,n=0;n<i;n++)this.elements[n].connect(t,e)},t}(xt),Vt=t.LiteralObject=function(n){function t(t,e){var i=C(this,n.call(this));return i.keys=t,i.values=e,i}return E(t,n),t.prototype.evaluate=function(t,e){for(var i={},n=this.keys,o=this.values,r=0,s=n.length;r<s;++r)i[n[r]]=o[r].evaluate(t,e);return i},t.prototype.accept=function(t){return t.visitLiteralObject(this)},t.prototype.connect=function(t,e){for(var i=this.keys.length,n=0;n<i;n++)this.values[n].connect(t,e)},t}(xt);function qt(t,e,i){for(var n=e.length,o=[],r=0;r<n;r++)o[r]=e[r].evaluate(t,i);return o}function Ht(t,e,i){var n=null==t?null:t[e];if("function"==typeof n)return n;if(!i&&null==n)return null;throw new Error(e+" is not a function")}var Ut=null;t.Unparser=Ut,"undefined"==typeof FEATURE_NO_UNPARSER&&(t.Unparser=Ut=function(){function t(t){this.buffer=t}return t.unparse=function(t){var e=[],i=new Ut(e);return t.accept(i),e.join("")},t.prototype.write=function(t){this.buffer.push(t)},t.prototype.writeArgs=function(t){this.write("(");for(var e=0,i=t.length;e<i;++e)0!==e&&this.write(","),t[e].accept(this);this.write(")")},t.prototype.visitChain=function(t){for(var e=t.expressions,i=0,n=e.length;i<n;++i)0!==i&&this.write(";"),e[i].accept(this)},t.prototype.visitBindingBehavior=function(t){var e=t.args;t.expression.accept(this),this.write("&"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitValueConverter=function(t){var e=t.args;t.expression.accept(this),this.write("|"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitAssign=function(t){t.target.accept(this),this.write("="),t.value.accept(this)},t.prototype.visitConditional=function(t){t.condition.accept(this),this.write("?"),t.yes.accept(this),this.write(":"),t.no.accept(this)},t.prototype.visitAccessThis=function(t){if(0!==t.ancestor){this.write("$parent");for(var e=t.ancestor-1;e--;)this.write(".$parent")}else this.write("$this")},t.prototype.visitAccessScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name)},t.prototype.visitAccessMember=function(t){t.object.accept(this),this.write("."+t.name)},t.prototype.visitAccessKeyed=function(t){t.object.accept(this),this.write("["),t.key.accept(this),this.write("]")},t.prototype.visitCallScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name),this.writeArgs(t.args)},t.prototype.visitCallFunction=function(t){t.func.accept(this),this.writeArgs(t.args)},t.prototype.visitCallMember=function(t){t.object.accept(this),this.write("."+t.name),this.writeArgs(t.args)},t.prototype.visitPrefix=function(t){this.write("("+t.operation),t.expression.accept(this),this.write(")")},t.prototype.visitBinary=function(t){t.left.accept(this),this.write(t.operation),t.right.accept(this)},t.prototype.visitLiteralPrimitive=function(t){this.write(""+t.value)},t.prototype.visitLiteralArray=function(t){var e=t.elements;this.write("[");for(var i=0,n=e.length;i<n;++i)0!==i&&this.write(","),e[i].accept(this);this.write("]")},t.prototype.visitLiteralObject=function(t){var e=t.keys,i=t.values;this.write("{");for(var n=0,o=e.length;n<o;++n)0!==n&&this.write(","),this.write("'"+e[n]+"':"),i[n].accept(this);this.write("}")},t.prototype.visitLiteralString=function(t){var e=t.value.replace(/'/g,"'");this.write("'"+e+"'")},t}());var Zt=t.ExpressionCloner=function(){function t(){}return t.prototype.cloneExpressionArray=function(t){for(var e=[],i=t.length;i--;)e[i]=t[i].accept(this);return e},t.prototype.visitChain=function(t){return new Ct(this.cloneExpressionArray(t.expressions))},t.prototype.visitBindingBehavior=function(t){return new Et(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitValueConverter=function(t){return new Lt(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitAssign=function(t){return new St(t.target.accept(this),t.value.accept(this))},t.prototype.visitConditional=function(t){return new Pt(t.condition.accept(this),t.yes.accept(this),t.no.accept(this))},t.prototype.visitAccessThis=function(t){return new At(t.ancestor)},t.prototype.visitAccessScope=function(t){return new Ot(t.name,t.ancestor)},t.prototype.visitAccessMember=function(t){return new Mt(t.object.accept(this),t.name)},t.prototype.visitAccessKeyed=function(t){return new Tt(t.object.accept(this),t.key.accept(this))},t.prototype.visitCallScope=function(t){return new It(t.name,this.cloneExpressionArray(t.args),t.ancestor)},t.prototype.visitCallFunction=function(t){return new Nt(t.func.accept(this),this.cloneExpressionArray(t.args))},t.prototype.visitCallMember=function(t){return new jt(t.object.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitPrefix=function(t){return new Bt(t.operation,t.expression.accept(this))},t.prototype.visitBinary=function(t){return new Rt(t.operation,t.left.accept(this),t.right.accept(this))},t.prototype.visitLiteralPrimitive=function(t){return new Dt(t)},t.prototype.visitLiteralArray=function(t){return new Ft(this.cloneExpressionArray(t.elements))},t.prototype.visitLiteralObject=function(t){return new Vt(t.keys,this.cloneExpressionArray(t.values))},t.prototype.visitLiteralString=function(t){return new zt(t.value)},t}();var Wt=t.bindingMode={oneTime:0,toView:1,oneWay:1,twoWay:2,fromView:3},Gt=t.Token=function(){function t(t,e){this.index=t,this.text=e}return t.prototype.withOp=function(t){return this.opKey=t,this},t.prototype.withGetterSetter=function(t){return this.key=t,this},t.prototype.withValue=function(t){return this.value=t,this},t.prototype.toString=function(){return"Token("+this.text+")"},t}(),Xt=t.Lexer=function(){function t(){}return t.prototype.lex=function(t){for(var e=new Yt(t),i=[],n=e.scanToken();n;)i.push(n),n=e.scanToken();return i},t}(),Yt=t.Scanner=function(){function t(t){this.input=t,this.length=t.length,this.peek=0,this.index=-1,this.advance()}return t.prototype.scanToken=function(){for(;this.peek<=ne;){if(++this.index>=this.length)return this.peek=Kt,null;this.peek=this.input.charCodeAt(this.index)}if(Ge(this.peek))return this.scanIdentifier();if(Xe(this.peek))return this.scanNumber(this.index);var t,e=this.index;switch(this.peek){case ve:return this.advance(),Xe(this.peek)?this.scanNumber(e):new Gt(e,".");case ce:case he:case He:case Ze:case Ae:case Me:case fe:case _e:case ye:return this.scanCharacter(e,String.fromCharCode(this.peek));case le:case re:return this.scanString();case pe:case me:case de:case ge:case ae:case Te:case xe:return this.scanOperator(e,String.fromCharCode(this.peek));case be:case ke:case oe:case we:return this.scanComplexOperator(e,we,String.fromCharCode(this.peek),"=");case ue:return this.scanComplexOperator(e,ue,"&","&");case Ue:return this.scanComplexOperator(e,Ue,"|","|");case We:for(;t=this.peek,Qt<=t&&t<=ne||t===We;)this.advance();return this.scanToken()}var i=String.fromCharCode(this.peek);return this.error("Unexpected character ["+i+"]"),null},t.prototype.scanCharacter=function(t,e){return $e(this.peek===e.charCodeAt(0)),this.advance(),new Gt(t,e)},t.prototype.scanOperator=function(t,e){return $e(this.peek===e.charCodeAt(0)),$e(1===$t[e]),this.advance(),new Gt(t,e).withOp(e)},t.prototype.scanComplexOperator=function(t,e,i,n){$e(this.peek===i.charCodeAt(0)),this.advance();var o=i;return this.peek===e&&(this.advance(),o+=n),this.peek===e&&(this.advance(),o+=n),$e(1===$t[o]),new Gt(t,o).withOp(o)},t.prototype.scanIdentifier=function(){$e(Ge(this.peek));var t,e=this.index;for(this.advance();t=this.peek,je<=t&&t<=qe||Le<=t&&t<=Pe||Ce<=t&&t<=Ee||t===Ie||t===se;)this.advance();var i=this.input.substring(e,this.index),n=new Gt(e,i);return 1===$t[i]?n.withOp(i):n.withGetterSetter(i),n},t.prototype.scanNumber=function(t){$e(Xe(this.peek));var e,i,n=this.index===t;for(this.advance();;){if(!Xe(this.peek))if(this.peek===ve)n=!1;else{if((i=this.peek)!==Ne&&i!==Se)break;this.advance(),((e=this.peek)===me||e===pe)&&this.advance(),Xe(this.peek)||this.error("Invalid exponent",-1),n=!1}this.advance()}var o=this.input.substring(t,this.index),r=n?parseInt(o,10):parseFloat(o);return new Gt(t,o).withValue(r)},t.prototype.scanString=function(){$e(this.peek===le||this.peek===re);var t=this.index,e=this.peek;this.advance();for(var i=void 0,n=this.index;this.peek!==e;)if(this.peek===Oe){i||(i=[]),i.push(this.input.substring(n,this.index)),this.advance();var o=void 0;if(this.peek===Fe){var r=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(r)||this.error("Invalid unicode escape [\\u"+r+"]"),o=parseInt(r,16);for(var s=0;s<5;++s)this.advance()}else o=Ye(this.peek),this.advance();i.push(String.fromCharCode(o)),n=this.index}else this.peek===Kt?this.error("Unterminated quote"):this.advance();var a=this.input.substring(n,this.index);this.advance();var u=this.input.substring(t,this.index),l=a;return null!=i&&(i.push(a),l=i.join("")),new Gt(t,u).withValue(l)},t.prototype.advance=function(){++this.index>=this.length?this.peek=Kt:this.peek=this.input.charCodeAt(this.index)},t.prototype.error=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.index+e;throw new Error("Lexer Error: "+t+" at column "+i+" in expression ["+this.input+"]")},t}(),$t={undefined:1,null:1,true:1,false:1,"+":1,"-":1,"*":1,"/":1,"%":1,"^":1,"=":1,"==":1,"===":1,"!=":1,"!==":1,"<":1,">":1,"<=":1,">=":1,"&&":1,"||":1,"&":1,"|":1,"!":1,"?":1},Kt=0,Qt=9,Jt=10,te=11,ee=12,ie=13,ne=32,oe=33,re=34,se=36,ae=37,ue=38,le=39,ce=40,he=41,de=42,pe=43,fe=44,me=45,ve=46,ge=47,_e=58,ye=59,be=60,we=61,ke=62,xe=63,Ce=48,Ee=57,Le=65,Se=69,Pe=90,Ae=91,Oe=92,Me=93,Te=94,Ie=95,je=97,Ne=101,Re=102,Be=110,De=114,ze=116,Fe=117,Ve=118,qe=122,He=123,Ue=124,Ze=125,We=160;function Ge(t){return je<=t&&t<=qe||Le<=t&&t<=Pe||t===Ie||t===se}function Xe(t){return Ce<=t&&t<=Ee}function Ye(t){switch(t){case Be:return Jt;case Re:return ee;case De:return ie;case ze:return Qt;case Ve:return te;default:return t}}function $e(t,e){if(!t)throw e||"Assertion failed"}var Ke=new Gt(-1,null),Qe=t.Parser=function(){function t(){this.cache={},this.lexer=new Xt}return t.prototype.parse=function(t){return t=t||"",this.cache[t]||(this.cache[t]=new Je(this.lexer,t).parseChain())},t}(),Je=t.ParserImplementation=function(){function t(t,e){this.index=0,this.input=e,this.tokens=t.lex(e)}return t.prototype.parseChain=function(){for(var t=!1,e=[];this.optional(";");)t=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var i=this.parseBindingBehavior();for(e.push(i);this.optional(";");)t=!0;t&&this.error("Multiple expressions are not allowed.")}return 1===e.length?e[0]:new Ct(e)},t.prototype.parseBindingBehavior=function(){for(var t=this.parseValueConverter();this.optional("&");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new Et(t,e,i)}return t},t.prototype.parseValueConverter=function(){for(var t=this.parseExpression();this.optional("|");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new Lt(t,e,i,[t].concat(i))}return t},t.prototype.parseExpression=function(){for(var t=this.peek.index,e=this.parseConditional();"="===this.peek.text;){if(!e.isAssignable){var i=this.index<this.tokens.length?this.peek.index:this.input.length,n=this.input.substring(t,i);this.error("Expression "+n+" is not assignable")}this.expect("="),e=new St(e,this.parseConditional())}return e},t.prototype.parseConditional=function(){var t=this.peek.index,e=this.parseLogicalOr();if(this.optional("?")){var i=this.parseExpression();if(!this.optional(":")){var n=this.index<this.tokens.length?this.peek.index:this.input.length,o=this.input.substring(t,n);this.error("Conditional expression "+o+" requires all 3 expressions")}var r=this.parseExpression();e=new Pt(e,i,r)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optional("||");)t=new Rt("||",t,this.parseLogicalAnd());return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optional("&&");)t=new Rt("&&",t,this.parseEquality());return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();;)if(this.optional("=="))t=new Rt("==",t,this.parseRelational());else if(this.optional("!="))t=new Rt("!=",t,this.parseRelational());else if(this.optional("==="))t=new Rt("===",t,this.parseRelational());else{if(!this.optional("!=="))return t;t=new Rt("!==",t,this.parseRelational())}},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();;)if(this.optional("<"))t=new Rt("<",t,this.parseAdditive());else if(this.optional(">"))t=new Rt(">",t,this.parseAdditive());else if(this.optional("<="))t=new Rt("<=",t,this.parseAdditive());else{if(!this.optional(">="))return t;t=new Rt(">=",t,this.parseAdditive())}},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();;)if(this.optional("+"))t=new Rt("+",t,this.parseMultiplicative());else{if(!this.optional("-"))return t;t=new Rt("-",t,this.parseMultiplicative())}},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();;)if(this.optional("*"))t=new Rt("*",t,this.parsePrefix());else if(this.optional("%"))t=new Rt("%",t,this.parsePrefix());else{if(!this.optional("/"))return t;t=new Rt("/",t,this.parsePrefix())}},t.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Rt("-",new Dt(0),this.parsePrefix()):this.optional("!")?new Bt("!",this.parsePrefix()):this.parseAccessOrCallMember()},t.prototype.parseAccessOrCallMember=function(){for(var t=this.parsePrimary();;)if(this.optional(".")){var e=this.peek.text;if(this.advance(),this.optional("(")){var i=this.parseExpressionList(")");this.expect(")"),t=t instanceof At?new It(e,i,t.ancestor):new jt(t,e,i)}else t=t instanceof At?new Ot(e,t.ancestor):new Mt(t,e)}else if(this.optional("[")){var n=this.parseExpression();this.expect("]"),t=new Tt(t,n)}else{if(!this.optional("("))return t;var o=this.parseExpressionList(")");this.expect(")"),t=new Nt(t,o)}},t.prototype.parsePrimary=function(){if(this.optional("(")){var t=this.parseExpression();return this.expect(")"),t}if(this.optional("null"))return new Dt(null);if(this.optional("undefined"))return new Dt(void 0);if(this.optional("true"))return new Dt(!0);if(this.optional("false"))return new Dt(!1);if(this.optional("[")){var e=this.parseExpressionList("]");return this.expect("]"),new Ft(e)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var i=this.peek.value;return this.advance(),i instanceof String||"string"==typeof i?new zt(i):new Dt(i)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},t.prototype.parseAccessOrCallScope=function(){var t=this.peek.key;if(this.advance(),"$this"===t)return new At(0);for(var e=0;"$parent"===t;)if(e++,this.optional("."))t=this.peek.key,this.advance();else{if(this.peek===Ke||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text||"|"===this.peek.text||"&"===this.peek.text)return new At(e);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var i=this.parseExpressionList(")");return this.expect(")"),new It(t,i,e)}return new Ot(t,e)},t.prototype.parseObject=function(){var t=[],e=[];if(this.expect("{"),"}"!==this.peek.text)do{var i=this.peek,n=i.value;t.push("string"==typeof n?n:i.text),this.advance(),!i.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),e.push(this.parseExpression())):(--this.index,e.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Vt(t,e)},t.prototype.parseExpressionList=function(t){var e=[];if(this.peek.text!==t)for(;e.push(this.parseExpression()),this.optional(","););return e},t.prototype.optional=function(t){return this.peek.text===t&&(this.advance(),!0)},t.prototype.expect=function(t){this.peek.text===t?this.advance():this.error("Missing expected "+t)},t.prototype.advance=function(){this.index++},t.prototype.error=function(t){var e=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+t+" "+e+" ["+this.input+"]")},y(t,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:Ke}}]),t}(),ti=Map.prototype;function ei(t,e){return ii.for(t,e)}t.getMapObserver=ei;var ii=function(i){function n(t,e){return C(this,i.call(this,t,e))}return E(n,i),n.for=function(t,e){return"__map_observer__"in e||Reflect.defineProperty(e,"__map_observer__",{value:n.create(t,e),enumerable:!1,configurable:!1}),e.__map_observer__},n.create=function(t,o){var r=new n(t,o),s=ti;return s.set===o.set&&s.delete===o.delete&&s.clear===o.clear||(s={set:o.set,delete:o.delete,clear:o.clear}),o.set=function(){var t=o.has(arguments[0]),e=t?"update":"add",i=o.get(arguments[0]),n=s.set.apply(o,arguments);return t&&i===o.get(arguments[0])||r.addChangeRecord({type:e,object:o,key:arguments[0],oldValue:i}),n},o.delete=function(){var t=o.has(arguments[0]),e=o.get(arguments[0]),i=s.delete.apply(o,arguments);return t&&r.addChangeRecord({type:"delete",object:o,key:arguments[0],oldValue:e}),i},o.clear=function(){var t=s.clear.apply(o,arguments);return r.addChangeRecord({type:"clear",object:o}),t},r},n}(dt);function ni(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}function oi(){this.standardStopPropagation(),this.propagationStopped=!0}function ri(t){t.propagationStopped=!1;for(var e=ni(t),i=[];e;){if(e.capturedCallbacks){var n=e.capturedCallbacks[t.type];n&&(t.stopPropagation!==oi&&(t.standardStopPropagation=t.stopPropagation,t.stopPropagation=oi),i.push(n))}e=e.parentNode}for(var o=i.length-1;0<=o&&!t.propagationStopped;o--){var r=i[o];"handleEvent"in r?r.handleEvent(t):r(t)}}var si=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){this.count++,1===this.count&&w.DOM.addEventListener(this.eventName,ri,!0)},t.prototype.decrement=function(){this.count--,0===this.count&&w.DOM.removeEventListener(this.eventName,ri,!0)},t}();function ai(t){t.propagationStopped=!1;for(var e=ni(t);e&&!t.propagationStopped;){if(e.delegatedCallbacks){var i=e.delegatedCallbacks[t.type];i&&(t.stopPropagation!==oi&&(t.standardStopPropagation=t.stopPropagation,t.stopPropagation=oi),"handleEvent"in i?i.handleEvent(t):i(t))}e=e.parentNode}}var ui=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){this.count++,1===this.count&&w.DOM.addEventListener(this.eventName,ai,!1)},t.prototype.decrement=function(){this.count--,0===this.count&&w.DOM.removeEventListener(this.eventName,ai,!1)},t}(),li=function(){function t(t,e,i){this.entry=t,this.lookup=e,this.targetEvent=i}return t.prototype.dispose=function(){this.entry.decrement(),this.lookup[this.targetEvent]=null,this.entry=this.lookup=this.targetEvent=null},t}(),ci=function(){function t(t,e,i){this.target=t,this.targetEvent=e,this.callback=i}return t.prototype.dispose=function(){this.target.removeEventListener(this.targetEvent,this.callback),this.target=this.targetEvent=this.callback=null},t}(),hi=function(){function t(){this.delegatedHandlers={},this.capturedHandlers={}}return t.prototype.subscribe=function(t,e,i,n,o){var r=void 0,s=void 0,a=void 0;if(n===di.bubbling){r=this.delegatedHandlers,a=r[e]||(r[e]=new ui(e));var u=t.delegatedCallbacks||(t.delegatedCallbacks={});return a.increment(),u[e]=i,!0===o?new li(a,u,e):function(){a.decrement(),u[e]=null}}if(n===di.capturing){s=this.capturedHandlers,a=s[e]||(s[e]=new si(e));var l=t.capturedCallbacks||(t.capturedCallbacks={});return a.increment(),l[e]=i,!0===o?new li(a,l,e):function(){a.decrement(),l[e]=null}}return t.addEventListener(e,i),!0===o?new ci(t,e,i):function(){t.removeEventListener(e,i)}},t}(),di=t.delegationStrategy={none:0,capturing:1,bubbling:2},pi=t.EventManager=function(){function t(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new hi}return t.prototype.registerElementConfig=function(t){var e=t.tagName.toLowerCase(),i=t.properties,n=void 0,o=this.elementHandlerLookup[e]={};for(n in i)i.hasOwnProperty(n)&&(o[n]=i[n])},t.prototype.registerEventStrategy=function(t,e){this.eventStrategyLookup[t]=e},t.prototype.getElementHandler=function(t,e){var i=void 0,n=this.elementHandlerLookup;if(t.tagName){if(n[i=t.tagName.toLowerCase()]&&n[i][e])return new fi(n[i][e]);if("textContent"===e||"innerHTML"===e)return new fi(n["content editable"].value);if("scrollTop"===e||"scrollLeft"===e)return new fi(n["scrollable element"][e])}return null},t.prototype.addEventListener=function(t,e,i,n,o){return(this.eventStrategyLookup[e]||this.defaultEventStrategy).subscribe(t,e,i,n,o)},t}(),fi=t.EventSubscriber=function(){function t(t){this.events=t,this.element=null,this.handler=null}return t.prototype.subscribe=function(t,e){this.element=t,this.handler=e;for(var i=this.events,n=0,o=i.length;n<o;++n)t.addEventListener(i[n],e)},t.prototype.dispose=function(){if(null!==this.element){for(var t=this.element,e=this.handler,i=this.events,n=0,o=i.length;n<o;++n)t.removeEventListener(i[n],e);this.element=this.handler=null}},t}(),mi=t.DirtyChecker=function(){function t(){this.tracked=[],this.checkDelay=120}return t.prototype.addProperty=function(t){var e=this.tracked;e.push(t),1===e.length&&this.scheduleDirtyCheck()},t.prototype.removeProperty=function(t){var e=this.tracked;e.splice(e.indexOf(t),1)},t.prototype.scheduleDirtyCheck=function(){var t=this;setTimeout(function(){return t.check()},this.checkDelay)},t.prototype.check=function(){for(var t=this.tracked,e=t.length;e--;){var i=t[e];i.isDirty()&&i.call()}t.length&&this.scheduleDirtyCheck()},t}(),vi=t.DirtyCheckProperty=nt()(u=function(){function t(t,e,i){this.dirtyChecker=t,this.obj=e,this.propertyName=i}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.call=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},t}())||u,gi=b.getLogger("property-observation"),_i=t.propertyAccessor={getValue:function(t,e){return t[e]},setValue:function(t,e,i){e[i]=t}},yi=t.PrimitiveObserver=function(){function t(t,e){this.doNotCache=!0,this.primitive=t,this.propertyName=e}return t.prototype.getValue=function(){return this.primitive[this.propertyName]},t.prototype.setValue=function(){var t=_(this.primitive);throw new Error("The "+this.propertyName+" property of a "+t+" ("+this.primitive+") cannot be assigned.")},t.prototype.subscribe=function(){},t.prototype.unsubscribe=function(){},t}(),bi=t.SetterObserver=nt()(l=function(){function t(t,e,i){this.taskQueue=t,this.obj=e,this.propertyName=i,this.queued=!1,this.observing=!1}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.getterValue=function(){return this.currentValue},t.prototype.setterValue=function(t){var e=this.currentValue;e!==t&&(this.queued||(this.oldValue=e,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=t)},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.queued=!1,this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.observing||this.convertProperty(),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||gi.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},t}())||l,wi=t.XLinkAttributeObserver=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.attributeName=i}return t.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},t.prototype.setValue=function(t){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),ki=t.dataAttributeAccessor={getValue:function(t,e){return t.getAttribute(e)},setValue:function(t,e,i){null==t?e.removeAttribute(i):e.setAttribute(i,t)}},xi=t.DataAttributeObserver=function(){function t(t,e){this.element=t,this.propertyName=e}return t.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},t.prototype.setValue=function(t){return null==t?this.element.removeAttribute(this.propertyName):this.element.setAttribute(this.propertyName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),Ci=t.StyleObserver=function(){function t(t,e){this.element=t,this.propertyName=e,this.styles=null,this.version=0}return t.prototype.getValue=function(){return this.element.style.cssText},t.prototype._setProperty=function(t,e){var i="";null!=e&&"function"==typeof e.indexOf&&-1!==e.indexOf("!important")&&(i="important",e=e.replace("!important","")),this.element.style.setProperty(t,e,i)},t.prototype.setValue=function(t){var e=this.styles||{},i=void 0,n=this.version;if(null!=t)if(t instanceof Object){var o=void 0;for(i in t)t.hasOwnProperty(i)&&(o=t[i],e[i=i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})]=n,this._setProperty(i,o))}else if(t.length)for(var r=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,s=void 0;null!==(s=r.exec(t));)(i=s[1])&&(e[i]=n,this._setProperty(i,s[2]));if(this.styles=e,this.version+=1,0!==n)for(i in n-=1,e)e.hasOwnProperty(i)&&e[i]===n&&this.element.style.removeProperty(i)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),Ei=t.ValueAttributeObserver=nt()(c=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.handler=i,"files"===e&&(this.setValue=function(){})}return t.prototype.getValue=function(){return this.element[this.propertyName]},t.prototype.setValue=function(t){t=null==t?"":t,this.element[this.propertyName]!==t&&(this.element[this.propertyName]=t,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.handleEvent=function(){this.notify()},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.handler.subscribe(this.element,this)),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.handler.dispose()},t}())||c,Li="CheckedObserver:array",Si="CheckedObserver:value",Pi=t.CheckedObserver=nt()(h=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.initialSync&&this.value===t||(this.arrayObserver&&(this.arrayObserver.unsubscribe(Li,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(Li,this)),this.oldValue=this.value,this.value=t,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(Si,this))},t.prototype.synchronizeElement=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n="radio"===e.type,o=e.matcher||function(t,e){return t===e};e.checked=n&&!!o(t,i)||!n&&!0===t||!n&&Array.isArray(t)&&-1!==t.findIndex(function(t){return!!o(t,i)})},t.prototype.synchronizeValue=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n=void 0,o=e.matcher||function(t,e){return t===e};if("checkbox"===e.type){if(Array.isArray(t))return n=t.findIndex(function(t){return!!o(t,i)}),void(e.checked&&-1===n?t.push(i):e.checked||-1===n||t.splice(n,1));t=e.checked}else{if(!e.checked)return;t=i}this.oldValue=this.value,this.value=t,this.notify()},t.prototype.notify=function(){var t=this.oldValue,e=this.value;e!==t&&this.callSubscribers(e,t)},t.prototype.handleEvent=function(){this.synchronizeValue()},t.prototype.subscribe=function(t,e){this.hasSubscribers()||this.handler.subscribe(this.element,this),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.handler.dispose()},t.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe(Li,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(Si,this)},t}())||h,Ai="SelectValueObserver:array",Oi=t.SelectValueObserver=nt()(d=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){if(null!=t&&this.element.multiple&&!Array.isArray(t))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==t&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(Ai,this),this.arrayObserver=null),Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(Ai,this)),this.oldValue=this.value,this.value=t,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeOptions()},t.prototype.synchronizeOptions=function(){var i=this.value,n=void 0;Array.isArray(i)&&(n=!0);for(var o=this.element.options,r=o.length,s=this.element.matcher||function(t,e){return t===e},t=function(){var t=o.item(r),e=t.hasOwnProperty("model")?t.model:t.value;if(n)return t.selected=-1!==i.findIndex(function(t){return!!s(e,t)}),"continue";t.selected=!!s(e,i)};r--;)t()},t.prototype.synchronizeValue=function(){for(var o=this,t=this.element.options,e=0,r=[],i=0,n=t.length;i<n;i++){var s=t.item(i);s.selected&&(r.push(s.hasOwnProperty("model")?s.model:s.value),e++)}if(this.element.multiple){if(Array.isArray(this.value)){var a=function(){for(var i=o.element.matcher||function(t,e){return t===e},t=0,e=function(){var e=o.value[t];-1===r.findIndex(function(t){return i(e,t)})?o.value.splice(t,1):t++};t<o.value.length;)e();t=0;for(var n=function(){var e=r[t];-1===o.value.findIndex(function(t){return i(e,t)})&&o.value.push(e),t++};t<r.length;)n();return{v:void 0}}();if("object"===(void 0===a?"undefined":_(a)))return a.v}}else r=0===e?null:r[0];r!==this.value&&(this.oldValue=this.value,this.value=r,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.value;this.callSubscribers(e,t)},t.prototype.handleEvent=function(){this.synchronizeValue()},t.prototype.subscribe=function(t,e){this.hasSubscribers()||this.handler.subscribe(this.element,this),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.handler.dispose()},t.prototype.bind=function(){var t=this;this.domObserver=w.DOM.createMutationObserver(function(){t.synchronizeOptions(),t.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},t.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(Ai,this),this.arrayObserver=null)},t}())||d,Mi=t.ClassObserver=function(){function t(t){this.element=t,this.doNotCache=!0,this.value="",this.version=0}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=this.nameIndex||{},i=this.version,n=void 0,o=void 0;if(null!=t&&t.length)for(var r=0,s=(n=t.split(/\s+/)).length;r<s;r++)""!==(o=n[r])&&(e[o]=i,this.element.classList.add(o));if(this.value=t,this.nameIndex=e,this.version+=1,0!==i)for(o in i-=1,e)e.hasOwnProperty(o)&&e[o]===i&&this.element.classList.remove(o)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},t}();function Ti(t){return!!(t&&t.get&&t.get.dependencies)}var Ii=t.ComputedExpression=function(n){function t(t,e){var i=C(this,n.call(this));return i.name=t,i.dependencies=e,i.isAssignable=!0,i}return E(t,n),t.prototype.evaluate=function(t,e){return t.bindingContext[this.name]},t.prototype.assign=function(t,e){t.bindingContext[this.name]=e},t.prototype.accept=function(t){throw new Error("not implemented")},t.prototype.connect=function(t,e){for(var i=this.dependencies,n=i.length;n--;)i[n].connect(t,e)},t}(xt);function ji(t,e,i,n){var o=i.get.dependencies;if(!(o instanceof Ii)){for(var r=o.length;r--;)o[r]=n.parser.parse(o[r]);o=i.get.dependencies=new Ii(e,o)}var s={bindingContext:t,overrideContext:O(t)};return new ot(s,o,n)}var Ni=void 0,Ri=void 0,Bi=void 0,Di=void 0;if("undefined"==typeof FEATURE_NO_SVG){Ni={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},Ri={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},Bi={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0};var zi=function(t){var e=w.DOM.createElement("div");return e.innerHTML=t,e.firstChild};Di=function(){function t(){"altglyph"===zi("<svg><altGlyph /></svg>").firstElementChild.nodeName&&Fi.altGlyph&&(Fi.altglyph=Fi.altGlyph,delete Fi.altGlyph,Fi.altglyphdef=Fi.altGlyphDef,delete Fi.altGlyphDef,Fi.altglyphitem=Fi.altGlyphItem,delete Fi.altGlyphItem,Fi.glyphref=Fi.glyphRef,delete Fi.glyphRef)}return t.prototype.isStandardSvgAttribute=function(t,e){return Vi[t]&&qi[e]||Fi[t]&&-1!==Fi[t].indexOf(e)},t}()}var Fi=t.elements=Ni,Vi=t.presentationElements=Ri,qi=t.presentationAttributes=Bi,Hi=t.SVGAnalyzer=Di||function(){function t(){}return t.prototype.isStandardSvgAttribute=function(){return!1},t}(),Ui=t.ObserverLocator=(f=p=function(){function t(t,e,i,n,o){this.taskQueue=t,this.eventManager=e,this.dirtyChecker=i,this.svgAnalyzer=n,this.parser=o,this.adapters=[],this.logger=b.getLogger("observer-locator")}return t.prototype.getObserver=function(t,e){var i,n=t.__observers__;return n&&e in n?n[e]:((i=this.createPropertyObserver(t,e)).doNotCache||(void 0===n&&(n=this.getOrCreateObserversLookup(t)),n[e]=i),i)},t.prototype.getOrCreateObserversLookup=function(t){return t.__observers__||this.createObserversLookup(t)},t.prototype.createObserversLookup=function(t){var e={};return Reflect.defineProperty(t,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:e})||this.logger.warn("Cannot add observers to object",t),e},t.prototype.addAdapter=function(t){this.adapters.push(t)},t.prototype.getAdapterObserver=function(t,e,i){for(var n=0,o=this.adapters.length;n<o;n++){var r=this.adapters[n].getObserver(t,e,i);if(r)return r}return null},t.prototype.createPropertyObserver=function(t,e){var i,n=void 0,o=void 0;if(!(t instanceof Object))return new yi(t,e);if(t instanceof w.DOM.Element){if("class"===e)return new Mi(t);if("style"===e||"css"===e)return new Ci(t,e);if(n=this.eventManager.getElementHandler(t,e),"value"===e&&"select"===t.tagName.toLowerCase())return new Oi(t,n,this);if("checked"===e&&"input"===t.tagName.toLowerCase())return new Pi(t,n,this);if(n)return new Ei(t,e,n);if(o=/^xlink:(.+)$/.exec(e))return new wi(t,e,o[1]);if("role"===e&&(t instanceof w.DOM.Element||t instanceof w.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(e)||t instanceof w.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return new xi(t,e)}if(Ti(i=Object.getPropertyDescriptor(t,e)))return ji(t,e,i,this);if(i){var r=i.get||i.set;if(r){if(r.getObserver)return r.getObserver(t);var s=this.getAdapterObserver(t,e,i);return s||new vi(this.dirtyChecker,t,e)}}return t instanceof Array?"length"===e?this.getArrayObserver(t).getLengthObserver():new vi(this.dirtyChecker,t,e):t instanceof Map?"size"===e?this.getMapObserver(t).getLengthObserver():new vi(this.dirtyChecker,t,e):t instanceof Set?"size"===e?this.getSetObserver(t).getLengthObserver():new vi(this.dirtyChecker,t,e):new bi(this.taskQueue,t,e)},t.prototype.getAccessor=function(t,e){if(t instanceof w.DOM.Element){if("class"===e||"style"===e||"css"===e||"value"===e&&("input"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase())||"checked"===e&&"input"===t.tagName.toLowerCase()||"model"===e&&"input"===t.tagName.toLowerCase()||/^xlink:.+$/.exec(e))return this.getObserver(t,e);if(/^\w+:|^data-|^aria-/.test(e)||t instanceof w.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e)||"img"===t.tagName.toLowerCase()&&"src"===e||"a"===t.tagName.toLowerCase()&&"href"===e)return ki}return _i},t.prototype.getArrayObserver=function(t){return wt(this.taskQueue,t)},t.prototype.getMapObserver=function(t){return ei(this.taskQueue,t)},t.prototype.getSetObserver=function(t){return en(this.taskQueue,t)},t}(),p.inject=[k.TaskQueue,pi,mi,Hi,Qe],f),Zi=(t.ObjectObservationAdapter=function(){function t(){}return t.prototype.getObserver=function(t,e,i){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},t}(),t.BindingExpression=function(){function t(t,e,i,n,o,r){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=o,this.attribute=r,this.discrete=!1}return t.prototype.createBinding=function(t){return new Wi(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.mode,this.lookupFunctions)},t}()),Wi=t.Binding=z()(m=function(){function t(t,e,i,n,o,r){this.observerLocator=t,this.sourceExpression=e,this.target=i,this.targetProperty=n,this.mode=o,this.lookupFunctions=r}return t.prototype.updateTarget=function(t){this.targetObserver.setValue(t,this.target,this.targetProperty)},t.prototype.updateSource=function(t){this.sourceExpression.assign(this.source,t,this.lookupFunctions)},t.prototype.call=function(t,e,i){if(this.isBound){if(t===S)return i=this.targetObserver.getValue(this.target,this.targetProperty),(e=this.sourceExpression.evaluate(this.source,this.lookupFunctions))!==i&&this.updateTarget(e),void(this.mode!==Wt.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(t!==L)throw new Error("Unexpected call context "+t);e!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(e)}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions);var e=this.mode;if(!this.targetObserver){var i=e===Wt.twoWay||e===Wt.fromView?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[i](this.target,this.targetProperty)}if("bind"in this.targetObserver&&this.targetObserver.bind(),this.mode!==Wt.fromView){var n=this.sourceExpression.evaluate(t,this.lookupFunctions);this.updateTarget(n)}e!==Wt.oneTime&&(e===Wt.toView?X(this):e===Wt.twoWay?(this.sourceExpression.connect(this,t),this.targetObserver.subscribe(L,this)):e===Wt.fromView&&this.targetObserver.subscribe(L,this))},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(L,this),this.unobserve(!0))},t.prototype.connect=function(t){if(this.isBound){if(t){var e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(e)}this.sourceExpression.connect(this,this.source)}},t}())||m,Gi=(t.CallExpression=function(){function t(t,e,i,n){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.lookupFunctions=n}return t.prototype.createBinding=function(t){return new Gi(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.lookupFunctions)},t}(),t.Call=function(){function t(t,e,i,n,o){this.sourceExpression=e,this.target=i,this.targetProperty=t.getObserver(i,n),this.lookupFunctions=o}return t.prototype.callSource=function(t){var e=this.source.overrideContext;Object.assign(e,t),e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(var n in delete e.$event,t)delete e[n];return i},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.targetProperty.setValue(function(t){return e.callSource(t)})},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},t}()),Xi=t.ValueConverterResource=function(){function e(t){this.name=t}return e.convention=function(t){if(t.endsWith("ValueConverter"))return new e(A(t.substring(0,t.length-14)))},e.prototype.initialize=function(t,e){this.instance=t.get(e)},e.prototype.register=function(t,e){t.registerValueConverter(e||this.name,this.instance)},e.prototype.load=function(t,e){},e}();var Yi=t.BindingBehaviorResource=function(){function e(t){this.name=t}return e.convention=function(t){if(t.endsWith("BindingBehavior"))return new e(A(t.substring(0,t.length-15)))},e.prototype.initialize=function(t,e){this.instance=t.get(e)},e.prototype.register=function(t,e){t.registerBindingBehavior(e||this.name,this.instance)},e.prototype.load=function(t,e){},e}();t.ListenerExpression=function(){function t(t,e,i,n,o,r){this.eventManager=t,this.targetEvent=e,this.sourceExpression=i,this.delegationStrategy=n,this.discrete=!0,this.preventDefault=o,this.lookupFunctions=r}return t.prototype.createBinding=function(t){return new $i(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,t,this.preventDefault,this.lookupFunctions)},t}();var $i=t.Listener=function(){function t(t,e,i,n,o,r,s){this.eventManager=t,this.targetEvent=e,this.delegationStrategy=i,this.sourceExpression=n,this.target=o,this.preventDefault=r,this.lookupFunctions=s}return t.prototype.callSource=function(t){var e=this.source.overrideContext;e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete e.$event,!0!==i&&this.preventDefault&&t.preventDefault(),i},t.prototype.handleEvent=function(t){this.callSource(t)},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this._handler=this.eventManager.addEventListener(this.target,this.targetEvent,this,this.delegationStrategy,!0)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._handler.dispose(),this._handler=null)},t}();function Ki(t){var e=t.au;if(void 0===e)throw new Error('No Aurelia APIs are defined for the element: "'+t.tagName+'".');return e}t.NameExpression=function(){function e(t,e,i){this.sourceExpression=t,this.apiName=e,this.lookupFunctions=i,this.discrete=!0}return e.prototype.createBinding=function(t){return new Qi(this.sourceExpression,e.locateAPI(t,this.apiName),this.lookupFunctions)},e.locateAPI=function(t,e){switch(e){case"element":return t;case"controller":return Ki(t).controller;case"view-model":return Ki(t).controller.viewModel;case"view":return Ki(t).controller.view;default:var i=Ki(t)[e];if(void 0===i)throw new Error('Attempted to reference "'+e+"\", but it was not found amongst the target's API.");return i.viewModel}},e}();var Qi=function(){function t(t,e,i){this.sourceExpression=t,this.target=e,this.lookupFunctions=i}return t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},t}(),Ji={bindingBehaviors:function(t){return null},valueConverters:function(t){return null}},tn=(t.BindingEngine=(g=v=function(){function t(t,e){this.observerLocator=t,this.parser=e}return t.prototype.createBindingExpression=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Wt.toView,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Ji;return new Zi(this.observerLocator,t,this.parser.parse(e),i,n)},t.prototype.propertyObserver=function(i,n){var o=this;return{subscribe:function(t){var e=o.observerLocator.getObserver(i,n);return e.subscribe(t),{dispose:function(){return e.unsubscribe(t)}}}}},t.prototype.collectionObserver=function(i){var n=this;return{subscribe:function(t){var e=void 0;if(i instanceof Array)e=n.observerLocator.getArrayObserver(i);else if(i instanceof Map)e=n.observerLocator.getMapObserver(i);else{if(!(i instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");e=n.observerLocator.getSetObserver(i)}return e.subscribe(t),{dispose:function(){return e.unsubscribe(t)}}}}},t.prototype.expressionObserver=function(t,e){var i={bindingContext:t,overrideContext:O(t)};return new ot(i,this.parser.parse(e),this.observerLocator,Ji)},t.prototype.parseExpression=function(t){return this.parser.parse(t)},t.prototype.registerAdapter=function(t){this.observerLocator.addAdapter(t)},t}(),v.inject=[Ui,Qe],g),Set.prototype);function en(t,e){return nn.for(t,e)}t.getSetObserver=en;var nn=function(i){function r(t,e){return C(this,i.call(this,t,e))}return E(r,i),r.for=function(t,e){return"__set_observer__"in e||Reflect.defineProperty(e,"__set_observer__",{value:r.create(t,e),enumerable:!1,configurable:!1}),e.__set_observer__},r.create=function(t,i){var n=new r(t,i),o=tn;return o.add===i.add&&o.delete===i.delete&&o.clear===i.clear||(o={add:i.add,delete:i.delete,clear:i.clear}),i.add=function(){var t=i.size,e=o.add.apply(i,arguments);return i.size===t||n.addChangeRecord({type:"add",object:i,value:Array.from(i).pop()}),e},i.delete=function(){var t=i.has(arguments[0]),e=o.delete.apply(i,arguments);return t&&n.addChangeRecord({type:"delete",object:i,value:arguments[0]}),e},i.clear=function(){var t=o.clear.apply(i,arguments);return n.addChangeRecord({type:"clear",object:i}),t},n},r}(dt);var on={};function rn(t,e){on.hasOwnProperty(e)||(on[e]=0),t.observeProperty(on,e)}}),t.entry="dist/commonjs/aurelia-binding.js"}),y.pkg("aurelia-task-queue",{},function(t){return t.file("dist/commonjs/aurelia-task-queue.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskQueue=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=e("aurelia-pal"),l="function"==typeof setImmediate;function s(n){return function(){var t=setTimeout(i,0),e=setInterval(i,50);function i(){clearTimeout(t),clearInterval(e),n()}}}t.TaskQueue=function(){function t(){var t,e,i,n,o=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],r.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=(t=function(){return o.flushMicroTaskQueue()},e=1,i=r.DOM.createMutationObserver(t),n=r.DOM.createTextNode(""),i.observe(n,{characterData:!0}),function(){e=-e,n.data=e}):this.requestFlushMicroTaskQueue=s(function(){return o.flushMicroTaskQueue()}),this.requestFlushTaskQueue=s(function(){return o.flushTaskQueue()})}return t.prototype._flushQueue=function(t,e){var i,n,o=0,r=void 0;try{for(this.flushing=!0;o<t.length;)if(r=t[o],this.longStacks&&(this.stack="string"==typeof r.stack?r.stack:void 0),r.call(),e<++o){for(var s=0,a=t.length-o;s<a;s++)t[s]=t[s+o];t.length-=o,o=0}}catch(t){i=t,n=r,this.longStacks&&n.stack&&"object"===(void 0===i?"undefined":u(i))&&null!==i&&(i.stack=c(i.stack)+n.stack),"onError"in n?n.onError(i):l?setImmediate(function(){throw i}):setTimeout(function(){throw i},0)}finally{this.flushing=!1}},t.prototype.queueMicroTask=function(t){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(t)},t.prototype.queueTask=function(t){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(t)},t.prototype.flushTaskQueue=function(){var t=this.taskQueue;this.taskQueue=[],this._flushQueue(t,Number.MAX_VALUE)},t.prototype.flushMicroTaskQueue=function(){var t=this.microTaskQueue;this._flushQueue(t,this.microTaskQueueCapacity),t.length=0},t.prototype.prepareQueueStack=function(t){var e=t+function(){var t=new Error;if(t.stack)return t.stack;try{throw t}catch(t){return t.stack}}().replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"");return"string"==typeof this.stack&&(e=c(e)+this.stack),e},t}();function c(t){var e=t.lastIndexOf("flushMicroTaskQueue");return e<0&&(e=t.lastIndexOf("flushTaskQueue"))<0?t:(e=t.lastIndexOf("\n",e))<0?t:t.substr(0,e)}}),t.entry="dist/commonjs/aurelia-task-queue.js"}),y.pkg("aurelia-templating",{},function(t){return t.file("dist/commonjs/aurelia-templating.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingEngine=t.ElementConfigResource=t.CompositionEngine=t.SwapStrategies=t.HtmlBehaviorResource=t.BindableProperty=t.BehaviorPropertyObserver=t.Controller=t.ViewEngine=t.ModuleAnalyzer=t.ResourceDescription=t.ResourceModule=t.ViewCompiler=t.ViewFactory=t.BoundViewFactory=t.ViewSlot=t.View=t.ViewResources=t.ShadowDOM=t.ShadowSlot=t.PassThroughSlot=t.SlotCustomAttribute=t.BindingLanguage=t.ViewLocator=t.InlineViewStrategy=t.TemplateRegistryViewStrategy=t.NoViewStrategy=t.ConventionalViewStrategy=t.RelativeViewStrategy=t.viewStrategy=t.TargetInstruction=t.BehaviorInstruction=t.ViewCompileInstruction=t.ResourceLoadContext=t.ElementEvents=t.ViewEngineHooksResource=t.CompositionTransaction=t.CompositionTransactionOwnershipToken=t.CompositionTransactionNotifier=t.Animator=t.animationEvent=void 0;var r,s,a,u,l,c,h,d,p,f,m,v,g,_,y,b,w,k,x,C,E=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t._hyphenate=V,t._isAllWhitespace=q,t.viewEngineHooks=function(t){var e=function(t){P.metadata.define(P.metadata.resource,new H,t)};return t?e(t):e},t.children=function(t){return Ht(t,!0)},t.child=function(t){return Ht(t,!1)},t.resource=function(e){return function(t){P.metadata.define(P.metadata.resource,e,t)}},t.behavior=function(i){return function(t){if(i instanceof qt)P.metadata.define(P.metadata.resource,i,t);else{var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);Object.assign(e,i)}}},t.customElement=function(i){return function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.elementName=te(i,"custom element")}},t.customAttribute=function(i,n,o){return function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.attributeName=te(i,"custom attribute"),e.attributeDefaultBindingMode=n,e.aliases=o}},t.templateController=function(t){var e=function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.liftsContent=!0};return t?e(t):e},t.bindable=function(r,t,e){var i=function(t,e,i){var n=e?t.constructor:t,o=P.metadata.getOrCreateOwn(P.metadata.resource,qt,n);return e&&((r=r||{}).name=e),new Dt(r).registerWith(n,o,i)};if(!r)return i;if(t){var n=r;return r=null,i(n,t,e)}return i},t.dynamicOptions=function(t){var e=function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.hasDynamicOptions=!0};return t?e(t):e},t.useShadowDOM=function(t){var i="function"!=typeof t&&t?t:ee,e=function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.targetShadowDOM=!0,e.shadowDOMOptions=i};return"function"==typeof t?e(t):e},t.processAttributes=function(r){return function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.processAttributes=function(t,e,i,n,o){try{r(t,e,i,n,o)}catch(t){S.getLogger("templating").error(t)}}}},t.processContent=function(o){return function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.processContent=o?function(t,e,i,n){try{return o(t,e,i,n)}catch(t){return S.getLogger("templating").error(t),!1}}:ie}},t.containerless=function(t){var e=function(t){var e=P.metadata.getOrCreateOwn(P.metadata.resource,qt,t);e.containerless=!0};return t?e(t):e},t.useViewStrategy=ne,t.useView=function(t){return ne(new K(t))},t.inlineView=function(t,e,i){return ne(new et(t,e,i))},t.noView=function(t,e){var i=void 0,n=void 0;"function"==typeof t?i=t:(n=t,i=void 0);var o=function(t){P.metadata.define(it.viewStrategyMetadataKey,new J(n,e),t)};return i?o(i):o},t.elementConfig=function(t){var e=function(t){P.metadata.define(P.metadata.resource,new Jt,t)};return t?e(t):e},t.viewResources=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){P.metadata.define(jt.viewModelRequireMetadataKey,e,t)}};var S=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),P=e("aurelia-metadata"),T=e("aurelia-pal"),A=e("aurelia-path"),O=e("aurelia-loader"),M=e("aurelia-dependency-injection"),I=e("aurelia-binding"),j=e("aurelia-task-queue");t.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"};var N=t.Animator=function(){function t(){}return t.prototype.enter=function(t){return Promise.resolve(!1)},t.prototype.leave=function(t){return Promise.resolve(!1)},t.prototype.removeClass=function(t,e){return t.classList.remove(e),Promise.resolve(!1)},t.prototype.addClass=function(t,e){return t.classList.add(e),Promise.resolve(!1)},t.prototype.animate=function(t,e){return Promise.resolve(!1)},t.prototype.runSequence=function(t){},t.prototype.registerEffect=function(t,e){},t.prototype.unregisterEffect=function(t){},t}(),R=t.CompositionTransactionNotifier=function(){function t(t){this.owner=t,this.owner._compositionCount++}return t.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},t}(),B=t.CompositionTransactionOwnershipToken=function(){function t(t){this.owner=t,(this.owner._ownershipToken=this).thenable=this._createThenable()}return t.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},t.prototype.resolve=function(){this._resolveCallback()},t.prototype._createThenable=function(){var i=this;return new Promise(function(t,e){i._resolveCallback=t})},t}(),D=t.CompositionTransaction=function(){function t(){this._ownershipToken=null,this._compositionCount=0}return t.prototype.tryCapture=function(){return null===this._ownershipToken?new B(this):null},t.prototype.enlist=function(){return new R(this)},t.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var t=this._ownershipToken;this._ownershipToken=null,t.resolve()}},t}(),z=/([A-Z])/g;function F(t){return"-"+t.toLowerCase()}function V(t){return(t.charAt(0).toLowerCase()+t.slice(1)).replace(z,F)}function q(t){return!(t.auInterpolationTarget||/[^\t\n\r ]/.test(t.textContent))}var H=t.ViewEngineHooksResource=function(){function e(){}return e.prototype.initialize=function(t,e){this.instance=t.get(e)},e.prototype.register=function(t,e){t.registerViewEngineHooks(this.instance)},e.prototype.load=function(t,e){},e.convention=function(t){if(t.endsWith("ViewEngineHooks"))return new e},e}();var U=t.ElementEvents=function(){function t(t){this.element=t,this.subscriptions={}}return t.prototype._enqueueHandler=function(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[],this.subscriptions[t.eventName].push(t)},t.prototype._dequeueHandler=function(t){var e=void 0,i=this.subscriptions[t.eventName];return i&&-1<(e=i.indexOf(t))&&i.splice(e,1),t},t.prototype.publish=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=T.DOM.createCustomEvent(t,{cancelable:n,bubbles:i,detail:e});this.element.dispatchEvent(o)},t.prototype.subscribe=function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if("function"==typeof e)return new Z(this,t,e,i,!1)},t.prototype.subscribeOnce=function(t,e){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if("function"==typeof e)return new Z(this,t,e,i,!0)},t.prototype.dispose=function(t){if(t&&"string"==typeof t){var e=this.subscriptions[t];if(e)for(;e.length;){var i=e.pop();i&&i.dispose()}}else this.disposeAll()},t.prototype.disposeAll=function(){for(var t in this.subscriptions)this.dispose(t)},t}(),Z=function(){function t(t,e,i,n,o){this.owner=t,this.eventName=e,this.handler=i,this.capture="boolean"==typeof n?n:n.capture,this.bubbles=!this.capture,this.captureOrOptions=n,this.once=o,t.element.addEventListener(e,this,n),t._enqueueHandler(this)}return t.prototype.handleEvent=function(t){(0,this.handler)(t),this.once&&this.dispose()},t.prototype.dispose=function(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions),this.owner._dequeueHandler(this),this.owner=this.handler=null},t}(),W=t.ResourceLoadContext=function(){function t(){this.dependencies={}}return t.prototype.addDependency=function(t){this.dependencies[t]=!0},t.prototype.hasDependency=function(t){return t in this.dependencies},t}(),G=t.ViewCompileInstruction=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=t,this.compileSurrogate=e,this.associatedModuleId=null};G.normal=new G;var X=t.BehaviorInstruction=function(){function o(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return o.enhance=function(){var t=new o;return t.enhance=!0,t},o.unitTest=function(t,e){var i=new o;return i.type=t,i.attributes=e||{},i},o.element=function(t,e){var i=new o;return i.type=e,i.attributes={},i.anchorIsContainer=!(t.hasAttribute("containerless")||e.containerless),i.initiatedByBehavior=!0,i},o.attribute=function(t,e){var i=new o;return i.attrName=t,i.type=e||null,i.attributes={},i},o.dynamic=function(t,e,i){var n=new o;return n.host=t,n.viewModel=e,n.viewFactory=i,n.inheritBindingContext=!0,n},o}();X.normal=new X;var Y=t.TargetInstruction=(s=r=function(){function a(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return a.shadowSlot=function(t){var e=new a;return e.parentInjectorId=t,e.shadowSlot=!0,e},a.contentExpression=function(t){var e=new a;return e.contentExpression=t,e},a.lifting=function(t,e){var i=new a;return i.parentInjectorId=t,i.expressions=a.noExpressions,i.behaviorInstructions=[e],i.viewFactory=e.viewFactory,i.providers=[e.type.target],i.lifting=!0,i},a.normal=function(t,e,i,n,o,r){var s=new a;return s.injectorId=t,s.parentInjectorId=e,s.providers=i,s.behaviorInstructions=n,s.expressions=o,s.anchorIsContainer=!r||r.anchorIsContainer,s.elementInstruction=r,s},a.surrogate=function(t,e,i,n){var o=new a;return o.expressions=i,o.behaviorInstructions=e,o.providers=t,o.values=n,o},a}(),r.noExpressions=Object.freeze([]),s),$=t.viewStrategy=P.protocol.create("aurelia:view-strategy",{validate:function(t){return"function"==typeof t.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(t){"function"!=typeof t.makeRelativeTo&&(t.makeRelativeTo=T.PLATFORM.noop)}}),K=t.RelativeViewStrategy=$()(a=function(){function t(t){this.path=t,this.absolutePath=null}return t.prototype.loadViewFactory=function(t,e,i,n){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,A.relativeToFile)(this.path,this.moduleId)),e.associatedModuleId=this.moduleId,t.loadViewFactory(this.absolutePath||this.path,e,i,n)},t.prototype.makeRelativeTo=function(t){null===this.absolutePath&&(this.absolutePath=(0,A.relativeToFile)(this.path,t))},t}())||a,Q=t.ConventionalViewStrategy=$()(u=function(){function t(t,e){this.moduleId=e.moduleId,this.viewUrl=t.convertOriginToViewUrl(e)}return t.prototype.loadViewFactory=function(t,e,i,n){return e.associatedModuleId=this.moduleId,t.loadViewFactory(this.viewUrl,e,i,n)},t}())||u,J=t.NoViewStrategy=$()(l=function(){function t(t,e){this.dependencies=t||null,this.dependencyBaseUrl=e||""}return t.prototype.loadViewFactory=function(t,e,i,n){var o=this.entry,r=this.dependencies;if(o&&o.factoryIsReady)return Promise.resolve(null);if(this.entry=o=new O.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),o.dependencies=[],o.templateIsLoaded=!0,null!==r)for(var s=0,a=r.length;s<a;++s){var u=r[s];"string"==typeof u||"function"==typeof u?o.addDependency(u):o.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(o,e,i,n)},t}())||l,tt=t.TemplateRegistryViewStrategy=$()(c=function(){function t(t,e){this.moduleId=t,this.entry=e}return t.prototype.loadViewFactory=function(t,e,i,n){var o=this.entry;return o.factoryIsReady?Promise.resolve(o.factory):(e.associatedModuleId=this.moduleId,t.loadViewFactory(o,e,i,n))},t}())||c,et=t.InlineViewStrategy=$()(h=function(){function t(t,e,i){this.markup=t,this.dependencies=e||null,this.dependencyBaseUrl=i||""}return t.prototype.loadViewFactory=function(t,e,i,n){var o=this.entry,r=this.dependencies;if(o&&o.factoryIsReady)return Promise.resolve(o.factory);if(this.entry=o=new O.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),o.template=T.DOM.createTemplateFromMarkup(this.markup),null!==r)for(var s=0,a=r.length;s<a;++s){var u=r[s];"string"==typeof u||"function"==typeof u?o.addDependency(u):o.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(o,e,i,n)},t}())||h,it=t.ViewLocator=(p=d=function(){function o(){}return o.prototype.getViewStrategy=function(t){if(!t)return null;if("object"===(void 0===t?"undefined":L(t))&&"getViewStrategy"in t){var e=P.Origin.get(t.constructor);return"string"==typeof(t=t.getViewStrategy())&&(t=new K(t)),$.assert(t),e.moduleId&&t.makeRelativeTo(e.moduleId),t}if("string"==typeof t&&(t=new K(t)),$.validate(t))return t;"function"!=typeof t&&(t=t.constructor);var i=P.Origin.get(t),n=P.metadata.get(o.viewStrategyMetadataKey,t);if(n)i.moduleId&&(n.moduleId=i.moduleId);else{if(!i.moduleId)throw new Error("Cannot determine default view strategy for object.",t);n=this.createFallbackViewStrategy(i)}return n},o.prototype.createFallbackViewStrategy=function(t){return new Q(this,t)},o.prototype.convertOriginToViewUrl=function(t){var e=t.moduleId;return(e.endsWith(".js")||e.endsWith(".ts")?e.substring(0,e.length-3):e)+".html"},o}(),d.viewStrategyMetadataKey="aurelia:view-strategy",p);function nt(t){throw new Error("BindingLanguage must implement "+t+"().")}var ot=t.BindingLanguage=function(){function t(){}return t.prototype.inspectAttribute=function(t,e,i,n){nt("inspectAttribute")},t.prototype.createAttributeInstruction=function(t,e,i,n){nt("createAttributeInstruction")},t.prototype.inspectTextContent=function(t,e){nt("inspectTextContent")},t}(),rt=Object.freeze([]),st=t.SlotCustomAttribute=(0,M.inject)(T.DOM.Element)(f=function(){function t(t){this.element=t,this.element.auSlotAttribute=this}return t.prototype.valueChanged=function(t,e){},t}())||f,at=t.PassThroughSlot=function(){function o(t,e,i,n){this.anchor=t,(this.anchor.viewSlot=this).name=e,this.destinationName=i,this.fallbackFactory=n,this.destinationSlot=null,this.projections=0,this.contentView=null,new st(this.anchor).value=this.destinationName}return o.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var o=Object.create(null);o[this.destinationSlot.name]=this.destinationSlot,lt.distributeView(this.contentView,o,i,n,this.destinationSlot.name)}},o.prototype.passThroughTo=function(t){this.destinationSlot=t},o.prototype.addNode=function(t,e,i,n){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof o?e.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(t,e,i,n))},o.prototype.removeView=function(t,e){this.projections--,this.destinationSlot.removeView(t,e),this.needsFallbackRendering&&this.renderFallbackContent(null,rt,e)},o.prototype.removeAll=function(t){this.projections=0,this.destinationSlot.removeAll(t),this.needsFallbackRendering&&this.renderFallbackContent(null,rt,t)},o.prototype.projectFrom=function(t,e){this.destinationSlot.projectFrom(t,e)},o.prototype.created=function(t){this.ownerView=t},o.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},o.prototype.attached=function(){this.contentView&&this.contentView.attached()},o.prototype.detached=function(){this.contentView&&this.contentView.detached()},o.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},E(o,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),o}(),ut=t.ShadowSlot=function(){function t(t,e,i){this.anchor=t,this.anchor.isContentProjectionSource=!0,(this.anchor.viewSlot=this).name=e,this.fallbackFactory=i,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return t.prototype.addNode=function(t,e,i,n,o){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof at)e.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)lt.distributeNodes(t,[e],this.destinationSlots,this,n);else{e.auOwnerView=t,e.auProjectionSource=i;var r=(e.auAssignedSlot=this)._findAnchor(t,e,i,n);r.parentNode.insertBefore(e,r),this.children.push(e),this.projections++}},t.prototype.removeView=function(t,e){if(null!==this.destinationSlots)lt.undistributeView(t,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)lt.undistributeView(t,this.contentView.slots,e);else{var i=this.children.find(function(t){return t.auSlotProjectFrom===e});if(i){for(var n=i.auProjectionChildren,o=0,r=n.length;o<r;++o){var s=n[o];s.auOwnerView===t&&(n.splice(o,1),t.fragment.appendChild(s),o--,r--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(t,rt,e)}}},t.prototype.removeAll=function(e){if(null!==this.destinationSlots)lt.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)lt.undistributeAll(this.contentView.slots,e);else{var t=this.children.find(function(t){return t.auSlotProjectFrom===e});if(t){for(var i=t.auProjectionChildren,n=0,o=i.length;n<o;++n){var r=i[n];r.auOwnerView.fragment.appendChild(r),this.projections--}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,rt,e)}}},t.prototype._findAnchor=function(t,e,i,n){if(i){var o=this.children.find(function(t){return t.auSlotProjectFrom===i});if(o){if(void 0!==n)for(var r=o.auProjectionChildren,s=-1,a=void 0,u=0,l=r.length;u<l;++u){var c=r[u];if(c.auOwnerView!==a&&(s++,a=c.auOwnerView,n<=s&&a!==t))return r.splice(u,0,e),c}return o.auProjectionChildren.push(e),o}}return this.anchor},t.prototype.projectTo=function(t){this.destinationSlots=t},t.prototype.projectFrom=function(t,e){var i=T.DOM.createComment("anchor"),n=this.anchor.parentNode;i.auSlotProjectFrom=e,i.auOwnerView=t,i.auProjectionChildren=[],n.insertBefore(i,this.anchor),this.children.push(i),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(i)},t.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var o=this.contentView.slots,r=this.projectFromAnchors;if(null!==r)for(var s in o)for(var a=o[s],u=0,l=r.length;u<l;++u){var c=r[u];a.projectFrom(c.auOwnerView,c.auSlotProjectFrom)}this.fallbackSlots=o,lt.distributeNodes(t,e,o,i,n)}},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},E(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),lt=t.ShadowDOM=(v=m=function(){function f(){}return f.getSlotName=function(t){return void 0===t.auSlotAttribute?f.defaultSlotKey:t.auSlotAttribute.value},f.distributeView=function(t,e,i,n,o){var r=void 0;if(null===t)r=rt;else{var s=t.fragment.childNodes,a=s.length;r=new Array(a);for(var u=0;u<a;++u)r[u]=s[u]}f.distributeNodes(t,r,e,i,n,o)},f.undistributeView=function(t,e,i){for(var n in e)e[n].removeView(t,i)},f.undistributeAll=function(t,e){for(var i in t)t[i].removeAll(e)},f.distributeNodes=function(t,e,i,n,o,r){for(var s=0,a=e.length;s<a;++s){var u=e[s],l=u.nodeType;if(u.isContentProjectionSource){for(var c in u.viewSlot.projectTo(i),i)i[c].projectFrom(t,u.viewSlot);e.splice(s,1),a--,s--}else if(1===l||3===l||u.viewSlot instanceof at)if(3===l&&q(u))e.splice(s,1),a--,s--;else{var h=i[r||f.getSlotName(u)];h&&(h.addNode(t,u,n,o),e.splice(s,1),a--,s--)}else e.splice(s,1),a--,s--}for(var d in i){var p=i[d];p.needsFallbackRendering&&p.renderFallbackContent(t,e,n,o)}},f}(),m.defaultSlotKey="__au-default-slot-key__",v);function ct(t,e,i,n){if(e){var o=t[e];if(o){if(o!==i)throw new Error("Attempted to register "+n+" when one with the same name already exists. Name: "+e+".")}else t[e]=i}}var ht=t.ViewResources=function(){function t(t,e){this.bindingLanguage=null,this.parent=t||null,this.hasParent=null!==this.parent,this.viewUrl=e||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return t.prototype._tryAddHook=function(t,e){if("function"==typeof t[e]){for(var i=t[e].bind(t),n=1,o=void 0;void 0!==this[o=e+n.toString()];)n++;this[e]=!0,this[o]=i}},t.prototype._invokeHook=function(t,e,i,n,o){if(this.hasParent&&this.parent._invokeHook(t,e,i,n,o),this[t]){this[t+"1"](e,i,n,o);var r=t+"2";if(this[r]&&(this[r](e,i,n,o),this[r=t+"3"])){this[r](e,i,n,o);for(var s=4;void 0!==this[r=t+s.toString()];)this[r](e,i,n,o),s++}}},t.prototype.registerViewEngineHooks=function(t){this._tryAddHook(t,"beforeCompile"),this._tryAddHook(t,"afterCompile"),this._tryAddHook(t,"beforeCreate"),this._tryAddHook(t,"afterCreate"),this._tryAddHook(t,"beforeBind"),this._tryAddHook(t,"beforeUnbind")},t.prototype.getBindingLanguage=function(t){return this.bindingLanguage||(this.bindingLanguage=t)},t.prototype.patchInParent=function(t){var e=this.parent;this.parent=t||null,this.hasParent=null!==this.parent,null===t.parent&&(t.parent=e,t.hasParent=null!==e)},t.prototype.relativeToView=function(t){return(0,A.relativeToFile)(t,this.viewUrl)},t.prototype.registerElement=function(t,e){ct(this.elements,t,e,"an Element")},t.prototype.getElement=function(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)},t.prototype.mapAttribute=function(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)},t.prototype.registerAttribute=function(t,e,i){this.attributeMap[t]=i,ct(this.attributes,t,e,"an Attribute")},t.prototype.getAttribute=function(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)},t.prototype.registerValueConverter=function(t,e){ct(this.valueConverters,t,e,"a ValueConverter")},t.prototype.getValueConverter=function(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)},t.prototype.registerBindingBehavior=function(t,e){ct(this.bindingBehaviors,t,e,"a BindingBehavior")},t.prototype.getBindingBehavior=function(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)},t.prototype.registerValue=function(t,e){ct(this.values,t,e,"a value")},t.prototype.getValue=function(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)},t}(),dt=t.View=function(){function t(t,e,i,n,o,r,s){for(var a in this.container=t,this.viewFactory=e,this.resources=e.resources,this.fragment=i,this.firstChild=i.firstChild,this.lastChild=i.lastChild,this.controllers=n,this.bindings=o,this.children=r,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,s){this.hasSlots=!0;break}}return t.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},t.prototype.created=function(){var t,e=void 0,i=this.controllers;for(e=0,t=i.length;e<t;++e)i[e].created(this)},t.prototype.bind=function(t,e,i){var n=void 0,o=void 0,r=void 0,s=void 0,a=void 0;if(!i||!this._isUserControlled){if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t,this.overrideContext=e||(0,I.createOverrideContext)(t),this.resources._invokeHook("beforeBind",this),s=0,a=(o=this.bindings).length;s<a;++s)o[s].bind(this);for(null!==this.viewModelScope&&(t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),s=0,a=(n=this.controllers).length;s<a;++s)n[s].bind(this);for(s=0,a=(r=this.children).length;s<a;++s)r[s].bind(t,e,!0);this.hasSlots&&lt.distributeView(this.contentView,this.slots)}},t.prototype.addBinding=function(t){this.bindings.push(t),this.isBound&&t.bind(this)},t.prototype.unbind=function(){var t=void 0,e=void 0,i=void 0,n=void 0,o=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),n=0,o=(e=this.bindings).length;n<o;++n)e[n].unbind();for(n=0,o=(t=this.controllers).length;n<o;++n)t[n].unbind();for(n=0,o=(i=this.children).length;n<o;++n)i[n].unbind();this.bindingContext=null,this.overrideContext=null}},t.prototype.insertNodesBefore=function(t){t.parentNode.insertBefore(this.fragment,t)},t.prototype.appendNodesTo=function(t){t.appendChild(this.fragment)},t.prototype.removeNodes=function(){for(var t=this.fragment,e=this.firstChild,i=this.lastChild,n=void 0;e&&(n=e.nextSibling,t.appendChild(e),e!==i);)e=n},t.prototype.attached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),i=0,n=(t=this.controllers).length;i<n;++i)t[i].attached();for(i=0,n=(e=this.children).length;i<n;++i)e[i].attached()}},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),i=0,n=(t=this.controllers).length;i<n;++i)t[i].detached();for(i=0,n=(e=this.children).length;i<n;++i)e[i].detached()}},t}();var pt=t.ViewSlot=function(){function t(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:N.instance;this.anchor=t,this.anchorIsContainer=e,this.bindingContext=null,this.overrideContext=null,this.animator=i,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,t.viewSlot=this,t.isContentProjectionSource=!1}return t.prototype.animateView=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"enter",i=function(t){if(void 0!==t.animatableElement)return t.animatableElement;for(var e=t.firstChild;e&&1!==e.nodeType;)e=e.nextSibling;return e&&1===e.nodeType?t.animatableElement=e.classList.contains("au-animate")?e:null:t.animatableElement=null}(t);if(null!==i)switch(e){case"enter":return this.animator.enter(i);case"leave":return this.animator.leave(i);default:throw new Error("Invalid animation direction: "+e)}},t.prototype.transformChildNodesIntoView=function(){var e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache:function(){},removeNodes:function(){for(var t=void 0;t=e.lastChild;)e.removeChild(t)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},t.prototype.bind=function(t,e){var i,n=void 0,o=void 0;if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t=t||this.bindingContext,this.overrideContext=e=e||this.overrideContext,n=0,i=(o=this.children).length;n<i;++n)o[n].bind(t,e,!0)},t.prototype.unbind=function(){if(this.isBound){var t,e=void 0,i=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=i.length;e<t;++e)i[e].unbind()}},t.prototype.add=function(t){if(this.anchorIsContainer?t.appendNodesTo(this.anchor):t.insertNodesBefore(this.anchor),this.children.push(t),this.isAttached)return t.attached(),this.animateView(t,"enter")},t.prototype.insert=function(t,e){var i=this.children,n=i.length;return 0===t&&0===n||n<=t?this.add(e):(e.insertNodesBefore(i[t].firstChild),i.splice(t,0,e),this.isAttached?(e.attached(),this.animateView(e,"enter")):void 0)},t.prototype.move=function(t,e){if(t!==e){var i=this.children,n=i[t];n.removeNodes(),n.insertNodesBefore(i[e].firstChild),i.splice(t,1),i.splice(e,0,n)}},t.prototype.remove=function(t,e,i){return this.removeAt(this.children.indexOf(t),e,i)},t.prototype.removeMany=function(e,i,n){var o=this,r=this.children,s=e.length,a=void 0,u=[];e.forEach(function(t){if(n)t.removeNodes();else{var e=o.animateView(t,"leave");e?u.push(e.then(function(){return t.removeNodes()})):t.removeNodes()}});var t=function(){if(o.isAttached)for(a=0;a<s;++a)e[a].detached();if(i)for(a=0;a<s;++a)e[a].returnToCache();for(a=0;a<s;++a){var t=r.indexOf(e[a]);0<=t&&r.splice(t,1)}};return 0<u.length?Promise.all(u).then(function(){return t()}):t()},t.prototype.removeAt=function(t,e,i){var n=this,o=this.children[t],r=function(){return t=n.children.indexOf(o),o.removeNodes(),n.children.splice(t,1),n.isAttached&&o.detached(),e&&o.returnToCache(),o};if(!i){var s=this.animateView(o,"leave");if(s)return s.then(function(){return r()})}return r()},t.prototype.removeAll=function(e,i){var n=this,o=this.children,r=o.length,s=void 0,a=[];o.forEach(function(t){if(i)t.removeNodes();else{var e=n.animateView(t,"leave");e?a.push(e.then(function(){return t.removeNodes()})):t.removeNodes()}});var t=function(){if(n.isAttached)for(s=0;s<r;++s)o[s].detached();if(e)for(s=0;s<r;++s){var t=o[s];t&&t.returnToCache()}n.children=[]};return 0<a.length?Promise.all(a).then(function(){return t()}):t()},t.prototype.attached=function(){var t,e,i=void 0,n=void 0;if(!this.isAttached)for(this.isAttached=!0,i=0,t=(e=this.children).length;i<t;++i)(n=e[i]).attached(),this.animateView(n,"enter")},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0;if(this.isAttached)for(this.isAttached=!1,t=0,e=(i=this.children).length;t<e;++t)i[t].detached()},t.prototype.projectTo=function(e){var i=this;this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(t){return lt.distributeView(t,e,i)})},t.prototype._projectionAdd=function(t){lt.distributeView(t,this.projectToSlots,this),this.children.push(t),this.isAttached&&t.attached()},t.prototype._projectionInsert=function(t,e){0===t&&!this.children.length||t>=this.children.length?this.add(e):(lt.distributeView(e,this.projectToSlots,this,t),this.children.splice(t,0,e),this.isAttached&&e.attached())},t.prototype._projectionMove=function(t,e){if(t!==e){var i=this.children,n=i[t];lt.undistributeView(n,this.projectToSlots,this),lt.distributeView(n,this.projectToSlots,this,e),i.splice(t,1),i.splice(e,0,n)}},t.prototype._projectionRemove=function(t,e){lt.undistributeView(t,this.projectToSlots,this),this.children.splice(this.children.indexOf(t),1),this.isAttached&&t.detached()},t.prototype._projectionRemoveAt=function(t,e){var i=this.children[t];lt.undistributeView(i,this.projectToSlots,this),this.children.splice(t,1),this.isAttached&&i.detached()},t.prototype._projectionRemoveMany=function(t,e){var i=this;t.forEach(function(t){return i.remove(t,e)})},t.prototype._projectionRemoveAll=function(t){lt.undistributeAll(this.projectToSlots,this);var e=this.children;if(this.isAttached)for(var i=0,n=e.length;i<n;++i)e[i].detached();this.children=[]},t}(),ft=new((0,M.resolver)(g=function(){function t(){}return t.prototype.get=function(t,e){var i=e.__providerId__;return i in t?t[i]:t[i]=t.invoke(e)},t}())||g);function mt(t){if(t===T.DOM.Element)return this.element;if(t===kt){if(this.boundViewFactory)return this.boundViewFactory;var e=this.instruction.viewFactory,i=this.partReplacements;return i&&(e=i[e.part]||e),this.boundViewFactory=new kt(this,e,i),this.boundViewFactory}return t===pt?(void 0===this.viewSlot&&(this.viewSlot=new pt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):t===U?this.elementEvents||(this.elementEvents=new U(this.element)):t===D?this.compositionTransaction||(this.compositionTransaction=this.parent.get(t)):t===ht?this.viewResources:t===Y?this.instruction:this.superGet(t)}function vt(t){return this._element.hasAttribute(t)}function gt(t){return this._element.getAttribute(t)}function _t(t,e){this._element.setAttribute(t,e)}function yt(t,e,i,n,o,r,s,a,u){var l=i.behaviorInstructions,c=i.expressions,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;if(i.contentExpression)return o.push(i.contentExpression.createBinding(e.nextSibling)),e.nextSibling.auInterpolationTarget=!0,void e.parentNode.removeChild(e);if(i.shadowSlot){var v=T.DOM.createComment("slot"),g=void 0;return g=i.slotDestination?new at(v,i.slotName,i.slotDestination,i.slotFallbackFactory):new ut(v,i.slotName,i.slotFallbackFactory),T.DOM.replaceNode(v,e),s[i.slotName]=g,void n.push(g)}if(l.length)for(i.anchorIsContainer||(e=function(t,e){var i=T.DOM.createComment("anchor");if(e){var n=t.firstChild;n&&"AU-CONTENT"===n.tagName&&(i.contentElement=n),i._element=t,i.hasAttribute=vt,i.getAttribute=gt,i.setAttribute=_t}return T.DOM.replaceNode(i,t),i}(e,i.elementInstruction)),t[i.injectorId]=h=function(t,e,i,n,o,r){var s,a=t.createChild(),u=void 0;for(a.element=e,a.instruction=i,a.children=n,a.viewResources=r,a.partReplacements=o,u=(s=i.providers).length;u--;)a._resolvers.set(s[u],ft);return a.superGet=a.get,a.get=mt,a}(t[i.parentInjectorId],e,i,r,a,u),d=0,p=l.length;d<p;++d)m=(f=l[d]).type.create(h,f,e,o),n.push(m);for(d=0,p=c.length;d<p;++d)o.push(c[d].createBinding(e))}function bt(t,e){var i=t.split(";"),n=void 0,o=void 0,r=void 0,s=void 0,a=void 0;for(e=e||{},o=0;o<i.length;o++)n=(r=i[o]).indexOf(":"),s=r.substring(0,n).trim(),a=r.substring(n+1).trim(),e[s]=a;return e}function wt(t){var e="";for(var i in t)e+=i+":"+t[i]+";";return e}var kt=t.BoundViewFactory=function(){function t(t,e,i){this.parentContainer=t,this.viewFactory=e,this.factoryCreateInstruction={partReplacements:i}}return t.prototype.create=function(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return t._isUserControlled=!0,t},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},E(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),xt=t.ViewFactory=function(){function t(t,e,i){this.isCaching=!1,this.template=t,this.instructions=e,this.resources=i,this.cacheSize=-1,this.cache=null}return t.prototype.setCacheSize=function(t,e){t&&("*"===t?t=Number.MAX_VALUE:"string"==typeof t&&(t=parseInt(t,10))),-1!==this.cacheSize&&e||(this.cacheSize=t),0<this.cacheSize?this.cache=[]:this.cache=null,this.isCaching=0<this.cacheSize},t.prototype.getCachedView=function(){return null!==this.cache&&this.cache.pop()||null},t.prototype.returnViewToCache=function(t){t.isAttached&&t.detached(),t.isBound&&t.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(t.fromCache=!0,this.cache.push(t))},t.prototype.create=function(t,e,i){e=e||X.normal;var n=this.getCachedView();if(null!==n)return n;var o,r=e.enhance?this.template:this.template.cloneNode(!0),s=r.querySelectorAll(".au-target"),a=this.instructions,u=this.resources,l=[],c=[],h=[],d=Object.create(null),p={root:t},f=e.partReplacements,m=void 0,v=void 0,g=void 0;for(this.resources._invokeHook("beforeCreate",this,t,r,e),i&&null!==this.surrogateInstruction&&function(t,e,i,n,o,r){var s=i.behaviorInstructions,a=i.expressions,u=i.providers,l=i.values,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(c=u.length;c--;)t._resolvers.set(u[c],ft);for(var m in l)if(f=e.getAttribute(m)){if("class"===m)e.setAttribute("class",f+" "+l[m]);else if("style"===m){var v=bt(l[m]);bt(f,v),e.setAttribute("style",wt(v))}}else e.setAttribute(m,l[m]);if(s.length)for(c=0,h=s.length;c<h;++c)(p=(d=s[c]).type.create(t,d,e,o)).contentView&&r.push(p.contentView),n.push(p);for(c=0,h=a.length;c<h;++c)o.push(a[c].createBinding(e))}(t,i,this.surrogateInstruction,l,c,h),e.enhance&&r.hasAttribute("au-target-id")&&yt(p,g=r,a[g.getAttribute("au-target-id")],l,c,h,d,f,u),m=0,o=s.length;m<o;++m)yt(p,g=s[m],a[g.getAttribute("au-target-id")],l,c,h,d,f,u);return v=new dt(t,this,r,l,c,h,d),e.initiatedByBehavior||v.created(),this.resources._invokeHook("afterCreate",v),v},t}(),Ct=0;var Et=0;function Lt(t){var e=t.getAttribute("class"),i=(++Et).toString();return t.setAttribute("class",e?e+" au-target":"au-target"),t.setAttribute("au-target-id",i),i}var St=t.ViewCompiler=(0,M.inject)(ot,ht)(_=function(){function t(t,e){this.bindingLanguage=t,this.resources=e}return t.prototype.compile=function(t,e,i){e=e||this.resources,i=i||G.normal;var n=void 0,o=void 0,r=void 0;(t="string"==typeof t?T.DOM.createTemplateFromMarkup(t):t).content?(o=t.getAttribute("part"),r=t.getAttribute("view-cache"),n=T.DOM.adoptNode(t.content)):n=t,i.targetShadowDOM=i.targetShadowDOM&&T.FEATURE.shadowDOM,e._invokeHook("beforeCompile",n,e,i);var s={};this._compileNode(n,e,s,t,"root",!i.targetShadowDOM);var a=n.firstChild;if(a&&1===a.nodeType){var u=a.getAttribute("au-target-id");if(u){var l=s[u];(l.shadowSlot||l.lifting||l.elementInstruction&&!l.elementInstruction.anchorIsContainer)&&n.insertBefore(T.DOM.createComment("view"),a)}}var c=new xt(n,s,e);return c.surrogateInstruction=i.compileSurrogate?this._compileSurrogate(t,e):null,c.part=o,r&&c.setCacheSize(r),e._invokeHook("afterCompile",c),c},t.prototype._compileNode=function(t,e,i,n,o,r){switch(t.nodeType){case 1:return this._compileElement(t,e,i,n,o,r);case 3:var s=e.getBindingLanguage(this.bindingLanguage).inspectTextContent(e,t.wholeText);if(s){var a=T.DOM.createElement("au-marker"),u=Lt(a);for((t.parentNode||n).insertBefore(a,t),t.textContent=" ",i[u]=Y.contentExpression(s);t.nextSibling&&3===t.nextSibling.nodeType;)(t.parentNode||n).removeChild(t.nextSibling)}else for(;t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t.nextSibling;case 11:for(var l=t.firstChild;l;)l=this._compileNode(l,e,i,t,o,r)}return t.nextSibling},t.prototype._compileSurrogate=function(t,e){var i=t.tagName.toLowerCase(),n=t.attributes,o=e.getBindingLanguage(this.bindingLanguage),r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=[],v=void 0,g=[],_={},y=!1,b=[];for(u=0,l=n.length;u<l;++u){if(h=(c=n[u]).name,d=c.value,p=o.inspectAttribute(e,i,h,d),(f=e.getAttribute(p.attrName))&&(r=e.mapAttribute(p.attrName))&&(s=f.attributes[r])&&(p.defaultBindingMode=s.defaultBindingMode,p.command||p.expression||(p.command=s.hasOptions?"options":null),p.command&&"options"!==p.command&&f.primaryProperty)){var w=f.primaryProperty;h=p.attrName=w.attribute,p.defaultBindingMode=w.defaultBindingMode}if(a=o.createAttributeInstruction(e,t,p,void 0,f))if(a.alteredAttr&&(f=e.getAttribute(a.attrName)),a.discrete)m.push(a);else if(f){if(a.type=f,this._configureProperties(a,e),f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else m.push(a.attributes[a.attrName]);else if(f){if((a=X.attribute(h,f)).attributes[e.mapAttribute(h)]=d,f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(y=!0,_[h]=d)}if(m.length||g.length||y){for(u=0,l=g.length;u<l;++u)(a=g[u]).type.compile(this,e,t,a),b.push(a.type.target);for(u=0,l=m.length;u<l;++u)void 0!==(v=m[u]).attrToRemove&&t.removeAttribute(v.attrToRemove);return Y.surrogate(b,g,m,_)}return null},t.prototype._compileElement=function(t,e,i,n,o,r){var s=t.tagName.toLowerCase(),a=t.attributes,u=[],l=void 0,c=[],h=[],d=e.getBindingLanguage(this.bindingLanguage),p=void 0,f=void 0,m=void 0,v=void 0,g=void 0,_=void 0,y=void 0,b=void 0,w=void 0,k=void 0,x=void 0,C=void 0,E=void 0,L=void 0,S=void 0,P=void 0;if("slot"===s)return r&&(t=function(t,e,i,n,o){var r=T.DOM.createElement("au-shadow-slot");T.DOM.replaceNode(r,i);var s=Lt(r),a=Y.shadowSlot(o);if(a.slotName=i.getAttribute("name")||lt.defaultSlotKey,a.slotDestination=i.getAttribute("slot"),i.innerHTML.trim()){for(var u=T.DOM.createDocumentFragment(),l=void 0;l=i.firstChild;)u.appendChild(l);a.slotFallbackFactory=t.compile(u,e)}return n[s]=a,r}(this,e,t,i,o)),t.nextSibling;if("template"===s){if(!("content"in t))throw new Error("You cannot place a template element within "+t.namespaceURI+" namespace");(f=this.compile(t,e)).part=t.getAttribute("part")}else(m=e.getElement(t.getAttribute("as-element")||s))&&(v=X.element(t,m),m.processAttributes(this,e,t,a,v),c.push(v));for(_=0,y=a.length;_<y;++_){if(x=w=(b=a[_]).name,k=b.value,E=d.inspectAttribute(e,s,w,k),r&&"slot"===E.attrName&&(E.attrName=w="au-slot"),g=null,m=e.getAttribute(E.attrName)){if((S=e.mapAttribute(E.attrName))&&(L=m.attributes[S])&&(E.defaultBindingMode=L.defaultBindingMode,E.command||E.expression||(E.command=L.hasOptions?"options":null),E.command&&"options"!==E.command&&m.primaryProperty)){var A=m.primaryProperty;w=E.attrName=A.attribute,E.defaultBindingMode=A.defaultBindingMode}}else v&&(g=v.type.attributes[E.attrName])&&(E.defaultBindingMode=g.defaultBindingMode);if(C=g?d.createAttributeInstruction(e,t,E,v):d.createAttributeInstruction(e,t,E,void 0,m))if(C.alteredAttr&&(m=e.getAttribute(C.attrName)),C.discrete)u.push(C);else if(m){if(C.type=m,this._configureProperties(C,e),m.liftsContent){C.originalAttrName=x,p=C;break}c.push(C)}else g?v.attributes[E.attrName].targetProperty=g.name:u.push(C.attributes[C.attrName]);else if(m){if((C=X.attribute(w,m)).attributes[e.mapAttribute(w)]=k,m.liftsContent){C.originalAttrName=x,p=C;break}c.push(C)}else g&&(v.attributes[w]=k)}if(p)p.viewFactory=f,i[Lt(t=p.type.compile(this,e,t,p,n))]=Y.lifting(o,p);else{var O=!1;if(u.length||c.length){for(P=!!c.length&&++Ct,_=0,y=c.length;_<y;++_)(C=c[_]).type.compile(this,e,t,C,n),h.push(C.type.target),O=O||C.skipContentProcessing;for(_=0,y=u.length;_<y;++_)void 0!==(l=u[_]).attrToRemove&&t.removeAttribute(l.attrToRemove);i[Lt(t)]=Y.normal(P,o,h,c,u,v)}if(O)return t.nextSibling;for(var M=t.firstChild;M;)M=this._compileNode(M,e,i,t,P||o,r)}return t.nextSibling},t.prototype._configureProperties=function(t,e){var i=t.type,n=t.attrName,o=t.attributes,r=void 0,s=void 0,a=void 0,u=e.mapAttribute(n);for(s in u&&n in o&&u!==n&&(o[u]=o[n],delete o[n]),o)null!==(a=o[s])&&"object"===(void 0===a?"undefined":L(a))&&(r=i.attributes[s],a.targetProperty=void 0!==r?r.name:s)},t}())||_,Pt=t.ResourceModule=function(){function t(t){this.id=t,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return t.prototype.initialize=function(t){var e=this.mainResource,i=this.resources,n=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==e&&(e.metadata.viewStrategy=n,e.initialize(t));for(var o=0,r=i.length;o<r;++o)(e=i[o]).metadata.viewStrategy=n,e.initialize(t)}},t.prototype.register=function(t,e){var i=this.mainResource,n=this.resources;void 0!==i&&(i.register(t,e),e=null);for(var o=0,r=n.length;o<r;++o)n[o].register(t,e),e=null},t.prototype.load=function(t,e){if(null!==this.onLoaded)return this.loadContext===e?Promise.resolve():this.onLoaded;var i=this.mainResource,n=this.resources,o=void 0;if(void 0!==i){(o=new Array(n.length+1))[0]=i.load(t,e);for(var r=0,s=n.length;r<s;++r)o[r+1]=n[r].load(t,e)}else{o=new Array(n.length);for(var a=0,u=n.length;a<u;++a)o[a]=n[a].load(t,e)}return this.loadContext=e,this.onLoaded=Promise.all(o),this.onLoaded},t}(),At=t.ResourceDescription=function(){function t(t,e,i){i||(i=P.metadata.get(P.metadata.resource,e))||((i=new qt).elementName=V(t),P.metadata.define(P.metadata.resource,i,e)),i instanceof qt?void 0===i.elementName?i.elementName=V(t):void 0===i.attributeName?i.attributeName=V(t):null===i.attributeName&&null===i.elementName&&qt.convention(t,i):i.name||(i.name=V(t)),this.metadata=i,this.value=e}return t.prototype.initialize=function(t){this.metadata.initialize(t,this.value)},t.prototype.register=function(t,e){this.metadata.register(t,e)},t.prototype.load=function(t,e){return this.metadata.load(t,this.value,e)},t}(),Ot=t.ModuleAnalyzer=function(){function t(){this.cache=Object.create(null)}return t.prototype.getAnalysis=function(t){return this.cache[t]},t.prototype.analyze=function(t,e,i){var n=void 0,o=void 0,r=void 0,s=void 0,a=void 0,u=void 0,l=[],c=void 0,h=void 0,d=void 0;if(d=this.cache[t])return d;for(a in d=new Pt(t),this.cache[t]=d,"function"==typeof e&&(e={default:e}),i&&(n=new At(i,e[i])),e)u=e[a],a!==i&&"function"==typeof u&&((s=P.metadata.get(P.metadata.resource,u))?(null===s.attributeName&&null===s.elementName&&qt.convention(a,s),null===s.attributeName&&null===s.elementName&&(s.elementName=V(a)),!n&&s instanceof qt&&null!==s.elementName?n=new At(a,u,s):l.push(new At(a,u,s))):$.decorates(u)?h=u:u instanceof O.TemplateRegistryEntry?h=new tt(t,u):(c=qt.convention(a))?(null===c.elementName||n?l.push(new At(a,u,c)):n=new At(a,u,c),P.metadata.define(P.metadata.resource,c,u)):(c=I.ValueConverterResource.convention(a)||I.BindingBehaviorResource.convention(a)||H.convention(a))?(l.push(new At(a,u,c)),P.metadata.define(P.metadata.resource,c,u)):o||(o=u,r=a));return!n&&o&&(n=new At(r,o)),d.moduleInstance=e,d.mainResource=n,d.resources=l,d.viewStrategy=h,d},t}(),Mt=S.getLogger("templating");var Tt=function(){function t(t){var e=this;t.then(function(t){return e.viewFactory=t})}return t.prototype.create=function(t,e,i,n){return this.viewFactory.create(t,e,i,n)},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},E(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),It=null,jt=t.ViewEngine=(0,M.inject)(O.Loader,M.Container,St,Ot,ht)((w=b=function(){function f(t,e,i,n,o){this.loader=t,this.container=e,this.viewCompiler=i,this.moduleAnalyzer=n,this.appResources=o,this._pluginMap={},null===It&&((It=new qt).attributeName="au-slot",P.metadata.define(P.metadata.resource,It,st)),It.initialize(e,st),It.register(o)}return f.prototype.addResourcePlugin=function(t,e){var i=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=i,this.loader.addPlugin(i,e)},f.prototype.loadViewFactory=function(t,n,e,o){var i,r,s=this;return e=e||new W,(i=this.loader,r=t,r instanceof O.TemplateRegistryEntry?Promise.resolve(r):i.loadTemplate(r)).then(function(i){var t=i.address;return i.onReady?e.hasDependency(t)?null===i.template?i.onReady:Promise.resolve(new Tt(i.onReady)):(e.addDependency(t),i.onReady):(e.addDependency(t),i.onReady=s.loadTemplateResources(i,n,e,o).then(function(t){if(i.resources=t,null===i.template)return i.factory=null;var e=s.viewCompiler.compile(i.template,t,n);return i.factory=e}),i.onReady)})},f.prototype.loadTemplateResources=function(t,e,i,n){var o=new ht(this.appResources,t.address),r=t.dependencies,s=void 0,a=void 0;if(e=e||G.normal,0===r.length&&!e.associatedModuleId)return Promise.resolve(o);if(s=r.map(function(t){return t.src}),a=r.map(function(t){return t.name}),Mt.debug("importing resources for "+t.address,s),n){var u=P.metadata.get(f.viewModelRequireMetadataKey,n);if(u){for(var l=s.length,c=0,h=u.length;c<h;++c){var d=u[c],p="function"==typeof d?P.Origin.get(d).moduleId:(0,A.relativeToFile)(d.src||d,t.address);-1===s.indexOf(p)&&(s.push(p),a.push(d.as))}Mt.debug("importing ViewModel resources for "+e.associatedModuleId,s.slice(l))}}return this.importViewResources(s,a,o,e,i)},f.prototype.importViewModelResource=function(n,o){var r=this;return this.loader.loadModule(n).then(function(t){var e=P.Origin.get(t).moduleId,i=r.moduleAnalyzer.analyze(e,t,o);if(!i.mainResource)throw new Error('No view model found in module "'+n+'".');return i.initialize(r.container),i.mainResource})},f.prototype.importViewResources=function(t,c,h,d,p){var f=this;return p=p||new W,d=d||G.normal,t=t.map(function(t){return f._applyLoaderPlugin(t)}),this.loader.loadAllModules(t).then(function(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0,s=void 0,a=f.container,u=f.moduleAnalyzer,l=new Array(t.length);for(e=0,i=t.length;e<i;++e)r=t[e],o=P.Origin.get(r).moduleId,(n=u.analyze(o,r)).initialize(a),n.register(h,c[e]),l[e]=n;for(d.associatedModuleId&&(s=u.getAnalysis(d.associatedModuleId))&&s.register(h),e=0,i=l.length;e<i;++e)l[e]=l[e].load(a,p);return Promise.all(l).then(function(){return h})})},f.prototype._applyLoaderPlugin=function(t){var e=t.lastIndexOf(".");if(-1!==e){var i=t.substring(e),n=this._pluginMap[i];return void 0===n?t:this.loader.applyPluginToUrl(t,n)}return t},f}(),b.viewModelRequireMetadataKey="aurelia:view-model-require",y=w))||y,Nt=t.Controller=function(){function t(t,e,i,n){this.behavior=t,this.instruction=e,this.viewModel=i,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=n,this.elementEvents=n.elementEvents||null;var o,r=t.observerLocator.getOrCreateObserversLookup(i),s=t.handlesBind,a=e.attributes,u=this.boundProperties=[],l=t.properties,c=void 0;for(t._ensurePropertiesDefined(i,r),c=0,o=l.length;c<o;++c)l[c]._initialize(i,r,a,s,u)}return t.prototype.created=function(t){this.behavior.handlesCreated&&this.viewModel.created(t,this.view)},t.prototype.automate=function(t,e){this.view.bindingContext=this.viewModel,this.view.overrideContext=t||(0,I.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(e||null,this.view),this.bind(this.view)},t.prototype.bind=function(t){var e,i=this.behavior.handlesBind,n=this.boundProperties,o=void 0,r=void 0,s=void 0,a=void 0;if(this.isBound){if(this.scope===t)return;this.unbind()}for(this.isBound=!0,this.scope=t,o=0,e=n.length;o<e;++o)a=(s=(r=n[o]).observer).selfSubscriber,s.publishing=!1,i&&(s.selfSubscriber=null),r.binding.bind(t),s.call(),s.publishing=!0,s.selfSubscriber=a;var u=void 0;null!==this.view?(i&&(this.view.viewModelScope=t),this.viewModel===t.overrideContext.bindingContext?u=t.overrideContext:this.instruction.inheritBindingContext?u=(0,I.createOverrideContext)(this.viewModel,t.overrideContext):(u=(0,I.createOverrideContext)(this.viewModel)).__parentOverrideContext=t.overrideContext,this.view.bind(this.viewModel,u)):i&&(u=t.overrideContext,void 0!==t.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((u=Object.assign({},t.overrideContext)).parentOverrideContext=t.overrideContext.__parentOverrideContext),this.viewModel.bind(t.bindingContext,u))},t.prototype.unbind=function(){if(this.isBound){var t,e=this.boundProperties,i=void 0;for(this.isBound=!1,(this.scope=null)!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),i=0,t=e.length;i<t;++i)e[i].binding.unbind()}},t.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},t.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},t}(),Rt=t.BehaviorPropertyObserver=(0,I.subscriberCollection)()(k=function(){function t(t,e,i,n,o){this.taskQueue=t,this.obj=e,this.propertyName=i,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=n,this.currentValue=this.oldValue=o}return t.prototype.getValue=function(){return this.currentValue},t.prototype.setValue=function(t){var e=this.currentValue;e!==t&&(this.oldValue=e,this.currentValue=t,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.notqueued=!0,e!==t&&(this.selfSubscriber&&this.selfSubscriber(e,t),this.callSubscribers(e,t),this.oldValue=e)},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t}())||k;function Bt(t,e){var i=t.__observers__;if(void 0===i){var n=Object.getPrototypeOf(t).constructor,o=P.metadata.get(P.metadata.resource,n);o.isInitialized||o.initialize(M.Container.instance||new M.Container,t.constructor),i=o.observerLocator.getOrCreateObserversLookup(t),o._ensurePropertiesDefined(t,i)}return i[e]}var Dt=t.BindableProperty=function(){function t(t){"string"==typeof t?this.name=t:Object.assign(this,t),this.attribute=this.attribute||V(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=I.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return t.prototype.registerWith=function(t,e,i){if(e.properties.push(this),(e.attributes[this.attribute]=this).owner=e,i)return this.descriptor=i,this._configureDescriptor(i)},t.prototype._configureDescriptor=function(t){var e=this.name;return t.configurable=!0,t.enumerable=!0,"initializer"in t&&(this.defaultValue=t.initializer,delete t.initializer,delete t.writable),"value"in t&&(this.defaultValue=t.value,delete t.value,delete t.writable),t.get=function(){return Bt(this,e).getValue()},t.set=function(t){Bt(this,e).setValue(t)},t.get.getObserver=function(t){return Bt(t,e)},t},t.prototype.defineOn=function(t,e){var i=this.name,n=void 0;null===this.changeHandler&&(n=i+"Changed")in t.prototype&&(this.changeHandler=n),null===this.descriptor&&Object.defineProperty(t.prototype,i,this._configureDescriptor(e,{}))},t.prototype.createObserver=function(i){var t=null,e=this.defaultValue,n=this.changeHandler,o=this.name,r=void 0;if(!this.hasOptions){if(n in i)t="propertyChanged"in i?function(t,e){i[n](t,e),i.propertyChanged(o,t,e)}:function(t,e){return i[n](t,e)};else if("propertyChanged"in i)t=function(t,e){return i.propertyChanged(o,t,e)};else if(null!==n)throw new Error("Change handler "+n+" was specified but not declared on the class.");return void 0!==e&&(r="function"==typeof e?e.call(i):e),new Rt(this.owner.taskQueue,i,this.name,t,r)}},t.prototype._initialize=function(t,e,i,n,o){var r=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var l in i)this._createDynamicProperty(t,e,n,l,i[l],o);else this.hasOptions||(s=e[this.name],null!==i&&(r=s.selfSubscriber,a=i[this.attribute],n&&(s.selfSubscriber=null),"string"==typeof a?(t[this.name]=a,s.call()):a?o.push({observer:s,binding:a.createBinding(t)}):void 0!==u&&s.call(),s.selfSubscriber=r),s.publishing=!0)},t.prototype._createDynamicProperty=function(i,t,e,n,o,r){var s=n+"Changed",a=null,u=void 0,l=void 0;s in i?a="propertyChanged"in i?function(t,e){i[s](t,e),i.propertyChanged(n,t,e)}:function(t,e){return i[s](t,e)}:"propertyChanged"in i&&(a=function(t,e){return i.propertyChanged(n,t,e)}),u=t[n]=new Rt(this.owner.taskQueue,i,n,a),Object.defineProperty(i,n,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),e&&(u.selfSubscriber=null),"string"==typeof o?(i[n]=o,u.call()):o&&(l={observer:u,binding:o.createBinding(i)},r.push(l)),u.publishing=!0,u.selfSubscriber=a},t}(),zt=0;function Ft(){return!0}function Vt(){}var qt=t.HtmlBehaviorResource=function(){function n(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=Vt,this.processContent=Ft,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return n.convention=function(t,e){var i=void 0;return t.endsWith("CustomAttribute")&&((i=e||new n).attributeName=V(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&((i=e||new n).elementName=V(t.substring(0,t.length-13))),i},n.prototype.addChildBinding=function(t){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(t)},n.prototype.initialize=function(t,e){var i=e.prototype,n=this.properties,o=this.attributeName,r=this.attributeDefaultBindingMode,s=void 0,a=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,e.__providerId__=++zt,this.observerLocator=t.get(I.ObserverLocator),this.taskQueue=t.get(j.TaskQueue),this.target=e,this.usesShadowDOM=this.targetShadowDOM&&T.FEATURE.shadowDOM,this.handlesCreated="created"in i,this.handlesBind="bind"in i,this.handlesUnbind="unbind"in i,this.handlesAttached="attached"in i,this.handlesDetached="detached"in i,this.htmlName=this.elementName||this.attributeName,null!==o)if(0===n.length&&new Dt({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:o,defaultBindingMode:r}).registerWith(e,this),u=n[0],1===n.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(e,this);else{for(s=0,a=n.length;s<a;++s)if(n[s].defineOn(e,this),n[s].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=n[s]}(u=new Dt({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:o,defaultBindingMode:r})).hasOptions=!0,u.registerWith(e,this)}else{for(s=0,a=n.length;s<a;++s)n[s].defineOn(e,this);this._copyInheritedProperties(t,e)}},n.prototype.register=function(e,t){var i=this;null!==this.attributeName&&(e.registerAttribute(t||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach(function(t){e.registerAttribute(t,i,i.attributeName)})),null!==this.elementName&&e.registerElement(t||this.elementName,this)},n.prototype.load=function(t,e,i,n,o){var r=this,s=void 0;return null!==this.elementName?(n=t.get(it).getViewStrategy(n||this.viewStrategy||e),s=new G(this.targetShadowDOM,!0),n.moduleId||(n.moduleId=P.Origin.get(e).moduleId),n.loadViewFactory(t.get(jt),s,i,e).then(function(t){return o&&r.viewFactory||(r.viewFactory=t),t})):Promise.resolve(this)},n.prototype.compile=function(t,e,i,n,o){if(this.liftsContent){if(!n.viewFactory){var r=T.DOM.createElement("template"),s=T.DOM.createDocumentFragment(),a=i.getAttribute("view-cache"),u=i.getAttribute("part");i.removeAttribute(n.originalAttrName),T.DOM.replaceNode(r,i,o),s.appendChild(i),n.viewFactory=t.compile(s,e),u&&(n.viewFactory.part=u,i.removeAttribute("part")),a&&(n.viewFactory.setCacheSize(a),i.removeAttribute("view-cache")),i=r}}else if(null!==this.elementName){var l={};if(this.processContent(t,e,i,n)&&i.hasChildNodes()){for(var c=i.firstChild,h=this.usesShadowDOM?null:T.DOM.createElement("au-content"),d=void 0,p=void 0;c;)d=c.nextSibling,"TEMPLATE"===c.tagName&&(p=c.getAttribute("replace-part"))?(l[p]=t.compile(c,e),T.DOM.removeNode(c,o),n.partReplacements=l):null!==h&&(3===c.nodeType&&q(c)?T.DOM.removeNode(c,o):h.appendChild(c)),c=d;null!==h&&h.hasChildNodes()&&i.appendChild(h),n.skipContentProcessing=!1}else n.skipContentProcessing=!0}else this.processContent(t,e,i,n)||(n.skipContentProcessing=!0);return i},n.prototype.create=function(t,e,i,n){var o=void 0,r=null;e=e||X.normal,i=i||null,n=n||null,null!==this.elementName&&i&&(this.usesShadowDOM?(o=i.attachShadow(this.shadowDOMOptions),t.registerInstance(T.DOM.boundary,o)):(o=i,this.targetShadowDOM&&t.registerInstance(T.DOM.boundary,o))),null!==i&&(i.au=r=i.au||{});var s=e.viewModel||t.get(this.target),a=new Nt(this,e,s,t),u=this.childBindings,l=void 0;if(this.liftsContent)r.controller=a;else if(null!==this.elementName){if(l=e.viewFactory||this.viewFactory,t.viewModel=s,l&&(a.view=l.create(t,e,i)),null!==i){if((r.controller=a).view){if(!this.usesShadowDOM&&(1===i.childNodes.length||i.contentElement)){var c=i.childNodes[0]||i.contentElement;a.view.contentView={fragment:c},c.parentNode&&T.DOM.removeNode(c)}if(e.anchorIsContainer){if(null!==u)for(var h=0,d=u.length;h<d;++h)a.view.addBinding(u[h].create(i,s,a));a.view.appendNodesTo(o)}else a.view.insertNodesBefore(o)}else if(null!==u)for(var p=0,f=u.length;p<f;++p)n.push(u[p].create(i,s,a))}else if(a.view){if(a.view.controller=a,null!==u)for(var m=0,v=u.length;m<v;++m)a.view.addBinding(u[m].create(e.host,s,a))}else if(null!==u)for(var g=0,_=u.length;g<_;++g)n.push(u[g].create(e.host,s,a))}else if(null!==u)for(var y=0,b=u.length;y<b;++y)n.push(u[y].create(i,s,a));return null!==r&&(r[this.htmlName]=a),e.initiatedByBehavior&&l&&a.view.created(),a},n.prototype._ensurePropertiesDefined=function(t,e){var i,n=void 0,o=void 0,r=void 0;if(!("__propertiesDefined__"in e))for(e.__propertiesDefined__=!0,o=0,i=(n=this.properties).length;o<i;++o)void 0!==(r=n[o].createObserver(t))&&(e[r.propertyName]=r)},n.prototype._copyInheritedProperties=function(t,e){for(var n=this,o=void 0,r=e;;){var i=Object.getPrototypeOf(e.prototype);if(!(e=i&&i.constructor))return;if(o=P.metadata.getOwn(P.metadata.resource,e))break}o.initialize(t,e);for(var s=function(t,e){var i=o.properties[t];if(n.properties.some(function(t){return t.name===i.name}))return"continue";new Dt(i).registerWith(r,n)},a=0,u=o.properties.length;a<u;++a)s(a)},n}();function Ht(r,s){return function(t,e,i){var n="string"==typeof e?t.constructor:t,o=P.metadata.getOrCreateOwn(P.metadata.resource,qt,n);"string"==typeof r&&(r={selector:r,name:e}),i&&(i.writable=!0,i.configurable=!0),r.all=s,o.addChildBinding(new Ut(r))}}var Ut=function(){function t(t){this.name=t.name,this.changeHandler=t.changeHandler||this.name+"Changed",this.selector=t.selector,this.all=t.all}return t.prototype.create=function(t,e,i){return new Xt(this.selector,t,this.name,e,i,this.changeHandler,this.all)},t}(),Zt=[];function Wt(t,e,i){var n=t.get(e);n||(n=[],t.set(e,n)),n.push(i)}function Gt(t,e){for(var i=e.binders,n=i.length,o=new Map,r=0,s=t.length;r<s;++r){for(var a=t[r],u=a.addedNodes,l=a.removedNodes,c=0,h=l.length;c<h;++c){var d=l[c];if(1===d.nodeType)for(var p=0;p<n;++p){var f=i[p];f.onRemove(d)&&Wt(o,f,a)}}for(var m=0,v=u.length;m<v;++m){var g=u[m];if(1===g.nodeType)for(var _=0;_<n;++_){var y=i[_];y.onAdd(g)&&Wt(o,y,a)}}}o.forEach(function(t,e){null!==e.changeHandler&&e.viewModel[e.changeHandler](t)})}var Xt=function(){function t(t,e,i,n,o,r,s){this.selector=t,this.viewHost=e,this.property=i,this.viewModel=n,this.controller=o,this.changeHandler=r in n?r:null,this.usesShadowDOM=o.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&o.view&&o.view.contentView?this.contentView=o.view.contentView:this.contentView=null}return t.prototype.matches=function(t){if(t.matches(this.selector)){if(null===this.contentView)return!0;var e=this.contentView,i=t.auAssignedSlot;if(i&&i.projectFromAnchors){for(var n=i.projectFromAnchors,o=0,r=n.length;o<r;++o)if(n[o].auOwnerView===e)return!0;return!1}return t.auOwnerView===e}return!1},t.prototype.bind=function(t){var e=this.viewHost,i=this.viewModel,n=e.__childObserver__;if(!n){n=e.__childObserver__=T.DOM.createMutationObserver(Gt);var o={childList:!0,subtree:!this.usesShadowDOM};n.observe(e,o),n.binders=[]}if(n.binders.push(this),this.usesShadowDOM){var r=e.firstElementChild;if(this.all){var s=i[this.property];for(s?s.length=0:s=i[this.property]=[];r;)this.matches(r)&&s.push(r.au&&r.au.controller?r.au.controller.viewModel:r),r=r.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](Zt)}else for(;r;){if(this.matches(r)){var a=r.au&&r.au.controller?r.au.controller.viewModel:r;this.viewModel[this.property]=a,null!==this.changeHandler&&this.viewModel[this.changeHandler](a);break}r=r.nextElementSibling}}},t.prototype.onRemove=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]),n=i.indexOf(e);return-1!==n&&i.splice(n,1),!0}return!1}return!1},t.prototype.onAdd=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if("*"===this.selector)return i.push(e),!0;for(var n=0,o=t.previousElementSibling;o;)this.matches(o)&&n++,o=o.previousElementSibling;return i.splice(n,0,e),!0}this.viewModel[this.property]=e,null!==this.changeHandler&&this.viewModel[this.changeHandler](e)}return!1},t.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},t}();function Yt(t,e){return Array.isArray(e)?t.removeMany(e,!0):t.remove(e,!0)}var $t=t.SwapStrategies={before:function(t,e,i){return void 0===e?i():i().then(function(){return Yt(t,e)})},with:function(t,e,i){return void 0===e?i():Promise.all([Yt(t,e),i()])},after:function(t,e,i){return Promise.resolve(t.removeAll(!0)).then(i)}};function Kt(t){return t.skipActivation||"function"!=typeof t.viewModel.activate?Promise.resolve():t.viewModel.activate(t.model)||Promise.resolve()}var Qt=t.CompositionEngine=(0,M.inject)(jt,it)(x=function(){function t(t,e){this.viewEngine=t,this.viewLocator=e}return t.prototype._swap=function(t,e){var i=$t[t.swapOrder]||$t.after,n=t.viewSlot.children.slice();return i(t.viewSlot,n,function(){return Promise.resolve(t.viewSlot.add(e)).then(function(){t.currentController&&t.currentController.unbind()})}).then(function(){t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done()})},t.prototype._createControllerAndSwap=function(e){var i=this;return this.createController(e).then(function(t){return t.automate(e.overrideContext,e.owningView),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return i._swap(e,t.view)}).then(function(){return t}):i._swap(e,t.view).then(function(){return t})})},t.prototype.createController=function(e){var i=this,n=void 0,o=void 0,r=void 0,s=void 0;return this.ensureViewModel(e).then(Kt).then(function(){n=e.childContainer,o=e.viewModel,r=e.viewModelResource,s=r.metadata;var t=i.viewLocator.getViewStrategy(e.view||o);return e.viewResources&&t.makeRelativeTo(e.viewResources.viewUrl),s.load(n,r.value,null,t,!0)}).then(function(t){return s.create(n,X.dynamic(e.host,o,t))})},t.prototype.ensureViewModel=function(e){var i=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then(function(t){return i.autoRegister(t.value),e.host&&i.registerInstance(T.DOM.Element,e.host),e.viewModel=i.viewModel=i.get(t.value),e.viewModelResource=t,e});var t=P.metadata.getOrCreateOwn(P.metadata.resource,qt,e.viewModel.constructor);return t.elementName=t.elementName||"dynamic-element",t.initialize(e.container||i,e.viewModel.constructor),e.viewModelResource={metadata:t,value:e.viewModel.constructor},i.viewModel=e.viewModel,Promise.resolve(e)},t.prototype.compose=function(i){var n=this;i.childContainer=i.childContainer||i.container.createChild(),i.view=this.viewLocator.getViewStrategy(i.view);var t=i.childContainer.get(D),e=t.tryCapture();return e?i.compositionTransactionOwnershipToken=e:i.compositionTransactionNotifier=t.enlist(),i.viewModel?this._createControllerAndSwap(i):i.view?(i.viewResources&&i.view.makeRelativeTo(i.viewResources.viewUrl),i.view.loadViewFactory(this.viewEngine,new G).then(function(t){var e=t.create(i.childContainer);return e.bind(i.bindingContext,i.overrideContext),i.compositionTransactionOwnershipToken?i.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return n._swap(i,e)}).then(function(){return e}):n._swap(i,e).then(function(){return e})})):(i.viewSlot&&(i.viewSlot.removeAll(),i.compositionTransactionNotifier&&i.compositionTransactionNotifier.done()),Promise.resolve(null))},t}())||x,Jt=t.ElementConfigResource=function(){function t(){}return t.prototype.initialize=function(t,e){},t.prototype.register=function(t,e){},t.prototype.load=function(t,e){var i=new e;t.get(I.EventManager).registerElementConfig(i)},t}();function te(t,e){if(/[A-Z]/.test(t)){var i=V(t);return S.getLogger("templating").warn("'"+t+"' is not a valid "+e+" name and has been converted to '"+i+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),i}return t}var ee={mode:"open"};function ie(){return!1}function ne(e){return function(t){P.metadata.define(it.viewStrategyMetadataKey,e,t)}}t.TemplatingEngine=(0,M.inject)(M.Container,Ot,St,Qt)(C=function(){function t(t,e,i,n){this._container=t,this._moduleAnalyzer=e,this._viewCompiler=i,this._compositionEngine=n,t.registerInstance(N,N.instance=new N)}return t.prototype.configureAnimator=function(t){this._container.unregister(N),this._container.registerInstance(N,N.instance=t)},t.prototype.compose=function(t){return this._compositionEngine.compose(t)},t.prototype.enhance=function(t){t instanceof T.DOM.Element&&(t={element:t});var e={},i=t.resources||this._container.get(ht);this._viewCompiler._compileNode(t.element,i,e,t.element.parentNode,"root",!0);var n=new xt(t.element,e,i),o=t.container||this._container.createChild(),r=n.create(o,X.enhance());return r.bind(t.bindingContext||{},t.overrideContext),r.firstChild=r.lastChild=r.fragment,r.fragment=T.DOM.createDocumentFragment(),r.attached(),r},t}())||C}),t.entry="dist/commonjs/aurelia-templating.js"}),y.pkg("aurelia-path",{},function(t){return t.file("dist/commonjs/aurelia-path.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.relativeToFile=function(t,e){var i=e&&e.split("/"),n=t.trim().split("/");if("."===n[0].charAt(0)&&i){var o=i.slice(0,i.length-1);n.unshift.apply(n,o)}return function(t){for(var e=0;e<t.length;++e){var i=t[e];if("."===i)t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;0<e&&(t.splice(e-1,2),e-=2)}}}(n),n.join("/")},t.join=function(t,e){if(!t)return e;if(!e)return t;var i=t.match(/^([^/]*?:)\//),n=i&&0<i.length?i[1]:"";t=t.substr(n.length);var o=void 0;o=0===t.indexOf("///")&&"file:"===n?"///":0===t.indexOf("//")?"//":0===t.indexOf("/")?"/":"";for(var r="/"===e.slice(-1)?"/":"",s=t.split("/"),a=e.split("/"),u=[],l=0,c=s.length;l<c;++l)if(".."===s[l])u.pop();else{if("."===s[l]||""===s[l])continue;u.push(s[l])}for(var h=0,d=a.length;h<d;++h)if(".."===a[h])u.pop();else{if("."===a[h]||""===a[h])continue;u.push(a[h])}return n+o+u.join("/")+r},t.buildQueryString=function(t,e){for(var i=[],n=Object.keys(t||{}).sort(),o=0,r=n.length;o<r;o++){var s=n[o];i=i.concat(h(s,t[s],e))}if(0===i.length)return"";return i.join("&")},t.parseQueryString=function(t){var e={};if(!t||"string"!=typeof t)return e;var i=t;"?"===i.charAt(0)&&(i=i.substr(1));for(var n=i.replace(/\+/g," ").split("&"),o=0;o<n.length;o++){var r=n[o].split("="),s=decodeURIComponent(r[0]);if(s){var a=s.split("]["),u=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[u])?(a[u]=a[u].replace(/\]$/,""),a=a.shift().split("[").concat(a),u=a.length-1):u=0,2<=r.length){var l=r[1]?decodeURIComponent(r[1]):"";u?p(e,a,l):e[s]=d(e[s],l)}else e[s]=!0}}return e};var l=encodeURIComponent,c=function(t){return l(t).replace("%24","$")};function h(t,e,i){var n=[];if(null==e)return n;if(Array.isArray(e))for(var o=0,r=e.length;o<r;o++)if(i)n.push(c(t)+"="+l(e[o]));else{var s=t+"["+("object"===u(e[o])&&null!==e[o]?o:"")+"]";n=n.concat(h(s,e[o]))}else if("object"!==(void 0===e?"undefined":u(e))||i)n.push(c(t)+"="+l(e));else for(var a in e)n=n.concat(h(t+"["+a+"]",e[a]));return n}function d(t,e){return Array.isArray(t)?(t.push(e),t):void 0!==t?[t,e]:e}function p(t,e,i){for(var n=t,o=e.length-1,r=0;r<=o;r++){var s=""===e[r]?n.length:e[r];if(r<o){var a=n[s]&&"object"!==u(n[s])?[n[s]]:n[s];n=n[s]=a||(isNaN(e[r+1])?{}:[])}else n=n[s]=i}}}),t.entry="dist/commonjs/aurelia-path.js"}),y.pkg("aurelia-loader",{},function(t){return t.file("dist/commonjs/aurelia-loader.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=t.TemplateRegistryEntry=t.TemplateDependency=void 0;var r=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),u=e("aurelia-path"),s=e("aurelia-metadata"),l=t.TemplateDependency=function(t,e){this.src=t,this.name=e},a=t.TemplateRegistryEntry=function(){function t(t){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=t,this.onReady=null,this._template=null,this._factory=null}return t.prototype.addDependency=function(t,e){var i="string"==typeof t?(0,u.relativeToFile)(t,this.address):s.Origin.get(t).moduleId;this.dependencies.push(new l(i,e))},r(t,[{key:"template",get:function(){return this._template},set:function(t){var e,i=this.address,n=void 0,o=void 0,r=void 0;this._template=t,this.templateIsLoaded=!0,e=t.content.querySelectorAll("require"),r=this.dependencies=new Array(e.length);for(var s=0,a=e.length;s<a;++s){if(!(o=(n=e[s]).getAttribute("from")))throw new Error("<require> element in "+i+' has no "from" attribute.');r[s]=new l((0,u.relativeToFile)(o,i),n.getAttribute("as")),n.parentNode&&n.parentNode.removeChild(n)}}},{key:"factory",get:function(){return this._factory},set:function(t){this._factory=t,this.factoryIsReady=!0}}]),t}();t.Loader=function(){function t(){this.templateRegistry={}}return t.prototype.map=function(t,e){throw new Error("Loaders must implement map(id, source).")},t.prototype.normalizeSync=function(t,e){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},t.prototype.normalize=function(t,e){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},t.prototype.loadModule=function(t){throw new Error("Loaders must implement loadModule(id).")},t.prototype.loadAllModules=function(t){throw new Error("Loader must implement loadAllModules(ids).")},t.prototype.loadTemplate=function(t){throw new Error("Loader must implement loadTemplate(url).")},t.prototype.loadText=function(t){throw new Error("Loader must implement loadText(url).")},t.prototype.applyPluginToUrl=function(t,e){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},t.prototype.addPlugin=function(t,e){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},t.prototype.getOrCreateTemplateRegistryEntry=function(t){return this.templateRegistry[t]||(this.templateRegistry[t]=new a(t))},t}()}),t.entry="dist/commonjs/aurelia-loader.js"}),y.pkg("aurelia-history-browser",{},function(t){return t.file("dist/commonjs/aurelia-history-browser.js",function(t,e,i,n,o){"use strict";var r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserHistory=t.DefaultLinkHandler=t.LinkHandler=void 0,t.configure=function(t){t.singleton(u.History,p),t.transient(h,d)};var a=e("aurelia-pal"),u=e("aurelia-history");function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=t.LinkHandler=function(){function t(){}return t.prototype.activate=function(t){},t.prototype.deactivate=function(){},t}(),d=t.DefaultLinkHandler=function(t){function s(){var o=l(this,t.call(this));return o.handler=function(t){var e=s.getEventInfo(t),i=e.shouldHandleEvent,n=e.href;i&&(t.preventDefault(),o.history.navigate(n))},o}return c(s,t),s.prototype.activate=function(t){t._hasPushState&&(this.history=t,a.DOM.addEventListener("click",this.handler,!0))},s.prototype.deactivate=function(){a.DOM.removeEventListener("click",this.handler)},s.getEventInfo=function(t){var e={shouldHandleEvent:!1,href:null,anchor:null},i=s.findClosestAnchor(t.target);if(!i||!s.targetIsThisWindow(i))return e;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return e;var n=i.getAttribute("href");e.anchor=i,e.href=n;var o=1===t.which,r=n&&!("#"===n.charAt(0)||/^[a-z]+:/i.test(n));return e.shouldHandleEvent=o&&r,e},s.findClosestAnchor=function(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}},s.targetIsThisWindow=function(t){var e=t.getAttribute("target"),i=a.PLATFORM.global;return!e||e===i.name||"_self"===e||"top"===e&&i===i.top},s}(h);var p=t.BrowserHistory=(s=r=function(i){function t(t){var e=l(this,i.call(this));return e._isActive=!1,e._checkUrlCallback=e._checkUrl.bind(e),e.location=a.PLATFORM.location,e.history=a.PLATFORM.history,e.linkHandler=t,e}return c(t,i),t.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(m,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),a.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&e){var n=this.location,o=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!o)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&o&&n.hash&&(this.fragment=this._getHash().replace(f,""),this.history.replaceState({},a.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},t.prototype.deactivate=function(){a.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),a.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},t.prototype.getAbsoluteRoot=function(){var t,e,i;return""+(t=this.location.protocol,e=this.location.hostname,i=this.location.port,t+"//"+e+(i?":"+i:""))+this.root},t.prototype.navigate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.trigger,n=void 0===i||i,o=e.replace,r=void 0!==o&&o;if(t&&g.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!r)return!1;this.fragment=t;var s=this.root+t;if(""===t&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)s=s.replace("//","/"),this.history[r?"replaceState":"pushState"]({},a.DOM.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);!function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}(this.location,t,r)}return n?this._loadUrl(t):void 0},t.prototype.navigateBack=function(){this.history.back()},t.prototype.setTitle=function(t){a.DOM.title=t},t.prototype.setState=function(t,e){var i=Object.assign({},this.history.state),n=this.location,o=n.pathname,r=n.search,s=n.hash;i[t]=e,this.history.replaceState(i,null,""+o+r+s)},t.prototype.getState=function(t){return Object.assign({},this.history.state)[t]},t.prototype._getHash=function(){return this.location.hash.substr(1)},t.prototype._getFragment=function(t,e){var i=void 0;return t||(this._hasPushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,i=this.root.replace(v,""),t.indexOf(i)||(t=t.substr(i.length))):t=this._getHash()),"/"+t.replace(f,"")},t.prototype._checkUrl=function(){this._getFragment()!==this.fragment&&this._loadUrl()},t.prototype._loadUrl=function(t){var e=this.fragment=this._getFragment(t);return!!this.options.routeHandler&&this.options.routeHandler(e)},t}(u.History),r.inject=[h],s),f=/^#?\/*|\s+$/g,m=/^\/+|\/+$/g,v=/\/$/,g=/^([a-z][a-z0-9+\-.]*:)?\/\//i}),t.entry="dist/commonjs/aurelia-history-browser.js"}),y.pkg("aurelia-history",{},function(t){return t.file("dist/commonjs/aurelia-history.js",function(t,e,i,n,o){"use strict";function r(t){throw new Error("History must implement "+t+"().")}Object.defineProperty(t,"__esModule",{value:!0});t.History=function(){function t(){}return t.prototype.activate=function(t){r("activate")},t.prototype.deactivate=function(){r("deactivate")},t.prototype.getAbsoluteRoot=function(){r("getAbsoluteRoot")},t.prototype.navigate=function(t,e){r("navigate")},t.prototype.navigateBack=function(){r("navigateBack")},t.prototype.setTitle=function(t){r("setTitle")},t.prototype.setState=function(t,e){r("setState")},t.prototype.getState=function(t){r("getState")},t}()}),t.entry="dist/commonjs/aurelia-history.js"}),y.pkg("aurelia-logging-console",{},function(t){return t.file("dist/commonjs/aurelia-logging-console.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleAppender=void 0;e("aurelia-logging"),t.ConsoleAppender=function(){function t(){}return t.prototype.debug=function(t){for(var e,i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=console).debug.apply(e,["DEBUG ["+t.id+"]"].concat(n))},t.prototype.info=function(t){for(var e,i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=console).info.apply(e,["INFO ["+t.id+"]"].concat(n))},t.prototype.warn=function(t){for(var e,i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=console).warn.apply(e,["WARN ["+t.id+"]"].concat(n))},t.prototype.error=function(t){for(var e,i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(e=console).error.apply(e,["ERROR ["+t.id+"]"].concat(n))},t}()}),t.entry="dist/commonjs/aurelia-logging-console.js"}),y.pkg("aurelia-pal-browser",{},function(t){return t.file("dist/commonjs/aurelia-pal-browser.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._DOM=t._FEATURE=t._PLATFORM=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.initialize=function(){if(g.isInitialized)return;(0,g.initializePAL)(function(t,e,i){Object.assign(t,_),Object.assign(e,L),Object.assign(i,P),Object.defineProperty(i,"title",{get:function(){return document.title},set:function(t){document.title=t}}),Object.defineProperty(i,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(t,"XMLHttpRequest",{get:function(){return t.global.XMLHttpRequest}})})};var s,a,u,l,c,h,d,p,f,m,v,g=e("aurelia-pal"),_=t._PLATFORM={location:window.location,history:window.history,addEventListener:function(t,e,i){this.global.addEventListener(t,e,i)},removeEventListener:function(t,e,i){this.global.removeEventListener(t,e,i)},performance:window.performance,requestAnimationFrame:function(t){return this.global.requestAnimationFrame(t)}};if("undefined"==typeof FEATURE_NO_IE){void 0===function(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})}if("undefined"==typeof FEATURE_NO_IE)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var y=document.createElement("_");if(y.classList.add("c1","c2"),!y.classList.contains("c2")){var b=function(t){var n=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var e=0,i=arguments.length;e<i;++e)t=arguments[e],n.call(this,t)}};b("add"),b("remove")}y.classList.toggle("c3",!1),y.classList.contains("c3")&&(s=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:s.call(this,t)}),y=null}else a="prototype",u=String.prototype.trim,l=Array.prototype.indexOf,c=[],h=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},d=function(t,e){if(""===e)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return l.call(t,e)},f=(p=function(t){for(var e=u.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):c,n=0,o=i.length;n<o;++n)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}})[a]=[],h[a]=Error[a],f.item=function(t){return this[t]||null},f.contains=function(t){return-1!==d(this,t+="")},f.add=function(){for(var t=arguments,e=0,i=t.length,n=void 0,o=!1;n=t[e]+"",-1===d(this,n)&&(this.push(n),o=!0),++e<i;);o&&this._updateClassName()},f.remove=function(){var t=arguments,e=0,i=t.length,n=void 0,o=!1,r=void 0;do{for(n=t[e]+"",r=d(this,n);-1!==r;)this.splice(r,1),o=!0,r=d(this,n)}while(++e<i);o&&this._updateClassName()},f.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},f.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new p(this)},enumerable:!0,configurable:!0});if("undefined"==typeof FEATURE_NO_IE&&function(){var t,e=function(t,e){for(var i=0,n=r.length,o=[];i<n;i++)r[i][t]==e&&o.push(r[i]);return o},i=function(t,e){for(var i,n=r.length;n--;)(i=r[n]).entryType!=t||void 0!==e&&i.name!=e||r.splice(n,1)};"performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&(t=Date.now(),performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t});Date.now?Date.now():new Date;var r=[],n={};window.performance.mark||(window.performance.mark=window.performance.webkitMark||function(t){var e={name:t,entryType:"mark",startTime:window.performance.now(),duration:0};r.push(e),n[t]=e}),window.performance.measure||(window.performance.measure=window.performance.webkitMeasure||function(t,e,i){e=n[e].startTime,i=n[i].startTime,r.push({name:t,entryType:"measure",startTime:e,duration:i-e})}),window.performance.getEntriesByType||(window.performance.getEntriesByType=window.performance.webkitGetEntriesByType||function(t){return e("entryType",t)}),window.performance.getEntriesByName||(window.performance.getEntriesByName=window.performance.webkitGetEntriesByName||function(t){return e("name",t)}),window.performance.clearMarks||(window.performance.clearMarks=window.performance.webkitClearMarks||function(t){i("mark",t)}),window.performance.clearMeasures||(window.performance.clearMeasures=window.performance.webkitClearMeasures||function(t){i("measure",t)}),_.performance=window.performance}(),"undefined"==typeof FEATURE_NO_IE&&(m=window.console=window.console||{},v=function(){},m.memory||(m.memory={}),"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",").forEach(function(t){m[t]||(m[t]=v)}),"object"===r(m.log)&&"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach(function(t){console[t]=this.bind(console[t],console)},Function.prototype.call)),"undefined"==typeof FEATURE_NO_IE&&(!window.CustomEvent||"function"!=typeof window.CustomEvent)){var w=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};w.prototype=window.Event.prototype,window.CustomEvent=w}if(Element&&!Element.prototype.matches){var k=Element.prototype;k.matches=k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector}var x,C,E,L=t._FEATURE={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:(x=document.createElement("div"),x.innerHTML="<template></template>","content"in x.children[0]),mutationObserver:!(!window.MutationObserver&&!window.WebKitMutationObserver),ensureHTMLTemplateElement:function(t){return t}};"undefined"==typeof FEATURE_NO_IE&&(C=function(t){var e=t.ownerDocument.createElement("template"),i=t.attributes,n=i.length,o=void 0;for(t.parentNode.insertBefore(e,t);0<n--;)o=i[n],e.setAttribute(o.name,o.value),t.removeAttribute(o.name);return t.parentNode.removeChild(t),E(e)},E=function(t){for(var e=t.content=document.createDocumentFragment(),i=void 0;i=t.firstChild;)e.appendChild(i);return t},L.htmlTemplateElement||(L.ensureHTMLTemplateElement=function(t){for(var e,i=E(t).content.querySelectorAll("template"),n=0,o=i.length;n<o;++n){var r=i[n];"template"===(e=r).tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI?C(r):E(r)}return t}));var S=window.ShadowDOMPolyfill||null,P=t._DOM={Element:Element,NodeList:NodeList,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(t,e,i){document.addEventListener(t,e,i)},removeEventListener:function(t,e,i){document.removeEventListener(t,e,i)},adoptNode:function(t){return document.adoptNode(t,!0)},createAttribute:function(t){return document.createAttribute(t)},createElement:function(t){return document.createElement(t)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},createDocumentFragment:function(){return document.createDocumentFragment()},createTemplateElement:function(){var t=document.createElement("template");return L.ensureHTMLTemplateElement(t)},createMutationObserver:function(t){return new(window.MutationObserver||window.WebKitMutationObserver)(t)},createCustomEvent:function(t,e){return new window.CustomEvent(t,e)},dispatchEvent:function(t){document.dispatchEvent(t)},getComputedStyle:function(t){return window.getComputedStyle(t)},getElementById:function(t){return document.getElementById(t)},querySelectorAll:function(t){return document.querySelectorAll(t)},nextElementSibling:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(;(t=t.nextSibling)&&1!==t.nodeType;);return t},createTemplateFromMarkup:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.firstElementChild;if(!i||"TEMPLATE"!==i.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return L.ensureHTMLTemplateElement(i)},appendNode:function(t,e){(e||document.body).appendChild(t)},replaceNode:function(t,e,i){e.parentNode?e.parentNode.replaceChild(t,e):null!==S?S.unwrap(i).replaceChild(S.unwrap(t),S.unwrap(e)):i.replaceChild(t,e)},removeNode:function(t,e){t.parentNode?t.parentNode.removeChild(t):e&&(null!==S?S.unwrap(e).removeChild(S.unwrap(t)):e.removeChild(t))},injectStyles:function(t,e,i,n){if(n){var o=document.getElementById(n);if(o){if("style"===o.tagName.toLowerCase())return void(o.innerHTML=t);throw new Error("The provided id does not indicate a style tag.")}}var r=document.createElement("style");return r.innerHTML=t,r.type="text/css",n&&(r.id=n),e=e||document.head,i&&0<e.childNodes.length?e.insertBefore(r,e.childNodes[0]):e.appendChild(r),r}}}),t.entry="dist/commonjs/aurelia-pal-browser.js"}),y.pkg("aurelia-templating-binding",{},function(t){return t.file("dist/commonjs/aurelia-templating-binding.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h;Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingBindingLanguage=t.SyntaxInterpreter=t.ChildInterpolationBinding=t.InterpolationBinding=t.InterpolationBindingExpression=t.AttributeMap=void 0,t.configure=function(t){t.container.registerSingleton(v.BindingLanguage,k),t.container.registerAlias(v.BindingLanguage,k)};var d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),p=e("aurelia-binding"),v=e("aurelia-templating");var f=t.AttributeMap=(s=r=function(){function t(t){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=t,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return t.prototype.register=function(t,e,i){t=t.toLowerCase(),e=e.toLowerCase(),(this.elements[t]=this.elements[t]||Object.create(null))[e]=i},t.prototype.registerUniversal=function(t,e){t=t.toLowerCase(),this.allElements[t]=e},t.prototype.map=function(t,e){if(this.svg.isStandardSvgAttribute(t,e))return e;t=t.toLowerCase(),e=e.toLowerCase();var i=this.elements[t];return void 0!==i&&e in i?i[e]:e in this.allElements?this.allElements[e]:/(?:^data-)|(?:^aria-)|:/.test(e)?e:(0,p.camelCase)(e)},t}(),r.inject=[p.SVGAnalyzer],s),m=t.InterpolationBindingExpression=function(){function t(t,e,i,n,o,r){this.observerLocator=t,this.targetProperty=e,this.parts=i,this.mode=n,this.lookupFunctions=o,this.attribute=this.attrToRemove=r,this.discrete=!1}return t.prototype.createBinding=function(t){return 3===this.parts.length?new y(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new _(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)},t}();function g(t,e){if("style"===e)d.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(t.parentElement&&"TEXTAREA"===t.parentElement.nodeName&&"textContent"===e)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var _=t.InterpolationBinding=function(){function t(t,e,i,n,o,r){g(i,n),this.observerLocator=t,this.parts=e,this.target=i,this.targetProperty=n,this.targetAccessor=t.getAccessor(i,n),this.mode=o,this.lookupFunctions=r}return t.prototype.interpolate=function(){if(this.isBound){for(var t="",e=this.parts,i=0,n=e.length;i<n;i++)t+=i%2==0?e[i]:this["childBinding"+i].value;this.targetAccessor.setValue(t,this.target,this.targetProperty)}},t.prototype.updateOneTimeBindings=function(){for(var t=1,e=this.parts.length;t<e;t+=2){var i=this["childBinding"+t];i.mode===p.bindingMode.oneTime&&i.call()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.source=t;for(var e=this.parts,i=1,n=e.length;i<n;i+=2){var o=new y(this,this.observerLocator,e[i],this.mode,this.lookupFunctions);o.bind(t),this["childBinding"+i]=o}this.isBound=!0,this.interpolate()},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var t=1,e=this.parts.length;t<e;t+=2){this["childBinding"+t].unbind()}}},t}(),y=t.ChildInterpolationBinding=(0,p.connectable)()(a=function(){function t(t,e,i,n,o,r,s,a){t instanceof _?this.parent=t:(g(t,r),this.target=t,this.targetProperty=r,this.targetAccessor=e.getAccessor(t,r)),this.observerLocator=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=o,this.left=s,this.right=a}return t.prototype.updateTarget=function(t){(t=null==t?"":t.toString())!==this.value&&(this.value=t,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty))},t.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==p.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t;var e=this.sourceExpression;e.bind&&e.bind(this,t,this.lookupFunctions),this.rawValue=e.evaluate(t,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===p.bindingMode.oneWay&&(0,p.enqueueBindingConnect)(this)},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var t=this.sourceExpression;t.unbind&&t.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},t.prototype.connect=function(t){this.isBound&&(t&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},t}())||a,b=t.SyntaxInterpreter=(l=u=function(){function t(t,e,i,n){this.parser=t,this.observerLocator=e,this.eventManager=i,this.attributeMap=n}return t.prototype.interpret=function(t,e,i,n,o){return i.command in this?this[i.command](t,e,i,n,o):this.handleUnknownCommand(t,e,i,n,o)},t.prototype.handleUnknownCommand=function(t,e,i,n,o){return d.getLogger("templating-binding").warn("Unknown binding command.",i),n},t.prototype.determineDefaultBindingMode=function(t,e,i){var n=t.tagName.toLowerCase();return"input"===n&&("value"===e||"files"===e)&&"checkbox"!==t.type&&"radio"!==t.type||"input"===n&&"checked"===e&&("checkbox"===t.type||"radio"===t.type)||("textarea"===n||"select"===n)&&"value"===e||("textcontent"===e||"innerhtml"===e)&&"true"===t.contentEditable||"scrolltop"===e||"scrollleft"===e?p.bindingMode.twoWay:i&&e in i.attributes&&i.attributes[e]&&i.attributes[e].defaultBindingMode>=p.bindingMode.oneTime?i.attributes[e].defaultBindingMode:p.bindingMode.oneWay},t.prototype.bind=function(t,e,i,n,o){var r=n||v.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),void 0===i.defaultBindingMode||null===i.defaultBindingMode?this.determineDefaultBindingMode(e,i.attrName,o):i.defaultBindingMode,t.lookupFunctions),r},t.prototype.trigger=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.none,!0,t.lookupFunctions)},t.prototype.capture=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.capturing,!0,t.lookupFunctions)},t.prototype.delegate=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.bubbling,!0,t.lookupFunctions)},t.prototype.call=function(t,e,i,n){var o=n||v.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.CallExpression(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),t.lookupFunctions),o},t.prototype.options=function(t,e,i,n,o){var r,s=n||v.BehaviorInstruction.attribute(i.attrName),a=i.attrValue,u=this.language,l=null,c="",h=void 0,d=void 0,p=!1,f=!1,m=!1;for(d=0,r=a.length;d<r;++d){if(";"!==(h=a[d])||p)if(":"===h&&null===l)m=!0,l=c.trim(),c="";else{if("\\"===h){c+=h,f=!0;continue}c+=h,null!==l&&!1===f&&"'"===h&&(p=!p)}else m||(l=this._getPrimaryPropertyName(t,o)),i=u.inspectAttribute(t,"?",l,c.trim()),u.createAttributeInstruction(t,e,i,s,o),s.attributes[i.attrName]||(s.attributes[i.attrName]=i.attrValue),c="",l=null;f=!1}return m||(l=this._getPrimaryPropertyName(t,o)),null!==l&&(i=u.inspectAttribute(t,"?",l,c.trim()),u.createAttributeInstruction(t,e,i,s,o),s.attributes[i.attrName]||(s.attributes[i.attrName]=i.attrValue)),s},t.prototype._getPrimaryPropertyName=function(t,e){var i=t.getAttribute(e.attributeName);return i&&i.primaryProperty?i.primaryProperty.attribute:null},t.prototype.for=function(t,e,i,n){var o,r=void 0,s=void 0,a=void 0,u=void 0;if(2!==(r=(o=(u=i.attrValue).match(/^ *[[].+[\]]/))?u.split("of "):u.split(" of ")).length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return a=n||v.BehaviorInstruction.attribute(i.attrName),o?(s=r[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),a.attributes.key=s[0],a.attributes.value=s[1]):a.attributes.local=r[0],a.attributes.items=new p.BindingExpression(this.observerLocator,"items",this.parser.parse(r[1]),p.bindingMode.oneWay,t.lookupFunctions),a},t.prototype["two-way"]=function(t,e,i,n){var o=n||v.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.twoWay,t.lookupFunctions),o},t.prototype["to-view"]=function(t,e,i,n){var o=n||v.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.toView,t.lookupFunctions),o},t.prototype["from-view"]=function(t,e,i,n){var o=n||v.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.fromView,t.lookupFunctions),o},t.prototype["one-time"]=function(t,e,i,n){var o=n||v.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.oneTime,t.lookupFunctions),o},t}(),u.inject=[p.Parser,p.ObserverLocator,p.EventManager,f],l);b.prototype["one-way"]=b.prototype["to-view"];var w={},k=t.TemplatingBindingLanguage=(h=c=function(r){function t(t,e,i,n){var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return o.parser=t,o.observerLocator=e,o.syntaxInterpreter=i,o.emptyStringExpression=o.parser.parse("''"),(i.language=o).attributeMap=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,r),t.prototype.inspectAttribute=function(t,e,i,n){var o=i.split(".");if(w.defaultBindingMode=null,2===o.length)w.attrName=o[0].trim(),w.attrValue=n,w.command=o[1].trim(),"ref"===w.command?(w.expression=new p.NameExpression(this.parser.parse(n),w.attrName,t.lookupFunctions),w.command=null,w.attrName="ref"):w.expression=null;else if("ref"===i)w.attrName=i,w.attrValue=n,w.command=null,w.expression=new p.NameExpression(this.parser.parse(n),"element",t.lookupFunctions);else{w.attrName=i,w.attrValue=n,w.command=null;var r=this.parseInterpolation(t,n);w.expression=null===r?null:new m(this.observerLocator,this.attributeMap.map(e,i),r,p.bindingMode.oneWay,t.lookupFunctions,i)}return w},t.prototype.createAttributeInstruction=function(t,e,i,n,o){var r=void 0;if(i.expression){if("ref"===i.attrName)return i.expression;(r=n||v.BehaviorInstruction.attribute(i.attrName)).attributes[i.attrName]=i.expression}else i.command&&(r=this.syntaxInterpreter.interpret(t,e,i,n,o));return r},t.prototype.inspectTextContent=function(t,e){var i=this.parseInterpolation(t,e);return null===i?null:new m(this.observerLocator,"textContent",i,p.bindingMode.oneWay,t.lookupFunctions,"textContent")},t.prototype.parseInterpolation=function(t,e){for(var i=e.indexOf("${",0),n=e.length,o=void 0,r=0,s=0,a=null,u=void 0,l=void 0,c=0;0<=i&&i<n-2;){for(s=1,u=i,i+=2;o=e[i],i++,"'"!==o&&'"'!==o?"\\"!==o?null===a&&("{"===o?s++:"}"===o&&s--):i++:null===a?a=o:a===o&&(a=null),0<s&&i<n;);if(0!==s)break;l=l||[],"\\"===e[u-1]&&"\\"!==e[u-2]?(l[c]=e.substring(r,u-1)+e.substring(u,i),l[++c]=this.emptyStringExpression):(l[c]=e.substring(r,u),l[++c]=this.parser.parse(e.substring(u+2,i-1))),c++,r=i,i=e.indexOf("${",i)}return 0===c?null:(l[c]=e.substr(r),l)},t}(v.BindingLanguage),c.inject=[p.Parser,p.ObserverLocator,b,f],h)}),t.entry="dist/commonjs/aurelia-templating-binding.js"}),y.pkg("aurelia-templating-resources",{},function(t){return t.file("dist/commonjs/aurelia-templating-resources.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=t.unwrapExpression=t.updateOneTimeBinding=t.isOneTime=t.getItemsSourceExpression=t.updateOverrideContext=t.createFullOverrideContext=t.NumberRepeatStrategy=t.SetRepeatStrategy=t.MapRepeatStrategy=t.ArrayRepeatStrategy=t.NullRepeatStrategy=t.RepeatStrategyLocator=t.AbstractRepeater=t.UpdateTriggerBindingBehavior=t.BindingSignaler=t.SignalBindingBehavior=t.SelfBindingBehavior=t.DebounceBindingBehavior=t.ThrottleBindingBehavior=t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=t.AttrBindingBehavior=t.configure=t.Focus=t.Replaceable=t.SanitizeHTMLValueConverter=t.HTMLSanitizer=t.Hide=t.Show=t.Repeat=t.With=t.Else=t.If=t.Compose=void 0;var r=e("aurelia-pal"),s=e("./compose"),a=e("./if"),u=e("./else"),l=e("./with"),c=e("./repeat"),h=e("./show"),d=e("./hide"),p=e("./sanitize-html"),f=e("./replaceable"),m=e("./focus"),v=e("aurelia-templating"),g=e("./css-resource"),_=e("./html-sanitizer"),y=e("./attr-binding-behavior"),b=e("./binding-mode-behaviors"),w=e("./throttle-binding-behavior"),k=e("./debounce-binding-behavior"),x=e("./self-binding-behavior"),C=e("./signal-binding-behavior"),E=e("./binding-signaler"),L=e("./update-trigger-binding-behavior"),S=e("./abstract-repeater"),P=e("./repeat-strategy-locator"),A=e("./html-resource-plugin"),O=e("./null-repeat-strategy"),M=e("./array-repeat-strategy"),T=e("./map-repeat-strategy"),I=e("./set-repeat-strategy"),j=e("./number-repeat-strategy"),N=e("./repeat-utilities"),R=e("./analyze-view-factory"),B=e("./aurelia-hide-style");t.Compose=s.Compose,t.If=a.If,t.Else=u.Else,t.With=l.With,t.Repeat=c.Repeat,t.Show=h.Show,t.Hide=d.Hide,t.HTMLSanitizer=_.HTMLSanitizer,t.SanitizeHTMLValueConverter=p.SanitizeHTMLValueConverter,t.Replaceable=f.Replaceable,t.Focus=m.Focus,t.configure=function(t){(0,B.injectAureliaHideStyleAtHead)(),t.globalResources(r.PLATFORM.moduleName("./compose"),r.PLATFORM.moduleName("./if"),r.PLATFORM.moduleName("./else"),r.PLATFORM.moduleName("./with"),r.PLATFORM.moduleName("./repeat"),r.PLATFORM.moduleName("./show"),r.PLATFORM.moduleName("./hide"),r.PLATFORM.moduleName("./replaceable"),r.PLATFORM.moduleName("./sanitize-html"),r.PLATFORM.moduleName("./focus"),r.PLATFORM.moduleName("./binding-mode-behaviors"),r.PLATFORM.moduleName("./self-binding-behavior"),r.PLATFORM.moduleName("./throttle-binding-behavior"),r.PLATFORM.moduleName("./debounce-binding-behavior"),r.PLATFORM.moduleName("./signal-binding-behavior"),r.PLATFORM.moduleName("./update-trigger-binding-behavior"),r.PLATFORM.moduleName("./attr-binding-behavior")),(0,A.configure)(t);var e=t.container.get(v.ViewEngine),i={fetch:function(t){var e;return(e={})[t]=(0,g._createCSSResource)(t),e}};[".css",".less",".sass",".scss",".styl"].forEach(function(t){return e.addResourcePlugin(t,i)})},t.AttrBindingBehavior=y.AttrBindingBehavior,t.OneTimeBindingBehavior=b.OneTimeBindingBehavior,t.OneWayBindingBehavior=b.OneWayBindingBehavior,t.TwoWayBindingBehavior=b.TwoWayBindingBehavior,t.ThrottleBindingBehavior=w.ThrottleBindingBehavior,t.DebounceBindingBehavior=k.DebounceBindingBehavior,t.SelfBindingBehavior=x.SelfBindingBehavior,t.SignalBindingBehavior=C.SignalBindingBehavior,t.BindingSignaler=E.BindingSignaler,t.UpdateTriggerBindingBehavior=L.UpdateTriggerBindingBehavior,t.AbstractRepeater=S.AbstractRepeater,t.RepeatStrategyLocator=P.RepeatStrategyLocator,t.NullRepeatStrategy=O.NullRepeatStrategy,t.ArrayRepeatStrategy=M.ArrayRepeatStrategy,t.MapRepeatStrategy=T.MapRepeatStrategy,t.SetRepeatStrategy=I.SetRepeatStrategy,t.NumberRepeatStrategy=j.NumberRepeatStrategy,t.createFullOverrideContext=N.createFullOverrideContext,t.updateOverrideContext=N.updateOverrideContext,t.getItemsSourceExpression=N.getItemsSourceExpression,t.isOneTime=N.isOneTime,t.updateOneTimeBinding=N.updateOneTimeBinding,t.unwrapExpression=N.unwrapExpression,t.viewsRequireLifecycle=R.viewsRequireLifecycle}),t.file("dist/commonjs/compose.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Compose=void 0;var p=e("aurelia-dependency-injection"),f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),m=e("aurelia-task-queue"),v=e("aurelia-templating"),g=e("aurelia-pal");function _(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(i,n,t,e,o){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,e){return e(i,n,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(i,n,r),r=null),r}var b=f.getLogger("templating-resources");t.Compose=(r=(0,v.customElement)("compose"),s=(0,p.inject)(g.DOM.Element,p.Container,v.CompositionEngine,v.ViewSlot,v.ViewResources,m.TaskQueue),r(a=(0,v.noView)(a=s((u=function(){function t(t,e,i,n,o,r){_(this,"model",l,this),_(this,"view",c,this),_(this,"viewModel",h,this),_(this,"swapOrder",d,this),this.element=t,this.container=e,this.compositionEngine=i,this.viewSlot=n,this.viewResources=o,this.taskQueue=r,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,this.changes.view=this.view,this.changes.viewModel=this.viewModel,this.changes.model=this.model,w(this)},t.prototype.unbind=function(){this.changes=Object.create(null),this.pendingTask=null,this.bindingContext=null;this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},t.prototype.modelChanged=function(t,e){this.changes.model=t,k(this)},t.prototype.viewChanged=function(t,e){this.changes.view=t,k(this)},t.prototype.viewModelChanged=function(t,e){this.changes.viewModel=t,k(this)},t}(),l=y(u.prototype,"model",[v.bindable],{enumerable:!0,initializer:null}),c=y(u.prototype,"view",[v.bindable],{enumerable:!0,initializer:null}),h=y(u.prototype,"viewModel",[v.bindable],{enumerable:!0,initializer:null}),d=y(u.prototype,"swapOrder",[v.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a);function w(e){var t,i,n=e.changes;if(e.changes=Object.create(null),"view"in n||"viewModel"in n||!("model"in n)){var o={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};o=Object.assign(o,n),t=e,i=o,o=Object.assign(i,{bindingContext:t.bindingContext,overrideContext:t.overrideContext,owningView:t.owningView,container:t.container,viewSlot:t.viewSlot,viewResources:t.viewResources,currentController:t.currentController,host:t.element,swapOrder:t.swapOrder}),e.pendingTask=e.compositionEngine.compose(o).then(function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null})}else if(e.pendingTask=function(t,e){if(t&&"function"==typeof t.activate)return Promise.resolve(t.activate(e))}(e.currentViewModel,n.model),!e.pendingTask)return;e.pendingTask=e.pendingTask.catch(function(t){b.error(t)}).then(function(){e.pendingTask&&(e.pendingTask=null,function(t){for(var e in t)return!1;return!0}(e.changes)||w(e))})}function k(t){t.pendingTask||t.updateRequested||(t.updateRequested=!0,t.taskQueue.queueMicroTask(function(){t.updateRequested=!1,w(t)}))}}),t.file("dist/commonjs/if.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h;Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;var d=e("aurelia-templating"),p=e("aurelia-dependency-injection"),f=e("./if-core");function m(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(i,n,t,e,o){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,e){return e(i,n,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(i,n,r),r=null),r}t.If=(r=(0,d.customAttribute)("if"),s=(0,p.inject)(d.BoundViewFactory,d.ViewSlot),a=(0,d.bindable)({primaryProperty:!0}),r(u=(0,d.templateController)(u=s((l=function(r){function t(){for(var t,e,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];return m(t=e=v(this,r.call.apply(r,[this].concat(n))),"condition",c,e),m(e,"swapOrder",h,e),v(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,r),t.prototype.bind=function(t,e){r.prototype.bind.call(this,t,e),this.condition?this._show():this._hide()},t.prototype.conditionChanged=function(t){this._update(t)},t.prototype._update=function(t){var e=this;if(!this.animating){var i=void 0;(i=this.elseVm?t?this._swap(this.elseVm,this):this._swap(this,this.elseVm):t?this._show():this._hide())&&(this.animating=!0,i.then(function(){e.animating=!1,e.condition!==e.showing&&e._update(e.condition)}))}},t.prototype._swap=function(t,e){switch(this.swapOrder){case"before":return Promise.resolve(e._show()).then(function(){return t._hide()});case"with":return Promise.all([t._hide(),e._show()]);default:var i=t._hide();return i?i.then(function(){return e._show()}):e._show()}},t}(f.IfCore),c=g(l.prototype,"condition",[a],{enumerable:!0,initializer:null}),h=g(l.prototype,"swapOrder",[d.bindable],{enumerable:!0,initializer:null}),u=l))||u)||u)||u)}),t.file("dist/commonjs/if-core.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IfCore=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1}return t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e},t.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))},t.prototype._show=function(){if(!this.showing)return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view);this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)},t.prototype._hide=function(){var t=this;if(this.showing){this.showing=!1;var e=this.viewSlot.remove(this.view);if(e instanceof Promise)return e.then(function(){return t.view.unbind()});this.view.unbind()}},t}()}),t.file("dist/commonjs/else.js",function(t,e,i,n,o){"use strict";var r,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Else=void 0;var u=e("aurelia-templating"),l=e("aurelia-dependency-injection"),c=e("./if-core");t.Else=(r=(0,u.customAttribute)("else"),s=(0,l.inject)(u.BoundViewFactory,u.ViewSlot),r(a=(0,u.templateController)(a=s(a=function(n){function t(t,e){var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t,e));return i._registerInIf(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,n),t.prototype.bind=function(t,e){n.prototype.bind.call(this,t,e),this.ifVm.condition?this._hide():this._show()},t.prototype._registerInIf=function(){for(var t=this.viewSlot.anchor.previousSibling;t&&!t.au;)t=t.previousSibling;if(!t||!t.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=t.au.if.viewModel,this.ifVm.elseVm=this},t}(c.IfCore))||a)||a)||a)}),t.file("dist/commonjs/with.js",function(t,e,i,n,o){"use strict";var r,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-templating"),c=e("aurelia-binding");t.With=(r=(0,l.customAttribute)("with"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),r(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.parentOverrideContext=null,this.view=null}return t.prototype.bind=function(t,e){this.parentOverrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=(0,c.createOverrideContext)(t,this.parentOverrideContext);this.view?this.view.bind(t,e):(this.view=this.viewFactory.create(),this.view.bind(t,e),this.viewSlot.add(this.view))},t.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/repeat.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Repeat=void 0;var p=e("aurelia-dependency-injection"),f=e("aurelia-binding"),m=e("aurelia-templating"),v=e("./repeat-strategy-locator"),g=e("./repeat-utilities"),_=e("./analyze-view-factory"),y=e("./abstract-repeater");function b(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(i,n,t,e,o){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,e){return e(i,n,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(i,n,r),r=null),r}t.Repeat=(r=(0,m.customAttribute)("repeat"),s=(0,p.inject)(m.BoundViewFactory,m.TargetInstruction,m.ViewSlot,m.ViewResources,f.ObserverLocator,v.RepeatStrategyLocator),r(a=(0,m.templateController)(a=s((u=function(a){function t(t,e,i,n,o,r){var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,{local:"item",viewsRequireLifecycle:(0,_.viewsRequireLifecycle)(t)}));return b(s,"items",l,s),b(s,"local",c,s),b(s,"key",h,s),b(s,"value",d,s),s.viewFactory=t,s.instruction=e,s.viewSlot=i,s.lookupFunctions=n.lookupFunctions,s.observerLocator=o,s.key="key",s.value="value",s.strategyLocator=r,s.ignoreMutation=!1,s.sourceExpression=(0,g.getItemsSourceExpression)(s.instruction,"repeat.for"),s.isOneTime=(0,g.isOneTime)(s.sourceExpression),s.viewsRequireLifecycle=(0,_.viewsRequireLifecycle)(t),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,a),t.prototype.call=function(t,e){this[t](this.items,e)},t.prototype.bind=function(t,e){this.scope={bindingContext:t,overrideContext:e},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},t.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()},t.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},t.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,t)}},t.prototype._getInnerCollection=function(){var t=(0,g.unwrapExpression)(this.sourceExpression);return t?t.evaluate(this.scope,null):null},t.prototype.handleCollectionMutated=function(t,e){this.collectionObserver&&this.strategy.instanceMutated(this,t,e)},t.prototype.handleInnerCollectionMutated=function(t,e){var i=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return i.ignoreMutation=!1}),n===this.items?this.itemsChanged():this.items=n}},t.prototype._observeInnerCollection=function(){var t=this._getInnerCollection(),e=this.strategyLocator.getStrategy(t);return!!e&&(this.collectionObserver=e.getCollectionObserver(this.observerLocator,t),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},t.prototype._observeCollection=function(){var t=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,t),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},t.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var t=this.viewFactory.viewFactory.instructions,e=Object.keys(t),i=0;i<e.length;i++){var n=t[e[i]].expressions;if(n)for(;i<n.length;i++)if("matcher"===n[0].targetProperty){var o=n[0];return n.splice(0,1),o}}},t.prototype.viewCount=function(){return this.viewSlot.children.length},t.prototype.views=function(){return this.viewSlot.children},t.prototype.view=function(t){return this.viewSlot.children[t]},t.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},t.prototype.addView=function(t,e){var i=this.viewFactory.create();i.bind(t,e),this.viewSlot.add(i)},t.prototype.insertView=function(t,e,i){var n=this.viewFactory.create();n.bind(e,i),this.viewSlot.insert(t,n)},t.prototype.moveView=function(t,e){this.viewSlot.move(t,e)},t.prototype.removeAllViews=function(t,e){return this.viewSlot.removeAll(t,e)},t.prototype.removeViews=function(t,e,i){return this.viewSlot.removeMany(t,e,i)},t.prototype.removeView=function(t,e,i){return this.viewSlot.removeAt(t,e,i)},t.prototype.updateBindings=function(t){for(var e=t.bindings.length;e--;)(0,g.updateOneTimeBinding)(t.bindings[e]);for(e=t.controllers.length;e--;)for(var i=t.controllers[e].boundProperties.length;i--;){var n=t.controllers[e].boundProperties[i].binding;(0,g.updateOneTimeBinding)(n)}},t}(y.AbstractRepeater),l=w(u.prototype,"items",[m.bindable],{enumerable:!0,initializer:null}),c=w(u.prototype,"local",[m.bindable],{enumerable:!0,initializer:null}),h=w(u.prototype,"key",[m.bindable],{enumerable:!0,initializer:null}),d=w(u.prototype,"value",[m.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a)}),t.file("dist/commonjs/repeat-strategy-locator.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatStrategyLocator=void 0;var r=e("./null-repeat-strategy"),s=e("./array-repeat-strategy"),a=e("./map-repeat-strategy"),u=e("./set-repeat-strategy"),l=e("./number-repeat-strategy");t.RepeatStrategyLocator=function(){function t(){this.matchers=[],this.strategies=[],this.addStrategy(function(t){return null==t},new r.NullRepeatStrategy),this.addStrategy(function(t){return t instanceof Array},new s.ArrayRepeatStrategy),this.addStrategy(function(t){return t instanceof Map},new a.MapRepeatStrategy),this.addStrategy(function(t){return t instanceof Set},new u.SetRepeatStrategy),this.addStrategy(function(t){return"number"==typeof t},new l.NumberRepeatStrategy)}return t.prototype.addStrategy=function(t,e){this.matchers.push(t),this.strategies.push(e)},t.prototype.getStrategy=function(t){for(var e=this.matchers,i=0,n=e.length;i<n;++i)if(e[i](t))return this.strategies[i];return null},t}()}),t.file("dist/commonjs/null-repeat-strategy.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NullRepeatStrategy=function(){function t(){}return t.prototype.instanceChanged=function(t,e){t.removeAllViews(!0)},t.prototype.getCollectionObserver=function(t,e){},t}()}),t.file("dist/commonjs/array-repeat-strategy.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayRepeatStrategy=void 0;var v=e("./repeat-utilities"),d=e("aurelia-binding");t.ArrayRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getArrayObserver(e)},t.prototype.instanceChanged=function(r,s){var a=this,u=s.length;if(s&&0!==u){var l=r.views(),t=l.length;if(0!==t)if(r.viewsRequireLifecycle){for(var e=l.slice(0),i=r.local,c=r.matcher(),h=[],n=[],o=0;o<t;o++){var d=e[o],p=d.bindingContext[i];-1===(0,v.indexOf)(s,p,c)?n.push(d):h.push(p)}var f=void 0,m=void 0;0<h.length?(m=r.removeViews(n,!0,!r.viewsRequireLifecycle),f=function(){for(var t=0;t<u;t++){var e=s[t],i=(0,v.indexOf)(h,e,c,t),n=void 0;if(-1===i){var o=(0,v.createFullOverrideContext)(r,s[t],t,u);r.insertView(t,o.bindingContext,o),h.splice(t,0,void 0)}else i===t?(n=l[i],h[i]=void 0):(n=l[i],r.moveView(i,t),h.splice(i,1),h.splice(t,0,void 0));n&&(0,v.updateOverrideContext)(n.overrideContext,t,u)}a._inPlaceProcessItems(r,s)}):(m=r.removeAllViews(!0,!r.viewsRequireLifecycle),f=function(){return a._standardProcessInstanceChanged(r,s)}),m instanceof Promise?m.then(f):f()}else this._inPlaceProcessItems(r,s);else this._standardProcessInstanceChanged(r,s)}else r.removeAllViews(!0,!r.viewsRequireLifecycle)},t.prototype._standardProcessInstanceChanged=function(t,e){for(var i=0,n=e.length;i<n;i++){var o=(0,v.createFullOverrideContext)(t,e[i],i,n);t.addView(o.bindingContext,o)}},t.prototype._inPlaceProcessItems=function(t,e){for(var i=e.length,n=t.viewCount();i<n;)n--,t.removeView(n,!0,!t.viewsRequireLifecycle);for(var o=t.local,r=0;r<n;r++){var s=t.view(r),a=r===i-1,u=0!==r&&!a;s.bindingContext[o]===e[r]&&s.overrideContext.$middle===u&&s.overrideContext.$last===a||(s.bindingContext[o]=e[r],s.overrideContext.$middle=u,s.overrideContext.$last=a,t.updateBindings(s))}for(var l=n;l<i;l++){var c=(0,v.createFullOverrideContext)(t,e[l],l,i);t.addView(c.bindingContext,c)}},t.prototype.instanceMutated=function(i,t,e){var n=this;if(i.__queuedSplices){for(var o=0,r=e.length;o<r;++o){var s=e[o],a=s.index,u=s.removed,l=s.addedCount;(0,d.mergeSplice)(i.__queuedSplices,a,u,l)}i.__array=t.slice(0)}else{var c=this._runSplices(i,t.slice(0),e);if(c instanceof Promise){var h=i.__queuedSplices=[];c.then(function t(){if(!h.length)return i.__queuedSplices=void 0,void(i.__array=void 0);var e=n._runSplices(i,i.__array,h)||Promise.resolve();h=i.__queuedSplices=[],e.then(t)})}}},t.prototype._runSplices=function(e,i,n){for(var o=this,t=0,r=[],s=0,a=n.length;s<a;++s){for(var u=n[s],l=0,c=u.removed.length;l<c;++l){var h=e.removeView(u.index+t+r.length,!0);h instanceof Promise&&r.push(h)}t-=u.addedCount}if(0<r.length)return Promise.all(r).then(function(){var t=o._handleAddedSplices(e,i,n);(0,v.updateOverrideContexts)(e.views(),t)});var d=this._handleAddedSplices(e,i,n);(0,v.updateOverrideContexts)(e.views(),d)},t.prototype._handleAddedSplices=function(t,e,i){for(var n=void 0,o=void 0,r=e.length,s=0,a=i.length;s<a;++s){var u=i[s],l=n=u.index,c=u.index+u.addedCount;for((null==o||o>u.index)&&(o=n);l<c;++l){var h=(0,v.createFullOverrideContext)(t,e[l],l,r);t.insertView(l,h.bindingContext,h)}}return o},t}()}),t.file("dist/commonjs/repeat-utilities.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOverrideContexts=function(t,e){var i=t.length;0<e&&(e-=1);for(;e<i;++e)u(t[e].overrideContext,e,i)},t.createFullOverrideContext=function(t,e,i,n,o){var r={},s=(0,a.createOverrideContext)(r,t.scope.overrideContext);void 0!==o?(r[t.key]=o,r[t.value]=e):r[t.local]=e;return u(s,i,n),s},t.updateOverrideContext=u,t.getItemsSourceExpression=function(t,e){return t.behaviorInstructions.filter(function(t){return t.originalAttrName===e})[0].attributes.items.sourceExpression},t.unwrapExpression=function(t){var e=!1;for(;t instanceof a.BindingBehavior;)t=t.expression;for(;t instanceof a.ValueConverter;)t=t.expression,e=!0;return e?t:null},t.isOneTime=function(t){for(;t instanceof a.BindingBehavior;){if("oneTime"===t.name)return!0;t=t.expression}return!1},t.updateOneTimeBinding=function(t){t.call&&t.mode===r?t.call(a.sourceContext):t.updateOneTimeBindings&&t.updateOneTimeBindings()},t.indexOf=function(t,e,i,n){if(!i)return t.indexOf(e);for(var o=t.length,r=n||0;r<o;r++)if(i(t[r],e))return r;return-1};var a=e("aurelia-binding"),r=a.bindingMode.oneTime;function u(t,e,i){var n=0===e,o=e===i-1,r=e%2==0;t.$index=e,t.$first=n,t.$last=o,t.$middle=!(n||o),t.$odd=!r,t.$even=r}}),t.file("dist/commonjs/map-repeat-strategy.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapRepeatStrategy=void 0;var d=e("./repeat-utilities");t.MapRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getMapObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(i,n){var o=0,r=void 0;n.forEach(function(t,e){r=(0,d.createFullOverrideContext)(i,t,o,n.size,e),i.addView(r.bindingContext,r),++o})},t.prototype.instanceMutated=function(t,e,i){var n,o=void 0,r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0;for(r=0,n=i.length;r<n;++r)switch(o=(l=i[r]).key,l.type){case"update":a=this._getViewIndexByKey(t,o),(h=t.removeView(a,!0,!t.viewsRequireLifecycle))instanceof Promise&&c.push(h),s=(0,d.createFullOverrideContext)(t,e.get(o),a,e.size,o),t.insertView(a,s.bindingContext,s);break;case"add":u=t.viewCount()<=e.size-1?t.viewCount():e.size-1,s=(0,d.createFullOverrideContext)(t,e.get(o),u,e.size,o),t.insertView(e.size-1,s.bindingContext,s);break;case"delete":if(void 0===l.oldValue)return;a=this._getViewIndexByKey(t,o),(h=t.removeView(a,!0,!t.viewsRequireLifecycle))instanceof Promise&&c.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}0<c.length?Promise.all(c).then(function(){(0,d.updateOverrideContexts)(t.views(),0)}):(0,d.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByKey=function(t,e){var i,n=void 0;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.key]===e)return n},t}()}),t.file("dist/commonjs/set-repeat-strategy.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetRepeatStrategy=void 0;var d=e("./repeat-utilities");t.SetRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getSetObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(e,i){var n=0,o=void 0;i.forEach(function(t){o=(0,d.createFullOverrideContext)(e,t,n,i.size),e.addView(o.bindingContext,o),++n})},t.prototype.instanceMutated=function(t,e,i){var n,o=void 0,r=void 0,s=void 0,a=void 0,u=void 0,l=[],c=void 0;for(r=0,n=i.length;r<n;++r)switch(o=(u=i[r]).value,u.type){case"add":var h=Math.max(e.size-1,0);s=(0,d.createFullOverrideContext)(t,o,h,e.size),t.insertView(h,s.bindingContext,s);break;case"delete":a=this._getViewIndexByValue(t,o),(c=t.removeView(a,!0,!t.viewsRequireLifecycle))instanceof Promise&&l.push(c);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}0<l.length?Promise.all(l).then(function(){(0,d.updateOverrideContexts)(t.views(),0)}):(0,d.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByValue=function(t,e){var i,n=void 0;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.local]===e)return n},t}()}),t.file("dist/commonjs/number-repeat-strategy.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRepeatStrategy=void 0;var a=e("./repeat-utilities");t.NumberRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(){return null},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=t.viewCount(),n=void 0,o=void 0,r=void 0,s=void 0;if(0<(s=i-(e=Math.floor(e))))for(i<s&&(s=i),n=0,o=s;n<o;++n)t.removeView(i-(n+1),!0,!t.viewsRequireLifecycle);else{for(n=i,o=e;n<o;++n)r=(0,a.createFullOverrideContext)(t,n,n,o),t.addView(r.bindingContext,r);(0,a.updateOverrideContexts)(t.views(),0)}},t}()}),t.file("dist/commonjs/analyze-view-factory.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=a;var s=t.lifecycleOptionalBehaviors=["focus","if","else","repeat","show","hide","with"];function r(t){var e,i,n,o=t.behaviorInstructions;if(o)for(var r=o.length;r--;)if(e=o[r],void 0,i=e.type,n=null!==i.elementName?i.elementName:i.attributeName,-1===s.indexOf(n)&&(i.handlesAttached||i.handlesBind||i.handlesCreated||i.handlesDetached||i.handlesUnbind)||i.viewFactory&&a(i.viewFactory)||e.viewFactory&&a(e.viewFactory))return!0;return t.viewFactory&&a(t.viewFactory)}function a(t){if("_viewsRequireLifecycle"in t)return t._viewsRequireLifecycle;if(t._viewsRequireLifecycle=!1,t.viewFactory)return t._viewsRequireLifecycle=a(t.viewFactory),t._viewsRequireLifecycle;if(t.template.querySelector(".au-animate"))return t._viewsRequireLifecycle=!0;for(var e in t.instructions)if(r(t.instructions[e]))return t._viewsRequireLifecycle=!0;return t._viewsRequireLifecycle=!1}}),t.file("dist/commonjs/abstract-repeater.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractRepeater=function(){function t(t){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return t.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},t.prototype.views=function(){throw new Error("subclass must implement `views`")},t.prototype.view=function(t){throw new Error("subclass must implement `view`")},t.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},t.prototype.addView=function(t,e){throw new Error("subclass must implement `addView`")},t.prototype.insertView=function(t,e,i){throw new Error("subclass must implement `insertView`")},t.prototype.moveView=function(t,e){throw new Error("subclass must implement `moveView`")},t.prototype.removeAllViews=function(t,e){throw new Error("subclass must implement `removeAllViews`")},t.prototype.removeViews=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.removeView=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.updateBindings=function(t){throw new Error("subclass must implement `updateBindings`")},t}()}),t.file("dist/commonjs/show.js",function(t,e,i,n,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Show=void 0;var s=e("aurelia-dependency-injection"),a=e("aurelia-templating"),u=e("aurelia-pal"),l=e("./aurelia-hide-style");t.Show=(0,a.customAttribute)("show")(r=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0))(r=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,l.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.removeClass(this.element,l.aureliaHideClassName):this.animator.addClass(this.element,l.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||r)||r}),t.file("dist/commonjs/aurelia-hide-style.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aureliaHideClassName=void 0,t.injectAureliaHideStyleAtHead=function(){r.DOM.injectStyles(s)},t.injectAureliaHideStyleAtBoundary=function(t){r.FEATURE.shadowDOM&&t&&!t.hasAureliaHideStyle&&(t.hasAureliaHideStyle=!0,r.DOM.injectStyles(s,t))};var r=e("aurelia-pal"),s="."+(t.aureliaHideClassName="aurelia-hide")+" { display:none !important; }"}),t.file("dist/commonjs/hide.js",function(t,e,i,n,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Hide=void 0;var s=e("aurelia-dependency-injection"),a=e("aurelia-templating"),u=e("aurelia-pal"),l=e("./aurelia-hide-style");t.Hide=(0,a.customAttribute)("hide")(r=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0))(r=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,l.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.addClass(this.element,l.aureliaHideClassName):this.animator.removeClass(this.element,l.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||r)||r}),t.file("dist/commonjs/sanitize-html.js",function(t,e,i,n,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizeHTMLValueConverter=void 0;var s=e("aurelia-binding"),a=e("aurelia-dependency-injection"),u=e("./html-sanitizer");t.SanitizeHTMLValueConverter=(0,s.valueConverter)("sanitizeHTML")(r=(0,a.inject)(u.HTMLSanitizer)(r=function(){function t(t){this.sanitizer=t}return t.prototype.toView=function(t){return null==t?null:this.sanitizer.sanitize(t)},t}())||r)||r}),t.file("dist/commonjs/html-sanitizer.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;t.HTMLSanitizer=function(){function t(){}return t.prototype.sanitize=function(t){return t.replace(r,"")},t}()}),t.file("dist/commonjs/replaceable.js",function(t,e,i,n,o){"use strict";var r,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Replaceable=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-templating");t.Replaceable=(r=(0,l.customAttribute)("replaceable"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),r(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null}return t.prototype.bind=function(t,e){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(t,e)},t.prototype.unbind=function(){this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/focus.js",function(t,e,i,n,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Focus=void 0;var s=e("aurelia-templating"),a=e("aurelia-binding"),u=e("aurelia-dependency-injection"),l=e("aurelia-task-queue"),c=e("aurelia-pal");t.Focus=(0,s.customAttribute)("focus",a.bindingMode.twoWay)(r=(0,u.inject)(c.DOM.Element,l.TaskQueue)(r=function(){function t(t,e){this.element=t,this.taskQueue=e,this.isAttached=!1,this.needsApply=!1}return t.prototype.valueChanged=function(t){this.isAttached?this._apply():this.needsApply=!0},t.prototype._apply=function(){var t=this;this.value?this.taskQueue.queueMicroTask(function(){t.value&&t.element.focus()}):this.element.blur()},t.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)},t.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)},t.prototype.handleEvent=function(t){"focus"===t.type?this.value=!0:c.DOM.activeElement!==this.element&&(this.value=!1)},t}())||r)||r}),t.file("dist/commonjs/css-resource.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createCSSResource=function(t){var e;return(0,r.resource)(new c(t))(e=function(t){function e(){return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(h))||e};var r=e("aurelia-templating"),s=e("aurelia-loader"),a=(e("aurelia-dependency-injection"),e("aurelia-path")),u=e("aurelia-pal");var l=/url\((?!['"]data)([^)]+)\)/gi;var c=function(){function t(t){this.address=t,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return t.prototype.initialize=function(t,e){this._scoped=new e(this)},t.prototype.register=function(t,e){"scoped"===e?t.registerViewEngineHooks(this._scoped):this._global=!0},t.prototype.load=function(t){var e=this;return t.get(s.Loader).loadText(this.address).catch(function(t){return null}).then(function(t){t=function(n,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+n);return t.replace(l,function(t,e){var i=e.charAt(0);return"'"!==i&&'"'!==i||(e=e.substr(1,e.length-2)),"url('"+(0,a.relativeToFile)(e,n)+"')"})}(e.address,t),e._scoped.css=t,e._global&&(e._alreadyGloballyInjected=!0,u.DOM.injectStyles(t))})},t}(),h=function(){function t(t){this.owner=t,this.css=null}return t.prototype.beforeCompile=function(t,e,i){if(i.targetShadowDOM)u.DOM.injectStyles(this.css,t,!0);else if(u.FEATURE.scopedCSS){u.DOM.injectStyles(this.css,t,!0).setAttribute("scoped","scoped")}else this._global&&!this.owner._alreadyGloballyInjected&&(u.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},t}()}),t.file("dist/commonjs/attr-binding-behavior.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrBindingBehavior=void 0;var r=e("aurelia-binding");t.AttrBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){t.targetObserver=new r.DataAttributeObserver(t.target,t.targetProperty)},t.prototype.unbind=function(t,e){},t}()}),t.file("dist/commonjs/binding-mode-behaviors.js",function(t,e,i,n,o){"use strict";var r,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=void 0;var u=e("aurelia-binding"),l=e("aurelia-metadata"),c={bind:function(t,e,i){t.originalMode=t.mode,t.mode=this.mode},unbind:function(t,e){t.mode=t.originalMode,t.originalMode=null}};t.OneTimeBindingBehavior=(0,l.mixin)(c)(r=function(){this.mode=u.bindingMode.oneTime})||r,t.OneWayBindingBehavior=(0,l.mixin)(c)(s=function(){this.mode=u.bindingMode.oneWay})||s,t.TwoWayBindingBehavior=(0,l.mixin)(c)(a=function(){this.mode=u.bindingMode.twoWay})||a}),t.file("dist/commonjs/throttle-binding-behavior.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottleBindingBehavior=void 0;var r=e("aurelia-binding");function s(t){var e=this,i=this.throttleState,n=+new Date-i.last;if(n>=i.delay)return clearTimeout(i.timeoutId),i.timeoutId=null,i.last=+new Date,void this.throttledMethod(t);i.newValue=t,null===i.timeoutId&&(i.timeoutId=setTimeout(function(){i.timeoutId=null,i.last=+new Date,e.throttledMethod(i.newValue)},i.delay-n))}t.ThrottleBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,n="updateTarget";t.callSource?n="callSource":t.updateSource&&t.mode===r.bindingMode.twoWay&&(n="updateSource"),t.throttledMethod=t[n],t.throttledMethod.originalName=n,t[n]=s,t.throttleState={delay:i,last:0,timeoutId:null}},t.prototype.unbind=function(t,e){t[t.throttledMethod.originalName]=t.throttledMethod,t.throttledMethod=null,clearTimeout(t.throttleState.timeoutId),t.throttleState=null},t}()}),t.file("dist/commonjs/debounce-binding-behavior.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceBindingBehavior=void 0;var u=e("aurelia-binding"),l={};function c(t){var e=this,i=this.debounceState;clearTimeout(i.timeoutId),i.timeoutId=setTimeout(function(){return e.debouncedMethod(t)},i.delay)}function h(e,i,t){var n=this,o=this.debounceState;if(clearTimeout(o.timeoutId),e!==o.callContextToDebounce)return o.oldValue=l,void this.debouncedMethod(e,i,t);o.oldValue===l&&(o.oldValue=t),o.timeoutId=setTimeout(function(){var t=o.oldValue;o.oldValue=l,n.debouncedMethod(e,i,t)},o.delay)}t.DebounceBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,n=void 0!==t.callSource,o=n?"callSource":"call",r=n?c:h,s=t.mode,a=s===u.bindingMode.twoWay||s===u.bindingMode.fromView?u.targetContext:u.sourceContext;t.debouncedMethod=t[o],t.debouncedMethod.originalName=o,t[o]=r,t.debounceState={callContextToDebounce:a,delay:i,timeoutId:0,oldValue:l}},t.prototype.unbind=function(t,e){t[t.debouncedMethod.originalName]=t.debouncedMethod,t.debouncedMethod=null,clearTimeout(t.debounceState.timeoutId),t.debounceState=null},t}()}),t.file("dist/commonjs/self-binding-behavior.js",function(t,e,i,n,o){"use strict";function r(t){var e,i=(e=t).path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target;this.target===i&&this.selfEventCallSource(t)}Object.defineProperty(t,"__esModule",{value:!0});t.SelfBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){if(!t.callSource||!t.targetEvent)throw new Error("Self binding behavior only supports event.");t.selfEventCallSource=t.callSource,t.callSource=r},t.prototype.unbind=function(t,e){t.callSource=t.selfEventCallSource,t.selfEventCallSource=null},t}()}),t.file("dist/commonjs/signal-binding-behavior.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalBindingBehavior=void 0;var r=e("./binding-signaler");t.SignalBindingBehavior=function(){function t(t){this.signals=t.signals}return t.inject=function(){return[r.BindingSignaler]},t.prototype.bind=function(t,e){if(!t.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var i=arguments[2];(this.signals[i]||(this.signals[i]=[])).push(t),t.signalName=i}else{if(!(3<arguments.length))throw new Error("Signal name is required.");for(var n=Array.prototype.slice.call(arguments,2),o=n.length;o--;){var r=n[o];(this.signals[r]||(this.signals[r]=[])).push(t)}t.signalName=n}},t.prototype.unbind=function(t,e){var i=t.signalName;if(t.signalName=null,Array.isArray(i))for(var n=i,o=n.length;o--;){var r=n[o],s=this.signals[r];s.splice(s.indexOf(t),1)}else{var a=this.signals[i];a.splice(a.indexOf(t),1)}},t}()}),t.file("dist/commonjs/binding-signaler.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingSignaler=void 0;var r=e("aurelia-binding");t.BindingSignaler=function(){function t(){this.signals={}}return t.prototype.signal=function(t){var e=this.signals[t];if(e)for(var i=e.length;i--;)e[i].call(r.sourceContext)},t}()}),t.file("dist/commonjs/update-trigger-binding-behavior.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTriggerBindingBehavior=void 0;var a=e("aurelia-binding"),u="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.";t.UpdateTriggerBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){for(var i=arguments.length,n=Array(2<i?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];if(0===n.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(t.mode!==a.bindingMode.twoWay&&t.mode!==a.bindingMode.fromView)throw new Error(u);var r=t.observerLocator.getObserver(t.target,t.targetProperty);if(!r.handler)throw new Error(u);(t.targetObserver=r).originalHandler=t.targetObserver.handler;var s=new a.EventSubscriber(n);r.handler=s},t.prototype.unbind=function(t,e){t.targetObserver.handler.dispose(),t.targetObserver.handler=t.targetObserver.originalHandler,t.targetObserver.originalHandler=null},t}()}),t.file("dist/commonjs/html-resource-plugin.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementName=a,t.configure=function(t){var e=t.container.get(r.ViewEngine),i=t.aurelia.loader;e.addResourcePlugin(".html",{fetch:function(o){return i.loadTemplate(o).then(function(t){var e,i=t.template.getAttribute("bindable"),n=a(o);return i?(i=i.split(",").map(function(t){return t.trim()}),t.template.removeAttribute("bindable")):i=[],(e={})[n]=(0,s._createDynamicElement)(n,o,i),e})}})};var r=e("aurelia-templating"),s=e("./dynamic-element");function a(t){return/([^\/^\?]+)\.html/i.exec(t)[1].toLowerCase()}}),t.file("dist/commonjs/dynamic-element.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createDynamicElement=function(t,e,i){for(var n,o,r,s=(n=(0,l.customElement)(t),o=(0,l.useView)(e),n(r=o(r=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||r)||r),a=0,u=i.length;a<u;++a)(0,l.bindable)(i[a])(s);return s};var l=e("aurelia-templating")}),t.entry="dist/commonjs/aurelia-templating-resources.js"}),y.pkg("aurelia-templating-router",{},function(t){return t.file("dist/commonjs/aurelia-templating-router.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.RouteHref=t.RouterView=t.TemplatingRouteLoader=void 0;var r=e("aurelia-pal"),s=e("aurelia-router"),a=e("./route-loader"),u=e("./router-view"),l=e("./route-href");t.TemplatingRouteLoader=a.TemplatingRouteLoader,t.RouterView=u.RouterView,t.RouteHref=l.RouteHref,t.configure=function(t){t.singleton(s.RouteLoader,a.TemplatingRouteLoader).singleton(s.Router,s.AppRouter).globalResources(r.PLATFORM.moduleName("./router-view"),r.PLATFORM.moduleName("./route-href")),t.container.registerAlias(s.Router,s.AppRouter)}}),t.file("dist/commonjs/route-loader.js",function(t,e,i,n,o){"use strict";var r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingRouteLoader=void 0;var a=e("aurelia-dependency-injection"),c=e("aurelia-templating"),h=e("aurelia-router"),d=e("aurelia-path"),p=e("aurelia-metadata"),f=e("./router-view");var m=(0,c.inlineView)("<template></template>")(r=function(){})||r;t.TemplatingRouteLoader=(0,a.inject)(c.CompositionEngine)(s=function(i){function t(t){var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this));return e.compositionEngine=t,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,i),t.prototype.loadRoute=function(i,t){var e,n,o,r,s,a=i.container.createChild(),u=void 0;null===t.moduleId?u=m:/\.html/i.test(t.moduleId)?(e=t.moduleId,s=/([^\/^\?]+)\.html/i.exec(e)[1],n=(0,c.customElement)(s),o=(0,c.useView)(e),u=n(r=o(r=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||r)||r):u=(0,d.relativeToFile)(t.moduleId,p.Origin.get(i.container.viewModel.constructor).moduleId);var l={viewModel:u,childContainer:a,view:(t=t||{}).view||t.viewStrategy,router:i};return a.registerSingleton(f.RouterViewLocator),a.getChildRouter=function(){var e=void 0;return a.registerHandler(h.Router,function(t){return e||(e=i.createChild(a))}),a.get(h.Router)},this.compositionEngine.ensureViewModel(l)},t}(h.RouteLoader))||s}),t.file("dist/commonjs/router-view.js",function(t,e,i,n,o){"use strict";var r,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.RouterViewLocator=t.RouterView=void 0;var p=e("aurelia-dependency-injection"),f=e("aurelia-binding"),m=e("aurelia-templating"),v=e("aurelia-router"),g=e("aurelia-metadata"),_=e("aurelia-pal");function y(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(i,n,t,e,o){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=t.slice().reverse().reduce(function(t,e){return e(i,n,t)||t},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(i,n,r),r=null),r}t.RouterView=(r=(0,m.customElement)("router-view"),s=(0,p.inject)(_.DOM.Element,p.Container,m.ViewSlot,v.Router,m.ViewLocator,m.CompositionTransaction,m.CompositionEngine),r(a=(0,m.noView)(a=s((u=function(){function t(t,e,i,n,o,r,s){y(this,"swapOrder",l,this),y(this,"layoutView",c,this),y(this,"layoutViewModel",h,this),y(this,"layoutModel",d,this),this.element=t,this.container=e,this.viewSlot=i,this.router=n,this.viewLocator=o,this.compositionTransaction=r,this.compositionEngine=s,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in r||(r.initialComposition=!0,this.compositionTransactionNotifier=r.enlist())}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.container.viewModel=t,this.overrideContext=e},t.prototype.process=function(e,i){var n=this,t=e.component,o=t.childContainer,r=t.viewModel,s=t.viewModelResource,a=s.metadata,u=t.router.currentInstruction.config,l=u.viewPorts&&u.viewPorts[e.name]||{};o.get(w)._notify(this);var c={viewModel:l.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:l.layoutView||u.layoutView||this.layoutView,model:l.layoutModel||u.layoutModel||this.layoutModel,router:e.component.router,childContainer:o,viewSlot:this.viewSlot},h=this.viewLocator.getViewStrategy(t.view||r);return h&&t.view&&h.makeRelativeTo(g.Origin.get(t.router.container.viewModel.constructor).moduleId),a.load(o,s.value,null,h,!0).then(function(t){if(n.compositionTransactionNotifier||(n.compositionTransactionOwnershipToken=n.compositionTransaction.tryCapture()),(c.viewModel||c.view)&&(e.layoutInstruction=c),e.controller=a.create(o,m.BehaviorInstruction.dynamic(n.element,r,t)),i)return null;n.swap(e)})},t.prototype.swap=function(e){var i=this,n=e.layoutInstruction,o=this.view,r=function(){var t=m.SwapStrategies[i.swapOrder]||m.SwapStrategies.after,e=i.viewSlot;t(e,o,function(){return Promise.resolve(e.add(i.view))}).then(function(){i._notify()})},s=function(t){return e.controller.automate(i.overrideContext,t),i.compositionTransactionOwnershipToken?i.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return i.compositionTransactionOwnershipToken=null,r()}):r()};return n?(n.viewModel||(n.viewModel={}),this.compositionEngine.createController(n).then(function(t){return m.ShadowDOM.distributeView(e.controller.view,t.slots||t.view.slots),t.automate((0,f.createOverrideContext)(n.viewModel),i.owningView),t.view.children.push(e.controller.view),t.view||t}).then(function(t){return i.view=t,s(t)})):(this.view=e.controller.view,s(this.owningView))},t.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},t}(),l=b(u.prototype,"swapOrder",[m.bindable],{enumerable:!0,initializer:null}),c=b(u.prototype,"layoutView",[m.bindable],{enumerable:!0,initializer:null}),h=b(u.prototype,"layoutViewModel",[m.bindable],{enumerable:!0,initializer:null}),d=b(u.prototype,"layoutModel",[m.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a);var w=t.RouterViewLocator=function(){function t(){var e=this;this.promise=new Promise(function(t){return e.resolve=t})}return t.prototype.findNearest=function(){return this.promise},t.prototype._notify=function(t){this.resolve(t)},t}()}),t.file("dist/commonjs/route-href.js",function(t,e,i,n,o){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RouteHref=void 0;var s=e("aurelia-templating"),a=e("aurelia-dependency-injection"),u=e("aurelia-router"),l=e("aurelia-pal");var c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")).getLogger("route-href");t.RouteHref=(0,s.customAttribute)("route-href")(r=(0,s.bindable)({name:"route",changeHandler:"processChange",primaryProperty:!0})(r=(0,s.bindable)({name:"params",changeHandler:"processChange"})(r=(0,s.bindable)({name:"attribute",defaultValue:"href"})(r=(0,a.inject)(u.Router,l.DOM.Element)(r=function(){function t(t,e){this.router=t,this.element=e}return t.prototype.bind=function(){this.isActive=!0,this.processChange()},t.prototype.unbind=function(){this.isActive=!1},t.prototype.attributeChanged=function(t,e){e&&this.element.removeAttribute(e),this.processChange()},t.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then(function(){if(!e.isActive)return null;var t=e.router.generate(e.route,e.params);return e.element.au.controller?e.element.au.controller.viewModel[e.attribute]=t:e.element.setAttribute(e.attribute,t),null}).catch(function(t){c.error(t)})},t}())||r)||r)||r)||r)||r}),t.entry="dist/commonjs/aurelia-templating-router.js"}),y.pkg("aurelia-router",{},function(t){return t.file("dist/commonjs/aurelia-router.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouter=t.PipelineProvider=t.LoadRouteStep=t.RouteLoader=t.ActivateNextStep=t.DeactivatePreviousStep=t.CanActivateNextStep=t.CanDeactivatePreviousStep=t.Router=t.BuildNavigationPlanStep=t.activationStrategy=t.RouterConfiguration=t.RedirectToRoute=t.Redirect=t.NavModel=t.NavigationInstruction=t.CommitChangesStep=t.Pipeline=t.pipelineStatus=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();t._normalizeAbsolutePath=d,t._createRootedPath=p,t._resolveUrl=m,t.isNavigationCommand=x,t._buildNavigationPlan=P;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),u=e("aurelia-route-recognizer"),l=e("aurelia-dependency-injection"),c=e("aurelia-history"),h=e("aurelia-event-aggregator");function d(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return e||"#"===t[0]||(t="#"+t),e&&i&&(t=t.substring(1,t.length)),t}function p(t,e,i,n){if(v.test(t))return t;var o="";return e.length&&"/"!==e[0]&&(o+="/"),(o+=e).length&&"/"===o[o.length-1]||"/"===t[0]||(o+="/"),o.length&&"/"===o[o.length-1]&&"/"===t[0]&&(o=o.substring(0,o.length-1)),d(o+t,i,n)}function m(t,e,i){return f.test(t)?d(t,i):p(t,e,i)}var f=/^#?\//,v=/^([a-z][a-z0-9+\-.]*:)?\/\//i,g=t.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},_=t.Pipeline=function(){function t(){this.steps=[]}return t.prototype.addStep=function(t){var e=void 0;if("function"==typeof t)e=t;else{if("function"==typeof t.getSteps){for(var i=t.getSteps(),n=0,o=i.length;n<o;n++)this.addStep(i[n]);return this}e=t.run.bind(t)}return this.steps.push(e),this},t.prototype.run=function(e){var i=-1,n=this.steps;function o(){if(!(++i<n.length))return o.complete();var t=n[i];try{return t(e,o)}catch(t){return o.reject(t)}}return o.complete=y(o,g.completed),o.cancel=y(o,g.canceled),o.reject=y(o,g.rejected),o()},t}();function y(t,e){return function(t){return Promise.resolve({status:e,output:t,completed:e===g.completed})}}var b=t.CommitChangesStep=function(){function t(){}return t.prototype.run=function(t,e){return t._commitChanges(!0).then(function(){return t._updateTitle(),e()})},t}(),w=t.NavigationInstruction=function(){function t(t){this.plan=null,this.options={},Object.assign(this,t),this.params=this.params||{},this.viewPortInstructions={};var e=[],i=this;do{var n=Object.assign({},i.params);i.config&&i.config.hasChildRouter&&delete n[i.getWildCardName()],e.unshift(n),i=i.parentInstruction}while(i);var o=Object.assign.apply(Object,[{},this.queryParams].concat(e));this.lifecycleArgs=[o,this.config,this]}return t.prototype.getAllInstructions=function(){var t=[this];for(var e in this.viewPortInstructions){var i=this.viewPortInstructions[e].childNavigationInstruction;i&&t.push.apply(t,i.getAllInstructions())}return t},t.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(t){return t.previousInstruction}).filter(function(t){return t})},t.prototype.addViewPortInstruction=function(t,e,i,n){var o=Object.assign({},this.lifecycleArgs[1],{currentViewPort:t});return this.viewPortInstructions[t]={name:t,strategy:e,moduleId:i,component:n,childRouter:n.childRouter,lifecycleArgs:[].concat(this.lifecycleArgs[0],o,this.lifecycleArgs[2])}},t.prototype.getWildCardName=function(){var t=this.config.route.lastIndexOf("*");return this.config.route.substr(t+1)},t.prototype.getWildcardPath=function(){var t=this.getWildCardName(),e=this.params[t]||"";return this.queryString&&(e+="?"+this.queryString),e},t.prototype.getBaseUrl=function(){var e=this,t=decodeURI(this.fragment);if(""===t){var i=this.router.routes.find(function(t){return t.name===e.config.name&&""!==t.route});i&&(t=i.route)}if(!this.params)return encodeURI(t);var n=this.getWildCardName(),o=this.params[n]||"";return o?encodeURI(t.substr(0,t.lastIndexOf(o))):encodeURI(t)},t.prototype._commitChanges=function(n){var o=this,r=this.router;(r.currentInstruction=this).previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,r._refreshBaseUrl(),r.refreshNavigation();var s=[],a=[],t=function(t){var e=o.viewPortInstructions[t],i=r.viewPorts[t];if(!i)throw new Error("There was no router-view found in the view for "+e.moduleId+".");e.strategy===L.replace?e.childNavigationInstruction&&e.childNavigationInstruction.parentCatchHandler?s.push(e.childNavigationInstruction._commitChanges(n)):(n&&a.push({viewPort:i,viewPortInstruction:e}),s.push(i.process(e,n).then(function(t){if(e.childNavigationInstruction)return e.childNavigationInstruction._commitChanges(n)}))):e.childNavigationInstruction&&s.push(e.childNavigationInstruction._commitChanges(n))};for(var e in this.viewPortInstructions)t(e);return Promise.all(s).then(function(){return a.forEach(function(t){return t.viewPort.swap(t.viewPortInstruction)}),null}).then(function(){return(t=o).previousInstruction=null,void(t.plan=null);var t})},t.prototype._updateTitle=function(){var t=this._buildTitle();t&&this.router.history.setTitle(t)},t.prototype._buildTitle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:" | ",e="",i=[];for(var n in this.config.navModel.title&&(e=this.router.transformTitle(this.config.navModel.title)),this.viewPortInstructions){var o=this.viewPortInstructions[n];if(o.childNavigationInstruction){var r=o.childNavigationInstruction._buildTitle(t);r&&i.push(r)}}return i.length&&(e=i.join(t)+(e?t:"")+e),this.router.title&&(e+=(e?t:"")+this.router.transformTitle(this.router.title)),e},t}();var k=t.NavModel=function(){function t(t,e){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=t,this.relativeHref=e}return t.prototype.setTitle=function(t){this.title=t,this.isActive&&this.router.updateTitle()},t}();function x(t){return t&&"function"==typeof t.navigate}var C=t.Redirect=function(){function t(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.options=Object.assign({trigger:!0,replace:!0},e),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigate(this.url,this.options)},t}(),E=(t.RedirectToRoute=function(){function t(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.route=t,this.params=e,this.options=Object.assign({trigger:!0,replace:!0},i),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigateToRoute(this.route,this.params,this.options)},t}(),t.RouterConfiguration=function(){function t(){this.instructions=[],this.options={},this.pipelineSteps=[]}return t.prototype.addPipelineStep=function(t,e){return this.pipelineSteps.push({name:t,step:e}),this},t.prototype.addAuthorizeStep=function(t){return this.addPipelineStep("authorize",t)},t.prototype.addPreActivateStep=function(t){return this.addPipelineStep("preActivate",t)},t.prototype.addPreRenderStep=function(t){return this.addPipelineStep("preRender",t)},t.prototype.addPostRenderStep=function(t){return this.addPipelineStep("postRender",t)},t.prototype.fallbackRoute=function(t){return this._fallbackRoute=t,this},t.prototype.map=function(t){return Array.isArray(t)?(t.forEach(this.map.bind(this)),this):this.mapRoute(t)},t.prototype.useViewPortDefaults=function(t){return this.viewPortDefaults=t,this},t.prototype.mapRoute=function(l){return this.instructions.push(function(t){var e=[];if(Array.isArray(l.route))for(var i=0,n=l.route.length;i<n;++i){var o=Object.assign({},l);o.route=l.route[i],e.push(o)}else e.push(Object.assign({},l));for(var r=void 0,s=0,a=e.length;s<a;++s){var u=e[s];u.settings=u.settings||{},r||(r=t.createNavModel(u)),t.addRoute(u,r)}}),this},t.prototype.mapUnknownRoutes=function(t){return this.unknownRouteConfig=t,this},t.prototype.exportToRouter=function(t){for(var e=this.instructions,i=0,n=e.length;i<n;++i)e[i](t);this.title&&(t.title=this.title),this.unknownRouteConfig&&t.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(t.fallbackRoute=this._fallbackRoute),this.viewPortDefaults&&t.useViewPortDefaults(this.viewPortDefaults),t.options=this.options;var o=this.pipelineSteps;if(o.length){if(!t.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var r=t.pipelineProvider,s=0,a=o.length;s<a;++s){var u=o[s],l=u.name,c=u.step;r.addStep(l,c)}}},t}()),L=t.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},S=t.BuildNavigationPlanStep=function(){function t(){}return t.prototype.run=function(e,i){return P(e).then(function(t){return e.plan=t,i()}).catch(i.cancel)},t}();function P(a,u){var l=a.config;if("redirect"in l){var t=m(l.redirect,function(t){var e=[];t=t.parentInstruction;for(;t;)e.unshift(t.getBaseUrl()),t=t.parentInstruction;return e.unshift("/"),e.join("")}(a));return a.queryString&&(t+="?"+a.queryString),Promise.reject(new C(t))}var c=a.previousInstruction,h={},d=a.router.viewPortDefaults;if(c){var p=function(t,e){var i=t.params,n=e.params,o=e.config.hasChildRouter?e.getWildCardName():null;for(var r in n)if(r!==o&&i[r]!==n[r])return!0;for(var s in i)if(s!==o&&i[s]!==n[s])return!0;if(!e.options.compareQueryParams)return!1;var a=t.queryParams,u=e.queryParams;for(var l in u)if(a[l]!==u[l])return!0;for(var c in a)if(a[c]!==u[c])return!0;return!1}(c,a),f=[],e=function(t){var e=c.viewPortInstructions[t],i=t in l.viewPorts?l.viewPorts[t]:e;null===i.moduleId&&t in a.router.viewPortDefaults&&(i=d[t]);var n=h[t]={name:t,config:i,prevComponent:e.component,prevModuleId:e.moduleId};if(e.moduleId!==i.moduleId)n.strategy=L.replace;else if("determineActivationStrategy"in e.component.viewModel){var o;n.strategy=(o=e.component.viewModel).determineActivationStrategy.apply(o,a.lifecycleArgs)}else l.activationStrategy?n.strategy=l.activationStrategy:n.strategy=p||u?L.invokeLifecycle:L.noChange;if(n.strategy!==L.replace&&e.childRouter){var r=a.getWildcardPath(),s=e.childRouter._createNavigationInstruction(r,a).then(function(e){return P(n.childNavigationInstruction=e,n.strategy===L.invokeLifecycle).then(function(t){e.plan=t})});f.push(s)}};for(var i in c.viewPortInstructions)e(i);return Promise.all(f).then(function(){return h})}for(var i in l.viewPorts){var n=l.viewPorts[i];null===n.moduleId&&i in a.router.viewPortDefaults&&(n=d[i]),h[i]={name:i,strategy:L.replace,config:n}}return Promise.resolve(h)}var A=t.Router=function(){function i(t,e){var i=this;this.parent=null,this.options={},this.viewPortDefaults={},this.transformTitle=function(t){return i.parent?i.parent.transformTitle(t):t},this.container=t,this.history=e,this.reset()}return i.prototype.reset=function(){var e=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.isNavigatingFirst=!1,this.isNavigatingNew=!1,this.isNavigatingRefresh=!1,this.isNavigatingForward=!1,this.isNavigatingBack=!1,this.navigation=[],this.currentInstruction=null,this.viewPortDefaults={},this._fallbackOrder=100,this._recognizer=new u.RouteRecognizer,this._childRecognizer=new u.RouteRecognizer,this._configuredPromise=new Promise(function(t){e._resolveConfiguredPromise=t})},i.prototype.registerViewPort=function(t,e){e=e||"default",this.viewPorts[e]=t},i.prototype.ensureConfigured=function(){return this._configuredPromise},i.prototype.configure=function(t){var e=this;this.isConfigured=!0;var i=t,n=void 0;return"function"==typeof t&&(i=t(n=new E)),Promise.resolve(i).then(function(t){t&&t.exportToRouter&&(n=t),n.exportToRouter(e),e.isConfigured=!0,e._resolveConfiguredPromise()})},i.prototype.navigate=function(t,e){return!this.isConfigured&&this.parent?this.parent.navigate(t,e):(this.isExplicitNavigation=!0,this.history.navigate(m(t,this.baseUrl,this.history._hasPushState),e))},i.prototype.navigateToRoute=function(t,e,i){var n=this.generate(t,e);return this.navigate(n,i)},i.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},i.prototype.createChild=function(t){var e=new i(t||this.container.createChild(),this.history);return e.parent=this,e},i.prototype.generate=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=this._recognizer.hasRoute(t);if((!this.isConfigured||!n)&&this.parent)return this.parent.generate(t,e);if(!n)throw new Error("A route with name '"+t+"' could not be found. Check that `name: '"+t+"'` was specified in the route's config.");var o=p(this._recognizer.generate(t,e),this.baseUrl,this.history._hasPushState,i.absolute);return i.absolute?""+this.history.getAbsoluteRoot()+o:o},i.prototype.createNavModel=function(t){var e=new k(this,"href"in t?t.href:t.route);return e.title=t.title,e.order=t.nav,e.href=t.href,e.settings=t.settings,e.config=t,e},i.prototype.addRoute=function(t,e){O(t,this.routes),"viewPorts"in t||t.navigationStrategy||(t.viewPorts={default:{moduleId:t.moduleId,view:t.view}}),e||(e=this.createNavModel(t)),this.routes.push(t);var i=t.route;"/"===i.charAt(0)&&(i=i.substr(1));var n=!0===t.caseSensitive,o=this._recognizer.add({path:i,handler:t,caseSensitive:n});if(i){var r=t.settings;delete t.settings;var s=JSON.parse(JSON.stringify(t));t.settings=r,s.route=i+"/*childRoute",s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:n}),s.navModel=e,s.settings=t.settings,s.navigationStrategy=t.navigationStrategy}if(((t.navModel=e).order||0===e.order)&&-1===this.navigation.indexOf(e)){if(!e.href&&""!==e.href&&(o.types.dynamics||o.types.stars))throw new Error('Invalid route config for "'+t.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof e.order&&(e.order=++this._fallbackOrder),this.navigation.push(e),this.navigation=this.navigation.sort(function(t,e){return t.order-e.order})}},i.prototype.hasRoute=function(t){return!!(this._recognizer.hasRoute(t)||this.parent&&this.parent.hasRoute(t))},i.prototype.hasOwnRoute=function(t){return this._recognizer.hasRoute(t)},i.prototype.handleUnknownRoutes=function(t){var i=this;if(!t)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(e){return i._createRouteConfig(t,e).then(function(t){return e.config=t,e})}},i.prototype.updateTitle=function(){if(this.parent)return this.parent.updateTitle();this.currentInstruction&&this.currentInstruction._updateTitle()},i.prototype.refreshNavigation=function(){for(var t=this.navigation,e=0,i=t.length;e<i;e++){var n=t[e];n.config.href?n.href=d(n.config.href,this.history._hasPushState):n.href=p(n.relativeHref,this.baseUrl,this.history._hasPushState)}},i.prototype.useViewPortDefaults=function(t){for(var e in t){var i=t[e];this.viewPortDefaults[e]={moduleId:i.moduleId}}},i.prototype._refreshBaseUrl=function(){if(this.parent){var t=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+t}},i.prototype._createNavigationInstruction=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=t,n="",o=t.indexOf("?");-1!==o&&(i=t.substr(0,o),n=t.substr(o+1));var r=this._recognizer.recognize(t);r&&r.length||(r=this._childRecognizer.recognize(t));var s={fragment:i,queryString:n,config:null,parentInstruction:e,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(r&&r.length){var a=r[0],u=new w(Object.assign({},s,{params:a.params,queryParams:a.queryParams||r.queryParams,config:a.config||a.handler}));return"function"==typeof a.handler?M(u,a.handler,a):a.handler&&"function"==typeof a.handler.navigationStrategy?M(u,a.handler.navigationStrategy,a.handler):Promise.resolve(u)}if(this.catchAllHandler)return M(new w(Object.assign({},s,{params:{path:i},queryParams:r?r.queryParams:{},config:null})),this.catchAllHandler);if(this.parent){var l=this._parentCatchAllHandler(this.parent);if(l){var c=this._findParentInstructionFromRouter(l,e);return M(new w(Object.assign({},s,{params:{path:i},queryParams:r?r.queryParams:{},router:l,parentInstruction:c,parentCatchHandler:!0,config:null})),l.catchAllHandler)}}return Promise.reject(new Error("Route not found: "+t))},i.prototype._findParentInstructionFromRouter=function(t,e){return e.router===t?(e.fragment=t.baseUrl,e):e.parentInstruction?this._findParentInstructionFromRouter(t,e.parentInstruction):void 0},i.prototype._parentCatchAllHandler=function(t){return t.catchAllHandler?t:!!t.parent&&this._parentCatchAllHandler(t.parent)},i.prototype._createRouteConfig=function(t,e){var i=this;return Promise.resolve(t).then(function(t){return"string"==typeof t?{moduleId:t}:"function"==typeof t?t(e):t}).then(function(t){return"string"==typeof t?{moduleId:t}:t}).then(function(t){return t.route=e.params.path,O(t,i.routes),t.navModel||(t.navModel=i.createNavModel(t)),t})},s(i,[{key:"isRoot",get:function(){return!this.parent}}]),i}();function O(t,e){if("object"!==(void 0===t?"undefined":r(t)))throw new Error("Invalid Route Config");if("string"!=typeof t.route){var i=t.name||"(no name)";throw new Error('Invalid Route Config for "'+i+'": You must specify a "route:" pattern.')}if(!("redirect"in t||t.moduleId||t.navigationStrategy||t.viewPorts))throw new Error('Invalid Route Config for "'+t.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function M(t,e,i){return Promise.resolve(e.call(i,t)).then(function(){return"viewPorts"in t.config||(t.config.viewPorts={default:{moduleId:t.config.moduleId}}),t})}var T=t.CanDeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return R(t,"canDeactivate",e)},t}(),I=t.CanActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return D(t,"canActivate",e)},t}(),j=t.DeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return R(t,"deactivate",e,!0)},t}(),N=t.ActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return D(t,"activate",e,!0)},t}();function R(t,e,i,n){var o=function t(e,i){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];for(var o in e){var r=e[o],s=r.prevComponent;if((r.strategy===L.invokeLifecycle||r.strategy===L.replace)&&s){var a=s.viewModel;i in a&&n.push(a)}r.strategy===L.replace&&s?B(s,i,n):r.childNavigationInstruction&&t(r.childNavigationInstruction.plan,i,n)}return n}(t.plan,e),r=o.length;function s(t){return n||z(t)?a():i.cancel(t)}function a(){if(r--)try{return V(o[r][e](t),s,i.cancel)}catch(t){return i.cancel(t)}return i()}return a()}function B(t,e,i){var n=t.childRouter;if(n&&n.currentInstruction){var o=n.currentInstruction.viewPortInstructions;for(var r in o){var s=o[r].component,a=s.viewModel;e in a&&i.push(a),B(s,e,i)}}}function D(t,e,o,r){var i=function o(r,s){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];var u=arguments[3];var l=r.plan;Object.keys(l).filter(function(t){var e=l[t],i=r.viewPortInstructions[t],n=i.component.viewModel;(e.strategy===L.invokeLifecycle||e.strategy===L.replace)&&s in n&&a.push({viewModel:n,lifecycleArgs:i.lifecycleArgs,router:u}),e.childNavigationInstruction&&o(e.childNavigationInstruction,s,a,i.component.childRouter||u)});return a}(t,e),s=i.length,a=-1;function u(){if(++a<s)try{var t,n=i[a];return V((t=n.viewModel)[e].apply(t,n.lifecycleArgs),function(t){return e=t,i=n.router,r||z(e,i)?u():o.cancel(e);var e,i},o.cancel)}catch(t){return o.cancel(t)}return o()}return u()}function z(t,e){return!(t instanceof Error)&&(x(t)?("function"==typeof t.setRouter&&t.setRouter(e),!!t.shouldContinueProcessing):void 0===t||t)}var F=function(){function t(t){this._subscribed=!0,this._subscription=t(this),this._subscribed||this.unsubscribe()}return t.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},s(t,[{key:"subscribed",get:function(){return this._subscribed}}]),t}();function V(t,i,n){if(t&&"function"==typeof t.then)return Promise.resolve(t).then(i).catch(n);if(t&&"function"==typeof t.subscribe){var o=t;return new F(function(e){return o.subscribe({next:function(){e.subscribed&&(e.unsubscribe(),i(t))},error:function(t){e.subscribed&&(e.unsubscribe(),n(t))},complete:function(){e.subscribed&&(e.unsubscribe(),i(t))}})})}try{return i(t)}catch(t){return n(t)}}var q=t.RouteLoader=function(){function t(){}return t.prototype.loadRoute=function(t,e,i){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},t}(),H=t.LoadRouteStep=function(){function t(t){this.routeLoader=t}return t.inject=function(){return[q]},t.prototype.run=function(t,e){return U(this.routeLoader,t).then(e).catch(e.cancel)},t}();function U(n,t){var e=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];var n=e.plan;for(var o in n){var r=n[o];if(r.strategy===L.replace)i.push({viewPortPlan:r,navigationInstruction:e}),r.childNavigationInstruction&&t(r.childNavigationInstruction,i);else{var s=e.addViewPortInstruction(o,r.strategy,r.prevModuleId,r.prevComponent);r.childNavigationInstruction&&(s.childNavigationInstruction=r.childNavigationInstruction,t(r.childNavigationInstruction,i))}}return i}(t).map(function(t){return o=n,r=t.navigationInstruction,s=t.viewPortPlan,a=s.config?s.config.moduleId:null,(e=o,i=r,u=s.config,l=i.router,c=i.lifecycleArgs,e.loadRoute(l,u,i).then(function(t){var e=t.viewModel,i=t.childContainer;if(t.router=l,t.config=u,"configureRouter"in e){var n=i.getChildRouter();return(t.childRouter=n).configure(function(t){return e.configureRouter.apply(e,[t,n].concat(c))}).then(function(){return t})}return t})).then(function(t){var i=r.addViewPortInstruction(s.name,s.strategy,a,t),e=t.childRouter;if(e){var n=r.getWildcardPath();return e._createNavigationInstruction(n,r).then(function(e){return P(s.childNavigationInstruction=e).then(function(t){return e.plan=t,i.childNavigationInstruction=e,U(o,e)})})}});var o,r,s,a,e,i,u,l,c});return Promise.all(e)}var Z=function(){function t(t,e,i){this.steps=[],this.container=t,this.slotName=e,this.slotAlias=i}return t.prototype.getSteps=function(){var e=this;return this.steps.map(function(t){return e.container.get(t)})},t}(),W=t.PipelineProvider=function(){function t(t){this.container=t,this.steps=[S,T,H,this._createPipelineSlot("authorize"),I,this._createPipelineSlot("preActivate","modelbind"),j,N,this._createPipelineSlot("preRender","precommit"),b,this._createPipelineSlot("postRender","postcomplete")]}return t.inject=function(){return[l.Container]},t.prototype.createPipeline=function(){var e=this,i=new _;return this.steps.forEach(function(t){return i.addStep(e.container.get(t))}),i},t.prototype._findStep=function(e){return this.steps.find(function(t){return t.slotName===e||t.slotAlias===e})},t.prototype.addStep=function(t,e){var i=this._findStep(t);if(!i)throw new Error("Invalid pipeline slot name: "+t+".");i.steps.includes(e)||i.steps.push(e)},t.prototype.removeStep=function(t,e){var i=this._findStep(t);i&&i.steps.splice(i.steps.indexOf(e),1)},t.prototype._clearSteps=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=this._findStep(t);e&&(e.steps=[])},t.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},t.prototype._createPipelineSlot=function(t,e){return new Z(this.container,t,e)},t}(),G=a.getLogger("app-router");t.AppRouter=function(r){function t(t,e,i,n){var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,e));return o.pipelineProvider=i,o.events=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,r),t.inject=function(){return[l.Container,c.History,W,h.EventAggregator]},t.prototype.reset=function(){r.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},t.prototype.loadUrl=function(t){var e=this;return this._createNavigationInstruction(t).then(function(t){return e._queueInstruction(t)}).catch(function(t){G.error(t),X(e)})},t.prototype.registerViewPort=function(t,e){var i=this;if(r.prototype.registerViewPort.call(this,t,e),this.isActive)this._dequeueInstruction();else{var n=this._findViewModel(t);if("configureRouter"in n){if(!this.isConfigured){var o=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=function(){},this.configure(function(t){return n.configureRouter(t,i)}).then(function(){i.activate(),o()})}}else this.activate()}return Promise.resolve()},t.prototype.activate=function(t){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,t),this.history.activate(this.options),this._dequeueInstruction())},t.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},t.prototype._queueInstruction=function(e){var i=this;return new Promise(function(t){e.resolve=t,i._queue.unshift(e),i._dequeueInstruction()})},t.prototype._dequeueInstruction=function(){var i=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Promise.resolve().then(function(){if(!i.isNavigating||n){var e=i._queue.shift();if(i._queue.length=0,e){i.isNavigating=!0;var t=i.history.getState("NavigationTracker");if(t||i.currentNavigationTracker?t?i.currentNavigationTracker?i.currentNavigationTracker<t?i.isNavigatingForward=!0:i.currentNavigationTracker>t&&(i.isNavigatingBack=!0):i.isNavigatingRefresh=!0:i.isNavigatingNew=!0:(i.isNavigatingFirst=!0,i.isNavigatingNew=!0),t||(t=Date.now(),i.history.setState("NavigationTracker",t)),i.currentNavigationTracker=t,e.previousInstruction=i.currentInstruction,n){if(n===i.maxInstructionCount-1)return G.error(n+1+" navigation instructions have been attempted without success. Restoring last known good location."),X(i),i._dequeueInstruction(n+1);if(n>i.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else i.events.publish("router:navigation:processing",{instruction:e});return i.pipelineProvider.createPipeline().run(e).then(function(t){return function(t,e,i,n){e&&"completed"in e&&"output"in e||((e=e||{}).output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var o=null;x(e.output)?e.output.navigate(n):(o=e).completed||(e.output instanceof Error&&G.error(e.output),X(n));return n._dequeueInstruction(i+1).then(function(t){return o||t||e})}(0,t,n,i)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(t){return function(t,e,i,n){t.resolve(e);var o={instruction:t,result:e};if(i)n.events.publish("router:navigation:child:complete",o);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1,n.isNavigatingFirst=!1,n.isNavigatingNew=!1,n.isNavigatingRefresh=!1,n.isNavigatingForward=!1,n.isNavigatingBack=!1;var r=void 0;if(e.output instanceof Error)r="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,r="success"}else r="canceled";n.events.publish("router:navigation:"+r,o),n.events.publish("router:navigation:complete",o)}return e}(e,t,!!n,i)})}}})},t.prototype._findViewModel=function(t){if(this.container.viewModel)return this.container.viewModel;if(t.container)for(var e=t.container;e;){if(e.viewModel)return this.container.viewModel=e.viewModel,e.viewModel;e=e.parent}},t}(A);function X(t){t.history.previousLocation?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):G.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}}),t.entry="dist/commonjs/aurelia-router.js"}),y.pkg("aurelia-route-recognizer",{},function(t){return t.file("dist/commonjs/aurelia-route-recognizer.js",function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouteRecognizer=t.EpsilonSegment=t.StarSegment=t.DynamicSegment=t.StaticSegment=t.State=void 0;var f=e("aurelia-path"),r=t.State=function(){function i(t){this.charSpec=t,this.nextStates=[]}return i.prototype.get=function(t){var e=this.nextStates,i=Array.isArray(e),n=0;for(e=i?e:e[Symbol.iterator]();;){var o;if(i){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}var r=o;if(r.charSpec.validChars===t.validChars&&r.charSpec.invalidChars===t.invalidChars)return r}},i.prototype.put=function(t){var e=this.get(t);return e||(e=new i(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},i.prototype.match=function(t){for(var e=this.nextStates,i=[],n=0,o=e.length;n<o;n++){var r=e[n],s=r.charSpec;void 0!==s.validChars?-1!==s.validChars.indexOf(t)&&i.push(r):void 0!==s.invalidChars&&-1===s.invalidChars.indexOf(t)&&i.push(r)}return i},i}(),s=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),g=t.StaticSegment=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,i=0,n=e.length;i<n;++i){var o=e[i];t({validChars:this.caseSensitive?o:o.toUpperCase()+o.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(s,"\\$1")},t.prototype.generate=function(){return this.string},t}(),_=t.DynamicSegment=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),y=t.StarSegment=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),b=t.EpsilonSegment=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),m=(t.RouteRecognizer=function(){function t(){this.rootState=new r,this.names={}}return t.prototype.add=function(t){var e=this;if(!Array.isArray(t)){for(var i=this.rootState,n="^",o={statics:0,dynamics:0,stars:0},r=[],s=t.handler.name,a=!0,u=!0,l=function(t,e,i,n){var o=t;"/"===t.charAt(0)&&(o=t.substr(1));for(var r=[],s=o.split("/"),a=0,u=s.length;a<u;++a){var l=s[a],c=l.match(/^:([^?]+)(\?)?$/);if(c){var h=c,d=h[1],p=h[2];if(-1!==d.indexOf("="))throw new Error("Parameter "+d+" in route "+t+" has a default value, which is not supported.");r.push(new _(d,!!p)),e.push(d),i.dynamics++}else(c=l.match(/^\*(.+)$/))?(r.push(new y(c[1])),e.push(c[1]),i.stars++):""===l?r.push(new b):(r.push(new g(l,n)),i.statics++)}return r}(t.path,r,o,t.caseSensitive),c=0,h=l.length;c<h;c++){var d=l[c];d instanceof b||(a=!1,u=u&&d.optional,i=w(i,d),n+=d.optional?"/?":"/",n+=d.regex())}if(u)if(a)i=i.put({validChars:"/"}),n+="/";else{var p=this.rootState.put({validChars:"/"});i.epsilon=[p],i=p}var f=[{handler:t.handler,names:r}];if(s)for(var m=Array.isArray(s)?s:[s],v=0;v<m.length;v++)this.names[m[v]]={segments:l,handlers:f};return i.handlers=f,i.regex=new RegExp(n+"$",t.caseSensitive?"":"i"),i.types=o,i}t.forEach(function(t){return e.add(t)})},t.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.names[t]},t.prototype.generate=function(t,e){var i=this.names[t];if(!i)throw new Error("There is no route named "+t);var n=i.handlers[0].handler;if(n.generationUsesHref)return n.href;for(var o=Object.assign({},e),r=i.segments,s={},a="",u=0,l=r.length;u<l;u++){var c=r[u];if(!(c instanceof b)){var h=c.generate(o,s);if(null==h){if(!c.optional)throw new Error("A value is required for route parameter '"+c.name+"' in route '"+t+"'.")}else a+="/",a+=h}}for(var d in"/"!==a.charAt(0)&&(a="/"+a),s)delete o[d];var p=(0,f.buildQueryString)(o);return a+=p?"?"+p:""},t.prototype.recognize=function(t){var e=[this.rootState],i={},n=!1,o=t,r=o.indexOf("?");if(-1!==r){var s=o.substr(r+1,o.length);o=o.substr(0,r),i=(0,f.parseQueryString)(s)}"/"!==(o=decodeURI(o)).charAt(0)&&(o="/"+o);var a=o.length;1<a&&"/"===o.charAt(a-1)&&(o=o.substr(0,a-1),n=!0);for(var u=0,l=o.length;u<l&&(e=v(e,o.charAt(u))).length;u++);for(var c=[],h=0,d=e.length;h<d;h++)e[h].handlers&&c.push(e[h]);e=c.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0});var p=c[0];if(p&&p.handlers)return n&&"(.+)$"===p.regex.source.slice(-5)&&(o+="/"),function(t,e,i){for(var n=t.handlers,o=t.regex,r=e.match(o),s=1,a=new m(i),u=0,l=n.length;u<l;u++){for(var c=n[u],h=c.names,d={},p=0,f=h.length;p<f;p++)d[h[p]]=r[s++];a.push({handler:c.handler,params:d,isDynamic:!!h.length})}return a}(p,o,i)},t}(),function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}});function v(t,e){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];i.push.apply(i,r.match(e))}for(var s=i.filter(function(t){return t.epsilon}),a=function(){var e=[];s.forEach(function(t){i.push.apply(i,t.epsilon),e.push.apply(e,t.epsilon)}),s=e.filter(function(t){return t.epsilon})};0<s.length;)a();return i}function w(t,e){var i=t.put({validChars:"/"});return e.eachChar(function(t){i=i.put(t)}),e.optional&&(t.epsilon=t.epsilon||[],t.epsilon.push(i)),i}}),t.entry="dist/commonjs/aurelia-route-recognizer.js"}),y.pkg("fuse-box-aurelia-loader",{},function(t){return t.file("dist/commonjs/fuse-box-aurelia-loader.js",function(t,e,i,n,o){var r,s=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__awaiter||function(r,s,a,u){return new(a||(a=Promise))(function(t,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}o((u=u.apply(r,s||[])).next())})},l=this&&this.__generator||function(i,n){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(t,"__esModule",{value:!0});var u,c=e("aurelia-metadata"),h=e("aurelia-loader"),d=e("aurelia-pal"),p=e("aurelia-logging").getLogger("fuse-box-aurelia-loader"),f=function(){function t(){}return t.prototype.loadTemplate=function(i,n){return a(this,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return[4,i.loadText(n.address)];case 1:return e=t.sent(),n.template=d.DOM.createTemplateFromMarkup(e),[2]}})})},t}();function m(t,e){var i,n,o=t;if(o.__useDefault&&(o=o.default),c.Origin.set(o,new c.Origin(e,"default")),"object"==typeof o)for(i in o)"function"==typeof(n=o[i])&&c.Origin.set(n,new c.Origin(e,i));return t}t.TextTemplateLoader=f,t.ensureOriginOnExports=m;try{u=y.import("process").env}catch(t){u={},console.log(t)}var v=u.FB_AU_LOG||window.FUSEBOX_AURELIA_LOADER_LOGGING;function g(t,e,i){v&&("error"===t&&p.error(e,i),"info"===t&&p.debug(e,i))}var _=function(e){function t(){var t=e.call(this)||this;return t.loaderPlugins=Object.create(null),t.moduleRegistry=Object.create(null),t.modulesBeingLoaded=new Map,t.useTemplateLoader(new f),t.addPlugin("template-registry-entry",{fetch:function(i){return a(t,void 0,void 0,function(){var e;return l(this,function(t){switch(t.label){case 0:return g("info","template-registry-entry- fetch =>",i),(e=this.getOrCreateTemplateRegistryEntry(i)).templateIsLoaded?[3,2]:[4,this.templateLoader.loadTemplate(this,e)];case 1:t.sent(),t.label=2;case 2:return[2,e]}})})}}),t}return s(t,e),t.prototype.useTemplateLoader=function(t){this.templateLoader=t},t.prototype.loadAllModules=function(t){var e=this;return g("info","loadAllModules => ",arguments),Promise.all(t.map(function(t){return e.loadModule(t)}))},t.prototype.loadTemplate=function(t){return g("info","loadTemplate => ",arguments),this.loadModule(this.applyPluginToUrl(t,"template-registry-entry"))},t.prototype.loadText=function(t){return g("info","loadText => ",arguments),Promise.resolve(this.loadWithFusebox(this.findFuseBoxPath(t))).then(function(t){return"string"==typeof t?t:t.default?t.default:""})},t.prototype.loadModule=function(o){return a(this,void 0,void 0,function(){var e,i,n;return l(this,function(t){switch(t.label){case 0:return g("info","loadModule => ",o),(e=this.moduleRegistry[o])?[2,e]:(i=this.modulesBeingLoaded.get(o))?[2,i]:(i=this._import(o),this.modulesBeingLoaded.set(o,i),[4,i]);case 1:return n=t.sent(),this.moduleRegistry[o]=m(n,o),this.modulesBeingLoaded.delete(o),[2,n]}})})},t.prototype.addPlugin=function(t,e){this.loaderPlugins[t]=e},t.prototype.normalize=function(t,e){return g("info","normalize =>",[t,e]),Promise.resolve(t)},t.prototype.map=function(){},t.prototype._import=function(u){return a(this,void 0,void 0,function(){var e,i,n,o,r,s,a;return l(this,function(t){switch(t.label){case 0:e=u.split("!"),i=e.splice(e.length-1,1)[0],n=1===e.length?e[0]:null,t.label=1;case 1:if(t.trys.push([1,4,,5]),!n)return[3,3];if(!(o=this.loaderPlugins[n]))throw new Error("Plugin "+n+" is not registered in the loader.");return[4,o.fetch(i)];case 2:return[2,t.sent()];case 3:return[3,5];case 4:throw r=t.sent(),new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+u+", module id was: "+i+"\n        Did you forget to add it to bundle?\n\n        "+r+"\n      ");case 5:s=this.findFuseBoxPath(i);try{return a=m(a=this.loadWithFusebox(s),i),this.moduleRegistry[i]=a,[2,Promise.resolve(a)]}catch(t){throw new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+u+", module path returned: "+s+"\n        Did you forget to add it to bundle?\n\n        "+t+"\n      ")}return[2]}})})},t.prototype.applyPluginToUrl=function(t,e){return g("info","applyPluginToUrl =>",arguments),e+"!"+t},t.prototype.loadWithFusebox=function(t){return y.import(t)},t.prototype.fuseBoxExist=function(t){var e=!1;try{e=y.exists(t)}catch(t){e=!1}return e},t.prototype.findFuseBoxPath=function(e){var t;switch(!0){case-1!==e.indexOf("/"):switch(!0){case this.fuseBoxExist(e):t=e;break;case this.fuseBoxExist("~/"+e):t="~/"+e;break;default:var i=Object.keys(y.packages).find(function(t){return e.startsWith(t+"/")});if(i){var n=y.packages[i].s.entry,o=e.replace(i,"");t=i+"/"+n.replace(/\/([^\/]+)\/?$/,o)}if(!this.fuseBoxExist(t))throw g("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}break;default:switch(!0){case this.fuseBoxExist(e):t=e;break;case this.fuseBoxExist("~/"+e):t="~/"+e;break;default:throw g("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}}return t},t}(h.Loader);t.FuseBoxAureliaLoader=_,d.PLATFORM.Loader=_}),t.entry="dist/commonjs/fuse-box-aurelia-loader.js"}),y.pkg("onsenui",{},function(t){return t.file("js/onsenui.js",function(t,e,i,n,o){var r,s,ha=e("process");r=this,s=function(){"use strict";var t,e,n={},r=(t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],function(t){return"-"+e+"-"+U.hyphenate(t)}),u=function(e,i){return Object.keys(i).forEach(function(t){t in e.style?e.style[t]=i[t]:r(t)in e.style?e.style[r(t)]=i[t]:U.warn("No such style property: "+t)}),e};u.clear=function(i){for(var n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"").split(/\s+/).reduce(function(t,e){return t.concat([U.hyphenate(e),r(e)])},[]),o=[],t=function(t){var e=i.style[t];(0===n.length||n.some(function(t){return 0===e.indexOf(t)}))&&o.push(e)},e=i.style.length-1;0<=e;e--)t(e);o.forEach(function(t){return i.style[t]=""}),""===i.getAttribute("style")&&i.removeAttribute("style")};var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},d=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),a=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},f=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},m=function(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},v=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},g=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},i=window.HTMLElement,c=new(function(){function t(){h(this,t),this._selectedPlatform=null,this._ignorePlatformSelect=!1}return d(t,[{key:"select",value:function(t){"string"==typeof t&&(this._selectedPlatform=t.trim().toLowerCase())}},{key:"_getSelectedPlatform",value:function(){return this._ignorePlatformSelect?null:this._selectedPlatform}},{key:"_runOnActualPlatform",value:function(t){this._ignorePlatformSelect=!0;var e=t();return this._ignorePlatformSelect=!1,e}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPhoneX",value:function(){return this.isIPhone()&&(375===window.screen.width&&812===window.screen.height||812===window.screen.width&&375===window.screen.height)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isIOS",value:function(){return this._getSelectedPlatform()?"ios"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":l(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":l(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&7<=parseInt(device.version.split(".")[0]);if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return 7<=parseInt(t.split(".")[0])}return!1}},{key:"isIOSSafari",value:function(){var t=window.navigator,e=t.userAgent;return!(!this.isIOS()||-1===e.indexOf("Safari")||-1===e.indexOf("Version")||t.standalone)}},{key:"isWKWebView",value:function(){var t=/constructor/i.test(i);return!(!(this.isIOS()&&window.webkit&&window.webkit.messageHandlers&&window.indexedDB)||t)}},{key:"isUIWebView",value:function(){return!(!this.isIOS()||this.isIOSSafari()||this.isWKWebView())}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isAndroid",value:function(){return this._getSelectedPlatform()?"android"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":l(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isWP",value:function(){return this._getSelectedPlatform()?"wp"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":l(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isBlackBerry",value:function(){return this._getSelectedPlatform()?"blackberry"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":l(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._getSelectedPlatform()?"opera"===this._getSelectedPlatform():!!window.opera||0<=navigator.userAgent.indexOf(" OPR/")}},{key:"isFirefox",value:function(){return this._getSelectedPlatform()?"firefox"===this._getSelectedPlatform():"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._getSelectedPlatform()?"safari"===this._getSelectedPlatform():0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()}},{key:"isChrome",value:function(){return this._getSelectedPlatform()?"chrome"===this._getSelectedPlatform():!(!window.chrome||window.opera||0<=navigator.userAgent.indexOf(" OPR/")||0<=navigator.userAgent.indexOf(" Edge/"))}},{key:"isIE",value:function(){return this._getSelectedPlatform()?"ie"===this._getSelectedPlatform():!!document.documentMode}},{key:"isEdge",value:function(){return this._getSelectedPlatform()?"edge"===this._getSelectedPlatform():0<=navigator.userAgent.indexOf(" Edge/")}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),t}()),_=function(t){return U.throw("In PageAttributeExpression: "+t)},o={_variables:{},defineVariable:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"string"!=typeof t?_("Variable name must be a string"):"string"!=typeof e&&"function"!=typeof e?_("Variable value must be a string or a function"):this._variables.hasOwnProperty(t)&&!i&&_('"'+t+'" is already defined'),this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,i=!1,n=0,o=[];0===t.length&&_("Unable to parse empty string");for(var r=0;r<t.length;r++){if("$"===(e=t.charAt(r))&&"{"===t.charAt(r+1))i&&_("Nested interpolation not supported"),0<t.substring(n,r).length&&o.push(t.substring(n,r)),n=r,i=!0;else if("}"===e){i||_("} must be preceeded by ${"),0<t.substring(n,r+1).length&&o.push(t.substring(n,r+1)),n=r+1,i=!1}}return i&&_("Unterminated interpolation"),o.push(t.substring(n,t.length)),o},_replaceToken:function(t){var e=t.match(/^\${(.*?)}$/);if(!e)return t;var i=e[1].trim(),n=this.getVariable(i);if(null!==n){if("string"==typeof n)return n;var o=n();return"string"!=typeof o&&_("Must return a string"),o}_('Variable "'+i+'" does not exist')},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};o.defineVariable("mobileOS",c.getMobileOS()),o.defineVariable("iOSDevice",c.getIOSDevice()),o.defineVariable("runtime",function(){return c.isWebView()?"cordova":"browser"});var y={config:{autoStatusBarFill:!0,animationsDisabled:!1,warningsDisabled:!1}};y.nullElement=window.document.createElement("div"),y.isEnabledAutoStatusBarFill=function(){return!!y.config.autoStatusBarFill},y.normalizePageHTML=function(t){return(""+t).trim()},y.waitDOMContentLoaded=function(e){if("loading"===window.document.readyState||"uninitialized"==window.document.readyState){window.document.addEventListener("DOMContentLoaded",function t(){e(),window.document.removeEventListener("DOMContentLoaded",t)})}else setImmediate(e)},y.autoStatusBarFill=function(e){var t=function t(){y.shouldFillStatusBar()&&e(),document.removeEventListener("deviceready",t)};"object"===("undefined"==typeof device?"undefined":l(device))?document.addEventListener("deviceready",t):-1===["complete","interactive"].indexOf(document.readyState)?y.waitDOMContentLoaded(t):t()},y.shouldFillStatusBar=function(){return y.isEnabledAutoStatusBarFill()&&(c.isWebView()&&c.isIOS7above()&&!c.isIPhoneX()||document.body.querySelector(".ons-status-bar-mock.ios"))},y.templateStore={_storage:{},get:function(t){return y.templateStore._storage[t]||null},set:function(t,e){y.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&y.templateStore.set(t.templateId,t.template)},!1),y.waitDOMContentLoaded(function(){function t(t){for(var e=window.document.querySelectorAll(t),i=0;i<e.length;i++)y.templateStore.set(e[i].getAttribute("id"),e[i].textContent||e[i].content)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]'),t("template")}),y.getTemplateHTMLAsync=function(a){return new Promise(function(r,s){y.waitDOMContentLoaded(function(){var t=y.templateStore.get(a);if(t){if(t instanceof DocumentFragment)return r(t);var e="string"==typeof t?t:t[1];return r(y.normalizePageHTML(e))}var i=window.document.getElementById(a);if(i){var n=i.textContent||i.content;return r(n)}var o=new XMLHttpRequest;o.open("GET",a,!0),o.onload=function(){var t=o.responseText;if(400<=o.status&&o.status<600)s(t);else{var e=U.createFragment(t);U.arrayFrom(e.querySelectorAll("script")).forEach(function(t){var e=document.createElement("script");e.type=t.type||"text/javascript",e.appendChild(document.createTextNode(t.text||t.textContent||t.innerHTML)),t.parentNode.replaceChild(e,t)}),y.templateStore.set(a,e),r(e)}},o.onerror=function(){U.throw("Page template not found: "+a)},o.send(null)})})},y.getPageHTMLAsync=function(t){var i=o.evaluate(t);return function e(t){return"string"!=typeof t?Promise.reject("Must specify a page."):y.getTemplateHTMLAsync(t).catch(function(t){return 0===i.length?Promise.reject(t):e(i.shift())})}(i.shift())};var b=function(){function e(t){h(this,e),this._animators=t.animators,this._baseClass=t.baseClass,this._baseClassName=t.baseClassName||t.baseClass.name,this._animation=t.defaultAnimation||"default",this._animationOptions=t.defaultAnimationOptions||{},this._animators[this._animation]||U.throw("No such animation: "+this._animation)}return d(e,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=null;if(t.animation instanceof this._baseClass)return t.animation;var n=null;if("string"==typeof t.animation&&(n=this._animators[t.animation]),!n&&e)i=e;else{n=n||this._animators[this._animation];var o=U.extend({},this._animationOptions,t.animationOptions||{},y.config.animationsDisabled?{duration:0,delay:0}:{});"function"==typeof(i=new n(o))&&(i=new i(o))}return i instanceof this._baseClass||U.throw('"animator" is not an instance of '+this._baseClassName),i}}],[{key:"parseAnimationOptionsString",value:function(e){try{if("string"==typeof e){var t=U.animationOptionsParse(e);if("object"===(void 0===t?"undefined":l(t))&&null!==t)return t;console.error('"animation-options" attribute must be a JSON object string: '+e)}return{}}catch(t){return console.error('"animation-options" attribute must be a JSON object string: '+e),{}}}}]),e}(),w=!0,k={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",tappable:""},x={android:function(t){var e=t.tagName.toLowerCase();if(!U.hasModifier(t,"material")){var i=(t.getAttribute("modifier")||"").trim().split(/\s+/).map(function(t){return k.hasOwnProperty(t)?k[t]:t});i.unshift("material"),t.setAttribute("modifier",i.join(" ").trim())}-1===["ons-alert-dialog-button","ons-toolbar-button","ons-back-button","ons-button","ons-list-item","ons-fab","ons-speed-dial","ons-speed-dial-item","ons-tab"].indexOf(e)||t.hasAttribute("ripple")||t.querySelector("ons-ripple")||("ons-list-item"===e?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},ios:function(t){U.removeModifier(t,"material")&&(U.removeModifier(t,"material--flat")&&U.addModifier(t,U.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))}},C={android:!0},E=function(t,e){if(w&&!t.hasAttribute("disable-auto-styling")){var i=c.getMobileOS();if(x.hasOwnProperty(i)&&(C.hasOwnProperty(i)||e))return i}return null},L=function(t,e,i){return E(e,i)?t.split(/\s+/).map(function(t){return k.hasOwnProperty(t)?k[t]:t}).join(" "):t},S={isEnabled:function(){return w},enable:function(){return w=!0},disable:function(){return w=!1},prepare:function(t,e){var i=E(t,e);i&&x[i](t)},mapModifier:L,getPlatform:E,restoreModifier:function(t){if("android"===E(t)){var e=t.getAttribute("modifier")||"",i=L(e,t);if(/(^|\s+)material($|\s+)/i.test(e)||(i="material "+i),i!==e)return t.setAttribute("modifier",i.trim()),!0}return!1}},P=function(){function s(){h(this,s)}return d(s,null,[{key:"diff",value:function(i,n){i=e((""+i).trim()),n=e((""+n).trim());var t=Object.keys(i).reduce(function(t,e){return n[e]||t.push(e),t},[]);return{added:Object.keys(n).reduce(function(t,e){return i[e]||t.push(e),t},[]),removed:t};function e(t){var e={};return s.split(t).forEach(function(t){return e[t]=t}),e}}},{key:"applyDiffToClassList",value:function(t,e,i){t.added.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.add(t)})}),t.removed.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.remove(t)})})}},{key:"applyDiffToElement",value:function(n,o,r){Object.keys(r).forEach(function(t){for(var e=!t||U.match(o,t)?[o]:Array.prototype.filter.call(o.querySelectorAll(t),function(t){return!U.findParent(t,o.tagName,function(t){return t===o})}),i=0;i<e.length;i++)s.applyDiffToClassList(n,e[i].classList,r[t])})}},{key:"onModifierChanged",value:function(t,e,i,n){s.applyDiffToElement(s.diff(t,e),i,n),S.restoreModifier(i)}},{key:"refresh",value:function(t,e){s.applyDiffToElement(s.diff("",t.getAttribute("modifier")||""),t,e)}},{key:"initModifier",value:function(t,e){var i=t.getAttribute("modifier");"string"==typeof i&&s.applyDiffToElement({removed:[],added:s.split(i)},t,e)}},{key:"split",value:function(t){return"string"!=typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}},{key:"addModifier",value:function(t,e){if(t.hasAttribute("modifier")){var i=s.split(t.getAttribute("modifier"));-1==i.indexOf(e)&&(i.push(e),t.setAttribute("modifier",i.join(" ")))}else t.setAttribute("modifier",e)}},{key:"removeModifier",value:function(t,e){if(t.hasAttribute("modifier")){var i=s.split(t.getAttribute("modifier")),n=i.indexOf(e);-1!==n&&(i.splice(n,1),t.setAttribute("modifier",i.join(" ")))}}}]),s}(),A={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){A._domContentLoaded=!0,c.isWebView()?window.document.addEventListener("deviceready",function(){A._ready=!0},!1):A._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return A._onDOMContentLoaded()},!1);var O,M={_store:{},_genId:(O=0,function(){return O++}),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var i=t.dataset.deviceBackButtonHandlerId=M._genId();this._store[i]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},T=new(function(){function t(){h(this,t),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return d(t,[{key:"enable",value:function(){this._isEnabled||(A.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(A.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var i={_callback:e,_element:t,disable:function(){M.remove(t)},setListener:function(t){this._callback=t},enable:function(){M.set(t,this)},isEnabled:function(){return M.get(t)===this},destroy:function(){M.remove(t),this._callback=this._element=null}};return i.enable(),i}},{key:"_dispatchDeviceBackButtonEvent",value:function(){var t=this._captureTree(),e=this._findHandlerLeafElement(t),i=M.get(e);i._callback(function e(t){return{_element:t,callParentHandler:function(){for(var t=this._element.parentNode;t;){if(i=M.get(t))return i._callback(e(t));t=t.parentNode}}}}(e))}},{key:"_captureTree",value:function(){return function i(t){var e={element:t,children:Array.prototype.concat.apply([],function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}(t.children).map(function(t){if("none"===t.style.display||!1===t._isShown)return[];if(0===t.children.length&&!M.has(t))return[];var e=i(t);return 0!==e.children.length||M.has(e.element)?[e]:[]}))};if(!M.has(e.element))for(var n=0;n<e.children.length;n++){var o=e.children[n];if(M.has(o.element))return o}return e}(document.body)}},{key:"_findHandlerLeafElement",value:function(t){return function t(e){if(0===e.children.length)return e.element;if(1===e.children.length)return t(e.children[0]);return e.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var i=parseInt(window.getComputedStyle(t,"").zIndex,10),n=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(i)&&!isNaN(n))return n<i?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}(t)}}]),t}());y.AnimatorFactory=b,y.ModifierUtil=P,y.dbbDispatcher=T;var I=function(t,e){return t.substr(0,e.length)===e},j=function(t,e){return t.substr(t.length-e.length,e.length)===e},N=function(t){return t.slice(1,-1)},R=function(t){return I(t,"{")&&j(t,"}")},B=function(t){return I(t,"[")&&j(t,"]")},D=function(t){return I(t,"'")&&j(t,"'")||I(t,'"')&&j(t,'"')},z=function(t,e,i){throw new Error("Unexpected token '"+t+"' at position "+(i.length-e.length-1)+" in string: '"+i+"'")},F=function(t,e,i){return"true"===t||"false"===t?"true"===t:D(t)?N(t):isNaN(t)?R(t)?q(N(t)):B(t)?H(N(t)):void z(t,e,i):+t},V=function(t){var e=(t=t.trim()).length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var i=t.charCodeAt(0),n=1,o=1;o<t.length;o++)if(t.charCodeAt(o)===i)n++;else if(t.charCodeAt(o)===i+2&&0===--n){e=o+1;break}}else if("'"===t[0]||'"'===t[0]){for(var r=1;r<t.length;r++)if(t[r]===t[0]){e=r+1;break}}else for(var s=1;s<t.length;s++)if(-1!==[" ",",",":"].indexOf(t[s])){e=s;break}return t.slice(0,e)},q=function(t){for(var e=t=t.trim(),i={},n=!0,o=void 0,r=void 0,s=void 0;0<t.length;)if(r=s,s=V(t),t=t.slice(s.length,t.length).trim(),":"===s&&(!n||!r||","===r)||","===s&&n||":"!==s&&","!==s&&r&&","!==r&&":"!==r)z(s,t,e);else if(":"===s&&n&&r){if(r=D(r)?N(r):r,!/^[A-Z_$][A-Z0-9_$]*$/i.test(r))throw new Error("Invalid key token '"+r+"' at position 0 in string: '"+e+"'");o=r,n=!1}else","===s&&!n&&r&&(i[o]=F(r,t,e),n=!0);return s&&(i[o]=F(s,t,e)),i},H=function(t){for(var e=t=t.trim(),i=[],n=void 0,o=void 0;0<t.length;)n=o,o=V(t),t=t.slice(o.length,t.length).trim(),","!==o||n&&","!==n?","===o&&i.push(F(n,t,e)):z(o,t,e);return o&&(","!==o?i.push(F(o,t,e)):z(o,t,e)),i},U={},Z="[Onsen UI]";U.globals={fabOffset:0,errorPrefix:Z,supportsPassive:!1},c._runOnActualPlatform(function(){U.globals.actualMobileOS=c.getMobileOS(),U.globals.isUIWebView=c.isUIWebView(),U.globals.isWKWebView=c.isWKWebView()});try{var W=Object.defineProperty({},"passive",{get:function(){U.globals.supportsPassive=!0}});window.addEventListener("testPassive",null,W),window.removeEventListener("testPassive",null,W)}catch(t){}U.addEventListener=function(t,e,i,n,o){t.addEventListener(e,i,U.globals.supportsPassive?n:(n||{}).capture)},U.removeEventListener=function(t,e,i,n,o){t.removeEventListener(e,i,U.globals.supportsPassive?n:(n||{}).capture)},U.prepareQuery=function(e){return e instanceof Function?e:function(t){return U.match(t,e)}},U.match=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)},U.findChild=function(t,e){for(var i=U.prepareQuery(e),n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];if(o.nodeType===Node.ELEMENT_NODE&&i(o))return o}return null},U.findParent=function(t,e,i){for(var n=U.prepareQuery(e),o=t.parentNode;;){if(!o||o===document||o instanceof DocumentFragment||i&&i(o))return null;if(n(o))return o;o=o.parentNode}},U.isAttached=function(t){return document.body.contains(t)},U.hasAnyComponentAsParent=function(t){for(;t&&document.documentElement!==t;)if((t=t.parentNode)&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/))return!0;return!1},U.isPageControl=function(t){return t.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i)},U.propagateAction=function(t,e){for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];n[e]instanceof Function?n[e]():U.propagateAction(n,e)}},U.camelize=function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},U.hyphenate=function(t){return t.replace(/([a-zA-Z])([A-Z])/g,"$1-$2").toLowerCase()},U.create=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.split("."),n=document.createElement(i.shift()||"div");return i.length&&(n.className=i.join(" ")),u(n,e),n},U.createElement=function(t){var e=document.createElement("div");t instanceof DocumentFragment?e.appendChild(document.importNode(t,!0)):e.innerHTML=t.trim(),1<e.children.length&&U.throw("HTML template must contain a single root element");var i=e.children[0];return e.children[0].remove(),i},U.createFragment=function(t){var e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)},U.extend=function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o=0;o<i.length;o++)if(i[o])for(var r=Object.keys(i[o]),s=0;s<r.length;s++){var a=r[s];t[a]=i[o][a]}return t},U.arrayFrom=function(t){return Array.prototype.slice.apply(t)},U.parseJSONObjectSafely=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{var i=JSON.parse(""+t);if("object"===(void 0===i?"undefined":l(i))&&null!==i)return i}catch(t){return e}return e},U.findFromPath=function(t){t=t.split(".");for(var e,i=window;e=t.shift();)i=i[e];return i},U.getTopPage=function(t){return t&&("ons-page"===t.tagName.toLowerCase()?t:t.topPage)||null},U.findToolbarPage=function(t){var e=U.getTopPage(t);if(e){if(e._canAnimateToolbar())return e;for(var i=0;i<e._contentElement.children.length;i++){var n=U.getTopPage(e._contentElement.children[i]);if(n&&!/ons-tabbar/i.test(e._contentElement.children[i].tagName))return U.findToolbarPage(n)}}return null},U.triggerElementEvent=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});return Object.keys(i).forEach(function(t){n[t]=i[t]}),t.dispatchEvent(n),n},U.hasModifier=function(t,e){return!!t.hasAttribute("modifier")&&RegExp("(^|\\s+)"+e+"($|\\s+)","i").test(t.getAttribute("modifier"))},U.addModifier=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return i.autoStyle&&(e=S.mapModifier(e,t,i.forceAutoStyle)),!U.hasModifier(t,e)&&(t.setAttribute("modifier",((t.getAttribute("modifier")||"")+" "+e).trim()),!0)},U.removeModifier=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(i.autoStyle&&(e=S.mapModifier(e,t,i.forceAutoStyle)),!t.getAttribute("modifier")||!U.hasModifier(t,e))return!1;var n=t.getAttribute("modifier").split(/\s+/).filter(function(t){return t&&t!==e});return n.length?t.setAttribute("modifier",n.join(" ")):t.removeAttribute("modifier"),!0},U.toggleModifier=function(){var t=2<arguments.length?arguments.length<=2?void 0:arguments[2]:{},e="boolean"==typeof t?t:t.force;("boolean"==typeof e?e:!U.hasModifier.apply(U,arguments))?U.addModifier.apply(U,arguments):U.removeModifier.apply(U,arguments)},U.restoreClass=function(e,t,i){t.split(/\s+/).forEach(function(t){return""!==t&&!e.classList.contains(t)&&e.classList.add(t)}),e.hasAttribute("modifier")&&P.refresh(e,i)},U.updateParentPosition=function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},U.toggleAttribute=function(t,e,i){i?t.setAttribute(e,"boolean"==typeof i?"":i):t.removeAttribute(e)},U.bindListeners=function(i,t){t.forEach(function(t){var e=t.replace(/^_[a-z]/,"_bound"+t[1].toUpperCase());i[e]=i[e]||i[t].bind(i)})},U.each=function(e,i){return Object.keys(e).forEach(function(t){return i(t,e[t])})},U.updateRipple=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};void 0===e&&(e=t.hasAttribute("ripple"));var n=U.findChild(t,"ons-ripple");if(e){if(!n){var o=document.createElement("ons-ripple");Object.keys(i).forEach(function(t){return o.setAttribute(t,i[t])}),t.insertBefore(o,t.firstChild)}}else n&&n.remove()},U.animationOptionsParse=function(t){if(t=t.trim(),R(t))return q(N(t));if(B(t))return H(N(t));throw new Error("Provided string must be object or array like: "+t)},U.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},U.defer=function(){var i={};return i.promise=new Promise(function(t,e){i.resolve=t,i.reject=e}),i},U.warn=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n;y.config.warningsDisabled||(n=console).warn.apply(n,[Z].concat(e))},U.throw=function(t){throw new Error(Z+" "+t)},U.throwAbstract=function(){return U.throw("Cannot instantiate abstract class")},U.throwMember=function(){return U.throw("Class member must be implemented")},U.throwPageLoader=function(){return U.throw("First parameter should be an instance of PageLoader")},U.throwAnimator=function(t){return U.throw('"Animator" param must inherit '+t+"Animator")};var G=function(t){return t.cancelable&&t.preventDefault()};U.iosPreventScroll=function(i){if("ios"===U.globals.actualMobileOS){i.on("touchmove",G),i.on("dragend",function t(e){i.off("touchmove",G),i.off("dragend",t)})}},U.iosPageScrollFix=function(t){"ios"===U.globals.actualMobileOS&&(document.body.classList.toggle("ons-ios-scroll",t),U.globals.isUIWebView&&!y.config.forceUIWebViewScrollFix||document.body.classList.toggle("ons-ios-scroll-fix",t))},U.iosMaskScrollFix=function(t,e){U.globals.isUIWebView&&t[(e?"add":"remove")+"EventListener"]("touchmove",G,!1)},U.isValidGesture=function(t){return void 0!==t.gesture&&(t.gesture.distance<=15||t.gesture.deltaTime<=100)},U.checkMissingImport=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){n[t]||U.throw("Ons"+t+" is required but was not imported (Custom Elements)")})};var X,Y,$,K,Q={};Q.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Q.buildTransitionValue=function(e){return e.property=e.property||"all",e.duration=e.duration||.4,e.timing=e.timing||"linear",e.property.split(/ +/).map(function(t){return t+" "+e.duration+"s "+e.timing}).join(", ")},Q.onceOnTransitionEnd=function(e,i){if(!e)return function(){};var n=function(t){e==t.target&&(t.stopPropagation(),o(),i())},o=function(){Q._transitionEndEvents.forEach(function(t){e.removeEventListener(t,n,!1)})};return Q._transitionEndEvents.forEach(function(t){e.addEventListener(t,n,!1)}),o},Q._transitionEndEvents="ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===Q.vendorPrefix||"o"===Q.vendorPrefix||"moz"===Q.vendorPrefix||"ms"===Q.vendorPrefix?[Q.vendorPrefix+"TransitionEnd","transitionend"]:[],Q._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},i="A".charCodeAt(0),n="z".charCodeAt(0),o=function(t){return t.substr(1).toUpperCase()},r=0;r<t.length;r++){var s=t[r].replace(/^[-]+/,"").replace(/[-][a-z]/g,o).replace(/^moz/,"Moz");i<=s.charCodeAt(0)&&n>=s.charCodeAt(0)&&"cssText"!==s&&"parentText"!==s&&(e[s]=!0)}return e}(),Q.hasCssProperty=function(t){return t in Q._cssPropertyDict},Q.vendorPrefix=(X=window.getComputedStyle(document.documentElement,""),(Array.prototype.slice.call(X).join("").match(/-(moz|webkit|ms)-/)||""===X.OLink&&["","o"])[1]),Q.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},Q.batchImmediate=(Y=[],function(t){0===Y.length&&setImmediate(function(){var t=Y.slice(0);Y=[],t.forEach(function(t){t()})}),Y.push(t)}),Q.batchAnimationFrame=($=[],K=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},function(t){0===$.length&&K(function(){var t=$.slice(0);$=[],t.forEach(function(t){t()})}),$.push(t)}),Q.transitionPropertyName=function(){if(Q.hasCssProperty("transitionDuration"))return"transition";if(Q.hasCssProperty(Q.vendorPrefix+"TransitionDuration"))return Q.vendorPrefix+"Transition";throw new Error("Invalid state")}();var J,tt,et,it,nt=function t(e,i){if(!(this instanceof t))return new t(e,i);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.defaults=i,this.transitionQueue=[],this.lastStyleAttributeDict=[]};nt.prototype={transitionQueue:void 0,elements:void 0,defaults:void 0,play:function(e){return"function"==typeof e&&this.transitionQueue.push(function(t){e(),t()}),this.startAnimation(),this},default:function(t,e,i){function n(t,e,i){return void 0!==t.duration&&(e=t.duration),void 0!==t.timing&&(i=t.timing),{css:t.css||t,duration:e,timing:i}}return this.saveStyle().queue(n(t,0,this.defaults.timing)).wait(void 0===i?this.defaults.delay:i).queue(n(e,this.defaults.duration,this.defaults.timing)).restoreStyle()},queue:function(t,e){var i=this.transitionQueue;if(t&&e&&(e.css=t,t=new nt.Transition(e)),t instanceof Function||t instanceof nt.Transition||(t=t.css?new nt.Transition(t):new nt.Transition({css:t})),t instanceof Function)i.push(t);else{if(!(t instanceof nt.Transition))throw new Error("Invalid arguments");i.push(t.build())}return this},wait:function(e){return 0<e&&this.transitionQueue.push(function(t){setTimeout(t,1e3*e)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var i=this.lastStyleAttributeDict[e]={},n=0;n<t.style.length;n++)i[t.style[n]]=t.style[t.style[n]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(r){var s=this;if((r=r||{}).transition&&!r.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var a=Q.transitionPropertyName;if(r.transition||r.duration&&0<r.duration){var u=r.transition||"all "+r.duration+"s "+(r.timing||"linear");this.transitionQueue.push(function(t){var e,i=this.elements,n=function(){i.forEach(function(t){t.style[a]=""})},o=Q.onceOnTransitionEnd(i[0],function(){clearTimeout(e),n(),t()});e=setTimeout(function(){o(),n(),t()},1e3*r.duration*1.4),i.forEach(function(e,t){var i,n=s.lastStyleAttributeDict[t];if(!n)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");s.lastStyleAttributeDict[t]=void 0;for(var o=0,r=e.style.length;o<r;o++)i=e.style[o],void 0===n[i]&&(n[i]="");e.style[a]=u,Object.keys(n).forEach(function(t){t!==a&&(e.style[t]=n[t])}),e.style[a]=u})})}else this.transitionQueue.push(function(t){s.elements.forEach(function(e,t){e.style[a]="none";var i=s.lastStyleAttributeDict[t];if(!i)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");s.lastStyleAttributeDict[t]=void 0;for(var n=0;n<e.style.length;n++)e.style[n],void 0===i[e.style[n]]&&(i[e.style[n]]="");Object.keys(i).forEach(function(t){e.style[t]=i[t]})}),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,i=!1;t&&t.call(this,function(){if(i)throw new Error("Invalid state: This callback is called twice.");i=!0,e._currentTransition=void 0,e._dequeueTransition()})}},nt.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},(nt.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"}).prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var n,o,r=(n=this.options.css,o={},Object.keys(n).forEach(function(t){var e=n[t];if(Q.hasCssProperty(t))o[t]=e;else{var i=Q.vendorPrefix+Q.capitalize(t);Q.hasCssProperty(i)?o[i]=e:(o[i]=e,o[t]=e)}}),o);if(0<this.options.duration){var s=Q.buildTransitionValue(this.options),a=this;return function(t){var e,i=this.elements,n=1e3*a.options.duration*1.4,o=Q.onceOnTransitionEnd(i[0],function(){clearTimeout(e),t()});e=setTimeout(function(){o(),t()},n),i.forEach(function(e){e.style[Q.transitionPropertyName]=s,Object.keys(r).forEach(function(t){e.style[t]=r[t]})})}}if(this.options.duration<=0)return function(t){var e=this.elements;e.forEach(function(e){e.style[Q.transitionPropertyName]="",Object.keys(r).forEach(function(t){e.style[t]=r[t]})}),0<e.length?Q.forceLayoutAtOnce(e,function(){Q.batchAnimationFrame(t)}):Q.batchAnimationFrame(t)}}};var ot=function t(e,i){return new t.Instance(e,i||{})};ot.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ot.DOCUMENT=document,ot.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,ot.HAS_TOUCHEVENTS="ontouchstart"in window,ot.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),ot.NO_MOUSEEVENTS=ot.HAS_TOUCHEVENTS&&ot.IS_MOBILE||ot.HAS_POINTEREVENTS,ot.CALCULATE_INTERVAL=25;var rt,st,at,ut,lt,ct,ht,dt,pt={},ft=ot.DIRECTION_DOWN="down",mt=ot.DIRECTION_LEFT="left",vt=ot.DIRECTION_UP="up",gt=ot.DIRECTION_RIGHT="right",_t=ot.POINTER_MOUSE="mouse",yt=ot.POINTER_TOUCH="touch",bt=ot.POINTER_PEN="pen",wt=ot.EVENT_START="start",kt=ot.EVENT_MOVE="move",xt=ot.EVENT_END="end",Ct=ot.EVENT_RELEASE="release",Et=ot.EVENT_TOUCH="touch";ot.READY=!1,ot.plugins=ot.plugins||{},ot.gestures=ot.gestures||{},tt=ot.utils={extend:function(t,e,i){for(var n in e)!e.hasOwnProperty(n)||void 0!==t[n]&&i||(t[n]=e[n]);return t},on:function(t,e,i,n){U.addEventListener(t,e,i,n,!0)},off:function(t,e,i,n){U.removeEventListener(t,e,i,n,!0)},each:function(t,e,i){var n,o;if("forEach"in t)t.forEach(e,i);else if(void 0!==t.length){for(n=0,o=t.length;n<o;n++)if(!1===e.call(i,t[n],n,t))return}else for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(i,t[n],n,t))return},inStr:function(t,e){return-1<t.indexOf(e)},inArray:function(e,i,t){if(t){for(var n=0,o=e.length;n<o;n++)if(Object.keys(i).every(function(t){return e[n][t]===i[t]}))return n;return-1}if(e.indexOf)return e.indexOf(i);for(n=0,o=e.length;n<o;n++)if(e[n]===i)return n;return-1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],o=[],r=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(tt.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),o.push(t.clientY)}),{pageX:(r.apply(Math,e)+s.apply(Math,e))/2,pageY:(r.apply(Math,i)+s.apply(Math,i))/2,clientX:(r.apply(Math,n)+s.apply(Math,n))/2,clientY:(r.apply(Math,o)+s.apply(Math,o))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.clientX-e.clientX);return Math.abs(t.clientY-e.clientY)<=i?0<t.clientX-e.clientX?mt:gt:0<t.clientY-e.clientY?vt:ft},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return 2<=t.length&&2<=e.length?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return 2<=t.length&&2<=e.length?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==vt||t==ft},setPrefixedCss:function(t,e,i,n){var o=["","Webkit","Moz","O","ms"];e=tt.toCamelCase(e);for(var r=0;r<o.length;r++){var s=e;if(o[r]&&(s=o[r]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null===n||n)&&i||"";break}}},toggleBehavior:function(i,t,n){if(t&&i&&i.style){tt.each(t,function(t,e){tt.setPrefixedCss(i,e,t,n)});var e=n&&function(){return!1};"none"==t.userSelect&&(i.onselectstart=e),"none"==t.userDrag&&(i.ondragstart=e)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},J=ot.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,i,n,o){var r=t.split(" ");tt.each(r,function(t){tt.on(e,t,i,n),o&&o(t)})},off:function(e,t,i,n,o){var r=t.split(" ");tt.each(r,function(t){tt.off(e,t,i,n),o&&o(t)})},onTouch:function(r,s,a,t){var u=this,e=function(t){var e,i=t.type.toLowerCase(),n=ot.HAS_POINTEREVENTS,o=tt.inStr(i,"mouse");o&&u.preventMouseEvents||(o&&s==wt&&0===t.button?(u.preventMouseEvents=!1,u.shouldDetect=!0):n&&s==wt?u.shouldDetect=1===t.buttons||it.matchType(yt,t):o||s!=wt||(u.preventMouseEvents=!0,u.shouldDetect=!0),n&&s!=xt&&it.updatePointer(s,t),u.shouldDetect&&(e=u.doDetect.call(u,t,s,r,a)),e==xt&&(u.preventMouseEvents=!1,u.shouldDetect=!1,it.reset()),n&&s==xt&&it.updatePointer(s,t))};return this.on(r,pt[s],e,t),e},doDetect:function(t,e,i,n){var o=this.getTouchList(t,e),r=o.length,s=e,a=o.trigger,u=r;e==wt?a=Et:e==xt&&(a=Ct,u=o.length-(t.changedTouches?t.changedTouches.length:1)),0<u&&this.started&&(s=kt),this.started=!0;var l=this.collectEventData(i,s,o,t);return e!=xt&&n.call(et,l),a&&(l.changedLength=u,l.eventType=a,n.call(et,l),l.eventType=s,delete l.changedLength),s==xt&&(n.call(et,l),this.started=!1),s},determineEventTypes:function(){var t;return t=ot.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:ot.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],pt[wt]=t[0],pt[kt]=t[1],pt[xt]=t[2],pt},getTouchList:function(t,e){if(ot.HAS_POINTEREVENTS)return it.getTouchList();if(t.touches){if(e==kt)return t.touches;var i=[],n=[].concat(tt.toArray(t.touches),tt.toArray(t.changedTouches)),o=[];return tt.each(n,function(t){-1===tt.inArray(i,t.identifier)&&o.push(t),i.push(t.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,e,i,n){var o=yt;return tt.inStr(n.type,"mouse")||it.matchType(_t,n)?o=_t:it.matchType(bt,n)&&(o=bt),{center:tt.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return et.stopDetect()}}}},it=ot.PointerEvent={pointers:{},getTouchList:function(){var e=[];return tt.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(t,e){t==xt||t!=xt&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[_t]=i===(e.MSPOINTER_TYPE_MOUSE||_t),n[yt]=i===(e.MSPOINTER_TYPE_TOUCH||yt),n[bt]=i===(e.MSPOINTER_TYPE_PEN||bt),n[t]},reset:function(){this.pointers={}}},et=ot.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:tt.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var i=this.current.inst,n=i.options;return tt.each(this.gestures,function(t){!this.stopped&&i.enabled&&n[t.name]&&t.handler.call(t,e,i)},this),this.current&&(this.current.lastEvent=e),e.eventType==xt&&this.stopDetect(),e}},stopDetect:function(){this.previous=tt.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,n,o){var r=this.current,s=!1,a=r.lastCalcEvent,u=r.lastCalcData;a&&t.timeStamp-a.timeStamp>ot.CALCULATE_INTERVAL&&(e=a.center,i=t.timeStamp-a.timeStamp,n=t.center.clientX-a.center.clientX,o=t.center.clientY-a.center.clientY,s=!0),t.eventType!=Et&&t.eventType!=Ct||(r.futureCalcEvent=t),r.lastCalcEvent&&!s||(u.velocity=tt.getVelocity(i,n,o),u.angle=tt.getAngle(e,t.center),u.direction=tt.getDirection(e,t.center),r.lastCalcEvent=r.futureCalcEvent||t,r.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,n=e.lastEvent||i;t.eventType!=Et&&t.eventType!=Ct||(i.touches=[],tt.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var o=t.timeStamp-i.timeStamp,r=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,n.center,o,r,s),tt.extend(t,{startEvent:i,deltaTime:o,deltaX:r,deltaY:s,distance:tt.getDistance(i.center,t.center),angle:tt.getAngle(i.center,t.center),direction:tt.getDirection(i.center,t.center),scale:tt.getScale(i.touches,t.touches),rotation:tt.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),tt.extend(ot.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},ot.Instance=function(t,i){var e,n=this,o=i&&i.passive?{passive:!0}:void 0;e=o,ot.READY||(J.determineEventTypes(),tt.each(ot.gestures,function(t){et.register(t)}),J.onTouch(ot.DOCUMENT,kt,et.detect,e),J.onTouch(ot.DOCUMENT,xt,et.detect,e),ot.READY=!0),this.element=t,this.enabled=!0,tt.each(i,function(t,e){delete i[e],i[tt.toCamelCase(e)]=t}),this.options=tt.extend(tt.extend({},ot.defaults),i||{}),this.options.listenerOptions=o,this.options.behavior&&tt.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=J.onTouch(t,wt,function(t){n.enabled&&t.eventType==wt?et.startDetect(n,t):t.eventType==Et&&et.detect(t)},o),this.eventHandlers=[]},ot.Instance.prototype={on:function(t,e,i){var n=this;return J.on(n.element,t,e,U.extend({},n.options.listenerOptions,i),function(t){n.eventHandlers.push({gesture:t,handler:e})}),n},off:function(t,i,e){var n=this;return J.off(n.element,t,i,U.extend({},n.options.listenerOptions,e),function(t){var e=tt.inArray(n.eventHandlers,{gesture:t,handler:i},!0);0<=e&&n.eventHandlers.splice(e,1)}),n},trigger:function(t,e){e||(e={});var i=ot.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return tt.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(tt.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)tt.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],J.off(this.element,pt[wt],this.eventStartHandler),null}},st=!(rt="drag"),ot.gestures.Drag={name:rt,index:50,handler:function(t,e){var i=et.current;if(!(0<e.options.dragMaxTouches&&t.touches.length>e.options.dragMaxTouches))switch(t.eventType){case wt:st=!1;break;case kt:if(t.distance<e.options.dragMinDistance&&i.name!=rt)return;var n=i.startEvent.center;if(i.name!=rt&&(i.name=rt,e.options.dragDistanceCorrection&&0<t.distance)){var o=Math.abs(e.options.dragMinDistance/t.distance);n.pageX+=t.deltaX*o,n.pageY+=t.deltaY*o,n.clientX+=t.deltaX*o,n.clientY+=t.deltaY*o,t=et.extendEventData(t)}(i.lastEvent.dragLockToAxis||e.options.dragLockToAxis&&e.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var r=i.lastEvent.direction;t.dragLockToAxis&&r!==t.direction&&(tt.isVertical(r)?t.direction=t.deltaY<0?vt:ft:t.direction=t.deltaX<0?mt:gt),st||(e.trigger(rt+"start",t),st=!0),e.trigger(rt,t),e.trigger(rt+t.direction,t);var s=tt.isVertical(t.direction);(e.options.dragBlockVertical&&s||e.options.dragBlockHorizontal&&!s)&&t.preventDefault();break;case Ct:st&&t.changedLength<=e.options.dragMaxTouches&&(e.trigger(rt+"end",t),st=!1);break;case xt:st=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},ot.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},at="hold",ot.gestures.Hold={name:at,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(t,e){var i=e.options,n=et.current;switch(t.eventType){case wt:clearTimeout(ut),n.name=at,ut=setTimeout(function(){n&&n.name==at&&e.trigger(at,t)},i.holdTimeout);break;case kt:t.distance>i.holdThreshold&&clearTimeout(ut);break;case Ct:clearTimeout(ut)}}},ot.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==Ct&&e.trigger(this.name,t)}},ot.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==Ct){var i=t.touches.length,n=e.options;if(i<n.swipeMinTouches||i>n.swipeMaxTouches)return;(t.velocityX>n.swipeVelocityX||t.velocityY>n.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},ct=!(lt="tap"),ot.gestures.Tap={name:lt,index:100,handler:function(t,e){var i,n,o=e.options,r=et.current,s=et.previous;switch(t.eventType){case wt:ct=!1;break;case kt:ct=ct||t.distance>o.tapMaxDistance;break;case xt:!tt.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<o.tapMaxTime&&!ct&&(i=s&&s.lastEvent&&t.timeStamp-s.lastEvent.timeStamp,n=!1,s&&s.name==lt&&i&&i<o.doubleTapInterval&&t.distance<o.doubleTapDistance&&(e.trigger("doubletap",t),n=!0),n&&!o.tapAlways||(r.name=lt,e.trigger(r.name,t)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},ot.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==_t?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==Et&&e.trigger("touch",t))}},dt=!(ht="transform"),ot.gestures.Transform={name:ht,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(t,e){switch(t.eventType){case wt:dt=!1;break;case kt:if(t.touches.length<2)return;var i=Math.abs(1-t.scale),n=Math.abs(t.rotation);if(i<e.options.transformMinScale&&n<e.options.transformMinRotation)return;et.current.name=ht,dt||(e.trigger(ht+"start",t),dt=!0),e.trigger(ht,t),n>e.options.transformMinRotation&&e.trigger("rotate",t),i>e.options.transformMinScale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case Ct:dt&&t.changedLength<2&&(e.trigger(ht+"end",t),dt=!1)}}};var Lt=void 0,St=void 0;function Pt(t){Lt.set(t,!0)}function At(t){var e=St.get(t,[])||[];St.delete(t),e.forEach(function(t){return t()})}function Ot(e){var t,i,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};(void 0===Lt&&(Lt=new WeakMap,St=new WeakMap),t=e,i=o,St.has(t)||St.set(t,[]),St.get(t).push(i),0<(n=e).childNodes.length&&Pt(n),Lt.has(n))?At(e):(new MutationObserver(function(t){Pt(e),At(e)}).observe(e,{childList:!0,characterData:!0}),setImmediate(function(){Pt(e),At(e)}))}var Mt=new(function(){function t(){h(this,t),this.queue=[]}return d(t,[{key:"add",value:function(t,e){var i=this;this.queue.push(t),1===this.queue.length&&setImmediate(this.queue[0]),e.then(function(){i.queue.shift(),0<i.queue.length&&setTimeout(i.queue[0],1e3/30)})}}]),t}()),Tt=function(e,i){["id","class","animation"].forEach(function(t){return i.hasOwnProperty(t)&&e.setAttribute(t,i[t])}),i.modifier&&U.addModifier(e,i.modifier)},It=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e=p({},e),"string"==typeof t?e.message=t:e=t,e&&(e.message||e.messageHTML)||U.throw("Notifications must contain a message"),(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),U.extend({compile:function(t){return t},callback:function(t){return t},animation:"default",cancelable:!1,primaryButtonIndex:(e.buttonLabels||i.buttonLabels||[]).length-1},i,e)},jt={_createAlertDialog:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Promise(function(i){var n=It.apply(void 0,e);U.checkMissingImport("AlertDialog","AlertDialogButton");var t="";n.isPrompt&&(t='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(n.inputType||"text")+'"\n        placeholder="'+(n.placeholder||"")+'"\n        value="'+(n.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var o="";n.buttonLabels.forEach(function(t,e){o+='\n      <ons-alert-dialog-button\n        class="\n          '+(e===n.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n          "+(n.buttonLabels.length<=2?" alert-dialog-button--rowfooter":"")+'\n        "\n        style="position: relative;">\n        '+t+"\n      </ons-alert-dialog-button>\n    "});var r={},s=function(){r.dialog.onDialogCancel&&r.dialog.removeEventListener("dialog-cancel",r.dialog.onDialogCancel),Object.keys(r).forEach(function(t){return delete r[t]}),r=null,n.destroy instanceof Function&&n.destroy()};r.dialog=document.createElement("ons-alert-dialog"),r.dialog.innerHTML='\n    <div class="alert-dialog-mask"></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(n.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(n.message||n.messageHTML)+"\n          "+t+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(n.buttonLabels.length<=2?" alert-dialog-footer--rowfooter":"")+'\n        ">\n          '+o+"\n        </div>\n      </div>\n    </div>\n  ",Ot(r.dialog),Tt(r.dialog,n),n.isPrompt&&n.submitOnEnter&&(r.input=r.dialog.querySelector(".text-input"),r.input.onkeypress=function(t){13===t.keyCode&&r.dialog.hide().then(function(){if(r){var t=r.input.value;s(),n.callback(t),i(t)}})}),r.footer=r.dialog.querySelector(".alert-dialog-footer"),U.arrayFrom(r.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(t,e){t.onclick=function(){r.dialog.hide().then(function(){if(r){var t=e;n.isPrompt&&(t=e===n.primaryButtonIndex?r.input.value:null),r.dialog.remove(),s(),n.callback(t),i(t)}})},r.footer.appendChild(t)}),n.cancelable&&(r.dialog.cancelable=!0,r.dialog.onDialogCancel=function(){setImmediate(function(){r.dialog.remove(),s()});var t=n.isPrompt?null:-1;n.callback(t),i(t)},r.dialog.addEventListener("dialog-cancel",r.dialog.onDialogCancel,!1)),document.body.appendChild(r.dialog),n.compile(r.dialog),setImmediate(function(){r.dialog.show().then(function(){if(r.input&&n.isPrompt&&n.autofocus){var t=r.input.value.length;r.input.focus(),r.input.setSelectionRange(t,t)}})})})},alert:function(t,e){return jt._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert"})},confirm:function(t,e){return jt._createAlertDialog(t,e,{buttonLabels:["Cancel","OK"],title:"Confirm"})},prompt:function(t,e){return jt._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0})},toast:function(o,r){var s=new Promise(function(e){U.checkMissingImport("Toast"),r=It(o,r,{timeout:0,force:!1});var i=U.createElement("\n      <ons-toast>\n        "+r.message+"\n        "+(r.buttonLabels?"<button>"+r.buttonLabels[0]+"</button>":"")+"\n      </ons-toast>\n    ");Tt(i,r);var t=function(t){i&&i.hide().then(function(){i&&(i.remove(),i=null,r.callback(t),e(t))})};r.buttonLabels&&(U.findChild(i._toast,"button").onclick=function(){return t(0)}),document.body.appendChild(i),r.compile(i);var n=function(){i.parentElement&&i.show(r).then(function(){r.timeout&&setTimeout(function(){return t(-1)},r.timeout)})};setImmediate(function(){return r.force?n():Mt.add(n,s)})});return s}},Nt=function(){};Nt.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(e,i){var n=this;this.on(e,function t(){return n.off(e,t),i.apply(null,arguments)})},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&(this._events[t]=this._events[t].filter(function(t){return!!e&&e!==t}))},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},Nt.mixin=function(t){for(var e=["on","once","off","emit"],i=0;i<e.length;i++)"function"==typeof t?t.prototype[e[i]]=Nt.prototype[e[i]]:t[e[i]]=Nt.prototype[e[i]]},window.MicroEvent=Nt;var Rt,Bt=(Rt={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var i=this,n=this._isPortrait(),o=0,r=setInterval(function(){o++;var t=window.innerWidth,e=window.innerHeight;n&&t<=e||!n&&e<=t?(i.emit("change",{isPortrait:n}),clearInterval(r)):50===o&&(i.emit("change",{isPortrait:n}),clearInterval(r))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}},Nt.mixin(Rt),Rt)._init(),Dt={add:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(function(t){return U.addModifier(e,t)})},remove:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(function(t){return U.removeModifier(e,t)})},contains:U.hasModifier,toggle:U.toggleModifier},zt=new Nt;zt._visible=!1;var Ft=function(){zt._visible=!0,zt.emit("show")},Vt=function(){zt._visible=!1,zt.emit("hide")},qt=function(){U.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){("undefined"!=typeof Keyboard?(Keyboard.onshow=Ft,Keyboard.onhide=Vt,zt.emit("init",{visible:Keyboard.isVisible}),1):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Ft),window.addEventListener("native.keyboardhide",Vt),zt.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),1))||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&qt(),zt.on=qt)});var Ht,Ut=(Ht=0,function(){return Ht++}),Zt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._lockList=[],this._waitList=[],this._log=t.log||function(){}}return d(e,[{key:"lock",value:function(){var e=this,t=function t(){e._unlock(t)};return t.id=Ut(),this._lockList.push(t),this._log("lock: "+t.id),t}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&0<this._waitList.length;)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return 0<this._lockList.length}}]),e}();function Wt(t,i){var e=t.page,n=t.parent;t.params;y.getPageHTMLAsync(e).then(function(t){var e=U.createElement(t);n.appendChild(e),i(e)})}function Gt(t){t._destroy instanceof Function?t._destroy():t.remove()}var Xt,Yt=function(){function i(t,e){h(this,i),this._loader=t instanceof Function?t:Wt,this._unloader=e instanceof Function?e:Gt}return d(i,[{key:"load",value:function(t,e){var i=t.page,n=t.parent,o=t.params,r=void 0===o?{}:o;this._loader({page:i,parent:n,params:r},function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");e(t)})}},{key:"unload",value:function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(t)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),i}(),$t=new Yt,Kt=new Yt(function(t,e){var i=t.page,n=t.parent,o=(t.params,U.createElement(i.trim()));n.appendChild(o),e(o)},Gt),Qt={animit:nt,defaultPageLoader:$t,elements:n,GestureDetector:ot,modifier:Dt,notification:jt,orientation:Bt,pageAttributeExpression:o,PageLoader:Yt,platform:c,softwareKeyboard:zt,_autoStyle:S,_internal:y,_readyLock:new Zt,_util:U};Qt.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),Xt=Qt._readyLock.lock(),window.addEventListener("DOMContentLoaded",function(){Qt.isWebView()?window.document.addEventListener("deviceready",Xt,!1):Xt()},!1);var Jt=function(t){return U.throw("This method must be called "+(t?"after":"before")+" ons.isReady() is true")};Qt.isReady=function(){return!Qt._readyLock.isLocked()},Qt.isWebView=Qt.platform.isWebView,Qt.ready=function(t){Qt.isReady()?t():Qt._readyLock.waitUnlock(t)},Qt.setDefaultDeviceBackButtonListener=function(t){Qt.isReady()||Jt(!0),Qt._defaultDeviceBackButtonHandler.setListener(t)},Qt.disableDeviceBackButtonHandler=function(){Qt.isReady()||Jt(!0),y.dbbDispatcher.disable()},Qt.enableDeviceBackButtonHandler=function(){Qt.isReady()||Jt(!0),y.dbbDispatcher.enable()},Qt.fireDeviceBackButtonEvent=function(){y.dbbDispatcher.fireDeviceBackButtonEvent()},Qt.enableAutoStatusBarFill=function(){Qt.isReady()&&Jt(!1),y.config.autoStatusBarFill=!0},Qt.disableAutoStatusBarFill=function(){Qt.isReady()&&Jt(!1),y.config.autoStatusBarFill=!1},Qt.mockStatusBar=function(){Qt.isReady()&&Jt(!1);var t=function(){if(!document.body.children[0]||!document.body.children[0].classList.contains("ons-status-bar-mock")){var t=c.isAndroid(),e=function(t){return'<i class="'+t.split("-")[0]+" "+t+'"></i>'},i=t?e("zmdi-twitter")+" "+e("zmdi-google-play"):"No SIM "+e("fa-wifi"),n=t?"":"12:28 PM",o=t?e("zmdi-network")+" "+e("zmdi-wifi")+" "+e("zmdi-battery")+" 12:28 PM":"80% "+e("fa-battery-three-quarters");document.body.insertBefore(U.createElement('<div class="ons-status-bar-mock '+(t?"android":"ios")+'"><div>'+i+"</div><div>"+n+"</div><div>"+o+"</div></div>"),document.body.firstChild)}};document.body?t():y.waitDOMContentLoaded(t)},Qt.disableAnimations=function(){y.config.animationsDisabled=!0},Qt.enableAnimations=function(){y.config.animationsDisabled=!1},Qt._disableWarnings=function(){y.config.warningsDisabled=!0},Qt._enableWarnings=function(){y.config.warningsDisabled=!1},Qt.disableAutoStyling=S.disable,Qt.enableAutoStyling=S.enable,Qt.disableIconAutoPrefix=function(){U.checkMissingImport("Icon"),n.Icon.setAutoPrefix(!1)},Qt.forceUIWebViewScrollFix=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];y.config.forceUIWebViewScrollFix=t},Qt.forcePlatformStyling=function(t){Qt.enableAutoStyling(),Qt.platform.select(t||"ios"),Qt._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(S.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},Qt.preload=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return Promise.all((t instanceof Array?t:[t]).map(function(t){return"string"!=typeof t&&U.throw("Expected string arguments but got "+(void 0===t?"undefined":l(t))),y.getTemplateHTMLAsync(t)}))},Qt.createElement=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=function(t){var e=Qt._util.createElement(t);(e.remove(),i.append)&&((i.append instanceof HTMLElement?i.append:document.body).insertBefore(e,i.insertBefore||null),i.link instanceof Function&&i.link(e));return e};return"<"===(t=t.trim()).charAt(0)?e(t):y.getPageHTMLAsync(t).then(e)},Qt.createPopover=Qt.createDialog=Qt.createAlertDialog=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Qt.createElement(t,p({append:!0},e))},Qt.openActionSheet=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){var i,t,e,o,r,s,a,u;U.checkMissingImport("ActionSheet"),i=d,t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Function";return U.throw('"options.'+t+'" must be an instance of '+e)},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Function;return i[t]instanceof e},s="callback",a="compile",u="destroy",(!(e=function(t){return Object.hasOwnProperty.call(i,t)})(r="buttons")||!o(r,Array))&&t(r,"Array"),e(s)&&!o(s)&&t(s),e(a)&&!o(a)&&t(a),e(u)&&!o(u)&&t(u);var l=U.createElement("\n    <ons-action-sheet\n      "+(d.title?'title="'+d.title+'"':"")+"\n      "+(d.cancelable?"cancelable":"")+"\n      "+(d.modifier?'modifier="'+d.modifier+'"':"")+"\n      "+(d.maskColor?'mask-color="'+d.maskColor+'"':"")+"\n      "+(d.id?'id="'+d.id+'"':"")+"\n      "+(d.class?'class="'+d.class+'"':"")+'\n    >\n      <div class="action-sheet"></div>\n    </ons-action-sheet>\n  '),c=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;l&&(d.destroy&&d.destroy(l),l.removeEventListener("dialog-cancel",t,!1),l.remove(),l=null,d.callback&&d.callback(i),n(i))};l.addEventListener("dialog-cancel",c,!1);var h=document.createDocumentFragment();d.buttons.forEach(function(t,e){var i="string"==typeof t?{label:t}:p({},t);d.destructive===e&&(i.modifier=(i.modifier||"")+" destructive");var n=U.createElement("\n      <ons-action-sheet-button\n        "+(i.icon?'icon="'+i.icon+'"':"")+"\n        "+(i.modifier?'modifier="'+i.modifier+'"':"")+"\n      >\n        "+i.label+"\n      </ons-action-sheet-button>\n    ");n.onclick=function(t){return l.hide().then(function(){return c(t,e)})},h.appendChild(n)}),U.findChild(l,".action-sheet").appendChild(h),document.body.appendChild(l),d.compile&&d.compile(el.dialog),setImmediate(function(){return l.show({animation:d.animation,animationOptions:d.animationOptions})})})},Qt.resolveLoadingPlaceholder=function(e,i){var t=Qt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));0===t.length&&U.throw("No ons-loading-placeholder exists"),t.filter(function(t){return!t.getAttribute("page")}).forEach(function(t){t.setAttribute("ons-loading-placeholder",e),Qt._resolveLoadingPlaceholder(t,e,i)})},Qt._setupLoadingPlaceHolders=function(){Qt.ready(function(){Qt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"==typeof e&&Qt._resolveLoadingPlaceholder(t,e)})})},Qt._resolveLoadingPlaceholder=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(t,e){return e()};t&&Qt.createElement(t).then(function(t){t.style.display="none",e.appendChild(t),i(t,function(){for(;e.firstChild&&e.firstChild!==t;)e.removeChild(e.firstChild);t.style.display=""})}).catch(function(t){return Promise.reject("Unabled to resolve placeholder: "+t)})};var te="currentScript"in document?function(){return document.currentScript}:function(){return document.scripts[document.scripts.length-1]};function ee(t,e){return t(e={exports:{}},e.exports),e.exports}Qt.getScriptPage=function(){return te()&&/ons-page/i.test(te().parentElement.tagName)&&te().parentElement||null};var ie=ee(function(i){!function(){function a(o,t){var e;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=o,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!a.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,r=i.length;n<r;n++)this[i[n]]=s(this[i[n]],this);u&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(o,t,e.hijacked||e,i):n.call(o,t,e,i)},o.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(o,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(o,t,e,i)}),"function"==typeof o.onclick&&(e=o.onclick,o.addEventListener("click",function(t){e(t)},!1),o.onclick=null)}function s(t,e){return function(){return t.apply(e,arguments)}}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),u=0<navigator.userAgent.indexOf("Android")&&!t,l=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,c=l&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=l&&/OS [6-7]_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10"),e=["email","number","password","search","tel","text","url"];a.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(l&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},a.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!u;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},a.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},a.prototype.determineEventType=function(t){return u&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(t){var e;l&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"email"!==t.type&&"number"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},a.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},a.prototype.isTextField=function(t){return"textarea"===t.tagName.toLowerCase()||-1!==e.indexOf(t.type)},a.prototype.onTouchStart=function(t){var e,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],e.isContentEditable)return!0;if(l){if(e===document.activeElement&&this.isTextField(e))return!0;if(!c){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&-1<t.timeStamp-this.lastClickTime&&t.preventDefault(),!0},a.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},a.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},a.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(t){var e,i,n,o,r,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&-1<t.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,h&&(r=t.changedTouches[0],(s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),u)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-i||l&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(s),this.sendClick(s,t),c&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!l||c||!(o=s.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},a.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},a.prototype.destroy=function(){var t=this.layer;u&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!u)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},a.attach=function(t,e){return new a(t,e)},i.exports?(i.exports=a.attach,i.exports.FastClick=a):window.FastClick=a}()}).FastClick;window.customElements&&(window.customElements.forcePolyfill=!0);var ne=ee(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),oe=ee(function(t){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)}),re=(oe.version,function(t){return"object"===(void 0===t?"undefined":l(t))?null!==t:"function"==typeof t}),se=function(t){if(!re(t))throw TypeError(t+" is not an object!");return t},ae=function(t){try{return!!t()}catch(t){return!0}},ue=!ae(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),le=ne.document,ce=re(le)&&re(le.createElement),he=function(t){return ce?le.createElement(t):{}},de=!ue&&!ae(function(){return 7!=Object.defineProperty(he("div"),"a",{get:function(){return 7}}).a}),pe=function(t,e){if(!re(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!re(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!re(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!re(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},fe=Object.defineProperty,me={f:ue?Object.defineProperty:function(t,e,i){if(se(t),e=pe(e,!0),se(i),de)try{return fe(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},ve=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ge=ue?function(t,e,i){return me.f(t,e,ve(1,i))}:function(t,e,i){return t[e]=i,t},_e={}.hasOwnProperty,ye=function(t,e){return _e.call(t,e)},be=0,we=Math.random(),ke=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++be+we).toString(36))},xe=ee(function(t){var r=ke("src"),e="toString",i=Function[e],s=(""+i).split(e);oe.inspectSource=function(t){return i.call(t)},(t.exports=function(t,e,i,n){var o="function"==typeof i;o&&(ye(i,"name")||ge(i,"name",e)),t[e]!==i&&(o&&(ye(i,r)||ge(i,r,t[e]?""+t[e]:s.join(String(e)))),t===ne?t[e]=i:n?t[e]?t[e]=i:ge(t,e,i):(delete t[e],ge(t,e,i)))})(Function.prototype,e,function(){return"function"==typeof this&&this[r]||i.call(this)})}),Ce=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Ee=function(n,o,t){if(Ce(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,i){return n.call(o,t,e,i)}}return function(){return n.apply(o,arguments)}},Le="prototype",Se=function t(e,i,n){var o,r,s,a,u=e&t.F,l=e&t.G,c=e&t.P,h=e&t.B,d=l?ne:e&t.S?ne[i]||(ne[i]={}):(ne[i]||{})[Le],p=l?oe:oe[i]||(oe[i]={}),f=p[Le]||(p[Le]={});for(o in l&&(n=i),n)s=((r=!u&&d&&void 0!==d[o])?d:n)[o],a=h&&r?Ee(s,ne):c&&"function"==typeof s?Ee(Function.call,s):s,d&&xe(d,o,s,e&t.U),p[o]!=s&&ge(p,o,a),c&&f[o]!=s&&(f[o]=s)};ne.core=oe,Se.F=1,Se.G=2,Se.S=4,Se.P=8,Se.B=16,Se.W=32,Se.U=64,Se.R=128;var Pe=Se,Ae={f:{}.propertyIsEnumerable},Oe={}.toString,Me=function(t){return Oe.call(t).slice(8,-1)},Te=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Me(t)?t.split(""):Object(t)},Ie=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},je=function(t){return Te(Ie(t))},Ne=Object.getOwnPropertyDescriptor,Re={f:ue?Ne:function(t,e){if(t=je(t),e=pe(e,!0),de)try{return Ne(t,e)}catch(t){}if(ye(t,e))return ve(!Ae.f.call(t,e),t[e])}},Be=function(t,e){if(se(t),!re(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},De={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=Ee(Function.call,Re.f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return Be(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:Be};Pe(Pe.S,"Object",{setPrototypeOf:De.set});oe.Object.setPrototypeOf;var ze="__core-js_shared__",Fe=ne[ze]||(ne[ze]={}),Ve=function(t){return Fe[t]||(Fe[t]={})},qe=ee(function(t){var e=Ve("wks"),i=ne.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:ke)("Symbol."+t))}).store=e}),He=qe("toStringTag"),Ue="Arguments"==Me(function(){return arguments}()),Ze=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),He))?i:Ue?Me(e):"Object"==(n=Me(e))&&"function"==typeof e.callee?"Arguments":n},We={};We[qe("toStringTag")]="z",We+""!="[object z]"&&xe(Object.prototype,"toString",function(){return"[object "+Ze(this)+"]"},!0);var Ge,Xe=Math.ceil,Ye=Math.floor,$e=function(t){return isNaN(t=+t)?0:(0<t?Ye:Xe)(t)},Ke={},Qe=Math.min,Je=function(t){return 0<t?Qe($e(t),9007199254740991):0},ti=Math.max,ei=Math.min,ii=Ve("keys"),ni=function(t){return ii[t]||(ii[t]=ke(t))},oi=(Ge=!1,function(t,e,i){var n,o,r,s=je(t),a=Je(s.length),u=(o=a,(n=$e(n=i))<0?ti(n+o,0):ei(n,o));if(Ge&&e!=e){for(;u<a;)if((r=s[u++])!=r)return!0}else for(;u<a;u++)if((Ge||u in s)&&s[u]===e)return Ge||u||0;return!Ge&&-1}),ri=ni("IE_PROTO"),si="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ai=Object.keys||function(t){return function(t,e){var i,n=je(t),o=0,r=[];for(i in n)i!=ri&&ye(n,i)&&r.push(i);for(;e.length>o;)ye(n,i=e[o++])&&(~oi(r,i)||r.push(i));return r}(t,si)},ui=ue?Object.defineProperties:function(t,e){se(t);for(var i,n=ai(e),o=n.length,r=0;r<o;)me.f(t,i=n[r++],e[i]);return t},li=ne.document,ci=li&&li.documentElement,hi=ni("IE_PROTO"),di=function(){},pi="prototype",fi=function(){var t,e=he("iframe"),i=si.length;for(e.style.display="none",ci.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),fi=t.F;i--;)delete fi[pi][si[i]];return fi()},mi=Object.create||function(t,e){var i;return null!==t?(di[pi]=se(t),i=new di,di[pi]=null,i[hi]=t):i=fi(),void 0===e?i:ui(i,e)},vi=me.f,gi=qe("toStringTag"),_i=function(t,e,i){t&&!ye(t=i?t:t.prototype,gi)&&vi(t,gi,{configurable:!0,value:e})},yi={};ge(yi,qe("iterator"),function(){return this});var bi,wi=function(t){return Object(Ie(t))},ki=ni("IE_PROTO"),xi=Object.prototype,Ci=Object.getPrototypeOf||function(t){return t=wi(t),ye(t,ki)?t[ki]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xi:null},Ei=qe("iterator"),Li=!([].keys&&"next"in[].keys()),Si="values",Pi=function(){return this},Ai=function(t,e,i,n,o,r,s){var a,u,l;u=e,l=n,(a=i).prototype=mi(yi,{next:ve(1,l)}),_i(a,u+" Iterator");var c,h,d,p=function(t){if(!Li&&t in g)return g[t];switch(t){case"keys":case Si:return function(){return new i(this,t)}}return function(){return new i(this,t)}},f=e+" Iterator",m=o==Si,v=!1,g=t.prototype,_=g[Ei]||g["@@iterator"]||o&&g[o],y=_||p(o),b=o?m?p("entries"):y:void 0,w="Array"==e&&g.entries||_;if(w&&(d=Ci(w.call(new t)))!==Object.prototype&&d.next&&(_i(d,f,!0),ye(d,Ei)||ge(d,Ei,Pi)),m&&_&&_.name!==Si&&(v=!0,y=function(){return _.call(this)}),(Li||v||!g[Ei])&&ge(g,Ei,y),Ke[e]=y,Ke[f]=Pi,o)if(c={values:m?y:p(Si),keys:r?y:p("keys"),entries:b},s)for(h in c)h in g||xe(g,h,c[h]);else Pe(Pe.P+Pe.F*(Li||v),e,c);return c},Oi=(bi=!0,function(t,e){var i,n,o=String(Ie(t)),r=$e(e),s=o.length;return r<0||s<=r?bi?"":void 0:(i=o.charCodeAt(r))<55296||56319<i||r+1===s||(n=o.charCodeAt(r+1))<56320||57343<n?bi?o.charAt(r):i:bi?o.slice(r,r+2):n-56320+(i-55296<<10)+65536});Ai(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=Oi(e,i),this._i+=t.length,{value:t,done:!1})});var Mi=qe("unscopables"),Ti=Array.prototype;null==Ti[Mi]&&ge(Ti,Mi,{});var Ii=function(t){Ti[Mi][t]=!0},ji=function(t,e){return{value:e,done:!!t}},Ni=Ai(Array,"Array",function(t,e){this._t=je(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,ji(1)):ji(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values");Ke.Arguments=Ke.Array,Ii("keys"),Ii("values"),Ii("entries");for(var Ri=qe("iterator"),Bi=qe("toStringTag"),Di=Ke.Array,zi={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Fi=ai(zi),Vi=0;Vi<Fi.length;Vi++){var qi,Hi=Fi[Vi],Ui=zi[Hi],Zi=ne[Hi],Wi=Zi&&Zi.prototype;if(Wi&&(Wi[Ri]||ge(Wi,Ri,Di),Wi[Bi]||ge(Wi,Bi,Hi),Ke[Hi]=Di,Ui))for(qi in Ni)Wi[qi]||xe(Wi,qi,Ni[qi],!0)}var Gi=function(t,e,i){for(var n in e)xe(t,n,e[n],i);return t},Xi=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t},Yi=function(e,t,i,n){try{return n?t(se(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&se(o.call(e)),t}},$i=qe("iterator"),Ki=Array.prototype,Qi=function(t){return void 0!==t&&(Ke.Array===t||Ki[$i]===t)},Ji=qe("iterator"),tn=oe.getIteratorMethod=function(t){if(null!=t)return t[Ji]||t["@@iterator"]||Ke[Ze(t)]},en=ee(function(t){var d={},p={},e=t.exports=function(t,e,i,n,o){var r,s,a,u,l=o?function(){return t}:tn(t),c=Ee(i,n,e?2:1),h=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(Qi(l)){for(r=Je(t.length);h<r;h++)if((u=e?c(se(s=t[h])[0],s[1]):c(t[h]))===d||u===p)return u}else for(a=l.call(t);!(s=a.next()).done;)if((u=Yi(a,c,s.value,e))===d||u===p)return u};e.BREAK=d,e.RETURN=p}),nn=qe("species"),on=ee(function(t){var i=ke("meta"),e=me.f,n=0,o=Object.isExtensible||function(){return!0},r=!ae(function(){return o(Object.preventExtensions({}))}),s=function(t){e(t,i,{value:{i:"O"+ ++n,w:{}}})},a=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!re(t))return"symbol"==(void 0===t?"undefined":l(t))?t:("string"==typeof t?"S":"P")+t;if(!ye(t,i)){if(!o(t))return"F";if(!e)return"E";s(t)}return t[i].i},getWeak:function(t,e){if(!ye(t,i)){if(!o(t))return!0;if(!e)return!1;s(t)}return t[i].w},onFreeze:function(t){return r&&a.NEED&&o(t)&&!ye(t,i)&&s(t),t}}}),rn=(on.KEY,on.NEED,on.fastKey,on.getWeak,on.onFreeze,function(t,e){if(!re(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),sn=me.f,an=on.fastKey,un=ue?"_s":"size",ln=function(t,e){var i,n=an(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i},cn={getConstructor:function(t,r,i,n){var o=t(function(t,e){Xi(t,o,r,"_i"),t._t=r,t._i=mi(null),t._f=void 0,t._l=void 0,t[un]=0,null!=e&&en(e,i,t[n],t)});return Gi(o.prototype,{clear:function(){for(var t=rn(this,r),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[un]=0},delete:function(t){var e=rn(this,r),i=ln(e,t);if(i){var n=i.n,o=i.p;delete e._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),e._f==i&&(e._f=n),e._l==i&&(e._l=o),e[un]--}return!!i},forEach:function(t){rn(this,r);for(var e,i=Ee(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!ln(rn(this,r),t)}}),ue&&sn(o.prototype,"size",{get:function(){return rn(this,r)[un]}}),o},def:function(t,e,i){var n,o,r=ln(t,e);return r?r.v=i:(t._l=r={i:o=an(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[un]++,"F"!==o&&(t._i[o]=r)),t},getEntry:ln,setStrong:function(t,i,e){var n;Ai(t,i,function(t,e){this._t=rn(t,i),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?ji(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,ji(1))},e?"entries":"values",!e,!0),n=ne[i],ue&&n&&!n[nn]&&me.f(n,nn,{configurable:!0,get:function(){return this}})}},hn=qe("iterator"),dn=!1;try{[7][hn]().return=function(){dn=!0}}catch(t){}var pn=function(t,e){if(!e&&!dn)return!1;var i=!1;try{var n=[7],o=n[hn]();o.next=function(){return{done:i=!0}},n[hn]=function(){return o},t(n)}catch(t){}return i},fn=De.set,mn=function(a,t,e,i,u,n){var l=ne[a],c=l,h=u?"set":"add",o=c&&c.prototype,r={},s=function(t){var i=o[t];xe(o,t,"delete"==t?function(t){return!(n&&!re(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(n&&!re(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return n&&!re(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof c&&(n||o.forEach&&!ae(function(){(new c).entries().next()}))){var d=new c,p=d[h](n?{}:-0,1)!=d,f=ae(function(){d.has(1)}),m=pn(function(t){new c(t)}),v=!n&&ae(function(){for(var t=new c,e=5;e--;)t[h](e,e);return!t.has(-0)});m||(((c=t(function(t,e){Xi(t,c,a);var i,n,o,r,s=(i=new l,n=c,(r=t.constructor)!==n&&"function"==typeof r&&(o=r.prototype)!==n.prototype&&re(o)&&fn&&fn(i,o),i);return null!=e&&en(e,u,s[h],s),s})).prototype=o).constructor=c),(f||v)&&(s("delete"),s("has"),u&&s("get")),(v||p)&&s(h),n&&o.clear&&delete o.clear}else c=i.getConstructor(t,a,u,h),Gi(c.prototype,e),on.NEED=!0;return _i(c,a),r[a]=c,Pe(Pe.G+Pe.W+Pe.F*(c!=l),r),n||i.setStrong(c,a,u),c},vn=(mn("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return cn.def(rn(this,"Set"),t=0===t?0:t,t)}},cn),function(i){return function(){if(Ze(this)!=i)throw TypeError(i+"#toJSON isn't generic");return en(this,!(e=[]),e.push,e,t),e;var t,e}});Pe(Pe.P+Pe.R,"Set",{toJSON:vn("Set")});var gn=function(t){Pe(Pe.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})};gn("Set");var _n=function(t){Pe(Pe.S,t,{from:function(t){var e,i,n,o,r=arguments[1];return Ce(this),(e=void 0!==r)&&Ce(r),null==t?new this:(i=[],e?(n=0,o=Ee(r,arguments[2],2),en(t,!1,function(t){i.push(o(t,n++))})):en(t,!1,i.push,i),new this(i))}})};_n("Set");oe.Set,mn("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=cn.getEntry(rn(this,"Map"),t);return e&&e.v},set:function(t,e){return cn.def(rn(this,"Map"),0===t?0:t,e)}},cn,!0);Pe(Pe.P+Pe.R,"Map",{toJSON:vn("Map")}),gn("Map"),_n("Map");oe.Map;var yn=Array.isArray||function(t){return"Array"==Me(t)},bn=qe("species"),wn=function(t,e){return new(yn(i=t)&&("function"!=typeof(n=i.constructor)||n!==Array&&!yn(n.prototype)||(n=void 0),re(n)&&null===(n=n[bn])&&(n=void 0)),void 0===n?Array:n)(e);var i,n},kn=function(h,t){var d=1==h,p=2==h,f=3==h,m=4==h,v=6==h,g=5==h||v,_=t||wn;return function(t,e,i){for(var n,o,r=wi(t),s=Te(r),a=Ee(e,i,3),u=Je(s.length),l=0,c=d?_(t,u):p?_(t,0):void 0;l<u;l++)if((g||l in s)&&(o=a(n=s[l],l,r),h))if(d)c[l]=o;else if(o)switch(h){case 3:return!0;case 5:return n;case 6:return l;case 2:c.push(n)}else if(m)return!1;return v?-1:f||m?m:c}},xn={f:Object.getOwnPropertySymbols},Cn=Object.assign,En=!Cn||ae(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=Cn({},t)[i]||Object.keys(Cn({},e)).join("")!=n})?function(t,e){for(var i=wi(t),n=arguments.length,o=1,r=xn.f,s=Ae.f;o<n;)for(var a,u=Te(arguments[o++]),l=r?ai(u).concat(r(u)):ai(u),c=l.length,h=0;h<c;)s.call(u,a=l[h++])&&(i[a]=u[a]);return i}:Cn,Ln=on.getWeak,Sn=kn(5),Pn=kn(6),An=0,On=function(t){return t._l||(t._l=new Mn)},Mn=function(){this.a=[]},Tn=function(t,e){return Sn(t.a,function(t){return t[0]===e})};Mn.prototype={get:function(t){var e=Tn(this,t);if(e)return e[1]},has:function(t){return!!Tn(this,t)},set:function(t,e){var i=Tn(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=Pn(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}};var In={getConstructor:function(t,i,n,o){var r=t(function(t,e){Xi(t,r,i,"_i"),t._t=i,t._i=An++,t._l=void 0,null!=e&&en(e,n,t[o],t)});return Gi(r.prototype,{delete:function(t){if(!re(t))return!1;var e=Ln(t);return!0===e?On(rn(this,i)).delete(t):e&&ye(e,this._i)&&delete e[this._i]},has:function(t){if(!re(t))return!1;var e=Ln(t);return!0===e?On(rn(this,i)).has(t):e&&ye(e,this._i)}}),r},def:function(t,e,i){var n=Ln(se(e),!0);return!0===n?On(t).set(e,i):n[t._i]=i,t},ufstore:On};ee(function(t){var r,e=kn(0),i="WeakMap",n=on.getWeak,s=Object.isExtensible,o=In.ufstore,a={},u=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},l={get:function(t){if(re(t)){var e=n(t);return!0===e?o(rn(this,i)).get(t):e?e[this._i]:void 0}},set:function(t,e){return In.def(rn(this,i),t,e)}},c=t.exports=mn(i,u,l,In,!0,!0);ae(function(){return 7!=(new c).set((Object.freeze||Object)(a),7).get(a)})&&(r=In.getConstructor(u,i),En(r.prototype,l),on.NEED=!0,e(["delete","has","get","set"],function(n){var t=c.prototype,o=t[n];xe(t,n,function(t,e){if(re(t)&&!s(t)){this._f||(this._f=new r);var i=this._f[n](t,e);return"set"==n?this:i}return o.call(this,t,e)})}))});gn("WeakMap"),_n("WeakMap");oe.WeakMap;var jn=function(t,e,i){e in t?me.f(t,e,ve(0,i)):t[e]=i};Pe(Pe.S+Pe.F*!pn(function(t){}),"Array",{from:function(t){var e,i,n,o,r=wi(t),s="function"==typeof this?this:Array,a=arguments.length,u=1<a?arguments[1]:void 0,l=void 0!==u,c=0,h=tn(r);if(l&&(u=Ee(u,2<a?arguments[2]:void 0,2)),null==h||s==Array&&Qi(h))for(i=new s(e=Je(r.length));c<e;c++)jn(i,c,l?u(r[c],c):r[c]);else for(o=h.call(r),i=new s;!(n=o.next()).done;c++)jn(i,c,l?Yi(o,u,[n.value,c],!0):n.value);return i.length=c,i}});oe.Array.from;var Nn=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function Rn(t){var e=Nn.has(t),i=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t);return!e&&i}function Bn(t){var e=t.isConnected;if(void 0!==e)return e;for(var i=t;i&&!(i.__CE_isImportDocument||i instanceof Document);)i=i.parentNode||(window.ShadowRoot&&i instanceof ShadowRoot?i.host:void 0);return!(!i||!(i.__CE_isImportDocument||i instanceof Document))}function Dn(t,e){for(var i=e;i&&i!==t&&!i.nextSibling;)i=i.parentNode;return i&&i!==t?i.nextSibling:null}function zn(t,e){for(var i,n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Set,r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var s=r;e(s);var a=s.localName;if("link"===a&&"import"===s.getAttribute("rel")){var u=s.import;if(u instanceof Node&&!o.has(u)){o.add(u);for(var l=u.firstChild;l;l=l.nextSibling)zn(l,e,o)}r=Dn(t,s);continue}if("template"===a){r=Dn(t,s);continue}var c=s.__CE_shadowRoot;if(c)for(var h=c.firstChild;h;h=h.nextSibling)zn(h,e,o)}i=t,r=(n=r).firstChild?n.firstChild:Dn(i,n)}}function Fn(t,e,i){t[e]=i}var Vn={custom:1,failed:2},qn=function(){function t(){h(this,t),this._localNameToDefinition=new Map,this._constructorToDefinition=new Map,this._patches=[],this._hasPatches=!1}return d(t,[{key:"setDefinition",value:function(t,e){this._localNameToDefinition.set(t,e),this._constructorToDefinition.set(e.constructor,e)}},{key:"localNameToDefinition",value:function(t){return this._localNameToDefinition.get(t)}},{key:"constructorToDefinition",value:function(t){return this._constructorToDefinition.get(t)}},{key:"addPatch",value:function(t){this._hasPatches=!0,this._patches.push(t)}},{key:"patchTree",value:function(t){var e=this;this._hasPatches&&zn(t,function(t){return e.patch(t)})}},{key:"patch",value:function(t){if(this._hasPatches&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this._patches.length;e++)this._patches[e](t)}}},{key:"connectTree",value:function(t){var e=[];zn(t,function(t){return e.push(t)});for(var i=0;i<e.length;i++){var n=e[i];n.__CE_state===Vn.custom?Bn(n)&&this.connectedCallback(n):this.upgradeElement(n)}}},{key:"disconnectTree",value:function(t){var e=[];zn(t,function(t){return e.push(t)});for(var i=0;i<e.length;i++){var n=e[i];n.__CE_state===Vn.custom&&this.disconnectedCallback(n)}}},{key:"patchAndUpgradeTree",value:function(t){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set,o=[];if(zn(t,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var t=e.import;t instanceof Node&&"complete"===t.readyState?(t.__CE_isImportDocument=!0,t.__CE_hasRegistry=!0):e.addEventListener("load",function(){var t=e.import;t.__CE_documentLoadHandled||(t.__CE_documentLoadHandled=!0,t.__CE_isImportDocument=!0,t.__CE_hasRegistry=!0,n.delete(t),i.patchAndUpgradeTree(t,n))})}else o.push(e)},n),this._hasPatches)for(var e=0;e<o.length;e++)this.patch(o[e]);for(var r=0;r<o.length;r++)this.upgradeElement(o[r])}},{key:"upgradeElement",value:function(e){if(void 0===e.__CE_state){var t=this.localNameToDefinition(e.localName);if(t){t.constructionStack.push(e);var i=t.constructor;try{try{if(new i!==e)throw new Error("The custom element constructor did not produce the element being upgraded.")}finally{t.constructionStack.pop()}}catch(t){throw e.__CE_state=Vn.failed,t}if(e.__CE_state=Vn.custom,(e.__CE_definition=t).attributeChangedCallback)for(var n=t.observedAttributes,o=0;o<n.length;o++){var r=n[o],s=e.getAttribute(r);null!==s&&this.attributeChangedCallback(e,r,null,s,null)}Bn(e)&&this.connectedCallback(e)}}}},{key:"connectedCallback",value:function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t),t.__CE_isConnectedCallbackCalled=!0}},{key:"disconnectedCallback",value:function(t){t.__CE_isConnectedCallbackCalled||this.connectedCallback(t);var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t),t.__CE_isConnectedCallbackCalled=void 0}},{key:"attributeChangedCallback",value:function(t,e,i,n,o){var r=t.__CE_definition;r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(e)&&r.attributeChangedCallback.call(t,e,i,n,o)}}]),t}(),Hn=function(){function i(t,e){h(this,i),this._internals=t,this._document=e,this._observer=void 0,this._internals.patchAndUpgradeTree(this._document),"loading"===this._document.readyState&&(this._observer=new MutationObserver(this._handleMutations.bind(this)),this._observer.observe(this._document,{childList:!0,subtree:!0}))}return d(i,[{key:"disconnect",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutations",value:function(t){var e=this._document.readyState;"interactive"!==e&&"complete"!==e||this.disconnect();for(var i=0;i<t.length;i++)for(var n=t[i].addedNodes,o=0;o<n.length;o++){var r=n[o];this._internals.patchAndUpgradeTree(r)}}}]),i}(),Un=function(){function t(){var e=this;h(this,t),this._value=void 0,this._resolve=void 0,this._promise=new Promise(function(t){e._resolve=t,e._value&&t(e._value)})}return d(t,[{key:"resolve",value:function(t){if(this._value)throw new Error("Already resolved.");this._value=t,this._resolve&&this._resolve(t)}},{key:"toPromise",value:function(){return this._promise}}]),t}(),Zn=function(){function e(t){h(this,e),this._elementDefinitionIsRunning=!1,this._internals=t,this._whenDefinedDeferred=new Map,this._flushCallback=function(t){return t()},this._flushPending=!1,this._unflushedLocalNames=[],this._documentConstructionObserver=new Hn(t,document)}return d(e,[{key:"define",value:function(t,e){var i=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!Rn(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this._internals.localNameToDefinition(t))throw new Error("A custom element with name '"+t+"' has already been defined.");if(this._elementDefinitionIsRunning)throw new Error("A custom element is already being defined.");this._elementDefinitionIsRunning=!0;var n=void 0,o=void 0,r=void 0,s=void 0,a=void 0;try{var u=function(t){var e=l[t];if(void 0!==e&&!(e instanceof Function))throw new Error("The '"+t+"' callback must be a function.");return e},l=e.prototype;if(!(l instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");n=u("connectedCallback"),o=u("disconnectedCallback"),r=u("adoptedCallback"),s=u("attributeChangedCallback"),a=e.observedAttributes||[]}catch(t){return}finally{this._elementDefinitionIsRunning=!1}var c={localName:t,constructor:e,connectedCallback:n,disconnectedCallback:o,adoptedCallback:r,attributeChangedCallback:s,observedAttributes:a,constructionStack:[]};this._internals.setDefinition(t,c),this._unflushedLocalNames.push(t),this._flushPending||(this._flushPending=!0,this._flushCallback(function(){return i._flush()}))}},{key:"_flush",value:function(){if(!1!==this._flushPending)for(this._flushPending=!1,this._internals.patchAndUpgradeTree(document);0<this._unflushedLocalNames.length;){var t=this._unflushedLocalNames.shift(),e=this._whenDefinedDeferred.get(t);e&&e.resolve(void 0)}}},{key:"get",value:function(t){var e=this._internals.localNameToDefinition(t);if(e)return e.constructor}},{key:"whenDefined",value:function(t){if(!Rn(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this._whenDefinedDeferred.get(t);if(e)return e.toPromise();var i=new Un;return this._whenDefinedDeferred.set(t,i),this._internals.localNameToDefinition(t)&&-1===this._unflushedLocalNames.indexOf(t)&&i.resolve(void 0),i.toPromise()}},{key:"polyfillWrapFlushCallback",value:function(e){this._documentConstructionObserver.disconnect();var i=this._flushCallback;this._flushCallback=function(t){return e(function(){return i(t)})}}}]),e}();(window.CustomElementRegistry=Zn).prototype.define=Zn.prototype.define,Zn.prototype.get=Zn.prototype.get,Zn.prototype.whenDefined=Zn.prototype.whenDefined,Zn.prototype.polyfillWrapFlushCallback=Zn.prototype.polyfillWrapFlushCallback;var Wn,Gn,Xn={Document_createElement:window.Document.prototype.createElement,Document_createElementNS:window.Document.prototype.createElementNS,Document_importNode:window.Document.prototype.importNode,Document_prepend:window.Document.prototype.prepend,Document_append:window.Document.prototype.append,Node_cloneNode:window.Node.prototype.cloneNode,Node_appendChild:window.Node.prototype.appendChild,Node_insertBefore:window.Node.prototype.insertBefore,Node_removeChild:window.Node.prototype.removeChild,Node_replaceChild:window.Node.prototype.replaceChild,Node_textContent:Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Element_attachShadow:window.Element.prototype.attachShadow,Element_innerHTML:Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Element_getAttribute:window.Element.prototype.getAttribute,Element_setAttribute:window.Element.prototype.setAttribute,Element_removeAttribute:window.Element.prototype.removeAttribute,Element_getAttributeNS:window.Element.prototype.getAttributeNS,Element_setAttributeNS:window.Element.prototype.setAttributeNS,Element_removeAttributeNS:window.Element.prototype.removeAttributeNS,Element_insertAdjacentElement:window.Element.prototype.insertAdjacentElement,Element_prepend:window.Element.prototype.prepend,Element_append:window.Element.prototype.append,Element_before:window.Element.prototype.before,Element_after:window.Element.prototype.after,Element_replaceWith:window.Element.prototype.replaceWith,Element_remove:window.Element.prototype.remove,HTMLElement:window.HTMLElement,HTMLElement_innerHTML:Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),HTMLElement_insertAdjacentElement:window.HTMLElement.prototype.insertAdjacentElement},Yn=new function t(){h(this,t)},$n=function(a,t,u){t.prepend=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&Bn(t)});u.prepend.apply(this,e);for(var o=0;o<n.length;o++)a.disconnectTree(n[o]);if(Bn(this))for(var r=0;r<e.length;r++){var s=e[r];s instanceof Element&&a.connectTree(s)}},t.append=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&Bn(t)});u.append.apply(this,e);for(var o=0;o<n.length;o++)a.disconnectTree(n[o]);if(Bn(this))for(var r=0;r<e.length;r++){var s=e[r];s instanceof Element&&a.connectTree(s)}}},Kn=window.customElements;if(!Kn||Kn.forcePolyfill||"function"!=typeof Kn.define||"function"!=typeof Kn.get){var Qn=new qn;Wn=Qn,window.HTMLElement=function(){function t(){var t=this.constructor,e=Wn.constructorToDefinition(t);if(!e)throw new Error("The custom element being constructed was not registered with `customElements`.");var i=e.constructionStack;if(0===i.length){var n=Xn.Document_createElement.call(document,e.localName);return Object.setPrototypeOf(n,t.prototype),n.__CE_state=Vn.custom,n.__CE_definition=e,Wn.patch(n),n}var o=i.length-1,r=i[o];if(r===Yn)throw new Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[o]=Yn,Object.setPrototypeOf(r,t.prototype),Wn.patch(r),r}return t.prototype=Xn.HTMLElement.prototype,t}(),function(o){Fn(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var e=o.localNameToDefinition(t);if(e)return new e.constructor}var i=Xn.Document_createElement.call(this,t);return o.patch(i),i}),Fn(Document.prototype,"importNode",function(t,e){var i=Xn.Document_importNode.call(this,t,e);return this.__CE_hasRegistry?o.patchAndUpgradeTree(i):o.patchTree(i),i});Fn(Document.prototype,"createElementNS",function(t,e){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var i=o.localNameToDefinition(e);if(i)return new i.constructor}var n=Xn.Document_createElementNS.call(this,t,e);return o.patch(n),n}),$n(o,Document.prototype,{prepend:Xn.Document_prepend,append:Xn.Document_append})}(Qn),function(u){function e(t,s){Object.defineProperty(t,"textContent",{enumerable:s.enumerable,configurable:!0,get:s.get,set:function(t){if(this.nodeType!==Node.TEXT_NODE){var e=void 0;if(this.firstChild){var i=this.childNodes,n=i.length;if(0<n&&Bn(this)){e=new Array(n);for(var o=0;o<n;o++)e[o]=i[o]}}if(s.set.call(this,t),e)for(var r=0;r<e.length;r++)u.disconnectTree(e[r])}else s.set.call(this,t)}})}Fn(Node.prototype,"insertBefore",function(t,e){if(t instanceof DocumentFragment){var i=Array.prototype.slice.apply(t.childNodes),n=Xn.Node_insertBefore.call(this,t,e);if(Bn(this))for(var o=0;o<i.length;o++)u.connectTree(i[o]);return n}var r=Bn(t),s=Xn.Node_insertBefore.call(this,t,e);return r&&u.disconnectTree(t),Bn(this)&&u.connectTree(t),s}),Fn(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var e=Array.prototype.slice.apply(t.childNodes),i=Xn.Node_appendChild.call(this,t);if(Bn(this))for(var n=0;n<e.length;n++)u.connectTree(e[n]);return i}var o=Bn(t),r=Xn.Node_appendChild.call(this,t);return o&&u.disconnectTree(t),Bn(this)&&u.connectTree(t),r}),Fn(Node.prototype,"cloneNode",function(t){var e=Xn.Node_cloneNode.call(this,t);return this.ownerDocument.__CE_hasRegistry?u.patchAndUpgradeTree(e):u.patchTree(e),e}),Fn(Node.prototype,"removeChild",function(t){var e=Bn(t),i=Xn.Node_removeChild.call(this,t);return e&&u.disconnectTree(t),i}),Fn(Node.prototype,"replaceChild",function(t,e){if(t instanceof DocumentFragment){var i=Array.prototype.slice.apply(t.childNodes),n=Xn.Node_replaceChild.call(this,t,e);if(Bn(this)){u.disconnectTree(e);for(var o=0;o<i.length;o++)u.connectTree(i[o])}return n}var r=Bn(t),s=Xn.Node_replaceChild.call(this,t,e),a=Bn(this);return a&&u.disconnectTree(e),r&&u.disconnectTree(t),a&&u.connectTree(t),s}),Xn.Node_textContent&&Xn.Node_textContent.get?e(Node.prototype,Xn.Node_textContent):u.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)Xn.Node_removeChild.call(this,this.firstChild);Xn.Node_appendChild.call(this,document.createTextNode(t))}})})}(Qn),function(a){function e(t,s){Object.defineProperty(t,"innerHTML",{enumerable:s.enumerable,configurable:!0,get:s.get,set:function(t){var e=this,i=Bn(this),n=void 0;if(i&&(n=[],zn(this,function(t){t!==e&&n.push(t)})),s.set.call(this,t),n)for(var o=0;o<n.length;o++){var r=n[o];r.__CE_state===Vn.custom&&a.disconnectedCallback(r)}return this.ownerDocument.__CE_hasRegistry?a.patchAndUpgradeTree(this):a.patchTree(this),t}})}if(Xn.Element_attachShadow?Fn(Element.prototype,"attachShadow",function(t){var e=Xn.Element_attachShadow.call(this,t);return this.__CE_shadowRoot=e}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),Xn.Element_innerHTML&&Xn.Element_innerHTML.get)e(Element.prototype,Xn.Element_innerHTML);else if(Xn.HTMLElement_innerHTML&&Xn.HTMLElement_innerHTML.get)e(HTMLElement.prototype,Xn.HTMLElement_innerHTML);else{var i=Xn.Document_createElement.call(document,"div");a.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return Xn.Node_cloneNode.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(i.innerHTML=t;0<e.childNodes.length;)Xn.Node_removeChild.call(e,e.childNodes[0]);for(;0<i.childNodes.length;)Xn.Node_appendChild.call(e,i.childNodes[0])}})})}function t(t,o){Fn(t,"insertAdjacentElement",function(t,e){var i=Bn(e),n=o.call(this,t,e);return i&&a.disconnectTree(e),Bn(n)&&a.connectTree(e),n})}var u,n,l;Fn(Element.prototype,"setAttribute",function(t,e){if(this.__CE_state!==Vn.custom)return Xn.Element_setAttribute.call(this,t,e);var i=Xn.Element_getAttribute.call(this,t);Xn.Element_setAttribute.call(this,t,e),e=Xn.Element_getAttribute.call(this,t),a.attributeChangedCallback(this,t,i,e,null)}),Fn(Element.prototype,"setAttributeNS",function(t,e,i){if(this.__CE_state!==Vn.custom)return Xn.Element_setAttributeNS.call(this,t,e,i);var n=Xn.Element_getAttributeNS.call(this,t,e);Xn.Element_setAttributeNS.call(this,t,e,i),i=Xn.Element_getAttributeNS.call(this,t,e),a.attributeChangedCallback(this,e,n,i,t)}),Fn(Element.prototype,"removeAttribute",function(t){if(this.__CE_state!==Vn.custom)return Xn.Element_removeAttribute.call(this,t);var e=Xn.Element_getAttribute.call(this,t);Xn.Element_removeAttribute.call(this,t),null!==e&&a.attributeChangedCallback(this,t,e,null,null)}),Fn(Element.prototype,"removeAttributeNS",function(t,e){if(this.__CE_state!==Vn.custom)return Xn.Element_removeAttributeNS.call(this,t,e);var i=Xn.Element_getAttributeNS.call(this,t,e);Xn.Element_removeAttributeNS.call(this,t,e);var n=Xn.Element_getAttributeNS.call(this,t,e);i!==n&&a.attributeChangedCallback(this,e,i,n,t)}),Xn.HTMLElement_insertAdjacentElement?t(HTMLElement.prototype,Xn.HTMLElement_insertAdjacentElement):Xn.Element_insertAdjacentElement?t(Element.prototype,Xn.Element_insertAdjacentElement):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),$n(a,Element.prototype,{prepend:Xn.Element_prepend,append:Xn.Element_append}),u=a,n=Element.prototype,l={before:Xn.Element_before,after:Xn.Element_after,replaceWith:Xn.Element_replaceWith,remove:Xn.Element_remove},n.before=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&Bn(t)});l.before.apply(this,e);for(var o=0;o<n.length;o++)u.disconnectTree(n[o]);if(Bn(this))for(var r=0;r<e.length;r++){var s=e[r];s instanceof Element&&u.connectTree(s)}},n.after=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&Bn(t)});l.after.apply(this,e);for(var o=0;o<n.length;o++)u.disconnectTree(n[o]);if(Bn(this))for(var r=0;r<e.length;r++){var s=e[r];s instanceof Element&&u.connectTree(s)}},n.replaceWith=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&Bn(t)}),o=Bn(this);l.replaceWith.apply(this,e);for(var r=0;r<n.length;r++)u.disconnectTree(n[r]);if(o){u.disconnectTree(this);for(var s=0;s<e.length;s++){var a=e[s];a instanceof Element&&u.connectTree(a)}}},n.remove=function(){var t=Bn(this);l.remove.call(this),t&&u.disconnectTree(this)}}(Qn),document.__CE_hasRegistry=!0;var Jn=new Zn(Qn);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:Jn})}!function(t){if(!t.JsMutationObserver){var r,u=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))r=setTimeout;else if(window.setImmediate)r=window.setImmediate;else{var i=[],n=String(Math.random());window.addEventListener("message",function(t){if(t.data===n){var e=i;i=[],e.forEach(function(t){t()})}}),r=function(t){i.push(t),window.postMessage(n,"*")}}var h,d,s=!1,a=[],e=0;o.prototype={observe:function(t,e){var i;if(i=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(i)||i,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,o=u.get(t);o||u.set(t,o=[]);for(var r=0;r<o.length;r++)if(o[r].observer===this){(n=o[r]).removeListeners(),n.options=e;break}n||(n=new g(this,t,e),o.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=u.get(t),i=0;i<e.length;i++){var n=e[i];if(n.observer===this){n.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},g.prototype={enqueue:function(t){var e,i=this.observer.records_,n=i.length;if(0<i.length){var o=v(i[n-1],t);if(o)return void(i[n-1]=o)}else e=this.observer,a.push(e),s||(s=!0,r(l));i[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=u.get(t);e||u.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=u.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,n=t.target;(r=new f("attributes",n)).attributeName=e,r.attributeNamespace=i;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;p(n,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?m(o):r});break;case"DOMCharacterDataModified":var r=f("characterData",n=t.target);o=t.prevValue;p(n,function(t){if(t.characterData)return t.characterDataOldValue?m(o):r});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,a,u=t.target;"DOMNodeInserted"===t.type?(s=[u],a=[]):(s=[],a=[u]);var l=u.previousSibling,c=u.nextSibling;(r=f("childList",t.target.parentNode)).addedNodes=s,r.removedNodes=a,r.previousSibling=l,r.nextSibling=c,p(t.relatedNode,function(t){if(t.childList)return r})}h=d=void 0}},t.JsMutationObserver=o,t.MutationObserver||((t.MutationObserver=o)._isPolyfilled=!0)}function l(){s=!1;var t=a;a=[],t.sort(function(t,e){return t.uid_-e.uid_});var n=!1;t.forEach(function(t){var i,e=t.takeRecords();(i=t).nodes_.forEach(function(t){var e=u.get(t);e&&e.forEach(function(t){t.observer===i&&t.removeTransientObservers()})}),e.length&&(t.callback_(e,t),n=!0)}),n&&l()}function p(t,e){for(var i=t;i;i=i.parentNode){var n=u.get(i);if(n)for(var o=0;o<n.length;o++){var r=n[o],s=r.options;if(i===t||s.subtree){var a=e(s);a&&r.enqueue(a)}}}}function o(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++e}function c(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(t,e){return h=new c(t,e)}function m(t){return d||((i=new c((e=h).type,e.target)).addedNodes=e.addedNodes.slice(),i.removedNodes=e.removedNodes.slice(),i.previousSibling=e.previousSibling,i.nextSibling=e.nextSibling,i.attributeName=e.attributeName,i.attributeNamespace=e.attributeNamespace,i.oldValue=e.oldValue,(d=i).oldValue=t,d);var e,i}function v(t,e){return t===e?t:d&&((i=t)===d||i===h)?d:null;var i}function g(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}}(self),function(i,n){if(!i.setImmediate){var t,o,e,r,s,a=1,u={},l=!1,c=i.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(i);h=h&&h.setTimeout?h:i,"[object process]"==={}.toString.call(i.process)?t=function(){var t=d(arguments);return ha.nextTick(p(f,t)),t}:!function(){if(i.postMessage&&!i.importScripts){var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}}()?i.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){f(t.data)},t=function(){var t=d(arguments);return e.port2.postMessage(t),t}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,t=function(){var t=d(arguments),e=c.createElement("script");return e.onreadystatechange=function(){f(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e),t}):t=function(){var t=d(arguments);return setTimeout(p(f,t),0),t}:(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===i&&"string"==typeof t.data&&0===t.data.indexOf(r)&&f(+t.data.slice(r.length))},i.addEventListener?i.addEventListener("message",s,!1):i.attachEvent("onmessage",s),t=function(){var t=d(arguments);return i.postMessage(r+t,"*"),t}),h.setImmediate=t,h.clearImmediate=m}function d(t){return u[a]=p.apply(n,t),a++}function p(t){var e=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(n,e):new Function(""+t)()}}function f(t){if(l)setTimeout(p(f,t),0);else{var e=u[t];if(e){l=!0;try{e()}finally{m(t),l=!1}}}}function m(t){delete u[t]}}(self),Gn={ensureViewportElement:function(){var t=document.querySelector("meta[name=viewport]");return t||((t=document.createElement("meta")).name="viewport",document.head.appendChild(t)),t},setup:function(){var t=Gn.ensureViewportElement();t&&(t.hasAttribute("content")||t.setAttribute("content","width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"))}},window.Viewport=Gn;var to=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return s(e,t),e}(function(){if("function"!=typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}()),eo=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));for(t.template=t.innerHTML;t.firstChild;)t.removeChild(t.firstChild);return t}return s(e,to),d(e,[{key:"connectedCallback",value:function(){this.parentNode&&this.parentNode!==document.body&&U.warn("ons-template (id = "+this.getAttribute("id")+") must be located just under document.body"+(this.parentNode.outerHTML?":\n\n"+this.parentNode.outerHTML:"."));var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),e}();n.Template=eo,customElements.define("ons-template",eo);var io=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){if(null!==c._getSelectedPlatform())t._platformUpdate();else if(!t._isAllowedPlatform()){for(;t.childNodes[0];)t.childNodes[0].remove();t._platformUpdate()}}),t._onOrientationChange(),t}return s(e,to),d(e,[{key:"connectedCallback",value:function(){Bt.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){Bt.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||0<=this.getAttribute("platform").split(/\s+/).indexOf(c.getMobileOS())}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=Bt.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),e}();n.If=io,customElements.define("ons-if",io);var no=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.timing=t.timing||"linear",this.duration=t.duration||0,this.delay=t.delay||0,this.def={timing:this.timing,duration:this.duration,delay:this.delay}}return d(e,null,[{key:"extend",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,i=function(){e.apply(this,arguments),U.extend(this,t)};return i.prototype=this.prototype,i}}]),e}(),oo={isIPhoneXPortraitPatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-portrait")&&window.innerWidth<window.innerHeight},isIPhoneXLandscapePatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-landscape")&&window.innerWidth>=window.innerHeight},getSafeAreaLengths:function(){return oo.isIPhoneXPortraitPatchActive()?{top:44,right:0,bottom:34,left:0}:oo.isIPhoneXLandscapePatchActive()?{top:0,right:44,bottom:21,left:44}:{top:0,right:0,bottom:0,left:0}},getSafeAreaDOMRect:function(){var t=void 0;return t=oo.isIPhoneXPortraitPatchActive()?{x:0,y:44,width:window.innerWidth,height:window.innerHeight-78}:oo.isIPhoneXLandscapePatchActive()?{x:44,y:0,width:window.innerWidth-88,height:window.innerHeight-21}:{x:0,y:0,width:window.innerWidth,height:window.innerHeight},p({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}},ro=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),a}(),so=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.4:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.maskTiming="linear",a.maskDuration=.2,a}return s(u,ro),d(u,[{key:"show",value:function(t,e){nt.runAll(nt(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),nt(t._sheet,this.def).default({transform:"translate3d(0, 80%, 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){nt.runAll(nt(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),nt(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, 80%, 0)",opacity:0}).queue(function(t){e&&e(),t()}))}}]),u}(),ao=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.3:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.maskTiming="linear",a.maskDuration=.2,oo.isIPhoneXPortraitPatchActive()?a.liftAmount="calc(100% + 48px)":oo.isIPhoneXLandscapePatchActive()?a.liftAmount="calc(100% + 33px)":a.liftAmount=document.body.clientHeight/2-1+"px",a}return s(u,ro),d(u,[{key:"show",value:function(t,e){nt.runAll(nt(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),nt(t._sheet,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){nt.runAll(nt(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),nt(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.liftAmount+", 0)"}).queue(function(t){e&&e(),t()}))}}]),u}(),uo=function(t){function i(){h(this,i);var e=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.constructor===i&&U.throwAbstract(),e._visible=!1,e._doorLock=new Zt,e._cancel=e._cancel.bind(e),e._selfCamelName=U.camelize(e.tagName.slice(4)),e._defaultDBB=function(t){return e.cancelable?e._cancel():t.callParentHandler()},e._animatorFactory=e._updateAnimatorFactory(),e}return s(i,to),d(i,[{key:"_updateAnimatorFactory",value:function(){U.throwMember()}},{key:"_toggleStyle",value:function(t){this.style.display=t?"block":"none"}},{key:"_scheme",get:function(){U.throwMember()}}]),d(i,[{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){t._running=!1,U.triggerElementEvent(t,"dialog-cancel")},function(){return t._running=!1}))}},{key:"show",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!0].concat(e))}},{key:"hide",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!1].concat(e))}},{key:"toggle",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!this.visible].concat(e))}},{key:"_setVisible",value:function(n){var t,o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=n?"show":"hide";(r=p({},r)).animationOptions=U.extend(r.animationOptions||{},b.parseAnimationOptionsString(this.getAttribute("animation-options")));var e=!1;return U.triggerElementEvent(this,"pre"+s,(a(t={},this._selfCamelName,this),a(t,"cancel",function(){return e=!0}),t)),e?Promise.reject("Canceled in pre"+s+" event."):new Promise(function(i){o._doorLock.waitUnlock(function(){var t=o._doorLock.lock(),e=o._animatorFactory.newAnimator(r);n&&o._toggleStyle(!0,r),o._visible=n,U.iosPageScrollFix(n),Ot(o,function(){e[s](o,function(){!n&&o._toggleStyle(!1,r),t(),U.propagateAction(o,"_"+s),U.triggerElementEvent(o,"post"+s,a({},o._selfCamelName,o)),r.callback instanceof Function&&r.callback(o),i(o)})})})})}},{key:"_updateMask",value:function(){var t=this;Ot(this,function(){t._mask&&t.getAttribute("mask-color")&&(t._mask.style.backgroundColor=t.getAttribute("mask-color"))})}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._defaultDBB.bind(this),Ot(this,function(){t._mask&&(t._mask.addEventListener("click",t._cancel,!1),U.iosMaskScrollFix(t._mask,!0))})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask&&(this._mask.removeEventListener("click",this._cancel,!1),U.iosMaskScrollFix(this._mask,!1))}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"modifier":P.onModifierChanged(e,i,this,this._scheme);break;case"animation":this._animatorFactory=this._updateAnimatorFactory();break;case"mask-color":this._updateMask()}}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=T.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return U.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"observedAttributes",get:function(){return["modifier","animation","mask-color"]}},{key:"events",get:function(){return["preshow","postshow","prehide","posthide","dialog-cancel"]}}]),i}(),lo={".action-sheet":"action-sheet--*",".action-sheet-mask":"action-sheet-mask--*",".action-sheet-title":"action-sheet-title--*"},co={default:function(){return c.isAndroid()?so:ao},none:ro},ho=function(t){function n(){h(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return Ot(t,function(){return t._compile()}),t}return s(n,uo),d(n,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:co,baseClass:ro,baseClassName:"ActionSheetAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(S.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._sheet){var t=document.createElement("div");for(t.classList.add("action-sheet");this.firstChild;)t.appendChild(this.firstChild);this.appendChild(t)}if(!this._title&&this.hasAttribute("title")){var e=document.createElement("div");e.innerHTML=this.getAttribute("title"),e.classList.add("action-sheet-title"),this._sheet.insertBefore(e,this._sheet.firstChild)}if(!this._mask){var i=document.createElement("div");i.classList.add("action-sheet-mask"),this.insertBefore(i,this.firstChild)}this._sheet.style.zIndex=20001,this._mask.style.zIndex=2e4,P.initModifier(this,this._scheme)}},{key:"_updateTitle",value:function(){this._title&&(this._title.innerHTML=this.getAttribute("title"))}},{key:"attributeChangedCallback",value:function(t,e,i){"title"===t?this._updateTitle():f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return lo}},{key:"_mask",get:function(){return U.findChild(this,".action-sheet-mask")}},{key:"_sheet",get:function(){return U.findChild(this,".action-sheet")}},{key:"_title",get:function(){return this.querySelector(".action-sheet-title")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof ro||U.throwAnimator("ActionSheet"),co[t]=e}},{key:"observedAttributes",get:function(){return[].concat(g(f(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["title"])}},{key:"animators",get:function(){return co}},{key:"ActionSheetAnimator",get:function(){return ro}}]),n}();n.ActionSheet=ho,customElements.define("ons-action-sheet",ho);var po=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&U.throwAbstract(),Ot(t,function(){return t._compile()}),t}return s(e,to),d(e,[{key:"_scheme",get:function(){U.throwMember()}},{key:"_defaultClassName",get:function(){U.throwMember()}},{key:"_rippleOpt",get:function(){return[this]}}]),d(e,[{key:"_compile",value:function(){if(S.prepare(this),this.classList.add(this._defaultClassName),!this._icon&&this.hasAttribute("icon")){U.checkMissingImport("Icon");var t=U.createElement('<ons-icon icon="'+this.getAttribute("icon")+'"></ons-icon>');t.classList.add(this._defaultClassName.replace("button","icon")),this.insertBefore(t,this.firstChild)}this._updateRipple(),P.initModifier(this,this._scheme)}},{key:"_updateIcon",value:function(){this._icon&&this._icon.setAttribute("icon",this.getAttribute("icon"))}},{key:"_updateRipple",value:function(){this._rippleOpt&&U.updateRipple.apply(U,g(this._rippleOpt))}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,this._defaultClassName,this._scheme);break;case"modifier":P.onModifierChanged(e,i,this,this._scheme);break;case"icon":this._updateIcon();break;case"ripple":this.classList.contains(this._defaultClassName)&&this._updateRipple()}}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_icon",get:function(){return U.findChild(this,"ons-icon")}}],[{key:"observedAttributes",get:function(){return["modifier","class","icon","ripple"]}}]),e}(),fo=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,po),d(e,[{key:"_scheme",get:function(){return{"":"action-sheet-button--*",".action-sheet-icon":"action-sheet-icon--*"}}},{key:"_defaultClassName",get:function(){return"action-sheet-button"}},{key:"_rippleOpt",get:function(){}}]),e}();n.ActionSheetButton=fo,customElements.define("ons-action-sheet-button",fo);var mo=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),a}(),vo=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.duration,o=void 0===n?.2:n,r=t.delay,s=void 0===r?0:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{duration:o,timing:i,delay:s}))}return s(a,mo),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:0},{opacity:1}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:1},{opacity:0}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1},{transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0}).queue(function(t){e(),t()}))}}]),a}(),go=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.duration,o=void 0===n?.2:n,r=t.delay,s=void 0===r?0:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{duration:o,timing:i,delay:s}))}return s(a,mo),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:0},{opacity:1}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:1},{opacity:0}),nt(t._dialog,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}))}}]),a}(),_o={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-footer--rowfooter":"alert-dialog-footer--rowfooter--*",".alert-dialog-button--rowfooter":"alert-dialog-button--rowfooter--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-button":"alert-dialog-button--*","ons-alert-dialog-button":"alert-dialog-button--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},yo={none:mo,default:function(){return c.isAndroid()?vo:go},fade:function(){return c.isAndroid()?vo:go}},bo=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t}return s(e,uo),d(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:yo,baseClass:mo,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){S.prepare(this),this.style.display="none",this.style.zIndex=10001;var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var i=document.createElement("div");i.classList.add("alert-dialog"),this.insertBefore(i,null)}if(!U.findChild(this._dialog,".alert-dialog-container")){var n=document.createElement("div");n.classList.add("alert-dialog-container"),this._dialog.appendChild(n)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return _o}},{key:"_mask",get:function(){return U.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return U.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return U.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return U.findChild(this._dialog.children[0],".alert-dialog-content")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof mo||U.throwAnimator("AlertDialog"),yo[t]=e}},{key:"animators",get:function(){return yo}},{key:"AlertDialogAnimator",get:function(){return mo}}]),e}();n.AlertDialog=bo,customElements.define("ons-alert-dialog",bo);var wo=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,po),d(e,[{key:"_scheme",get:function(){return{"":"alert-dialog-button--*"}}},{key:"_defaultClassName",get:function(){return"alert-dialog-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{modifier:"light-gray"}]}}]),e}();n.AlertDialogButton=wo,customElements.define("ons-alert-dialog-button",wo);var ko="back-button",xo={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},Co=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){t._compile()}),t._options={},t._boundOnClick=t._onClick.bind(t),t}return s(e,to),d(e,[{key:"_updateIcon",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:U.findChild(this,".back-button__icon")).innerHTML="android"===S.getPlatform(this)||U.hasModifier(this,"material")?'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>md-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="android" transform="translate(-32.000000, -32.000000)" fill-rule="nonzero">\n            <polygon id="md-back-button-icon" points="48 39 35.83 39 41.42 33.41 40 32 32 40 40 48 41.41 46.59 35.83 41 48 41"></polygon>\n        </g>\n    </g>\n</svg>\n':'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>ios-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="ios" transform="translate(-34.000000, -30.000000)">\n            <polygon id="ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon>\n        </g>\n    </g>\n</svg>\n'}},{key:"_compile",value:function(){if(S.prepare(this),this.classList.add(ko),!U.findChild(this,".back-button__label")){for(var t=U.create("span.back-button__label");this.childNodes[0];)t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!U.findChild(this,".back-button__icon")){var e=U.create("span.back-button__icon");this._updateIcon(e),this.insertBefore(e,this.children[0])}U.updateRipple(this,void 0,{center:"",size:"contain",background:"transparent"}),P.initModifier(this,xo)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=U.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,ko,xo);break;case"modifier":P.onModifierChanged(e,i,this,xo)&&this._updateIcon()}}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.BackButton=Co,customElements.define("ons-back-button",Co);var Eo="bottom-bar",Lo={"":"bottom-bar--*"},So=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.classList.add(Eo),P.initModifier(t,Lo),t}return s(e,to),d(e,[{key:"connectedCallback",value:function(){U.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,Eo,Lo);break;case"modifier":P.onModifierChanged(e,i,this,Lo)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.BottomToolbar=So,customElements.define("ons-bottom-toolbar",So);var Po=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,po),d(e,[{key:"_scheme",get:function(){return{"":"button--*"}}},{key:"_defaultClassName",get:function(){return"button"}}]),e}();n.Button=Po,customElements.define("ons-button",Po);var Ao={"":"card--*",".card__title":"card--*__title",".card__content":"card--*__content"},Oo=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){t._compile()}),t}return s(e,to),d(e,[{key:"_compile",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.classList.contains("title")?e.classList.add("card__title"):e.classList.contains("content")&&e.classList.add("card__content")}S.prepare(this),this.classList.add("card"),P.initModifier(this,Ao)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,"card",Ao);break;case"modifier":P.onModifierChanged(e,i,this,Ao)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.Card=Oo,customElements.define("ons-card",Oo);var Mo={"":"carousel-item--*"},To=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.style.width="100%",P.initModifier(t,Mo),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return P.onModifierChanged(e,i,this,Mo)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),e}();n.CarouselItem=To,customElements.define("ons-carousel-item",To);var Io={vertical:{axis:"Y",size:"Height",dir:["up","down"],t3d:["0px, ","px, 0px"]},horizontal:{axis:"X",size:"Width",dir:["left","right"],t3d:["","px, 0px, 0px"]}},jo=function(){function t(e){var i=this;h(this,t);var n=function(){return!1};"getInitialIndex getBubbleWidth isVertical isOverScrollable isCentered\n    isAutoScrollable refreshHook preChangeHook postChangeHook overScrollHook".split(/\s+/).forEach(function(t){return i[t]=e[t]||n}),this.getElement=e.getElement,this.scrollHook=e.scrollHook,this.itemSize=e.itemSize||"100%",this.getAutoScrollRatio=function(){var t=e.getAutoScrollRatio&&e.getAutoScrollRatio.apply(e,arguments);return((t="number"==typeof t&&t==t?t:.5)<0||1<t)&&U.throw("Invalid auto-scroll-ratio "+t+". Must be between 0 and 1"),t},this.shouldBlock="other"===U.globals.actualMobileOS,this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onResize=this.onResize.bind(this),this._shouldFixScroll="ios"===U.globals.actualMobileOS}return d(t,[{key:"init",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.swipeable,n=e.autoRefresh;this.initialized=!0,this.target=this.getElement().children[0],this.blocker=this.getElement().children[1],this.target&&this.blocker||U.throw('Expected "target" and "blocker" elements to exist before initializing Swiper'),this.shouldBlock||(this.blocker.style.display="none"),this.getElement().classList.add("ons-swiper"),this.target.classList.add("ons-swiper-target"),this.blocker.classList.add("ons-swiper-blocker"),this._gestureDetector=new ot(this.getElement(),{dragMinDistance:1,dragLockToAxis:!0,passive:!this._shouldFixScroll}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this.updateSwipeable(i),this.updateAutoRefresh(n),this._scroll=this._offset=this._lastActiveIndex=0,this._updateLayout(),this._setupInitialIndex(),setImmediate(function(){return t.initialized&&t._setupInitialIndex()}),window===window.parent&&0!==this.offsetHeight||window.requestAnimationFrame(function(){return t.initialized&&t.onResize()})}},{key:"dispose",value:function(){this.initialized=!1,this.updateSwipeable(!1),this.updateAutoRefresh(!1),this._gestureDetector&&this._gestureDetector.dispose(),this.target=this.blocker=this._gestureDetector=this._mutationObserver=null,this.setupResize(!1)}},{key:"onResize",value:function(){var t=this._scroll/this.targetSize;this._reset(),this.setActiveIndex(t),this.refresh()}},{key:"_calculateItemSize",value:function(){var t=this.itemSize.match(/^(\d+)(px|%)/);t||U.throw("Invalid state: swiper's size unit must be '%' or 'px'");var e=parseInt(t[1],10);return"%"===t[2]?Math.round(e/100*this.targetSize):e}},{key:"_setupInitialIndex",value:function(){this._reset(),this._lastActiveIndex=Math.max(Math.min(Number(this.getInitialIndex()),this.itemCount),0),this._scroll=this._offset+this.itemNumSize*this._lastActiveIndex,this._scrollTo(this._scroll)}},{key:"_setSwiping",value:function(t){this.target.classList.toggle("swiping",t)}},{key:"setActiveIndex",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._setSwiping(!0),t=Math.max(0,Math.min(t,this.itemCount-1));var n,o=Math.max(0,Math.min(this.maxScroll,this._offset+this.itemNumSize*t));if(c.isUIWebView()){var r=(n=U.arrayFrom(this.target.children).map(function(t){return U.arrayFrom(t.children).filter(function(t){return t.classList.contains("page__content")})}),Array.prototype.concat.apply([],n)),s=new Map;return new Promise(function(t){r.forEach(function(t){s.set(t,t.getAttribute("class")),t.classList.add("page__content--suppress-layer-creation")}),requestAnimationFrame(t)}).then(function(){return e._changeTo(o,i)}).then(function(){return new Promise(function(t){r.forEach(function(t){t.setAttribute("class",s.get(t))}),requestAnimationFrame(t)})})}return this._changeTo(o,i)}},{key:"getActiveIndex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._scroll;t-=this._offset;var e=this.itemCount,i=this.itemNumSize;if(0===this.itemNumSize||!U.isInteger(t))return this._lastActiveIndex;if(t<=0)return 0;for(var n=0;n<e;n++)if(i*n<=t&&t<i*(n+1))return n;return e-1}},{key:"setupResize",value:function(t){window[(t?"add":"remove")+"EventListener"]("resize",this.onResize,!0)}},{key:"show",value:function(){var t=this;this.setupResize(!0),this.onResize(),setTimeout(function(){return t.target&&t.target.classList.add("active")},1e3/60)}},{key:"hide",value:function(){this.setupResize(!1),this.target.classList.remove("active")}},{key:"updateSwipeable",value:function(t){if(this._gestureDetector){var e=t?"on":"off";this._gestureDetector[e]("drag",this.onDrag),this._gestureDetector[e]("dragstart",this.onDragStart),this._gestureDetector[e]("dragend",this.onDragEnd)}}},{key:"updateAutoRefresh",value:function(t){this._mutationObserver&&(t?this._mutationObserver.observe(this.target,{childList:!0}):this._mutationObserver.disconnect())}},{key:"updateItemSize",value:function(t){this.itemSize=t||"100%",this.refresh()}},{key:"toggleBlocker",value:function(t){this.blocker.style.pointerEvents=t?"auto":"none"}},{key:"_canConsumeGesture",value:function(t){var e=t.direction,i=0===this._scroll&&!this.isOverScrollable(),n=this._scroll===this.maxScroll&&!this.isOverScrollable();return this.isVertical()?"down"===e&&!i||"up"===e&&!n:"right"===e&&!i||"left"===e&&!n}},{key:"onDragStart",value:function(t){var e=this;if(this._ignoreDrag=t.consumed||!U.isValidGesture(t),!this._ignoreDrag){var i=t.consume;if(t.consume=function(){i&&i(),e._ignoreDrag=!0},this._canConsumeGesture(t.gesture)){var n=t.gesture.center&&t.gesture.center.clientX||0,o=this.getBubbleWidth()||0,r=function(){i&&i(),t.consumed=!0,e._started=!0,e.shouldBlock&&e.toggleBlocker(!0),e._setSwiping(!0),U.iosPreventScroll(e._gestureDetector)};n<o||n>this.targetSize-o?setImmediate(function(){return!e._ignoreDrag&&r()}):r()}}}},{key:"onDrag",value:function(t){t.gesture&&!this._ignoreDrag&&this._started&&(this._continued=!0,t.stopPropagation(),this._scrollTo(this._scroll-this._getDelta(t),{throttle:!0}))}},{key:"onDragEnd",value:function(t){if(this._started=!1,t.gesture&&!this._ignoreDrag&&this._continued){this._continued=!1,t.stopPropagation();var e=this._scroll-this._getDelta(t),i=this._normalizeScroll(e);e===i?this._startMomentumScroll(e,t):this._killOverScroll(i),this.shouldBlock&&this.toggleBlocker(!1)}else this._ignoreDrag=!0}},{key:"_startMomentumScroll",value:function(t,e){var i=this._getVelocity(e),n=e.gesture.interimDirection===this.dM.dir[this._getDelta(e)<0?0:1],o=this._getAutoScroll(t,i,n),r=Math.abs(o-t)/(i+.01)/1e3;r=Math.min(.25,Math.max(.1,r)),this._changeTo(o,{swipe:!0,animationOptions:{duration:r,timing:"cubic-bezier(.4, .7, .5, 1)"}})}},{key:"_killOverScroll",value:function(t){var e=this;this._scroll=t;var i=this.dM.dir[Number(0<t)],n=function(){return e._changeTo(t,{animationOptions:{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}})};this.overScrollHook({direction:i,killOverScroll:n})||n()}},{key:"_changeTo",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={activeIndex:this.getActiveIndex(t),lastActiveIndex:this._lastActiveIndex,swipe:i.swipe||!1},o=n.activeIndex!==n.lastActiveIndex,r=!!o&&this.preChangeHook(n);return this._scroll=r?this._offset+n.lastActiveIndex*this.itemNumSize:t,this._lastActiveIndex=r?n.lastActiveIndex:n.activeIndex,this._scrollTo(this._scroll,i).then(function(){if(t!==e._scroll||r){if(i.reject)return e._setSwiping(!1),Promise.reject("Canceled")}else e._setSwiping(!1),o&&e.postChangeHook(n)})}},{key:"_scrollTo",value:function(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.throttle){if(e<0)e=this.isOverScrollable()?Math.round(.35*e):0;else{var n=this.maxScroll;n<e&&(e=this.isOverScrollable()?n+Math.round(.35*(e-n)):n)}}var o="none"===t.animation?{}:t.animationOptions;return this.scrollHook&&0<this.itemNumSize&&this.scrollHook((e/this.itemNumSize).toFixed(2),t.animationOptions||{}),new Promise(function(t){return nt(i.target).queue({transform:i._getTransform(e)},o).play(t)})}},{key:"_getAutoScroll",value:function(i,t,e){var n=this.maxScroll,o=this._offset,r=this.itemNumSize;if(!this.isAutoScrollable())return Math.max(0,Math.min(n,i));for(var s=[],a=o;a<n;a+=r)s.push(a);s.push(n);var u=(s=s.sort(function(t,e){return Math.abs(t-i)-Math.abs(e-i)}).filter(function(t,e){return!e||t!==s[e-1]}))[0],l=this._lastActiveIndex*r+o,c=Math.abs(i-l)/r;return c<=this.getAutoScrollRatio(e,t,r)?u=l:c<1&&s[0]===l&&1<s.length&&(u=s[1]),Math.max(0,Math.min(n,u))}},{key:"_reset",value:function(){this._targetSize=this._itemNumSize=void 0}},{key:"_normalizeScroll",value:function(t){return Math.max(Math.min(t,this.maxScroll),0)}},{key:"refresh",value:function(){if(this._reset(),this._updateLayout(),U.isInteger(this._scroll)){var t=this._normalizeScroll(this._scroll);t!==this._scroll?this._killOverScroll(t):this._changeTo(t)}else this._setupInitialIndex();this.refreshHook()}},{key:"_getDelta",value:function(t){return t.gesture["delta"+this.dM.axis]}},{key:"_getVelocity",value:function(t){return t.gesture["velocity"+this.dM.axis]}},{key:"_getTransform",value:function(t){return"translate3d("+this.dM.t3d[0]+-t+this.dM.t3d[1]+")"}},{key:"_updateLayout",value:function(){this.dM=Io[this.isVertical()?"vertical":"horizontal"],this.target.classList.toggle("ons-swiper-target--vertical",this.isVertical());for(var t=this.target.children[0];t;t=t.nextElementSibling)t.style[this.dM.size.toLowerCase()]=this.itemSize;this.isCentered()&&(this._offset=(this.targetSize-this.itemNumSize)/-2||0)}},{key:"itemCount",get:function(){return this.target.children.length}},{key:"itemNumSize",get:function(){return"number"==typeof this._itemNumSize&&this._itemNumSize==this._itemNumSize||(this._itemNumSize=this._calculateItemSize()),this._itemNumSize}},{key:"maxScroll",get:function(){var t=this.itemCount*this.itemNumSize-this.targetSize;return Math.ceil(t<0?0:t)}},{key:"targetSize",get:function(){return this._targetSize||(this._targetSize=this.target["offset"+this.dM.size]),this._targetSize}}]),t}(),No=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t}return s(e,to),d(e,[{key:"_compile",value:function(){var t=this.children[0]&&"ONS-CAROUSEL-ITEM"!==this.children[0].tagName&&this.children[0]||document.createElement("div");if(!t.parentNode){for(;this.firstChild;)t.appendChild(this.firstChild);this.appendChild(t)}!this.children[1]&&this.appendChild(document.createElement("div")),this.appendChild=this.appendChild.bind(t),this.insertBefore=this.insertBefore.bind(t)}},{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new jo({getElement:function(){return t},getInitialIndex:function(){return t.getAttribute("initial-index")},getAutoScrollRatio:function(){return t.autoScrollRatio},isVertical:function(){return t.vertical},isOverScrollable:function(){return t.overscrollable},isCentered:function(){return t.centered},isAutoScrollable:function(){return t.autoScroll},itemSize:this.itemSize,overScrollHook:this._onOverScroll.bind(this),preChangeHook:this._onChange.bind(this,"prechange"),postChangeHook:this._onChange.bind(this,"postchange"),refreshHook:this._onRefresh.bind(this),scrollHook:function(){return t._onSwipe&&t._onSwipe.apply(t,arguments)}}),Ot(this,function(){return t._swiper.init({swipeable:t.hasAttribute("swipeable"),autoRefresh:t.hasAttribute("auto-refresh")})}))}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null)}},{key:"attributeChangedCallback",value:function(t,e,i){if(this._swiper)switch(t){case"swipeable":this._swiper.updateSwipeable(this.hasAttribute("swipeable"));break;case"auto-refresh":this._swiper.updateAutoRefresh(this.hasAttribute("auto-refresh"));break;case"item-height":this.vertical&&this._swiper.updateItemSize(this.itemSize);break;case"item-width":this.vertical||this._swiper.updateItemSize(this.itemSize);break;case"direction":this._swiper.refresh()}}},{key:"_show",value:function(){this._swiper.show()}},{key:"_hide",value:function(){this._swiper.hide()}},{key:"_onOverScroll",value:function(t){var e=t.direction,i=t.killOverScroll,n=!1;return U.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:e,waitToReturn:function(t){n=!0,t.then(i)}}),n}},{key:"_onChange",value:function(t,e){var i=e.activeIndex,n=e.lastActiveIndex;U.triggerElementEvent(this,t,{carousel:this,activeIndex:i,lastActiveIndex:n})}},{key:"_onRefresh",value:function(){U.triggerElementEvent(this,"refresh",{carousel:this})}},{key:"setActiveIndex",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i=p({animation:this.getAttribute("animation"),animationOptions:this.hasAttribute("animation-options")?U.animationOptionsParse(this.getAttribute("animation-options")):{duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"}},i),this._swiper.setActiveIndex(t,i).then(function(){return i.callback instanceof Function&&i.callback(e),Promise.resolve(e)})}},{key:"getActiveIndex",value:function(){return this._swiper.getActiveIndex()}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"refresh",value:function(){this._swiper.refresh()}},{key:"itemCount",get:function(){return this._swiper.itemCount}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return U.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||U.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return U.toggleAttribute(this,"auto-scroll",t)}},{key:"vertical",get:function(){return"vertical"===this.getAttribute("direction")}},{key:"itemSize",get:function(){var t=(this.getAttribute("item-"+(this.vertical?"height":"width"))||"").trim();return t.match(/^\d+(px|%)$/)?t:"100%"}},{key:"autoScrollRatio",get:function(){return parseFloat(this.getAttribute("auto-scroll-ratio"))},set:function(t){this.setAttribute("auto-scroll-ratio",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return U.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return U.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return U.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction","item-height","item-width"]}},{key:"events",get:function(){return["postchange","refresh","overscroll"]}}]),e}();n.Carousel=No,customElements.define("ons-carousel",No);var Ro=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.getAttribute("width")&&t._updateWidth(),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");t?(t=t.trim().match(/^\d+$/)?t+"%":t,u(this,{flex:"0 0 "+t,maxWidth:t})):u.clear(this,"flex maxWidth")}}],[{key:"observedAttributes",get:function(){return["width"]}}]),e}();n.Col=Ro,customElements.define("ons-col",Ro);var Bo=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),a}(),Do=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease-in-out":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.3:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,Bo),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:0},{opacity:1}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -60%, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:1},{opacity:0}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)",opacity:1},{transform:"translate3d(-50%, -60%, 0)",opacity:0}).queue(function(t){e(),t()}))}}]),a}(),zo=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease-in-out":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.bodyHeight=document.body.clientHeight,a}return s(u,Bo),d(u,[{key:"show",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:0},{opacity:1}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:1},{opacity:0}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"}).queue(function(t){e(),t()}))}}]),u}(),Fo=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.bodyHeight=document.body.clientHeight,a}return s(u,Bo),d(u,[{key:"show",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:0},{opacity:1}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},nt.runAll(nt(t._mask,this.def).default({opacity:1},{opacity:0}),nt(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"}).queue(function(t){e(),t()}))}}]),u}(),Vo={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},qo={default:function(){return c.isAndroid()?Do:zo},slide:Fo,none:Bo},Ho=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t}return s(e,uo),d(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:qo,baseClass:Bo,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(S.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");for(e.classList.add("dialog-container");this.firstChild;)e.appendChild(this.firstChild);t.appendChild(e),this.appendChild(t)}if(!this._mask){var i=document.createElement("div");i.classList.add("dialog-mask"),this.insertBefore(i,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Vo}},{key:"_mask",get:function(){return U.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return U.findChild(this,".dialog")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Bo||U.throwAnimator("Dialog"),qo[t]=e}},{key:"animators",get:function(){return qo}},{key:"DialogAnimator",get:function(){return Bo}}]),e}();n.Dialog=Ho,customElements.define("ons-dialog",Ho);var Uo="fab",Zo={"":"fab--*",".fab__icon":"fab--*__icon"},Wo=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hide(),t.classList.add(Uo),Ot(t,function(){t._compile()}),t}return s(e,to),d(e,[{key:"_compile",value:function(){if(S.prepare(this),!U.findChild(this,".fab__icon")){var e=document.createElement("span");e.classList.add("fab__icon"),U.arrayFrom(this.childNodes).forEach(function(t){t.tagName&&"ons-ripple"===t.tagName.toLowerCase()||e.appendChild(t)}),this.appendChild(e)}this._updateRipple(),P.initModifier(this,Zo),this._updatePosition()}},{key:"connectedCallback",value:function(){var t=this;setImmediate(function(){return t.show()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,Uo,Zo);break;case"modifier":P.onModifierChanged(e,i,this,Zo);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){var t=this;setImmediate(function(){return t.hide()})}},{key:"_updateRipple",value:function(){U.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){this.toggle(!0)}},{key:"hide",value:function(){this.toggle(!1)}},{key:"toggle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!this.visible,e=0<=(this.getAttribute("position")||"").indexOf("bottom")?"translate3d(0px, -"+(U.globals.fabOffset||0)+"px, 0px)":"";u(this,{transform:e+" scale("+Number(t)+")"})}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return-1===this.style.transform.indexOf("scale(0)")&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position","class"]}}]),e}();n.Fab=Wo,customElements.define("ons-fab",Wo);var Go=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._gestureDetector=new ot(t,{passive:!0}),t}return s(e,to),e}();n.GestureDetector=Go,customElements.define("ons-gesture-detector",Go);var Xo="fa",Yo=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){this._cleanClassAttribute("icon"===t?e:this.getAttribute("icon"),"modifier"===t?e:void 0),this._update()}},{key:"_compile",value:function(){S.prepare(this),this._update()}},{key:"_update",value:function(){var e=this,t=this._buildClassAndStyle(this._parseAttr("icon"),this._parseAttr("size")),i=t.classList,n=t.style;U.extend(this.style,n),i.forEach(function(t){return e.classList.add(t)})}},{key:"_parseAttr",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getAttribute("modifier")||"",i=(this.getAttribute(t)||t||"").split(/\s*,\s*/),n=i[0],o=i[1];return o=(o||"").split(/\s*:\s*/),(e&&RegExp("(^|\\s+)"+o[0]+"($|\\s+)","i").test(e)?o[1]:n)||""}},{key:"_cleanClassAttribute",value:function(t,e){var i=this,n=this._prefixIcon(this._parseAttr(t,e)),o=n.className,r=n.prefix,s=new RegExp("^(fa$|fa-|ion-|zmdi$|zmdi-|ons-icon--"+(o!==r?"|"+r+"$|"+r+"-":"|"+o+"$"||"")+")");U.arrayFrom(this.classList).filter(function(t){return s.test(t)}).forEach(function(t){return i.classList.remove(t)})}},{key:"_prefixIcon",value:function(t){var e=Xo+(Xo?"-":"")+t;return{className:e,prefix:e.split("-")[0]}}},{key:"_buildClassAndStyle",value:function(t,e){var i=["ons-icon"],n={};if(0===t.indexOf("ion-"))i.push(t),i.push("ons-icon--ion");else if(0===t.indexOf("fa-"))i.push(t),i.push("fa");else if(0===t.indexOf("md-"))i.push("zmdi"),i.push("zmdi-"+t.split(/-(.+)?/)[1]);else{var o=this._prefixIcon(t),r=o.className,s=o.prefix;s&&i.push(s),r&&i.push(r)}return e.match(/^[1-5]x|lg$/)?(i.push("ons-icon--"+e),this.style.removeProperty("font-size")):n.fontSize=e,{classList:i,style:n}}}],[{key:"setAutoPrefix",value:function(t){Xo=t?"string"==typeof t&&t||"fa":""}},{key:"observedAttributes",get:function(){return["icon","size","modifier","class"]}}]),e}();n.Icon=Yo,customElements.define("ons-icon",Yo);var $o=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;h(this,i),"object"===(void 0===t?"undefined":l(t))&&null!==t||U.throw('"delegate" parameter must be an object'),this._userDelegate=t,e instanceof Element||null===e||U.throw('"templateElement" parameter must be an instance of Element or null'),this._templateElement=e}return d(i,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(){this._userDelegate._render.apply(this._userDelegate,arguments)}},{key:"loadItemElement",value:function(t,e){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e);else{var i=this._userDelegate.createItemContent(t,this._templateElement);i instanceof Element||U.throw('"createItemContent" must return an instance of Element'),e({element:i})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();return"number"!=typeof t&&U.throw('"countItems" must return a number'),t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);return"number"!=typeof e&&U.throw('"calculateItemHeight" must return a number'),e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),i}(),Ko=function(){function i(t,e){h(this,i),e instanceof $o||U.throw('"delegate" parameter must be an instance of LazyRepeatDelegate'),this._wrapperElement=t,this._delegate=e,this._insertIndex=this._wrapperElement.children[0]&&"ONS-LAZY-REPEAT"===this._wrapperElement.children[0].tagName?1:0,"ons-list"===t.tagName.toLowerCase()&&t.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(t),this._pageContent||U.throw("LazyRepeat must be descendant of a Page element"),this.lastScrollTop=this._pageContent.scrollTop,this.padding=0,this._topPositions=[0],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return d(i,[{key:"_findPageContentElement",value:function(t){var e=U.findParent(t,".page__content");if(e)return e;var i=U.findParent(t,"ons-page");if(i){var n=U.findChild(i,".content");if(n)return n}return null}},{key:"_checkItemHeight",value:function(i){var n=this;this._delegate.loadItemElement(0,function(t){n._unknownItemHeight||U.throw("Invalid state"),n._wrapperElement.appendChild(t.element);var e=function(){n._delegate.destroyItem(0,t),t.element&&t.element.remove(),delete n._unknownItemHeight,i()};n._itemHeight=t.element.offsetHeight,0<n._itemHeight?e():(n._wrapperElement.style.visibility="hidden",t.element.style.visibility="hidden",setImmediate(function(){n._itemHeight=t.element.offsetHeight,0==n._itemHeight&&U.throw('Invalid state: "itemHeight" must be greater than zero'),n._wrapperElement.style.visibility="",e()}))})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this._renderedItems.hasOwnProperty(t)?(this._renderedItems[t].hasOwnProperty("height")||(this._renderedItems[t].height=this._renderedItems[t].element.offsetHeight),this._renderedItems[t].height):this._topPositions[t+1]&&this._topPositions[t]?this._topPositions[t+1]-this._topPositions[t]:this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_calculateRenderedHeight",value:function(){var i=this;return Object.keys(this._renderedItems).reduce(function(t,e){return t+i._getItemHeight(+e)},0)}},{key:"_onChange",value:function(){this._render()}},{key:"_lastItemRendered",value:function(){return Math.max.apply(Math,g(Object.keys(this._renderedItems)))}},{key:"_firstItemRendered",value:function(){return Math.min.apply(Math,g(Object.keys(this._renderedItems)))}},{key:"refresh",value:function(){var t={forceScrollDown:!0},e=Math.min(this._lastItemRendered(),this._countItems()-1),i=this._firstItemRendered();U.isInteger(e)&&(t.forceLastIndex=e),U.isInteger(i)&&(this._wrapperElement.style.height=this._topPositions[i]+this._calculateRenderedHeight()+"px",this.padding=this._topPositions[i],t.forceFirstIndex=i),this._removeAllElements(),this._render(t),this._wrapperElement.style.height="inherit"}},{key:"_render",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.forceScrollDown,n=void 0!==i&&i,o=t.forceFirstIndex,r=t.forceLastIndex;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this,arguments[0]));var s=!n&&this.lastScrollTop>this._pageContent.scrollTop;this.lastScrollTop=this._pageContent.scrollTop;for(var a={},u=this._wrapperElement.getBoundingClientRect().top,l=4*window.innerHeight-u,c=this._countItems(),h=o||Math.max(0,this._calculateStartIndex(u)-30),d=h,p=this._topPositions[d];d<c&&p<l;d++)d>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[d]=p,p+=this._getItemHeight(d);if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(h,d,function(){e.padding=e._topPositions[h]});if(s)for(var f=d-1;h<=f;f--)a[f]=!0,this._renderElement(f,s);else for(var m=r||Math.max.apply(Math,[d-1].concat(g(Object.keys(this._renderedItems)))),v=h;v<=m;v++)a[v]=!0,this._renderElement(v,s);Object.keys(this._renderedItems).forEach(function(t){return a[t]||e._removeElement(t,s)})}},{key:"_renderElement",value:function(e,i){var n=this,t=this._renderedItems[e];t?this._delegate.updateItem(e,t):this._delegate.loadItemElement(e,function(t){i?(n._wrapperElement.insertBefore(t.element,n._wrapperElement.children[n._insertIndex]),n.padding=n._topPositions[e],t.height=n._topPositions[e+1]-n._topPositions[e]):n._wrapperElement.appendChild(t.element),n._renderedItems[e]=t})}},{key:"_removeElement",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t=+t;var i=this._renderedItems[t];this._delegate.destroyItem(t,i),e?this._topPositions[t+1]=void 0:this.padding=this.padding+this._getItemHeight(t),i.element.parentElement&&i.element.parentElement.removeChild(i.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var e=this;Object.keys(this._renderedItems).forEach(function(t){return e._removeElement(t)})}},{key:"_recalculateTopPositions",value:function(t,e){for(var i=t;i<=e;i++)this._topPositions[i+1]=this._topPositions[i]+this._getItemHeight(i)}},{key:"_calculateStartIndex",value:function(t){var e=this._firstItemRendered(),i=this._lastItemRendered();this._recalculateTopPositions(e,i);for(var n=0,o=this._countItems()-1;;){var r=Math.floor((n+o)/2),s=t+this._topPositions[r];if(o<n)return 0;if(s<=0&&0<s+this._getItemHeight(r))return r;isNaN(s)||0<=s?o=r-1:n=r+1}}},{key:"_debounce",value:function(n,o,r){var s=void 0;return function(){var t=this,e=arguments,i=r&&!s;clearTimeout(s),i?n.apply(this,arguments):s=setTimeout(function(){s=null,n.apply(t,e)},o)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){U.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),c.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),c.isIOS()&&(U.addEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),c.isIOS()&&(U.removeEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"padding",get:function(){return parseInt(this._wrapperElement.style.paddingTop,10)},set:function(t){this._wrapperElement.style.paddingTop=t+"px"}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),i}(),Qo=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,to),d(e,[{key:"connectedCallback",value:function(){this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new $o(t,this._templateElement||null);this._lazyRepeatProvider=new Ko(this.parentElement,e)},get:function(){U.throw("No delegate getter")}}]),e}();y.LazyRepeatDelegate=$o,y.LazyRepeatProvider=Ko,n.LazyRepeat=Qo,customElements.define("ons-lazy-repeat",Qo);var Jo="list-header",tr={"":"list-header--*"},er=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return s(e,to),d(e,[{key:"_compile",value:function(){S.prepare(this),this.classList.add(Jo),P.initModifier(this,tr)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,Jo,tr);break;case"modifier":P.onModifierChanged(e,i,this,tr)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.ListHeader=er,customElements.define("ons-list-header",er);var ir="list-title",nr={"":"list-title--*"},or=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return s(e,to),d(e,[{key:"_compile",value:function(){S.prepare(this),this.classList.add(ir),P.initModifier(this,nr)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,ir,nr);break;case"modifier":P.onModifierChanged(e,i,this,nr)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.ListTitle=or,customElements.define("ons-list-title",or);var rr={".list-item":"list-item--*",".list-item__left":"list-item--*__left",".list-item__center":"list-item--*__center",".list-item__right":"list-item--*__right",".list-item__label":"list-item--*__label",".list-item__title":"list-item--*__title",".list-item__subtitle":"list-item--*__subtitle",".list-item__thumbnail":"list-item--*__thumbnail",".list-item__icon":"list-item--*__icon"},sr=function(t){function i(){h(this,i);var t=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),e=/^ons-(?!col$|row$|if$)/i;return t._shouldIgnoreTap=function(t){return t.hasAttribute("prevent-tap")||e.test(t.tagName)},Ot(t,function(){t._compile()}),t}return s(i,to),d(i,[{key:"_compile",value:function(){S.prepare(this),this.classList.add("list-item");for(var t=void 0,e=void 0,i=void 0,n=0;n<this.children.length;n++){var o=this.children[n];o.classList.contains("left")?(o.classList.add("list-item__left"),t=o):o.classList.contains("center")?e=o:o.classList.contains("right")&&(o.classList.add("list-item__right"),i=o)}if(!e){if(e=document.createElement("div"),t||i)for(var r=this.childNodes.length-1;0<=r;r--){var s=this.childNodes[r];s!==t&&s!==i&&e.insertBefore(s,e.firstChild)}else for(;this.childNodes[0];)e.appendChild(this.childNodes[0]);this.insertBefore(e,i||null)}e.classList.add("center"),e.classList.add("list-item__center"),U.updateRipple(this),P.initModifier(this,rr)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,"list-item",rr);break;case"modifier":P.onModifierChanged(e,i,this,rr);break;case"ripple":U.updateRipple(this)}}},{key:"connectedCallback",value:function(){this._setupListeners(!0),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";U[e](this,"touchstart",this._onTouch,{passive:!0}),U[e](this,"touchmove",this._onRelease,{passive:!0}),this[e]("touchcancel",this._onRelease),this[e]("touchend",this._onRelease),this[e]("touchleave",this._onRelease),this[e]("drag",this._onDrag),this[e]("mousedown",this._onTouch),this[e]("mouseup",this._onRelease),this[e]("mouseout",this._onRelease)}},{key:"_onDrag",value:function(t){var e=t.gesture;this.hasAttribute("lock-on-drag")&&-1<["left","right"].indexOf(e.direction)&&e.preventDefault()}},{key:"_onTouch",value:function(t){var e=this;if(!(this.tapped||this!==t.target&&(this._shouldIgnoreTap(t.target)||U.findParent(t.target,this._shouldIgnoreTap,function(t){return t===e})))){this.tapped=!0;var i={transition:"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"};this.hasAttribute("tappable")&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),i.backgroundColor=this.getAttribute("tap-background-color")||"#d9d9d9",i.boxShadow="0px -1px 0px 0px "+i.backgroundColor),u(this,i)}}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.backgroundColor=this._originalBackgroundColor||"",u.clear(this,"transition boxShadow")}}],[{key:"observedAttributes",get:function(){return["modifier","class","ripple"]}}]),i}();n.ListItem=sr,customElements.define("ons-list-item",sr);var ar={"":"list--*"},ur=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return s(e,to),d(e,[{key:"_compile",value:function(){S.prepare(this),this.classList.add("list"),P.initModifier(this,ar)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,"list",ar);break;case"modifier":P.onModifierChanged(e,i,this,ar)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.List=ur,customElements.define("ons-list",ur);var lr=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","required","size","step","validator","value"],cr=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&U.throwAbstract(),Ot(t,function(){return t._compile()}),t._boundDelegateEvent=t._delegateEvent.bind(t),t}return s(e,to),d(e,[{key:"_update",value:function(){}},{key:"_scheme",get:function(){U.throwMember()}},{key:"_template",get:function(){U.throwMember()}},{key:"type",get:function(){U.throwMember()}}]),d(e,[{key:"_compile",value:function(){S.prepare(this),this._defaultClassName&&this.classList.add(this._defaultClassName),0===this.children.length&&(this.appendChild(U.createFragment(this._template)),this._setInputId(),this._updateBoundAttributes(),P.initModifier(this,this._scheme))}},{key:"_updateBoundAttributes",value:function(){var e=this;lr.forEach(function(t){e.hasAttribute(t)?e._input.setAttribute(t,e.getAttribute(t)):e._input.removeAttribute(t)}),this._update()}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_setInputId",value:function(){this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id"))}},{key:"connectedCallback",value:function(){var t=this;Ot(this,function(){t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;Ot(this,function(){t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"modifier":Ot(this,function(){return P.onModifierChanged(e,i,n,n._scheme)});break;case"input-id":Ot(this,function(){return n._setInputId()});break;case"class":U.restoreClass(this,this._defaultClassName,this._scheme)}0<=lr.indexOf(t)&&Ot(this,function(){return n._updateBoundAttributes()})}},{key:"_defaultClassName",get:function(){return""}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;Ot(this,function(){t instanceof Date&&(t=t.toISOString().substring(0,10)),e._input.value=t,e._update()})}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","class"].concat(lr)}}]),e}(),hr={".text-input":"text-input--*",".text-input__label":"text-input--*__label"},dr=function(t){function o(){h(this,o);var t=v(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t._boundOnInput=t._update.bind(t),t._boundOnFocusin=t._update.bind(t),t}return s(o,cr),d(o,[{key:"_update",value:function(){this._updateLabel(),this._updateLabelClass()}},{key:"_updateLabel",value:function(){var t=this.getAttribute("placeholder")||"";void 0!==this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):this._helper.classList.add("text-input--material__label--active")}},{key:"connectedCallback",value:function(){var t=this;f(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this).call(this),Ot(this,function(){t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin)});var e=this.getAttribute("type");0<=["checkbox","radio"].indexOf(e)&&U.warn('Warn: <ons-input type="'+e+'"> is deprecated since v2.4.0. Use <ons-'+e+"> instead.")}},{key:"disconnectedCallback",value:function(){var t=this;f(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this).call(this),Ot(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin)})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"type":Ot(this,function(){return n._input.setAttribute("type",n.type)});break;default:f(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"attributeChangedCallback",this).call(this,t,e,i)}}},{key:"_scheme",get:function(){return hr}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="text-input">\n      <span class="text-input__label"></span>\n    '}},{key:"type",get:function(){var t=this.getAttribute("type");return["checkbox","radio"].indexOf(t)<0&&t||"text"}},{key:"_helper",get:function(){return this.querySelector("span")}}],[{key:"observedAttributes",get:function(){return[].concat(g(f(o.__proto__||Object.getPrototypeOf(o),"observedAttributes",this)),["type"])}}]),o}();n.Input=dr,customElements.define("ons-input",dr);var pr=function(t){function n(){h(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.constructor===n&&util.throwAbstract(),Ot(t,function(){t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),t}return s(n,cr),d(n,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"checked":this.checked=null!==i;break;default:f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <span class="'+this._defaultClassName+'__checkmark"></span>\n    '}},{key:"_helper",get:function(){return this.querySelector("span")}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;Ot(this,function(){e._input.checked=t})}}],[{key:"observedAttributes",get:function(){return[].concat(g(f(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["checked"])}}]),n}(),fr={".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},mr=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,pr),d(e,[{key:"_scheme",get:function(){return fr}},{key:"_defaultClassName",get:function(){return"checkbox"}},{key:"type",get:function(){return"checkbox"}}]),e}();n.Checkbox=mr,customElements.define("ons-checkbox",mr);var vr={".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark"},gr=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,pr),d(e,[{key:"_scheme",get:function(){return vr}},{key:"_defaultClassName",get:function(){return"radio-button"}},{key:"type",get:function(){return"radio"}}]),e}();n.Radio=gr,customElements.define("ons-radio",gr);var _r={".search-input":"search-input--*"},yr=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,cr),d(e,[{key:"_scheme",get:function(){return _r}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="search-input">\n    '}},{key:"type",get:function(){return"search"}}]),e}();n.SearchInput=yr,customElements.define("ons-search-input",yr);var br=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),a}(),wr=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.3:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,br),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},nt(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),a}(),kr=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier( .1, .7, .1, 1)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.4:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,br),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},nt(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}).queue(function(t){e(),t()}).play()}}]),a}(),xr={"":"modal--*",modal__content:"modal--*__content"},Cr={default:br,fade:wr,lift:kr,none:br},Er=function(t){function n(){h(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._defaultDBB=function(){},Ot(t,function(){return t._compile()}),t}return s(n,uo),d(n,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:Cr,baseClass:br,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!U.findChild(this,".modal__content")){var t=document.createElement("div");for(t.classList.add("modal__content");this.childNodes[0];){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}P.initModifier(this,this._scheme)}},{key:"_toggleStyle",value:function(t){this.style.display=t?"table":"none"}},{key:"connectedCallback",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this)}},{key:"attributeChangedCallback",value:function(t,e,i){"class"===t?U.restoreClass(this,"modal",xr):f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return xr}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof br||U.throwAnimator("Modal"),Cr[t]=e}},{key:"observedAttributes",get:function(){return[].concat(g(f(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["class"])}},{key:"animators",get:function(){return Cr}},{key:"ModalAnimator",get:function(){return br}}]),n}();n.Modal=Er,customElements.define("ons-modal",Er);var Lr=function(){function t(e){var i=this;h(this,t),"element ignoreSwipe isInitialState onDragCallback swipeMax swipeMin swipeMid".split(/\s+/).forEach(function(t){return i[t]=e[t]}),this.elementHandler=e.elementHandler||e.element,this.getThreshold=e.getThreshold||function(){return.5},this.getSide=e.getSide||function(){return"left"},this.handleGesture=this.handleGesture.bind(this),this._shouldFixScroll="ios"===U.globals.actualMobileOS}return d(t,[{key:"update",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element.hasAttribute("swipeable");this.gestureDetector||(this.gestureDetector=new ot(this.elementHandler,{dragMinDistance:1,passive:!this._shouldFixScroll}));var e=t?"on":"off";this.gestureDetector[e]("drag dragstart dragend",this.handleGesture)}},{key:"handleGesture",value:function(t){t.gesture&&("dragstart"===t.type?this.onDragStart(t):this._ignoreDrag||("dragend"===t.type?this.onDragEnd(t):this.onDrag(t)))}},{key:"onDragStart",value:function(t){var e,i,n,o=this;this._ignoreDrag=t.consumed||!U.isValidGesture(t)||this.ignoreSwipe(t,"left"===o.getSide()?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX),this._ignoreDrag||(t.consume&&t.consume(),t.consumed=!0,this._width=(e=this.element.style.width||"100%",i=[parseInt(e,10),/px/.test(e)],n=i[0],i[1]?n:Math.round(document.body.offsetWidth*n/100)),this._startDistance=this._distance=this.isInitialState instanceof Function&&!this.isInitialState()?this._width:0,U.iosPreventScroll(this.gestureDetector))}},{key:"onDrag",value:function(t){t.stopPropagation();var e="left"===this.getSide()?t.gesture.deltaX:-t.gesture.deltaX,i=Math.max(0,Math.min(this._width,this._startDistance+e));i!==this._distance&&(this._distance=i,this.swipeMid(this._distance,this._width))}},{key:"onDragEnd",value:function(t){t.stopPropagation();var e=t.gesture.interimDirection;this.getSide()!==e&&this._distance>this._width*this.getThreshold()?this.swipeMax():this.swipeMin()}},{key:"dispose",value:function(){this.gestureDetector&&this.gestureDetector.dispose(),this.gestureDetector=this.element=this.elementHandler=null}}]),t}(),Sr=function(t){function e(t){return h(this,e),t=U.extend({timing:"linear",duration:"0.4",delay:"0"},t||{}),v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,no),d(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}},{key:"block",value:function(t){var e=U.createElement('\n      <div style="position: absolute; background-color: transparent; width: 100%; height: 100%; z-index: 100000"></div>\n    ');return t.parentNode.appendChild(e),function(){return e.remove()}}}]),e}(),Pr=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.durationRestore,i=void 0===e?.1:e,n=t.durationSwipe,o=void 0===n?.15:n,r=t.timingSwipe,s=void 0===r?"linear":r,a=m(t,["durationRestore","durationSwipe","timingSwipe"]);h(this,l);var u=v(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,p({},a)));return u.constructor===l&&U.throwAbstract(),u.durationRestore=i,u.durationSwipe=o,u.timingSwipe=s,u.optSwipe={timing:s,duration:o},u.optRestore={timing:s,duration:i},u.swipeShadow=U.createElement('<div style="position: absolute; height: 100%; width: 12px; right: 100%; top: 0; bottom: 0; z-index: -1;background: linear-gradient(to right, transparent 0, rgba(0,0,0,.04) 40%, rgba(0,0,0,.12) 80%, rgba(0,0,0,.16) 100%);"></div>'),u.isDragStart=!0,u}return s(l,Sr),d(l,null,[{key:"swipeable",get:function(){return!0}}]),d(l,[{key:"_decompose",value:function(){U.throwMember()}},{key:"_shouldAnimateToolbar",value:function(){U.throwMember()}},{key:"_calculateDelta",value:function(){U.throwMember()}},{key:"_dragStartSetup",value:function(t,e){this.isDragStart=!1,this.unblock=f(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,e),t.parentElement.insertBefore(this.backgroundMask,t),this.target={enter:U.findToolbarPage(t)||t,leave:U.findToolbarPage(e)||e},this.decomp={enter:this._decompose(this.target.enter),leave:this._decompose(this.target.leave)},this.delta=this._calculateDelta(e,this.decomp.leave),this.shouldAnimateToolbar=this._shouldAnimateToolbar(this.target.enter,this.target.leave),this.shouldAnimateToolbar?(this.swipeShadow.style.top=this.decomp.leave.toolbar.offsetHeight+"px",this.target.leave.appendChild(this.swipeShadow),this._saveStyle(this.target.enter,this.target.leave)):(e.appendChild(this.swipeShadow),this._saveStyle(t,e)),e.classList.add("overflow-visible"),this.overflowElement=e,this.decomp.leave.content.classList.add("content-swiping")}},{key:"translate",value:function(t,e,i,n){this.isSwiping=!0,"none"===i.style.display&&(i.style.display=""),this.isDragStart&&(this.maxWidth=e,this._dragStartSetup(i,n));var o=(t-e)/e;this.shouldAnimateToolbar?nt.runAll(nt([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d("+25*o+"%, 0, 0)",opacity:1+10*o/100}),nt(this.decomp.enter.toolbarCenter).queue({transform:"translate3d("+this.delta.title*o+"px, 0, 0)",opacity:1+o}),nt(this.decomp.enter.backButtonLabel).queue({opacity:1+10*o/100,transform:"translate3d("+this.delta.label*o+"px, 0, 0)"}),nt(this.decomp.enter.other).queue({opacity:1+o}),nt([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d("+t+"px, 0, 0)"}),nt(this.decomp.leave.toolbar).queue({opacity:-1*o}),nt(this.decomp.leave.toolbarCenter).queue({transform:"translate3d("+125*(1+o)+"%, 0, 0)"}),nt(this.decomp.leave.backButtonLabel).queue({opacity:-1*o,transform:"translate3d("+this.delta.title*(1+o)+"px, 0, 0)"}),nt(this.swipeShadow).queue({opacity:-1*o})):nt.runAll(nt(n).queue({transform:"translate3d("+t+"px, 0, 0)"}),nt(i).queue({transform:"translate3d("+25*o+"%, 0, 0)",opacity:1+10*o/100}),nt(this.swipeShadow).queue({opacity:-1*o}))}},{key:"restore",value:function(e,i,n){var o=this;this.isDragStart||(this.shouldAnimateToolbar?nt.runAll(nt([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(-25%, 0, 0)",opacity:.9},this.optRestore),nt(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(-"+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe,opacity:0}),nt(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(-"+this.delta.label+"px, 0, 0)"},this.optRestore),nt(this.decomp.enter.other).queue({opacity:0},this.optRestore),nt([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),nt(this.decomp.leave.toolbar).queue({opacity:1},this.optRestore),nt(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),nt(this.decomp.leave.backButtonLabel).queue({opacity:1,transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe}),nt(this.swipeShadow).queue({opacity:0},this.optRestore).queue(function(t){o._reset(o.target.enter,o.target.leave),e.style.display="none",n&&n(),t()})):nt.runAll(nt(e).queue({transform:"translate3D(-25%, 0, 0)",opacity:.9},this.optRestore),nt(i).queue({transform:"translate3D(0, 0, 0)"},this.optRestore).queue(function(t){o._reset(e,i),e.style.display="none",n&&n(),t()})))}},{key:"popSwipe",value:function(e,i,n){var o=this;this.isDragStart||(this.shouldAnimateToolbar?nt.runAll(nt([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(0, 0, 0)",opacity:1},this.optSwipe),nt(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe,opacity:1}),nt(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(0, 0, 0)"},this.optSwipe),nt(this.decomp.enter.other).queue({opacity:1},this.optSwipe),nt([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background]).queue({transform:"translate3d(100%, 0, 0)"},this.optSwipe),nt(this.decomp.leave.toolbar).queue({opacity:0},this.optSwipe),nt(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(125%, 0, 0)"},this.optSwipe),nt(this.decomp.leave.backButtonLabel).queue({opacity:0,transform:"translate3d("+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe}),nt(this.swipeShadow).queue({opacity:0,transform:"translate3d("+this.maxWidth+"px, 0, 0)"},this.optSwipe).queue(function(t){o._reset(o.target.enter,o.target.leave),n&&n(),t()})):nt.runAll(nt(e).queue({transform:"translate3D(0, 0, 0)",opacity:1},this.optSwipe),nt(i).queue({transform:"translate3D(100%, 0, 0)"},this.optSwipe).queue(function(t){o._reset(e,i),n&&n(),t()})))}},{key:"_saveStyle",value:function(){var i=this;this._savedStyle=new WeakMap;for(var n=function(t){return i._savedStyle.set(t,t.getAttribute("style"))},t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];e.forEach(n),Object.keys(this.decomp).forEach(function(e){Object.keys(i.decomp[e]).forEach(function(t){(i.decomp[e][t]instanceof Array?i.decomp[e][t]:[i.decomp[e][t]]).forEach(n)})})}},{key:"_restoreStyle",value:function(){for(var i=this,n=function(t){null===i._savedStyle.get(t)?t.removeAttribute("style"):t.setAttribute("style",i._savedStyle.get(t)),i._savedStyle.delete(t)},t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];e.forEach(n),Object.keys(this.decomp).forEach(function(e){Object.keys(i.decomp[e]).forEach(function(t){(i.decomp[e][t]instanceof Array?i.decomp[e][t]:[i.decomp[e][t]]).forEach(n)})})}},{key:"_reset",value:function(){this.isSwiping=!1,this._savedStyle&&this._restoreStyle.apply(this,arguments),this.unblock&&this.unblock(),this.swipeShadow.remove(),this.backgroundMask.remove(),this.overflowElement.classList.remove("overflow-visible"),this.decomp.leave.content.classList.remove("content-swiping"),this.decomp=this.target=this.overflowElement=this._savedStyle=null,this.isDragStart=!0}}]),l}(),Ar=function(){return"translate3d("+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+", "+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)+", "+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)+")"},Or=function(t){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(0.3, .4, 0, .9)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.4:r,a=m(t,["timing","delay","duration"]);h(this,c);var u=v(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,p({timing:i,delay:o,duration:s},a)));return u.backgroundMask=U.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black; z-index: 2"></div>'),u}return s(c,Pr),d(c,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),i=e._getToolbarLeftItemsElement(),n=e._getToolbarRightItemsElement(),o=function(t){for(var e=[],i=0;i<t.length;i++)"ons-back-button"!==t[i].nodeName.toLowerCase()&&e.push(t[i]);return e},r=[].concat(0===i.children.length?i:o(i.children)).concat(0===n.children.length?n:o(n.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:r,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var i=t._getToolbarElement(),n=e._getToolbarElement(),o=t._canAnimateToolbar()&&e._canAnimateToolbar(),r=U.hasModifier(i,"material")||U.hasModifier(n,"material"),s=U.hasModifier(i,"transparent")||U.hasModifier(n,"transparent");return o&&!r&&!s}},{key:"_calculateDelta",value:function(t,e){var i=void 0,n=void 0,o=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var r=e.backButtonLabel.getBoundingClientRect();i=Math.round(o.width/2-r.width/2-r.left)}else i=Math.round(o.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(n=e.backButtonIcon.getBoundingClientRect().right-2),{title:i,label:n}}},{key:"push",value:function(r,s,a){var u=this;this.backgroundMask.remove(),s.parentNode.insertBefore(this.backgroundMask,s);var l=f(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"block",this).call(this,r);Ot(r,function(){var t=U.findToolbarPage(r)||r,e=U.findToolbarPage(s)||s,i=u._decompose(t),n=u._decompose(e),o=u._calculateDelta(s,i);u._shouldAnimateToolbar(t,e)?nt.runAll(nt([i.content,i.bottomToolbar,i.background],u.def).default({transform:Ar("100%")},{transform:Ar()}),nt(i.toolbar,u.def).default({opacity:0},{opacity:1}),nt(i.toolbarCenter,u.def).default({transform:Ar("125%"),opacity:1},{transform:Ar(),opacity:1}),nt(i.backButtonLabel,u.def).default({transform:Ar(o.title+"px"),opacity:0},{transform:Ar(),opacity:1,transition:"opacity "+u.duration+"s linear, transform "+u.duration+"s "+u.timing}),nt(i.other,u.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),nt([n.content,n.bottomToolbar,n.background],u.def).default({transform:Ar(),opacity:1},{transform:Ar("-25%"),opacity:.9}).queue(function(t){u.backgroundMask.remove(),l(),a(),t()}),nt(n.toolbarCenter,u.def).default({transform:Ar(),opacity:1},{transform:Ar("-"+o.title+"px"),opacity:0,transition:"opacity "+u.duration+"s linear, transform "+u.duration+"s "+u.timing}),nt(n.backButtonLabel,u.def).default({transform:Ar(),opacity:1},{transform:Ar("-"+o.label+"px"),opacity:0}),nt(n.other,u.def).default({opacity:1},{css:{opacity:0},timing:"linear"})):nt.runAll(nt(r,u.def).default({transform:Ar("100%")},{transform:Ar()}),nt(s,u.def).default({transform:Ar(),opacity:1},{transform:Ar("-25%"),opacity:.9}).queue(function(t){u.backgroundMask.remove(),l(),a(),t()}))})}},{key:"pop",value:function(t,e,i){var n=this;if(this.isSwiping)return this.popSwipe(t,e,i);this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=f(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"block",this).call(this,t),r=U.findToolbarPage(t)||t,s=U.findToolbarPage(e)||e,a=this._decompose(r),u=this._decompose(s),l=this._calculateDelta(e,u);this._shouldAnimateToolbar(r,s)?nt.runAll(nt([a.content,a.bottomToolbar,a.background],this.def).default({transform:Ar("-25%"),opacity:.9},{transform:Ar(),opacity:1}),nt(a.toolbarCenter,this.def).default({transform:Ar("-"+l.title+"px"),opacity:0},{transform:Ar(),opacity:1,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing}),nt(a.backButtonLabel,this.def).default({transform:Ar("-"+l.label+"px")},{transform:Ar()}),nt(a.other,this.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),nt([u.content,u.bottomToolbar,u.background],this.def).default({transform:Ar()},{transform:Ar("100%")}).wait(0).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}),nt(u.toolbar,this.def).default({opacity:1},{opacity:0}),nt(u.toolbarCenter,this.def).default({transform:Ar()},{transform:Ar("125%")}),nt(u.backButtonLabel,this.def).default({transform:Ar(),opacity:1},{transform:Ar(l.title+"px"),opacity:0,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing})):nt.runAll(nt(t,this.def).default({transform:Ar("-25%"),opacity:.9},{transform:Ar(),opacity:1}),nt(e,this.def).default({transform:Ar()},{transform:Ar("100%")}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}))}}]),c}(),Mr=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.4:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.backgroundMask=U.createElement('<div style="position: absolute; width: 100%; height: 100%;background: linear-gradient(black, white);"></div>'),a}return s(u,Sr),d(u,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);nt.runAll(nt(t,this.def).default({transform:"translate3D(0, 100%, 0)"},{transform:"translate3D(0, 0, 0)"}),nt(e,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{transform:"translate3D(0, -10%, 0)",opacity:.9}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);nt.runAll(nt(t,this.def).default({transform:"translate3D(0, -43px, 0)",opacity:.9},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}),nt(e,this.def).default({transform:"translate3D(0, 0, 0)"},{transform:"translate3D(0, 100%, 0)"}))}}]),u}(),Tr="translate3d(0, 0, 0)",Ir=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.4:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,Sr),d(a,[{key:"push",value:function(t,e,i){var n=f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"block",this).call(this,t);nt.runAll(nt(t,this.def).default({transform:Tr,opacity:0},{transform:Tr,opacity:1}).queue(function(t){n(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=f(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"block",this).call(this,t);nt.runAll(nt(e,this.def).default({transform:Tr,opacity:1},{transform:Tr,opacity:0}).queue(function(t){n(),i(),t()}))}}]),a}(),jr=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.3:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.blackMaskOpacity=.4,a.backgroundMask=U.createElement('<div style="position: absolute; width: 100%; height: 100%; z-index: 2;background-color: black; opacity: 0;"></div>'),a}return s(u,Sr),d(u,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentElement.insertBefore(this.backgroundMask,e.nextSibling);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);nt.runAll(nt(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:0},{opacity:this.blackMaskOpacity}).queue(function(t){n.backgroundMask.remove(),t()}),nt(t,this.def).default({transform:"translate3d(100%, 0, 0)"},{transform:"translate3d(0, 0, 0)"}),nt(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(-45%, 0, 0)"}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);nt.runAll(nt(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:this.blackMaskOpacity},{opacity:0}).queue(function(t){n.backgroundMask.remove(),t()}),nt(t,this.def).default({transform:"translate3d(-45%, 0, 0)",opacity:.9},{transform:"translate3d(0, 0, 0)",opacity:1}),nt(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(100%, 0, 0)"}).queue(function(t){o(),i(),t()}))}}]),u}(),Nr=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.delay,o=void 0===n?.05:n,r=t.duration,s=void 0===r?.4:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.backgroundMask=U.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black;"></div>'),a}return s(u,Sr),d(u,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t),r=nt(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){n.backgroundMask.remove(),t()});nt.runAll(r,nt(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}),nt(e,this.def).default({opacity:1},{opacity:.4}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=f(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);nt.runAll(nt(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){n.backgroundMask.remove(),t()}),nt(t,this.def).default({opacity:.4},{opacity:1}).queue(function(t){o(),i(),t()}),nt(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}))}}]),u}(),Rr=function(t){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(0.4, 0, 0.2, 1)":e,n=t.timingPop,o=void 0===n?"cubic-bezier(0.4, 0, 1, 1)":n,r=t.delay,s=void 0===r?0:r,a=t.duration,u=void 0===a?.2:a;h(this,c);var l=v(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,{timing:i,delay:s,duration:u}));return l.timingPop=o,l}return s(c,Sr),d(c,[{key:"push",value:function(t,e,i){var n=f(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"block",this).call(this,t);nt.runAll(nt(t,this.def).default({transform:"translate3D(0, 42px, 0)",opacity:0},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){n(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=f(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"block",this).call(this,t);nt.runAll(nt(e,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{css:{transform:"translate3D(0, 38px, 0)",opacity:0},timing:this.timingPop}).queue(function(t){n(),i(),t()}))}}]),c}(),Br=function(t){function e(t){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,Sr),d(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}}]),e}(),Dr={default:function(){return c.isAndroid()?Rr:Or},slide:function(){return c.isAndroid()?jr:Or},lift:function(){return c.isAndroid()?Nr:Mr},fade:function(){return c.isAndroid()?Rr:Ir},"slide-ios":Or,"slide-md":jr,"lift-ios":Mr,"lift-md":Nr,"fade-ios":Ir,"fade-md":Rr,none:Br},zr={ready:function(t,e){e()}},Fr=function(t){return"ONS-PAGE"!==t.nodeName&&U.throw("Only page elements can be children of navigator")},Vr=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._isRunning=!1,t._initialized=!1,t._pageLoader=$t,t._pageMap=new WeakMap,t._updateAnimatorFactory(),t}return s(e,to),d(e,[{key:"animatorFactory",get:function(){return this._animatorFactory}}]),d(e,[{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var s=this;if(this.onDeviceBackButton=this._onDeviceBackButton.bind(this),!c.isAndroid()||"force"===this.getAttribute("swipeable")){var a=void 0;this._swipe=new Lr({element:this,getThreshold:function(){return Math.max(.2,parseFloat(s.getAttribute("swipe-threshold"))||0)},swipeMax:function(){s._onSwipe&&s._onSwipe(1,{duration:a.durationSwipe,timing:a.timingSwipe}),s[s.swipeMax?"swipeMax":"popPage"]({animator:a}),a=null},swipeMid:function(t,e){s._onSwipe&&s._onSwipe(t/e),a.translate(t,e,s.topPage.previousElementSibling,s.topPage)},swipeMin:function(){s._onSwipe&&s._onSwipe(0,{duration:a.durationRestore,timing:a.timingSwipe}),a.restore(s.topPage.previousElementSibling,s.topPage),a=null},ignoreSwipe:function(t,e){if(!s._isRunning&&1<s.children.length){var i=parseInt(s.getAttribute("swipe-target-width")||25,10);if("right"===t.gesture.direction&&e<i){var n=function(t){return/ons-back-button/i.test(t.tagName)};if(!n(t.target)&&!U.findParent(t.target,n,function(t){return/ons-page/i.test(t.tagName)})){var o=(s.topPage.pushedOptions||{}).animation||s.animatorFactory._animation,r=Dr[o]instanceof Function?Dr[o].call():Dr[o];if(r.swipeable)return a=new r,!1}}}return!0}}),this.attributeChangedCallback("swipeable")}if(!this._initialized){this._initialized=!0;var n=U.defer();this.loaded=n.promise,zr.ready(this,function(){var t=!U.hasAnyComponentAsParent(s),e={animation:"none",show:t};if(0===s.pages.length&&s._getPageTarget())s.pushPage(s._getPageTarget(),e).then(function(){return n.resolve()});else if(0<s.pages.length){for(var i=0;i<s.pages.length;i++)Fr(s.pages[i]);s.topPage&&Ot(s.topPage,function(){return setTimeout(function(){n.resolve(),t&&s.topPage._show(),s._updateLastPageBackButton()},0)})}else Ot(s,function(){0===s.pages.length&&s._getPageTarget()?s.pushPage(s._getPageTarget(),e).then(function(){return n.resolve()}):n.resolve()})})}}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new b({animators:Dr,baseClass:Sr,baseClassName:"NavigatorAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._swipe&&this._swipe.dispose(),this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"animation":this._updateAnimatorFactory();break;case"swipeable":this._swipe&&this._swipe.update()}}},{key:"popPage",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t=this._preparePageAndOptions(null,t).options,U.isInteger(t.times)&&1<t.times&&this._removePages(t.times);return this._popPage(t,function(){return new Promise(function(t){e._pageLoader.unload(e.pages[e.pages.length-1]),t()})})}},{key:"_popPage",value:function(n){var o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var s=this.pages.length;return this._isRunning=!0,this.pages[s-2].updateBackButton(0<s-2),new Promise(function(t){var e=o.pages[s-1],i=o.pages[s-2];(n=U.extend({},o.options||{},e.pushedOptions||{},n)).data&&(i.data=U.extend({},i.data||{},n.data||{}));e._hide(),i.style.display="",(n.animator||o._animatorFactory.newAnimator(n)).pop(o.pages[s-2],o.pages[s-1],function(){r().then(function(){o._isRunning=!1,i._show(),U.triggerElementEvent(o,"postpop",{leavePage:e,enterPage:i,navigator:o}),n.callback&&n.callback(i),t(i)})})}).catch(function(){return o._isRunning=!1})}},{key:"pushPage",value:function(i){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this._preparePageAndOptions(i,o);i=t.page,o=t.options;var r=function(t){Fr(t),n._pageMap.set(t,i),(t=U.extend(t,{data:o.data})).style.visibility="hidden"};return o.pageHTML?this._pushPage(o,function(){return new Promise(function(e){Kt.load({page:o.pageHTML,parent:n,params:o.data},function(t){r(t),e()})})}):this._pushPage(o,function(){return new Promise(function(e){n._pageLoader.load({page:i,parent:n,params:o.data},function(t){r(t),e()})})})}},{key:"_pushPage",value:function(){var o=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var e=b.parseAnimationOptionsString(this.getAttribute("animation-options"));r=U.extend({},this.options||{},{animationOptions:e},r);var s=this._animatorFactory.newAnimator(r);return t().then(function(){var t=o.pages.length,i=o.pages[t-1],n=r.leavePage||o.pages[t-2];return Fr(i),i.updateBackButton(t>(r._replacePage?2:1)),i.pushedOptions=U.extend({},i.pushedOptions||{},r||{}),i.data=U.extend({},i.data||{},r.data||{}),i.unload=i.unload||r.unload,new Promise(function(t){var e=function(){(o._isRunning=!1)!==r.show&&setImmediate(function(){return i._show()}),U.triggerElementEvent(o,"postpush",{leavePage:n,enterPage:i,navigator:o}),n&&(n.style.display="none"),r.callback&&r.callback(i),t(i)};i.style.visibility="",n?(n._hide(),s.push(i,n,e)):e()})}).catch(function(t){throw o._isRunning=!1,t})}},{key:"replacePage",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(t,i).then(function(t){return 1<e.pages.length&&e._pageLoader.unload(e.pages[e.pages.length-2]),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(i,n){var o=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=this._preparePageAndOptions(n,r);if(n=t.page,r=t.options,(i=this._normalizeIndex(i))>=this.pages.length)return this.pushPage(n,r);n="string"==typeof r.pageHTML?r.pageHTML:n;var s="string"==typeof r.pageHTML?Kt:this._pageLoader;return new Promise(function(e){s.load({page:n,parent:o},function(t){Fr(t),o._pageMap.set(t,n),t=U.extend(t,{data:r.data,pushedOptions:r}),r.animationOptions=U.extend({},b.parseAnimationOptionsString(o.getAttribute("animation-options")),r.animationOptions||{}),t.style.display="none",o.insertBefore(t,o.pages[i]),o.topPage.updateBackButton(!0),setTimeout(function(){t=null,e(o.pages[i])},1e3/60)})})}},{key:"removePage",value:function(n){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(n=this._normalizeIndex(n))<this.pages.length-1?new Promise(function(t){var e=o.pages[n],i=o.topPage;o._pageMap.delete(e),o._pageLoader.unload(e),1===o.pages.length&&o.topPage.updateBackButton(!1),t(i)}):this.popPage(t)}},{key:"resetToPage",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);if(t=n.page,(i=n.options).animator||i.animation||i.pop||(i.animation="none"),i.page||i.pageHTML||!this._getPageTarget()||(t=i.page=this._getPageTarget()),i.pop)return this._removePages(),this.insertPage(0,t,{data:i.data}).then(function(){return e.popPage(i)});var o=i.callback;return i.callback=function(t){e._removePages(),t.updateBackButton(!1),o&&o(t)},this.pushPage(t,i)}},{key:"bringPageTop",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};-1===["number","string"].indexOf(void 0===t?"undefined":l(t))&&U.throw("First argument must be a page name or the index of an existing page. You supplied "+t);var i="number"==typeof t?this._normalizeIndex(t):this._lastIndexOfPage(t),n=this.pages[i];return i<0?this.pushPage(t,e):(e=this._preparePageAndOptions(n,e).options,i===this.pages.length-1?Promise.resolve(n):(n||U.throw("Failed to find item "+t),this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(n.style.display="",n.style.visibility="hidden",n.parentNode.appendChild(n),this._pushPage(e))))}},{key:"_preparePageAndOptions",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"object"!=(void 0===e?"undefined":l(e))&&U.throw("options must be an object. You supplied "+e),null==t&&e.page&&(t=e.page),{page:t,options:e=U.extend({},this.options||{},e,{page:t})}}},{key:"_removePages",value:function(t){var e=this.pages,i=void 0===t?0:e.length-t;i=i<0?1:i;for(var n=e.length-2;i<=n;n--)this._pageMap.delete(e[n]),this._pageLoader.unload(e[n])}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;0<=t&&this.pages[t].updateBackButton(0<t)}},{key:"_normalizeIndex",value:function(t){return 0<=t?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){1<this.pages.length?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;0<=e&&(this._pageMap.has(this.pages[e])||U.throw("Incorrect state of pageMap"),t!==this._pageMap.get(this.pages[e]));e--);return e}},{key:"_emitPreEvent",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=!1;return U.triggerElementEvent(this,"pre"+t,U.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return i=!0}},e)),i}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=U.createElement(y.normalizePageHTML(t));return Fr(e),e}},{key:"_show",value:function(){var t=this;this.loaded.then(function(){return t.topPage&&t.topPage._show()})}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;0<=t;t--)this._pageLoader.unload(this.pages[t]);this.remove()}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof Yt||U.throwPageLoader(),this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=T.createHandler(this,t)}},{key:"topPage",get:function(){for(var t=this.lastElementChild;t&&"ONS-PAGE"!==t.tagName;)t=t.previousElementSibling;return t}},{key:"pages",get:function(){return U.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||U.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Sr||U.throwAnimator("Navigator"),Dr[t]=e}},{key:"observedAttributes",get:function(){return["animation","swipeable"]}},{key:"animators",get:function(){return Dr}},{key:"NavigatorAnimator",get:function(){return Sr}},{key:"events",get:function(){return["prepush","postpush","prepop","postpop"]}},{key:"rewritables",get:function(){return zr}}]),e}();n.Navigator=Vr,customElements.define("ons-navigator",Vr);var qr={"":"toolbar--*",".toolbar__left":"toolbar--*__left",".toolbar__center":"toolbar--*__center",".toolbar__right":"toolbar--*__right"},Hr=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){t._compile()}),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,"toolbar",qr);break;case"modifier":P.onModifierChanged(e,i,this,qr)}}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||y.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||y.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||y.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||y.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||y.nullElement}},{key:"_compile",value:function(){S.prepare(this),this.classList.add("toolbar"),this._ensureToolbarItemElements(),P.initModifier(this,qr)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;0<=t;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("toolbar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var i=this._ensureToolbarElement("left"),n=this._ensureToolbarElement("right");this.children[0]===i&&this.children[1]===e&&this.children[2]===n||(this.appendChild(i),this.appendChild(e),this.appendChild(n))}}},{key:"_ensureToolbarElement",value:function(t){if(U.findChild(this,".toolbar__"+t)){var e=U.findChild(this,".toolbar__"+t);return e.classList.add(t),e}var i=U.findChild(this,"."+t)||U.create("."+t);return i.classList.add("toolbar__"+t),i}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();n.Toolbar=Hr,customElements.define("ons-toolbar",Hr);var Ur="page",Zr={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},Wr=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._deriveHooks(),t._defaultClassName=Ur,t.classList.add(Ur),t._initialized=!1,Ot(t,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._backgroundElement=t._getBackgroundElement()}),t}return s(e,to),d(e,[{key:"_compile",value:function(){var e=this;S.prepare(this);var t=U.findChild(this,"ons-toolbar"),i=U.findChild(this,".page__background")||U.findChild(this,".background")||document.createElement("div");i.classList.add("page__background"),this.insertBefore(i,!t&&this.firstChild||t&&t.nextSibling);var n=U.findChild(this,".page__content")||U.findChild(this,".content")||document.createElement("div");n.classList.add("page__content"),n.parentElement||U.arrayFrom(this.childNodes).forEach(function(t){(1!==t.nodeType||e._elementShouldBeMoved(t))&&n.appendChild(t)}),this._tryToFillStatusBar(n),this.insertBefore(n,i.nextSibling),t&&U.hasModifier(t,"transparent")||1!==n.children.length||!U.isPageControl(n.children[0])||(this._defaultClassName+=" page--wrapper",this.attributeChangedCallback("class")),P.initModifier(this,Zr)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();if("ons-fab"===e)return!t.hasAttribute("position");return t.hasAttribute("inline")||-1===["script","ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial","ons-dialog","ons-alert-dialog","ons-popover","ons-action-sheet"].indexOf(e)}},{key:"_tryToFillStatusBar",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._contentElement;y.autoStatusBarFill(function(){U.toggleAttribute(t,"status-bar-fill",!U.findParent(t,function(t){return t.hasAttribute("status-bar-fill")})&&(t._canAnimateToolbar(e)||!U.findChild(e,U.isPageControl)))})}},{key:"_canAnimateToolbar",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._contentElement,e=U.findChild(this,"ons-toolbar");return e?!e.hasAttribute("static"):!!U.findChild(t,function(t){return U.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"connectedCallback",value:function(){var t=this;U.isAttached(this)&&Ot(this,function(){t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll")),t._initialized||(t._initialized=!0,setImmediate(function(){t.onInit&&t.onInit(),U.triggerElementEvent(t,"init")}),U.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}))})}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,i=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&i&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=U.findChild(this,".page__content");if(t)return t;U.throw('Fail to get ".page__content" element')}},{key:"_getBackgroundElement",value:function(){var t=U.findChild(this,".page__background");if(t)return t;U.throw('Fail to get ".page__background" element')}},{key:"_getBottomToolbarElement",value:function(){return U.findChild(this,"ons-bottom-toolbar")||y.nullElement}},{key:"_getToolbarElement",value:function(){return U.findChild(this,"ons-toolbar")||document.createElement("ons-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":U.restoreClass(this,this._defaultClassName,Zr);break;case"modifier":P.onModifierChanged(e,i,this,Zr);break;case"on-infinite-scroll":this.onInfiniteScroll=null===i?null:function(t){var e=U.findFromPath(i);(n.onInfiniteScroll=e)(t)}}}},{key:"_show",value:function(){!this._isShown&&U.isAttached(this)&&(this._isShown=!0,this.setAttribute("shown",""),this.onShow&&this.onShow(),U.triggerElementEvent(this,"show"),U.propagateAction(this,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this.removeAttribute("shown"),this.onHide&&this.onHide(),U.triggerElementEvent(this,"hide"),U.propagateAction(this,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this.onDestroy&&this.onDestroy(),U.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),U.propagateAction(this,"_destroy"),this.remove()}},{key:"_deriveHooks",value:function(){var i=this;this.constructor.events.forEach(function(t){var e="on"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){return i["_"+e]},set:function(t){t instanceof Function||U.throw('"'+e+'" hook must be a function'),i["_"+e]=t.bind(i)}})})}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){var e=this;!t||t instanceof Function||U.throw('"onInfiniteScroll" must be function or null'),Ot(this,function(){t?e._onInfiniteScroll||(e._infiniteScrollLimit=.9,e._boundOnScroll=e._onScroll.bind(e),setImmediate(function(){return e._contentElement.addEventListener("scroll",e._boundOnScroll)})):e._contentElement.removeEventListener("scroll",e._boundOnScroll),e._onInfiniteScroll=t})},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=T.createHandler(this,t)}},{key:"scrollTop",get:function(){return this._contentElement.scrollTop},set:function(t){this._contentElement.scrollTop=t}}],[{key:"observedAttributes",get:function(){return["modifier","on-infinite-scroll","class"]}},{key:"events",get:function(){return["init","show","hide","destroy"]}}]),e}();n.Page=Wr,customElements.define("ons-page",Wr);var Gr=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var i=e.from,n=e.to,o=e.options,r=e.callback,s=e.restore,a=void 0!==s&&s,u=e.animation;return o=U.extend({},this.options,o),u&&(i=u.from,n=u.to),u=nt(t),a&&(u=u.saveStyle()),u=u.queue(i).wait(this.delay).queue({css:n,duration:this.duration,timing:this.timing}),a&&(u=u.restoreStyle()),r&&(u=u.queue(function(t){r(),t()})),u}},{key:"_animateAll",value:function(e,i){var n=this;Object.keys(i).forEach(function(t){return n._animate(e[t],i[t]).play()})}}]),a}(),Xr={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},Yr=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,Gr),d(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:Xr.in,_popover:{animation:Xr.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:Xr.out,_popover:{animation:Xr.out,restore:!0,callback:e}})}}]),e}(),$r=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,Yr),d(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:Xr.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),e}(),Kr={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__content":"popover--*__content",".popover__arrow":"popover--*__arrow"},Qr={default:function(){return c.isAndroid()?Yr:$r},none:Gr,"fade-ios":$r,"fade-md":Yr},Jr={up:"bottom",left:"right",down:"top",right:"left"},ts=function(t){function n(){h(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._boundOnChange=t._onChange.bind(t),Ot(t,function(){t._compile(),t.style.display="none"}),t}return s(n,uo),d(n,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:Qr,baseClass:Gr,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"_toggleStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t?(this.style.display="block",this._currentTarget=e.target,this._positionPopover(e.target)):(this.style.display="none",this._clearStyles())}},{key:"_positionPopover",value:function(t){var e=this._radius,i=this._content,n=this._margin,o=oo.getSafeAreaLengths(),r=oo.getSafeAreaDOMRect(),s=t.getBoundingClientRect(),a=U.hasModifier(this,"material"),u=a&&this.hasAttribute("cover-target"),l={top:s.top-(r.top+n),left:s.left-(r.left+n),bottom:r.bottom-n-s.bottom,right:r.right-n-s.right},c={top:s.top+Math.round(s.height/2)-(r.top+n),left:s.left+Math.round(s.width/2)-(r.left+n),bottom:r.bottom-n-s.bottom+Math.round(s.height/2),right:r.right-n-s.right+Math.round(s.width/2)},h=this._calculateDirections(l),d=h.vertical,p=h.primary,f=h.secondary;this._currentDirection=p,U.addModifier(this,p);var m,v=d?"width":"height",g=(m=window.getComputedStyle(i),{width:parseInt(m.getPropertyValue("width"),10),height:parseInt(m.getPropertyValue("height"),10)}),_=u?0:(d?s.height:s.width)+(a?0:14),y=Math.max(o[p]+n,o[p]+n+l[p]+_),b=Math.max(o[f]+n,o[f]+n+c[f]-g[v]/2);this._popover.style[p]=y+"px",this._popover.style[f]=b+"px",this._arrow.style[f]=Math.max(e,o[f]+n+c[f]-b)+"px"}},{key:"_calculateDirections",value:function(i){var t=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return Jr[t]}).sort(function(t,e){return i[t]-i[e]})[0],e="top"==t||"bottom"==t;return{vertical:e,primary:t,secondary:e?i.left<i.right?"left":"right":i.top<i.bottom?"top":"bottom"}}},{key:"_clearStyles",value:function(){var e=this;this._currentDirection=null,["top","bottom","left","right"].forEach(function(t){e._arrow.style[t]=e._content.style[t]=e._popover.style[t]="",U.removeModifier(e,t)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(S.prepare(this),!this._popover||!this._mask){if(this._popover&&this._content){if(!this._mask){var t=document.createElement("div");t.classList.add("popover-mask"),this.insertBefore(t,this.firstChild)}if(!this._arrow){var e=document.createElement("div");e.classList.add("popover__arrow"),this._popover.appendChild(e)}}else{for(var i=U.createFragment('\n        <div class="popover-mask"></div>\n        <div class="popover">\n          <div class="popover__content"></div>\n          <div class="popover__arrow"></div>\n        </div>\n      '),n=i.querySelector(".popover__content");this.childNodes[0];)n.appendChild(this.childNodes[0]);this.appendChild(i)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),P.initModifier(this,this._scheme)}}},{key:"show",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof(e=!t||"object"!==(void 0===t?"undefined":l(t))||t instanceof Event||t instanceof HTMLElement?p({},e,{target:t}):p({},t)).target?e.target=document.querySelector(e.target):e.target instanceof Event&&(e.target=e.target.target),e.target instanceof HTMLElement||U.throw("Invalid target type or undefined"),f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"show",this).call(this,e)}},{key:"connectedCallback",value:function(){var t=this;f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._boundOnChange,!1),this._margin=this._margin||parseInt(window.getComputedStyle(this).getPropertyValue("top")),this._margin=this._margin||6,Ot(this,function(){t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius"))})}},{key:"disconnectedCallback",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._boundOnChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){if("direction"===t)return this._boundOnChange();"modifier"===t&&this._currentDirection&&U.addModifier(this,this._currentDirection),f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return Kr}},{key:"_mask",get:function(){return U.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return U.findChild(this,".popover")}},{key:"_content",get:function(){return U.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return U.findChild(this._popover,".popover__arrow")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Gr||U.throwAnimator("Popover"),Qr[t]=e}},{key:"observedAttributes",get:function(){return[].concat(g(f(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["direction"])}},{key:"animators",get:function(){return Qr}},{key:"PopoverAnimator",get:function(){return Gr}}]),n}();n.Popover=ts,customElements.define("ons-popover",ts);var es={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar--*__primary",".progress-bar__secondary":"progress-bar--*__secondary"},is=U.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),ns="indeterminate",os=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t}return s(e,to),d(e,[{key:"_compile",value:function(){this._isCompiled()?this._template=U.findChild(this,".progress-bar"):this._template=is.cloneNode(!0),this._primary=U.findChild(this._template,".progress-bar__primary"),this._secondary=U.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),S.prepare(this),P.initModifier(this,es)}},{key:"_isCompiled",value:function(){if(!U.findChild(this,".progress-bar"))return!1;var t=U.findChild(this,".progress-bar");return!!U.findChild(t,".progress-bar__secondary")&&!!U.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?(P.onModifierChanged(e,i,this,es),this.hasAttribute(ns)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===ns&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;Ot(this,function(){return U.toggleModifier(t,ns,{force:t.hasAttribute(ns)})})}},{key:"_updateValue",value:function(){var t=this;Ot(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){("number"!=typeof t||t<0||100<t)&&U.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!=typeof t||t<0||100<t)&&U.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute(ns,""):this.removeAttribute(ns)},get:function(){return this.hasAttribute(ns)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",ns]}}]),e}();n.ProgressBar=os,customElements.define("ons-progress-bar",os);var rs={".progress-circular":"progress-circular--*",".progress-circular__background":"progress-circular--*__background",".progress-circular__primary":"progress-circular--*__primary",".progress-circular__secondary":"progress-circular--*__secondary"},ss=U.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__background" />\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" />\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" />\n  </svg>\n'),as="indeterminate",us=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?(P.onModifierChanged(e,i,this,rs),this.hasAttribute(as)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===as&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;Ot(this,function(){return U.toggleModifier(t,as,{force:t.hasAttribute(as)})})}},{key:"_updateValue",value:function(){var e=this;this.hasAttribute("value")&&Ot(this,function(){var t=Math.ceil(251.32*e.getAttribute("value")*.01);e._primary.style["stroke-dasharray"]=t+"%, 251.32%"}),this.hasAttribute("secondary-value")?Ot(this,function(){var t=Math.ceil(251.32*e.getAttribute("secondary-value")*.01);e._secondary.style.display=null,e._secondary.style["stroke-dasharray"]=t+"%, 251.32%"}):Ot(this,function(){e._secondary.style.display="none"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=U.findChild(this,".progress-circular"):this._template=ss.cloneNode(!0),this._primary=U.findChild(this._template,".progress-circular__primary"),this._secondary=U.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),S.prepare(this),P.initModifier(this,rs)}},{key:"_isCompiled",value:function(){if(!U.findChild(this,".progress-circular"))return!1;var t=U.findChild(this,".progress-circular");return!!U.findChild(t,".progress-circular__secondary")&&!!U.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){("number"!=typeof t||t<0||100<t)&&U.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!=typeof t||t<0||100<t)&&U.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute(as,""):this.removeAttribute(as)},get:function(){return this.hasAttribute(as)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",as]}}]),e}();n.ProgressCircular=us,customElements.define("ons-progress-circular",us);var ls="initial",cs=function(t,e){return U.throw('"'+t+'" must be '+e)},hs=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._shouldFixScroll="other"!==U.globals.actualMobileOS,t._onDrag=t._onDrag.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onDragEnd=t._onDragEnd.bind(t),t._onScroll=t._onScroll.bind(t),t._preventScroll=t._preventScroll.bind(t),t._setState(ls,!0),t._hide(),t}return s(e,to),d(e,[{key:"_setStyle",value:function(){var t=this.height+"px";u(this,{height:t,lineHeight:t}),""===this.style.display&&this._show()}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_canConsumeGesture",value:function(t){return"up"===t.direction||"down"===t.direction}},{key:"_onDragStart",value:function(t){var e=this;if(t.gesture&&!this.disabled){if(this._ignoreDrag=t.consumed,!this._ignoreDrag){var i=t.consume;t.consume=function(){i&&i(),e._ignoreDrag=!0,e._hide()},this._canConsumeGesture(t.gesture)&&(i&&i(),t.consumed=!0,this._show())}this._startScroll=this._pageElement.scrollTop}}},{key:"_onDrag",value:function(t){var e=this;if(t.gesture&&!this.disabled&&!this._ignoreDrag&&this._canConsumeGesture(t.gesture)){"none"===this.style.display&&this._show(),t.stopPropagation(),this._shouldFixScroll&&(this._pageElement.scrollTop=this._startScroll-t.gesture.deltaY,this._pageElement.scrollTop<window.innerHeight&&"up"!==t.gesture.direction&&t.gesture.preventDefault());var i=Math.max(t.gesture.deltaY-this._startScroll,0);if(i!==this._currentTranslation){var n=this.thresholdHeight;0<n&&n<=i?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):i>=this.height?this._setState("preaction"):this._setState(ls),!this._pulling&&this._shouldFixScroll&&(this._pulling=!0,this._gestureDetector.on("touchmove",this._preventScroll)),this._translateTo(i)}}}},{key:"_onDragEnd",value:function(t){(this._pulling&&this._shouldFixScroll&&(this._pulling=!1,this._gestureDetector.off("touchmove",this._preventScroll)),!t.gesture||this.disabled||this._ignoreDrag)||(t.stopPropagation(),0<this._currentTranslation&&(this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0})))}},{key:"_preventScroll",value:function(t){t.cancelable&&t.preventDefault()}},{key:"_finish",value:function(){var t=this;this._setState("action"),this._translateTo(this.height,{animate:!0}),(this.onAction||function(t){return t()})(function(){t._translateTo(0,{animate:!0}),t._setState(ls)})}},{key:"_setState",value:function(t,e){var i=this.state;this.setAttribute("state",t),e||i===this.state||U.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:i})}},{key:"_show",value:function(){var t=this;setImmediate(function(){t.style.display="",t._pageElement&&(t._pageElement.style.marginTop="-"+t.height+"px")})}},{key:"_hide",value:function(){this.style.display="none",this._pageElement&&(this._pageElement.style.marginTop="")}},{key:"_translateTo",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=t){this._currentTranslation=t;var i=e.animate?{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}:{};this._onPull&&this._onPull((t/this.height).toFixed(2),i);var n=this.hasAttribute("fixed-content")?this:this._pageElement;nt(n).queue({transform:"translate3d(0px, "+t+"px, 0px)"},i).play(function(){0===t&&u.clear(n,"transition transform"),e.callback instanceof Function&&e.callback()})}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._setupListeners(!0)}},{key:"_setupListeners",value:function(t){var i=this,e=function(t){return i._pageElement[t+"EventListener"]("scroll",i._onScroll,!1)},n=function(t){var e={passive:!0};i._gestureDetector[t]("drag",i._onDrag,e),i._gestureDetector[t]("dragstart",i._onDragStart,e),i._gestureDetector[t]("dragend",i._onDragEnd,e)};this._gestureDetector&&(n("off"),this._gestureDetector.dispose(),this._gestureDetector=null),e("remove"),t&&(this._gestureDetector=new ot(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled,passive:!this._shouldFixScroll}),n("on"),e("add"))}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._setupListeners(!0),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._hide(),this._setupListeners(!1)}},{key:"attributeChangedCallback",value:function(t,e,i){"height"===t&&this._pageElement&&this._setStyle()}},{key:"onAction",get:function(){return this._onAction},set:function(t){!t||t instanceof Function||cs("onAction","function or null"),this._onAction=t}},{key:"onPull",get:function(){return this._onPull},set:function(t){!t||t instanceof Function||cs("onPull","function or null"),this._onPull=t}},{key:"height",set:function(t){U.isInteger(t)||cs("height","integer"),this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){U.isInteger(t)||cs("thresholdHeight","integer"),this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this.getAttribute("state")}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"events",get:function(){return["changestate"]}}]),e}();n.PullHook=hs,customElements.define("ons-pull-hook",hs);var ds={"":"range--*",".range__input":"range--*__input",".range__focus-ring":"range--*__focus-ring"},ps="range__input--active",fs=function(t){function n(){h(this,n);var t=v(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._onMouseDown=t._onMouseDown.bind(t),t._onMouseUp=t._onMouseUp.bind(t),t._onTouchStart=t._onTouchStart.bind(t),t._onTouchEnd=t._onTouchEnd.bind(t),t._onInput=t._update.bind(t),t._onDragstart=t._onDragstart.bind(t),t._onDragend=t._onDragend.bind(t),t}return s(n,cr),d(n,[{key:"_compile",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_compile",this).call(this),this._updateDisabled(this.hasAttribute("disabled"))}},{key:"_update",value:function(){var e=this._input,i=this._focusRing;e.style.backgroundSize=100*this._ratio+"% 2px",i.value=this.value,""===e.min&&"0"===e.value||e.min===e.value?e.setAttribute("_zero",""):e.removeAttribute("_zero"),["min","max"].forEach(function(t){return i[t]=e[t]})}},{key:"_onMouseDown",value:function(t){var e=this;this._input.classList.add(ps),setImmediate(function(){return e._input.focus()})}},{key:"_onTouchStart",value:function(t){this._onMouseDown()}},{key:"_onMouseUp",value:function(t){this._input.classList.remove(ps)}},{key:"_onTouchEnd",value:function(t){this._onMouseUp(t)}},{key:"_onDragstart",value:function(t){t.consumed=!0,t.gesture.stopPropagation(),this._input.classList.add(ps),this.addEventListener("drag",this._onDrag)}},{key:"_onDrag",value:function(t){t.stopPropagation()}},{key:"_onDragend",value:function(t){this._input.classList.remove(ps),this.removeEventListener("drag",this._onDrag)}},{key:"attributeChangedCallback",value:function(t,e,i){"disabled"===t&&this._updateDisabled(i),f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_updateDisabled",value:function(t){t?this.classList.add("range--disabled"):this.classList.remove("range--disabled")}},{key:"connectedCallback",value:function(){this._setupListeners(!0)}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";U[e](this,"touchstart",this._onTouchStart,{passive:!0}),this[e]("mousedown",this._onMouseDown),this[e]("mouseup",this._onMouseUp),this[e]("touchend",this._onTouchEnd),this[e]("dragstart",this._onDragstart),this[e]("dragend",this._onDragend),this[e]("input",this._onInput)}},{key:"_scheme",get:function(){return ds}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <input type="range" class="range__focus-ring" tabIndex="-1">\n    '}},{key:"_defaultClassName",get:function(){return"range"}},{key:"type",get:function(){return"range"}},{key:"_focusRing",get:function(){return this.children[1]}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}}],[{key:"observedAttributes",get:function(){return["disabled"].concat(g(cr.observedAttributes))}}]),n}();n.Range=fs,customElements.define("ons-range",fs);var ms=function(){function t(){h(this,t),this._queue=[],this._index=0}return d(t,[{key:"animate",value:function(o,r){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,a=(new Date).getTime(),u={},l=!1,i=!1,c=!1,h=Object.keys(r),d={stop:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c&&clearTimeout(c);var e=Math.min(1,((new Date).getTime()-a)/s);return h.forEach(function(t){o.style[t]=(1-e)*u[t]+e*r[t]+("opacity"==t?"":"px")}),o.style.transitionDuration="0s",t.stopNext?i=!1:l||(l=!0,i&&i()),d},then:function(t){return i=t,l&&i&&i(),d},speed:function(t){if(y.config.animationsDisabled&&(t=0),!l){c&&clearTimeout(c);var e=((new Date).getTime()-a)/s,i=t*(1-e);h.forEach(function(t){o.style[t]=(1-e)*u[t]+e*r[t]+("opacity"==t?"":"px")}),n=window.getComputedStyle(o),h.forEach(n.getPropertyValue.bind(n)),n=o.offsetHeight,a=o.speedUpTime,s=i,o.style.transitionDuration=s/1e3+"s",h.forEach(function(t){o.style[t]=r[t]+("opacity"==t?"":"px")}),c=setTimeout(d.stop,i)}var n;return d},finish:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,e=((new Date).getTime()-a)/s;return d.speed(t/(1-e)),d}};if(o.hasAttribute("disabled")||l||y.config.animationsDisabled)return d;var n=window.getComputedStyle(o);return h.forEach(function(t){var e=parseFloat(n.getPropertyValue(t));u[t]=isNaN(e)?0:e}),l||(o.style.transitionProperty=h.join(","),o.style.transitionDuration=s/1e3+"s",h.forEach(function(t){o.style[t]=r[t]+("opacity"==t?"":"px")})),c=setTimeout(d.stop,s),this._onStopAnimations(o,d.stop),d}}]),d(t,[{key:"_onStopAnimations",value:function(e,i){var n=this._queue,o=this._index++;n[e]=n[e]||[],n[e][o]=function(t){return delete n[e][o],n[e]&&0==n[e].length&&delete n[e],i(t)}}},{key:"stopAnimations",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,i)});(this._queue[t]||[]).forEach(function(t){t(i||{})})}},{key:"stopAll",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;return this.animate(t,{opacity:0},e)}}]),t}(),vs={"":"ripple--*",".ripple__wave":"ripple--*__wave",".ripple__background":"ripple--*__background"},gs=function(t){function i(){h(this,i);var e=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._onTap=e._onTap.bind(e),e._onHold=e._onHold.bind(e),e._onDragStart=e._onDragStart.bind(e),e._onRelease=e._onRelease.bind(e),Ot(e,function(){return e._compile()}),e._animator=new ms,["color","center","start-radius","background","modifier"].forEach(function(t){e.attributeChangedCallback(t,null,e.getAttribute(t))}),e}return s(i,to),d(i,[{key:"_compile",value:function(){this.classList.add("ripple"),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=U.create(".ripple__wave"),this._background=U.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background)),P.initModifier(this,vs)}},{key:"_getEffectSize",value:function(){if(this.hasAttribute("size")){var t=this.getAttribute("size");if(-1!==["cover","contain"].indexOf(t))return t}return"cover"}},{key:"_calculateCoords",value:function(t){var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0,s=this.getBoundingClientRect(),a=this._getEffectSize(),u=function(){return U.throw("Ripple invalid state")};return this._center?(e=s.width/2,i=s.height/2,"cover"===a?r=Math.sqrt(e*e+i*i):"contain"===a?r=Math.min(e,i):u()):(e=("number"==typeof t.clientX?t.clientX:t.changedTouches[0].clientX)-s.left,i=("number"==typeof t.clientY?t.clientY:t.changedTouches[0].clientY)-s.top,n=Math.max(i,s.height-i),o=Math.max(e,s.width-e),"cover"===a?r=Math.sqrt(n*n+o*o):"contain"===a?r=Math.min(Math.round(n/2),Math.round(o/2)):u()),{x:e,y:i,r:r}}},{key:"_rippleAnimation",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300,i=this._animator,n=this._wave,o=this._background,r=this._minR,s=this._calculateCoords(t),a=s.x,u=s.y,l=s.r;return i.stopAll({stopNext:1}),i.animate(o,{opacity:1},e),U.extend(n.style,{opacity:1,top:u-r+"px",left:a-r+"px",width:2*r+"px",height:2*r+"px"}),i.animate(n,{top:u-l,left:a-l,height:2*l,width:2*l},e)}},{key:"_updateParent",value:function(){!this._parentUpdated&&this.parentNode&&("static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0)}},{key:"_onTap",value:function(t){var e=this;this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._onRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&!t.ripple&&(t.ripple=!0,this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._onRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,y.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._onTap),this._parentNode.addEventListener("hold",this._onHold),this._parentNode.addEventListener("dragstart",this._onDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._onTap),t.removeEventListener("hold",this._onHold),t.removeEventListener("dragstart",this._onDragStart)}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":U.restoreClass(this,"ripple",vs);break;case"modifier":P.onModifierChanged(e,i,this,vs);break;case"start-radius":this._minR=Math.max(0,parseFloat(i)||0);break;case"color":i&&Ot(this,function(){n._wave.style.background=i,n.hasAttribute("background")||(n._background.style.background=i)});break;case"background":(i||e)&&Ot(this,"none"===i?function(){n._background.setAttribute("disabled","disabled"),n._background.style.background="transparent"}:function(){n._background.hasAttribute("disabled")&&n._background.removeAttribute("disabled"),n._background.style.background=i});break;case"center":"center"===t&&(this._center=null!=i&&"false"!=i)}}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center","class","modifier"]}}]),i}();n.Ripple=gs,customElements.define("ons-ripple",gs);var _s=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,to),e}();n.Row=_s,customElements.define("ons-row",_s);var ys,bs={"":"segment--*",".segment__item":"segment--*__item",".segment__input":"segment--*__input",".segment__button":"segment--*__button"},ws=(ys=0,function(){return"ons-segment-gen-"+ys++}),ks=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._segmentId=ws(),t._tabbar=null,t._onChange=t._onChange.bind(t),t._onTabbarPreChange=t._onTabbarPreChange.bind(t),Ot(t,function(){t._compile(),setImmediate(function(){return t._lastActiveIndex=t._tabbar?t._tabbar.getActiveTabIndex():t.getActiveButtonIndex()})}),t}return s(e,to),d(e,[{key:"_compile",value:function(){S.prepare(this),this.classList.add("segment");for(var t=this.children.length-1;0<=t;t--){var e=this.children[t];e.classList.add("segment__item");var i=U.findChild(e,".segment__input")||U.create("input.segment__input");i.type="radio",i.value=t,i.name=i.name||this._segmentId,i.checked=!this.hasAttribute("tabbar-id")&&t===(parseInt(this.getAttribute("active-index"))||0);var n=U.findChild(e,".segment__button")||U.create(".segment__button");if(n.parentElement!==e)for(;e.firstChild;)n.appendChild(e.firstChild);e.appendChild(i),e.appendChild(n)}P.initModifier(this,bs)}},{key:"connectedCallback",value:function(){var e=this;this.hasAttribute("tabbar-id")&&Ot(this,function(){var t=U.findParent(e,"ons-page");e._tabbar=t&&t.querySelector("#"+e.getAttribute("tabbar-id")),e._tabbar&&"ONS-TABBAR"===e._tabbar.tagName||U.throw("No tabbar with id "+e.getAttribute("tabbar-id")+" was found."),e._tabbar.setAttribute("hide-tabs",""),setImmediate(function(){return e._setChecked(e._tabbar.getActiveTabIndex())}),e._tabbar.addEventListener("prechange",e._onTabbarPreChange)}),this.addEventListener("change",this._onChange)}},{key:"disconnectedCallback",value:function(){var t=this;Ot(this,function(){t._tabbar&&(t._tabbar.removeEventListener("prechange",t._onTabbarPreChange),t._tabbar=null)}),this.removeEventListener("change",this._onChange)}},{key:"_setChecked",value:function(t){this.children[t].firstElementChild.checked=!0}},{key:"setActiveButton",value:function(t,e){return this._tabbar?this._tabbar.setActiveTab(t,e):(this._setChecked(t),this._postChange(t),Promise.resolve(t))}},{key:"getActiveButtonIndex",value:function(){for(var t=this.children.length-1;0<=t;t--)if(this.children[t].firstElementChild.checked)return t;return-1}},{key:"_onChange",value:function(t){t.stopPropagation(),this._tabbar?this._tabbar.setActiveTab(this.getActiveButtonIndex(),{reject:!1}):this._postChange(this.getActiveButtonIndex())}},{key:"_onTabbarPreChange",value:function(t){var e=this;setImmediate(function(){t.detail.canceled||(e._setChecked(t.index),e._postChange(t.index))})}},{key:"_postChange",value:function(t){U.triggerElementEvent(this,"postchange",{index:t,activeIndex:t,lastActiveIndex:this._lastActiveIndex,segmentItem:this.children[t]}),this._lastActiveIndex=t}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,"segment",bs);break;case"modifier":P.onModifierChanged(e,i,this,bs)}}},{key:"disabled",set:function(t){return U.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["class","modifier"]}},{key:"events",get:function(){return["postchange"]}}]),e}();n.Segment=ks,customElements.define("ons-segment",ks);var xs={"":"select-* select--*",".select-input":"select-input--*"},Cs=["autofocus","disabled","form","multiple","name","required","size"],Es=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t._deriveGetters(),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":U.restoreClass(this,"select",xs);break;case"modifier":P.onModifierChanged(e,i,this,xs)}0<=Cs.indexOf(t)&&Ot(this,function(){return n._updateBoundAttributes()})}},{key:"_updateBoundAttributes",value:function(){var e=this;Cs.forEach(function(t){e.hasAttribute(t)?e._select.setAttribute(t,e.getAttribute(t)):e._select.removeAttribute(t)})}},{key:"_compile",value:function(){S.prepare(this),this.classList.add("select");var e=this._select||document.createElement("select");!e.id&&this.hasAttribute("select-id")&&(e.id=this.getAttribute("select-id")),e.classList.add("select-input"),this._select||(U.arrayFrom(this.childNodes).forEach(function(t){return e.appendChild(t)}),this.appendChild(e)),P.initModifier(this,xs)}},{key:"_deriveGetters",value:function(){var i=this;["disabled","length","multiple","name","options","selectedIndex","size","value","form","type"].forEach(function(e){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){return i._select[e]},set:-1===["form","type"].indexOf(e)?function(t){return i._select[e]=t}:void 0})})}},{key:"add",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this._select.add(t,e)}},{key:"remove",value:function(t){this._select.remove(t)}},{key:"_select",get:function(){return this.querySelector("select")}}],[{key:"observedAttributes",get:function(){return["modifier","class"].concat(Cs)}}]),e}();n.Select=Es,customElements.define("ons-select",Es);var Ls="fab fab--mini speed-dial__item",Ss={"":"fab--* speed-dial__item--*"},Ps=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t._boundOnClick=t._onClick.bind(t),t}return s(e,to),d(e,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":U.restoreClass(this,Ls,Ss);break;case"modifier":P.onModifierChanged(e,i,this,Ss),U.addModifier(this,"mini");break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){U.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){var e=this;S.prepare(this),Ls.split(/\s+/).forEach(function(t){return e.classList.add(t)}),U.addModifier(this,"mini"),this._updateRipple(),P.initModifier(this,Ss)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}();n.SpeedDialItem=Ps,customElements.define("ons-speed-dial-item",Ps);var As="speed-dial",Os={"":"speed-dial--*"},Ms=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){t._compile()}),t._itemShown=!1,t._boundOnClick=t._onClick.bind(t),t}return s(e,to),d(e,[{key:"_compile",value:function(){this.classList.add(As),S.prepare(this),this._updateRipple(),P.initModifier(this,Os),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":U.restoreClass(this,As,Os);break;case"modifier":P.onModifierChanged(e,i,this,Os);break;case"ripple":Ot(this,function(){return n._updateRipple()});break;case"direction":Ot(this,function(){return n._updateDirection(i)});break;case"position":Ot(this,function(){return n._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){return this.onClick?(this.onClick.apply(this),Promise.resolve()):!this.disabled&&this.visible?this.toggleItems():void 0}},{key:"_show",value:function(){return this.inline?Promise.resolve():this.show()}},{key:"_hide",value:function(){var e=this;return new Promise(function(t){e.inline?t():setImmediate(function(){return e.hide().then(t)})})}},{key:"_updateRipple",value:function(){this._fab&&(this.hasAttribute("ripple")?this._fab.setAttribute("ripple",""):this._fab.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,i=0;i<e.length;i++)u(e[i],{transitionDelay:25*i+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var n=0;n<e.length;n++)e[n].style.bottom=72+56*n+"px",e[n].style.right="8px";break;case"down":for(var o=0;o<e.length;o++)e[o].style.top=72+56*o+"px",e[o].style.left="8px";break;case"left":for(var r=0;r<e.length;r++)e[r].style.top="8px",e[r].style.right=72+56*r+"px";break;case"right":for(var s=0;s<e.length;s++)e[s].style.top="8px",e[s].style.left=72+56*s+"px";break;default:U.throw("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"_getTranslate",value:function(){return 0<=(this.getAttribute("position")||"").indexOf("bottom")?"translate3d(0px, -"+(U.globals.fabOffset||0)+"px, 0px) ":""}},{key:"show",value:function(){return this._fab.show(),u(this,{transform:this._getTranslate}),Promise.resolve()}},{key:"hide",value:function(){var t=this;return this.hideItems().then(function(){return t._fab.hide()})}},{key:"showItems",value:function(){this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up");var t=0;if(!this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*i;t+=n,u(e[i],{transform:"scale(1)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!0,U.triggerElementEvent(this,"open")}var o=U.defer();return setTimeout(o.resolve,t),o.promise}},{key:"hideItems",value:function(){var t=0;if(this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*(e.length-i);t+=n,u(e[i],{transform:"scale(0)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!1,U.triggerElementEvent(this,"close")}var o=U.defer();return setTimeout(o.resolve,t),o.promise}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){return this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return U.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"_fab",get:function(){return U.findChild(this,"ons-fab")}},{key:"disabled",set:function(e){return e&&this.hideItems(),U.arrayFrom(this.children).forEach(function(t){U.match(t,".fab")&&U.toggleAttribute(t,"disabled",e)}),U.toggleAttribute(this,"disabled",e)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._fab.visible&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["class","modifier","ripple","direction","position"]}},{key:"events",get:function(){return["open","close"]}}]),e}();n.SpeedDial=Ms,customElements.define("ons-speed-dial",Ms);var Ts={ready:function(t,e){setImmediate(e)}},Is=function(t){function i(){h(this,i);var e=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._page=null,e._pageLoader=$t,Ot(e,function(){Ts.ready(e,function(){var t=e._getPageTarget();t&&e.load(t)})}),e}return s(i,to),d(i,[{key:"connectedCallback",value:function(){U.match(this.parentNode,"ons-splitter")||U.throw('"ons-splitter-content" must have "ons-splitter" as parent')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"load",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var o=e.callback||function(){};return new Promise(function(e){var i=n._content||null;n._pageLoader.load({page:t,parent:n},function(t){i&&(n._pageLoader.unload(i),i=null),setImmediate(function(){return n._show()}),o(t),e(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof Yt||U.throwPageLoader(),this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return Ts}}]),i}();n.SplitterContent=Is,customElements.define("ons-splitter-content",Is);var js=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._boundOnClick=t._onClick.bind(t),Ot(t,function(){t.parentNode._sides.every(function(t){return"split"===t.mode})&&t.setAttribute("style","display: none !important")}),t}return s(e,to),d(e,[{key:"_onClick",value:function(t){this.onClick instanceof Function?this.onClick():U.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick),U.iosMaskScrollFix(this,!0)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick),U.iosMaskScrollFix(this,!1)}}],[{key:"observedAttributes",get:function(){return[]}}]),e}();n.SplitterMask=js,customElements.define("ons-splitter-mask",js);var Ns=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.duration,o=void 0===n?.3:n,r=t.delay,s=void 0===r?0:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,duration:o,delay:s}))}return s(a,no),d(a,[{key:"updateOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};U.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},t)}},{key:"activate",value:function(t){var e=this,i=t.parentNode;Ot(i,function(){e._side=t,e._oppositeSide=i.right!==t&&i.right||i.left!==t&&i.left,e._content=i.content,e._mask=i.mask})}},{key:"deactivate",value:function(){this.clearTransition(),this._mask&&this.clearMask(),this._content=this._side=this._oppositeSide=this._mask=null}},{key:"clearTransition",value:function(){var e=this;"side mask content".split(/\s+/).forEach(function(t){return e["_"+t]&&u.clear(e["_"+t],"transform transition")})}},{key:"clearMask",value:function(){this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(this._mask.style.opacity="",this._mask.style.display="none")}},{key:"translate",value:function(t){}},{key:"open",value:function(t){t()}},{key:"close",value:function(t){t()}},{key:"minus",get:function(){return"right"===this._side.side?"-":""}}]),a}(),Rs=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,Ns),d(e,[{key:"translate",value:function(t){this._mask.style.display="block",nt(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(e){nt.runAll(nt(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0, 0)"},this.def).queue(function(t){t(),e&&e()}),nt(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(e){nt.runAll(nt(this._side).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(t){e&&e(),t()}),nt(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}}]),e}(),Bs={default:Rs,overlay:Rs,push:function(t){function n(){return h(this,n),v(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,Ns),d(n,[{key:"_getSlidingElements",value:function(){var t=[this._side,this._content];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"translate",value:function(t){this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",nt(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(e){var i=this,t=this._side.offsetWidth;this._slidingElements=this._getSlidingElements(),nt.runAll(nt(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"},this.def).queue(function(t){i._slidingElements=null,t(),e&&e()}),nt(this._mask).wait(this.delay).queue({display:"block"}))}},{key:"close",value:function(e){var i=this;this._slidingElements=this._getSlidingElements(),nt.runAll(nt(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(t){i._slidingElements=null,f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"clearTransition",i).call(i),e&&e(),t()}),nt(this._mask).wait(this.delay).queue({display:"none"}))}}]),n}(),reveal:function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,Ns),d(e,[{key:"_getSlidingElements",value:function(){var t=[this._content,this._mask];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"activate",value:function(t){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this,t),"collapse"===t.mode&&this._setStyles(t)}},{key:"deactivate",value:function(){this._side&&this._unsetStyles(this._side),f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}},{key:"_setStyles",value:function(t){u(t,{left:"right"===t.side?"auto":0,right:"right"===t.side?0:"auto",zIndex:0,backgroundColor:"black",transform:this._generateBehindPageStyle(0).container.transform,display:"none"});var e=t.parentElement;Ot(e,function(){return e.content&&u(e.content,{boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.2)"})})}},{key:"_unsetStyles",value:function(t){u.clear(t,"left right zIndex backgroundColor display"),t._content&&(t._content.style.opacity=""),this._oppositeSide&&"split"!==this._oppositeSide.mode||t.parentElement.content&&u.clear(t.parentElement.content,"boxShadow")}},{key:"_generateBehindPageStyle",value:function(t){var e=this.maxWidth,i=(t-e)/e*10;return{content:{opacity:1+(i=isNaN(i)?0:Math.max(Math.min(i,0),-10))/100},container:{transform:"translate3d("+(this.minus?-1:1)*i+"%, 0, 0)"}}}},{key:"translate",value:function(t){this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var e=this._generateBehindPageStyle(Math.min(t,this.maxWidth));this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",nt.runAll(nt(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}),nt(this._side._content).queue(e.content),nt(this._side).queue(e.container))}},{key:"open",value:function(e){var i=this;this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var t=this._generateBehindPageStyle(this.maxWidth);this._slidingElements=this._getSlidingElements(),setTimeout(function(){nt.runAll(nt(i._slidingElements).wait(i.delay).queue({transform:"translate3d("+(i.minus+i.maxWidth)+"px, 0, 0)"},i.def),nt(i._mask).wait(i.delay).queue({display:"block"}),nt(i._side._content).wait(i.delay).queue(t.content,i.def),nt(i._side).wait(i.delay).queue(t.container,i.def).queue(function(t){i._slidingElements=null,t(),e&&e()}))},1e3/60)}},{key:"close",value:function(e){var i=this,t=this._generateBehindPageStyle(0);this._slidingElements=this._getSlidingElements(),nt.runAll(nt(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def),nt(this._mask).wait(this.delay).queue({display:"none"}),nt(this._side._content).wait(this.delay).queue(t.content,this.def),nt(this._side).wait(this.delay).queue(t.container,this.def).queue(function(t){i._slidingElements=null,i._side.style.zIndex=0,i._side.style.display="none",i._side._content.style.opacity="",e&&e(),t()}))}},{key:"_getMaxWidth",value:function(){return this._side.offsetWidth}}]),e}()},Ds=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._onModeChange=t._onModeChange.bind(t),Ot(t,function(){!t.mask&&t.appendChild(document.createElement("ons-splitter-mask")),t._layout()}),t}return s(e,to),d(e,[{key:"_getSide",value:function(e){return U.findChild(this,function(t){return U.match(t,"ons-splitter-side")&&t.getAttribute("side")===e})}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&Ot(this,function(){e._layout()})}},{key:"_layout",value:function(){var e=this;this._sides.forEach(function(t){e.content&&(e.content.style[t.side]="split"===t.mode?t.style.width:0)})}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"side",get:function(){return U.findChild(this,"ons-splitter-side")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return U.findChild(this,"ons-splitter-content")}},{key:"topPage",get:function(){return this.content._content}},{key:"mask",get:function(){return U.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=T.createHandler(this,t)}}]),d(e,[{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._onModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._onModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"_show",value:function(){U.propagateAction(this,"_show")}},{key:"_hide",value:function(){U.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){U.propagateAction(this,"_destroy"),this.remove()}}],[{key:"registerAnimator",value:function(t,e){e instanceof SplitterAnimator||U.throwAnimator("Splitter"),Bs[t]=e}},{key:"SplitterAnimator",get:function(){return SplitterAnimator}},{key:"animators",get:function(){return Bs}}]),e}();n.Splitter=Ds,customElements.define("ons-splitter",Ds);var zs="split",Fs="collapse",Vs="closed",qs={ready:function(t,e){setImmediate(e)}},Hs=function(){function i(t,e){h(this,i),this._element=t,this._onChange=this._onChange.bind(this),e&&this.changeTarget(e)}return d(i,[{key:"changeTarget",value:function(t){this.disable(),(this._target=t)&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?Fs:zs)}},{key:"activate",value:function(){this._orientation?(Bt.on("change",this._onChange),this._onChange({isPortrait:Bt.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._onChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?Bt.off("change",this._onChange):this._queryResult&&(this._queryResult.removeListener(this._onChange),this._queryResult=null)}}]),i}(),Us=function(t){function i(){h(this,i);var e=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._page=null,e._state=Vs,e._lock=new Zt,e._pageLoader=$t,e._collapseDetection=new Hs(e),e._animatorFactory=new b({animators:Ds.animators,baseClass:Ns,baseClassName:"SplitterAnimator",defaultAnimation:e.getAttribute("animation")}),Ot(e,function(){e.attributeChangedCallback("width"),e.hasAttribute("side")||e.setAttribute("side","left"),qs.ready(e,function(){var t=e._page||e.getAttribute("page");t&&e.load(t)})}),e}return s(i,to),d(i,[{key:"connectedCallback",value:function(){var r=this;U.match(this.parentNode,"ons-splitter")||U.throw("Parent must be an ons-splitter element"),this._swipe=new Lr({element:this,elementHandler:this.parentElement,swipeMax:function(){r._onSwipe&&r._onSwipe(1,r._animationOpt),r.open()},swipeMid:function(t,e){r._onSwipe&&r._onSwipe(t/e),r._animator.translate(t)},swipeMin:function(){r._onSwipe&&r._onSwipe(0,r._animationOpt),r.close()},getThreshold:function(){return Math.max(0,Math.min(1,parseFloat(r.getAttribute("open-threshold"))||.3))},getSide:function(){return r.side},isInitialState:function(){var t=r._state===Vs;return r._state="changing",t},ignoreSwipe:function(t,e){var i,n=r.isOpen,o=Math.max(0,parseInt(r.getAttribute("swipe-target-width"),10)||0);return r._mode===zs||r._lock.isLocked()||r._isOtherSideOpen()||(i=t.gesture.direction,!("left"===r.side?"left"===i&&n||"right"===i&&!n:"left"===i&&!n||"right"===i&&n))||!n&&0!==o&&o<e}}),this.attributeChangedCallback("swipeable"),Ot(this,function(){r.constructor.observedAttributes.forEach(function(t){return r.attributeChangedCallback(t,null,r.getAttribute(t))})})}},{key:"disconnectedCallback",value:function(){this._swipe&&this._swipe.dispose(),this._animator=this._animationOpt=this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"swipeable":this._swipe&&this._swipe.update();break;case"width":i=this.getAttribute("width"),this.style.width=/^\d+(px|%)$/.test(i)?i:"80%";break;default:this[U.camelize("_update-"+t)](i)}}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return U.triggerElementEvent(this,t,{side:this});var e=!1;return U.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_isOtherSideOpen",value:function(){var e=this;return!!U.findChild(this.parentElement,function(t){return t instanceof e.constructor&&t!==e&&t._mode===Fs&&t.isOpen})}},{key:"_updateCollapse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode(zs)):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode(Fs)):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this.setAttribute("mode",t),t===zs?(this._animator&&this._animator.deactivate(),this._state=Vs):(this._animator&&this._animator.activate(this),"open"===this._state&&this._animator.open()),U.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateAnimation",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this._animator&&this._animator.deactivate(),this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this),this._animationOpt={timing:this._animator.duration,duration:this._animator.duration}}},{key:"_updateAnimationOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(b.parseAnimationOptionsString(t))}},{key:"open",value:function(t){return this.toggle(t,!0)}},{key:"close",value:function(t){return this.toggle(t,!1)}},{key:"toggle",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="boolean"==typeof t?t:!this.isOpen,o=n?"open":"close",r=n?"open":Vs;if(this._mode===zs)return Promise.resolve(!1);if(this._state===r)return Promise.resolve(this);if(this._lock.isLocked())return Promise.reject("Another splitter-side action is already running.");if(n&&this._isOtherSideOpen())return Promise.reject("Another menu is already open.");if(this._emitEvent("pre"+o))return Promise.reject("Canceled in pre"+o+" event.");var s=this._lock.lock();return this._state="changing",new Promise(function(t){e._animator[o](function(){U.iosPageScrollFix(n),e._state=r,s(),e._emitEvent("post"+o),i.callback instanceof Function&&i.callback(e),t(e)})})}},{key:"load",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var o=e.callback||function(){};return new Promise(function(e){var i=n._content||null;n._pageLoader.load({page:t,parent:n},function(t){i&&(n._pageLoader.unload(i),i=null),setImmediate(function(){return n._show()}),o(t),e(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof Yt||U.throwPageLoader(),this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||U.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"isOpen",get:function(){return this._mode===Fs&&this._state!==Vs}}],[{key:"observedAttributes",get:function(){return["animation","width","collapse","swipeable","animation-options"]}},{key:"events",get:function(){return["preopen","postopen","preclose","postclose","modechange"]}},{key:"rewritables",get:function(){return qs}}]),i}();n.SplitterSide=Us,customElements.define("ons-splitter-side",Us);var Zs={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},Ws={ios:[1,21],material:[0,16]},Gs=function(t){function o(){h(this,o);var t=v(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return Ot(t,function(){t.attributeChangedCallback("modifier",null,t.getAttribute("modifier"))}),t._onChange=t._onChange.bind(t),t._onRelease=t._onRelease.bind(t),t._lastTimeStamp=0,t}return s(o,pr),d(o,[{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_emitChangeEvent",value:function(){U.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0})}},{key:"_onChange",value:function(t){t&&t.stopPropagation&&t.stopPropagation(),this._emitChangeEvent()}},{key:"_onClick",value:function(t){(t.target.classList.contains(this.defaultElementClass+"__touch")||t.timeStamp-this._lastTimeStamp<50)&&t.preventDefault(),this._lastTimeStamp=t.timeStamp}},{key:"_onHold",value:function(t){this.disabled||(P.addModifier(this,"active"),document.addEventListener("release",this._onRelease))}},{key:"_onDragStart",value:function(t){this.disabled||-1===["left","right"].indexOf(t.gesture.direction)?P.removeModifier(this,"active"):(t.consumed=!0,P.addModifier(this,"active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._onRelease))}},{key:"_onDrag",value:function(t){t.stopPropagation(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,i=this._getPosition(t),n=this.checked;this.checked=i>=(e[0]+e[1])/2,this.checked!==n&&this._emitChangeEvent(),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._onRelease),this._handle.style.left="",P.removeModifier(this,"active")}},{key:"click",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.disabled||(this.checked=!this.checked,this._emitChangeEvent(),this._lastTimeStamp=t.timeStamp||0)}},{key:"connectedCallback",value:function(){var t=this;Ot(this,function(){t._input.addEventListener("change",t._onChange)}),this.addEventListener("dragstart",this._onDragStart),this.addEventListener("hold",this._onHold),this.addEventListener("tap",this.click),this.addEventListener("click",this._onClick),this._gestureDetector=new ot(this,{dragMinDistance:1,holdTimeout:251,passive:!0})}},{key:"disconnectedCallback",value:function(){var t=this;Ot(this,function(){t._input.removeEventListener("change",t._onChange)}),this.removeEventListener("dragstart",this._onDragStart),this.removeEventListener("hold",this._onHold),this.removeEventListener("tap",this.click),this.removeEventListener("click",this._onClick),this._gestureDetector&&this._gestureDetector.dispose()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t){var n=-1!==(i||"").indexOf("material");this._locations=Ws[n?"material":"ios"]}f(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return Zs}},{key:"_defaultClassName",get:function(){return"switch"}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <div class="'+this._defaultClassName+'__toggle">\n        <div class="'+this._defaultClassName+'__handle">\n          <div class="'+this._defaultClassName+'__touch"></div>\n        </div>\n      </div>\n    '}},{key:"type",get:function(){return"checkbox"}},{key:"_handle",get:function(){return this.querySelector("."+this._defaultClassName+"__handle")}},{key:"checkbox",get:function(){return this._input}}],[{key:"observedAttributes",get:function(){return[].concat(g(f(o.__proto__||Object.getPrototypeOf(o),"observedAttributes",this)),["modifier"])}}]),o}();n.Switch=Gs,customElements.define("ons-switch",Gs);var Xs={".tabbar__content":"tabbar--*__content",".tabbar__border":"tabbar--*__border",".tabbar":"tabbar--*"},Ys={ready:function(t,e){e()}},$s=function(t,e,i){return(1-i)*t+i*e},Ks=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Ot(t,function(){return t._compile()}),t._loadInactive=U.defer(),t}return s(e,to),d(e,[{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new jo({getElement:function(){return t._contentElement},getInitialIndex:function(){return t.getAttribute("activeIndex")||t.getAttribute("active-index")},getAutoScrollRatio:this._getAutoScrollRatio.bind(this),getBubbleWidth:function(){return parseInt(t.getAttribute("ignore-edge-width")||25,10)},isAutoScrollable:function(){return!0},preChangeHook:this._onPreChange.bind(this),postChangeHook:this._onPostChange.bind(this),refreshHook:this._onRefresh.bind(this),scrollHook:this._onScroll.bind(this)}),Ot(this,function(){t._tabbarBorder=U.findChild(t._tabbarElement,".tabbar__border"),t._swiper.init({swipeable:t.hasAttribute("swipeable")})})),Ot(this,function(){t._updatePosition(),U.findParent(t,"ons-page",function(t){return t===document.body})||t._show()})}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null,this._tabbarBorder=null,this._tabsRect=null)}},{key:"_normalizeEvent",value:function(t){return p({},t,{index:t.activeIndex,tabItem:this.tabs[t.activeIndex]})}},{key:"_onPostChange",value:function(t){t=this._normalizeEvent(t),U.triggerElementEvent(this,"postchange",t);var e=t.tabItem.pageElement;e&&e._show()}},{key:"_onPreChange",value:function(t){if((t=this._normalizeEvent(t)).cancel=function(){return t.canceled=!0},U.triggerElementEvent(this,"prechange",t),!t.canceled){var e=t,i=e.activeIndex,n=e.lastActiveIndex,o=this.tabs;if(o[i].setActive(!0),0<=n){var r=o[n];r.setActive(!1),r.pageElement&&r.pageElement._hide()}}return t.canceled}},{key:"_onScroll",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._tabbarBorder)if(this._tabbarBorder.style.transition="all "+(e.duration||0)+"s "+(e.timing||""),this._autogrow&&0<this._tabsRect.length){var i=Math.floor(t),n=Math.ceil(t),o=t%1;this._tabbarBorder.style.width=$s(this._tabsRect[i].width,this._tabsRect[n].width,o)+"px",this._tabbarBorder.style.transform="translate3d("+$s(this._tabsRect[i].left,this._tabsRect[n].left,o)+"px, 0, 0)"}else this._tabbarBorder.style.transform="translate3d("+100*t+"%, 0, 0)";this._onSwipe&&this._onSwipe(t,e)}},{key:"_onRefresh",value:function(){if(this._autogrow=U.hasModifier(this,"autogrow"),this._tabsRect=this.tabs.map(function(t){return t.getBoundingClientRect()}),this._tabbarBorder){this._tabbarBorder.style.display=this.hasAttribute("tab-border")||U.hasModifier(this,"material")?"block":"none";var t=this.getActiveTabIndex();0<this._tabsRect.length&&0<=t&&(this._tabbarBorder.style.width=this._tabsRect[t].width+"px")}}},{key:"_getAutoScrollRatio",value:function(t,e,i){var n=i/300*(t?-1:1);return Math.min(1,Math.max(0,.6+e*n))}},{key:"_compile",value:function(){S.prepare(this);var t=this._contentElement||U.create(".tabbar__content");t.classList.add("ons-tabbar__content");var e=this._tabbarElement||U.create(".tabbar");if(e.classList.add("ons-tabbar__footer"),!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);var i=Number(this.getAttribute("activeIndex"));e.children.length>i&&!U.findChild(e,"[active]")&&e.children[i].setAttribute("active",""),this._tabbarBorder=U.findChild(e,".tabbar__border")||U.create(".tabbar__border"),e.appendChild(this._tabbarBorder),e.classList.add("ons-swiper-tabbar"),!t.children[0]&&t.appendChild(document.createElement("div")),!t.children[1]&&t.appendChild(document.createElement("div")),t.appendChild=t.appendChild.bind(t.children[0]),t.insertBefore=t.insertBefore.bind(t.children[0]),this.appendChild(t),this.appendChild(e),P.initModifier(this,Xs)}},{key:"_updatePosition",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),o=this._top="top"===t||"auto"===t&&U.hasModifier(this,"material"),r=o?U.addModifier:U.removeModifier;r(this,"top");var s=U.findParent(this,"ons-page");s&&Ot(s,function(){var t=0;s.children[0]&&U.match(s.children[0],"ons-toolbar")&&(r(s.children[0],"noshadow"),t=1);var e=s._getContentElement(),i=window.getComputedStyle(s._getContentElement(),null);n.style.top=o?parseInt(i.getPropertyValue("padding-top"),10)-t+"px":"",e.style.top=i.top,e.style.top=""}),y.autoStatusBarFill(function(){var t=U.findParent(n,function(t){return t.hasAttribute("status-bar-fill")});U.toggleAttribute(n,"status-bar-fill",o&&!t)})}},{key:"setActiveTab",value:function(e){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.getActiveTabIndex(),o=this.tabs[t],r=this.tabs[e];if(!r)return Promise.reject("Specified index does not match any tab.");if(e===t)return U.triggerElementEvent(this,"reactive",{index:e,activeIndex:e,tabItem:r}),Promise.resolve(r.pageElement);var s=r.pageElement;return(s?Promise.resolve(s):r.loaded).then(function(t){return i._swiper.setActiveIndex(e,p({reject:!0},n,{animation:o&&t?n.animation||i.getAttribute("animation"):"none",animationOptions:U.extend({duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"},i.hasAttribute("animation-options")?U.animationOptionsParse(i.getAttribute("animation-options")):{},n.animationOptions||{})})).then(function(){return n.callback instanceof Function&&n.callback(t),t})})}},{key:"setTabbarVisibility",value:function(t){var e=this;Ot(this,function(){e._contentElement.style[e._top?"top":"bottom"]=t?"":"0px",e._tabbarElement.style.display=t?"":"none",t&&e._onRefresh()})}},{key:"show",value:function(){this.setTabbarVisibility(!0)}},{key:"hide",value:function(){this.setTabbarVisibility(!1)}},{key:"getActiveTabIndex",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.tabs,e=0;e<t.length;e++)if(t[e]&&"ONS-TAB"===t[e].tagName&&t[e].isActive())return e;return-1}},{key:"_show",value:function(){var i=this;this._swiper.show(),setImmediate(function(){var t=i.tabs,e=i.getActiveTabIndex(t);i._loadInactive.resolve(),0<t.length&&0<=e&&t[e].loaded.then(function(t){return t&&setImmediate(function(){return t._show()})})})}},{key:"_hide",value:function(){this._swiper.hide();var t=this.topPage;t&&t._hide()}},{key:"_destroy",value:function(){this.tabs.forEach(function(t){return t.remove()}),this.remove()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t){P.onModifierChanged(e,i,this,Xs);var n=function(t){return/(^|\s+)top($|\s+)/i.test(t)};n(e)!==n(i)&&this._updatePosition()}else"position"===t?U.isAttached(this)&&this._updatePosition():"swipeable"===t?this._swiper&&this._swiper.updateSwipeable(this.hasAttribute("swipeable")):"hide-tabs"===t&&this.setTabbarVisibility(!this.hasAttribute("hide-tabs")||"false"===i)}},{key:"_tabbarElement",get:function(){return U.findChild(this,".tabbar")}},{key:"_contentElement",get:function(){return U.findChild(this,".tabbar__content")}},{key:"_targetElement",get:function(){var t=this._contentElement;return t&&t.children[0]||null}},{key:"topPage",get:function(){var t=this.tabs,e=this.getActiveTabIndex();return t[e]&&(t[e].pageElement||this.pages[0])||null}},{key:"pages",get:function(){return U.arrayFrom(this._targetElement.children)}},{key:"tabs",get:function(){return Array.prototype.filter.call(this._tabbarElement.children,function(t){return"ONS-TAB"===t.tagName})}},{key:"visible",get:function(){return"none"!==this._tabbarElement.style.display}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return U.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||U.throw('"onSwipe" must be a function'),this._onSwipe=t}}],[{key:"observedAttributes",get:function(){return["modifier","position","swipeable","tab-border","hide-tabs"]}},{key:"rewritables",get:function(){return Ys}},{key:"events",get:function(){return["prechange","postchange","reactive"]}}]),e}();n.Tabbar=Ks,customElements.define("ons-tabbar",Ks);var Qs="tabbar__item",Js={"":"tabbar--*__item",".tabbar__button":"tabbar--*__button"},ta=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return["label","icon","badge"].some(t.hasAttribute.bind(t))?t._compile():Ot(t,function(){return t._compile()}),t._pageLoader=$t,t._onClick=t._onClick.bind(t),t}return s(e,to),d(e,[{key:"_compile",value:function(){if(S.prepare(this),this.classList.add(Qs),!this._button){for(var t=U.create("button.tabbar__button");this.childNodes[0];)t.appendChild(this.childNodes[0]);var e=U.create("input",{display:"none"});e.type="radio",this.appendChild(e),this.appendChild(t),this._updateButtonContent(),P.initModifier(this,Js),this._updateRipple()}}},{key:"_updateRipple",value:function(){this._button&&U.updateRipple(this._button,this.hasAttribute("ripple"))}},{key:"_updateButtonContent",value:function(){var t,n=this,o=this._button,e=this._icon;if(this.hasAttribute("icon")){var i=(e=e||U.createElement('<div class="tabbar__icon"><ons-icon></ons-icon></div>')).children[0],r=(t=i.getAttribute("icon"),function(){return i.attributeChangedCallback("icon",t,n.getAttribute("icon"))});i.setAttribute("icon",this.getAttribute("icon")),e.parentElement!==o&&o.insertBefore(e,o.firstChild),i.attributeChangedCallback instanceof Function?r():setImmediate(function(){return i.attributeChangedCallback instanceof Function&&r()})}else e&&e.remove();["label","badge"].forEach(function(t,e){var i=n.querySelector(".tabbar__"+t);n.hasAttribute(t)?((i=i||U.create(".tabbar__"+t+("badge"===t?" notification":""))).textContent=n.getAttribute(t),i.parentElement!==o&&o.appendChild(i)):i&&i.remove()})}},{key:"_onClick",value:function(){this.onClick instanceof Function?this.onClick():this._tabbar.setActiveTab(this.index,{reject:!1})}},{key:"setActive",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this._input.checked=t,this.classList.toggle("active",t),U.toggleAttribute(this,"active",t),this.hasAttribute("icon")&&this.hasAttribute("active-icon")&&this._icon.children[0].setAttribute("icon",this.getAttribute(t?"active-icon":"icon"))}},{key:"_loadPageElement",value:function(i,t){var n=this;return this._hasLoaded=!0,new Promise(function(e){n._pageLoader.load({parent:i,page:t},function(t){n.isActive()||(t.style.visibility="hidden",n._tabbar._loadInactive.promise.then(function(){return t.style.visibility=""})),i.replaceChild(t,i.children[n.index]),n._loadedPage=t,e(t)})})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._onClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null,this._hasLoaded=!1,this.loaded=null)}},{key:"connectedCallback",value:function(){var r=this;if(this.addEventListener("click",this._onClick,!1),U.isAttached(this)&&!this.loaded){var s=U.defer();this.loaded=s.promise,Ot(this,function(){var n=r.index,o=r._tabbar;o||U.throw("Tab elements must be children of Tabbar"),o.hasAttribute("modifier")&&U.addModifier(r,o.getAttribute("modifier")),r._hasLoaded||(r.hasAttribute("active")&&(r.setActive(!0),o.setAttribute("activeIndex",n)),n===o.tabs.length-1&&(o._onRefresh(),setImmediate(function(){return o._onRefresh()})),Ks.rewritables.ready(o,function(){var t=r.page||r.getAttribute("page");if(!r.pageElement&&t){var e=o._targetElement,i=U.create("div",{height:"100%",width:"100%",visibility:"hidden"});return e.insertBefore(i,e.children[n]),r._loadPageElement(e,t).then(s.resolve)}return s.resolve(r.pageElement)}))})}}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":U.restoreClass(this,Qs,Js);break;case"modifier":Ot(this,function(){return P.onModifierChanged(e,i,n,Js)});break;case"ripple":Ot(this,function(){return n._updateRipple()});break;case"icon":case"label":case"badge":Ot(this,function(){return n._updateButtonContent()});break;case"page":this.page=i||""}}},{key:"pageLoader",set:function(t){t instanceof Yt||U.throwPageLoader(),this._pageLoader=t},get:function(){return this._pageLoader}},{key:"_input",get:function(){return U.findChild(this,"input")}},{key:"_button",get:function(){return U.findChild(this,".tabbar__button")}},{key:"_icon",get:function(){return this.querySelector(".tabbar__icon")}},{key:"_tabbar",get:function(){return U.findParent(this,"ons-tabbar")}},{key:"index",get:function(){return Array.prototype.indexOf.call(this.parentElement.children,this)}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var t=this._tabbar;return t.pages.length===t.tabs.length?t.pages[this.index]:null}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge","class"]}}]),e}();n.Tab=ta,customElements.define("ons-tab",ta);var ea=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.2:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,no),d(a,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),a}(),ia=function(t){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.3:r;return h(this,a),v(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{timing:i,delay:o,duration:s}))}return s(a,ea),d(a,[{key:"show",value:function(t,e){e=e||function(){},nt(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},nt(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),a}(),na=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.25:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.messageDelay=.4*a.duration+a.delay,c.isAndroid()?a.ascension=48:oo.isIPhoneXPortraitPatchActive()?a.ascension=98:oo.isIPhoneXLandscapePatchActive()?a.ascension=85:a.ascension=64,a}return s(u,ea),d(u,[{key:"show",value:function(t,e){t=t._toast,U.globals.fabOffset=this.ascension,nt.runAll(nt(t,this.def).default({transform:"translate3d(0, "+this.ascension+"px, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}),nt(this._getFabs()).wait(this.delay).queue({transform:"translate3d(0, -"+this.ascension+"px, 0) scale(1)"},this.def),nt(U.arrayFrom(t.children),this.def).default({opacity:0},{opacity:1}))}},{key:"hide",value:function(t,e){t=t._toast,U.globals.fabOffset=0,nt.runAll(nt(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.ascension+"px, 0)"}).queue(function(t){e&&e(),t()}),nt(this._getFabs(),this.def).wait(this.delay).queue({transform:"translate3d(0, 0, 0) scale(1)"},this.def),nt(U.arrayFrom(t.children),this.def).default({opacity:1},{opacity:0}))}},{key:"_getFabs",value:function(){return U.arrayFrom(document.querySelectorAll("ons-fab[position~=bottom], ons-speed-dial[position~=bottom]")).filter(function(t){return t.visible})}}]),u}(),oa=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.35:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return a.bodyHeight=document.body.clientHeight,oo.isIPhoneXPortraitPatchActive()?a.liftAmount="calc(100% + 34px)":oo.isIPhoneXLandscapePatchActive()?a.liftAmount="calc(100% + 21px)":a.liftAmount="100%",a}return s(u,ea),d(u,[{key:"show",value:function(t,e){t=t._toast,nt.runAll(nt(t,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){t=t._toast,nt.runAll(nt(t,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0}).queue(function(t){e&&e(),t()}))}},{key:"_updatePosition",value:function(t){0===parseInt(t.style.top,10)&&(t.style.top=t.style.bottom="")}}]),u}(),ra=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,r=t.duration,s=void 0===r?.35:r;h(this,u);var a=v(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:o,duration:s}));return oo.isIPhoneXPortraitPatchActive()?a.fallAmount="calc(-100% - 44px)":a.fallAmount="-100%",a}return s(u,ea),d(u,[{key:"show",value:function(t,e){t=t._toast,this._updatePosition(t),nt.runAll(nt(t,this.def).default({transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(e,i){var n=this;e=e._toast,this._updatePosition(e),nt.runAll(nt(e,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0}).queue(function(t){n._updatePosition(e,!0),i&&i(),t()}))}},{key:"_updatePosition",value:function(t,e){var i=void 0;i=oo.isIPhoneXPortraitPatchActive()?"44px":"0",t.style.top!==i&&(t.style.top=i,t.style.bottom="initial")}}]),u}(),sa={".toast":"toast--*",".toast__message":"toast--*__message",".toast__button":"toast--*__button"},aa={default:c.isAndroid()?na:oa,fade:ia,ascend:na,lift:oa,fall:ra,none:ea},ua=function(t){function e(){h(this,e);var t=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._defaultDBB=function(t){return t.callParentHandler()},Ot(t,function(){return t._compile()}),t}return s(e,uo),d(e,[{key:"_updateAnimatorFactory",value:function(){return this._toast&&(this._toast.style.top=this._toast.style.bottom=""),new b({animators:aa,baseClass:ea,baseClassName:"ToastAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){S.prepare(this),this.style.display="none",this.style.zIndex=1e4;var t="toast__message",e="toast__button",i=U.findChild(this,".toast");if(!i)for((i=document.createElement("div")).classList.add("toast");this.childNodes[0];)i.appendChild(this.childNodes[0]);var n=U.findChild(i,"."+e);if(n||(n=U.findChild(i,function(t){return U.match(t,".button")||U.match(t,"button")}))&&(n.classList.remove("button"),n.classList.add(e),i.appendChild(n)),!U.findChild(i,"."+t)){var o=U.findChild(i,".message");if(!o){o=document.createElement("div");for(var r=i.childNodes.length-1;0<=r;r--)i.childNodes[r]!==n&&o.insertBefore(i.childNodes[r],o.firstChild)}o.classList.add(t),i.insertBefore(o,i.firstChild)}i.parentNode!==this&&this.appendChild(i),P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return sa}},{key:"_toast",get:function(){return U.findChild(this,".toast")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof ea||U.throw('"Animator" param must inherit OnsToastElement.ToastAnimator'),aa[t]=e}},{key:"animators",get:function(){return aa}},{key:"ToastAnimator",get:function(){return ea}}]),e}();n.Toast=ua,customElements.define("ons-toast",ua);var la,ca=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,po),d(e,[{key:"_scheme",get:function(){return{"":"toolbar-button--*"}}},{key:"_defaultClassName",get:function(){return"toolbar-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{center:"",size:"contain",background:"transparent"}]}}]),e}();return n.ToolbarButton=ca,customElements.define("ons-toolbar-button",ca),la=Qt,window._onsLoaded&&la._util.warn("Onsen UI is loaded more than once."),window._onsLoaded=!0,window.addEventListener("load",function(){la.fastClick=ie.attach(document.body);var t="touch-action"in document.body.style;la.platform._runOnActualPlatform(function(){la.platform.isAndroid()?la.fastClick.destroy():la.platform.isIOS()&&t&&(la.platform.isIOSSafari()||la.platform.isWKWebView())&&la.fastClick.destroy()})},!1),la.ready(function(){la.enableDeviceBackButtonHandler(),la._defaultDeviceBackButtonHandler=la._internal.dbbDispatcher.createHandler(window.document.body,function(){Object.hasOwnProperty.call(navigator,"app")?navigator.app.exitApp():console.warn("Could not close the app. Is 'cordova.js' included?\nError: 'window.navigator.app' is undefined.")}),document.body._gestureDetector=new la.GestureDetector(document.body,{passive:!0}),la.platform.isWebView()||document.body.addEventListener("keydown",function(t){27===t.keyCode&&la.fireDeviceBackButtonEvent()}),la._setupLoadingPlaceHolders()}),Viewport.setup(),window._superSecretOns=Qt},"object"==typeof t&&void 0!==i?i.exports=s():"function"==typeof define&&define.amd?define(s):r.ons=s()}),t.entry="js/onsenui.js"}),y.pkg("resize-observer-polyfill",{},function(t){return t.file("dist/ResizeObserver.js",function(t,e,i,n,o){var r,s;r=this,s=function(){"use strict";var n=function(){if("undefined"!=typeof Map)return Map;function n(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}return function(){function t(){this.__entries__=[]}var e={size:{configurable:!0}};return e.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var e=n(this.__entries__,t),i=this.__entries__[e];return i&&i[1]},t.prototype.set=function(t,e){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,i=n(e,t);~i&&e.splice(i,1)},t.prototype.has=function(t){return!!~n(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i+=1){var o=n[i];t.call(e,o[1],o[0])}},Object.defineProperties(t.prototype,e),t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,e="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),u="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(e):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=2,o=["top","right","bottom","left","width","height","size","weight"],t="undefined"!=typeof MutationObserver,r=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,o=0;function r(){i&&(i=!1,t()),n&&a()}function s(){u(r)}function a(){var t=Date.now();if(i){if(t-o<l)return;n=!0}else n=!(i=!0),setTimeout(s,e);o=t}return a}(this.refresh.bind(this),20)};r.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},r.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},r.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},r.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),t?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),o.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null;var c=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i+=1){var o=n[i];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||e},p=v(0,0,0,0);function f(t){return parseFloat(t)||0}function m(i){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}function s(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n,o=d(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i+=1){var o=n[i],r=t["padding-"+o];e[o]=f(r)}return e}(o),s=r.left+r.right,a=r.top+r.bottom,u=f(o.width),l=f(o.height);if("border-box"===o.boxSizing&&(Math.round(u+s)!==e&&(u-=m(o,"left","right")+s),Math.round(l+a)!==i&&(l-=m(o,"top","bottom")+a)),(n=t)!==d(n).document.documentElement){var c=Math.round(u+s)-e,h=Math.round(l+a)-i;1!==Math.abs(c)&&(u-=c),1!==Math.abs(h)&&(l-=h)}return v(r.left,r.top,u,l)}var a="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function h(t){return i?a(t)?v(0,0,(e=t.getBBox()).width,e.height):s(t):p;var e}function v(t,e,i,n){return{x:t,y:e,width:i,height:n}}var g=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t};g.prototype.isActive=function(){var t=h(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},g.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var _=function(t,e){var i,n,o,r,s,a,u,l=(n=(i=e).x,o=i.y,r=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(a.prototype),c(u,{x:n,y:o,width:r,height:s,top:o,right:n+r,bottom:s+o,left:n}),u);c(this,{target:t,contentRect:l})},y=function(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i};y.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new g(t)),this.controller_.addObserver(this),this.controller_.refresh())}},y.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},y.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},y.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},y.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new _(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},y.prototype.clearActive=function(){this.activeObservations_.splice(0)},y.prototype.hasActive=function(){return 0<this.activeObservations_.length};var b="undefined"!=typeof WeakMap?new WeakMap:new n,w=function(t){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=r.getInstance(),i=new y(t,e,this);b.set(this,i)};return["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}}),void 0!==e.ResizeObserver?e.ResizeObserver:w},"object"==typeof t&&void 0!==i?i.exports=s():"function"==typeof define&&define.amd?define(s):r.ResizeObserver=s()}),t.entry="dist/ResizeObserver.js"}),y.pkg("whatwg-fetch",{},function(t){return t.file("fetch.js",function(t,e,i,n,o){!function(t){"use strict";if(!t.fetch){var s={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(s.arrayBuffer)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},n=ArrayBuffer.isView||function(t){return t&&-1<e.indexOf(Object.prototype.toString.call(t))};c.prototype.append=function(t,e){t=a(t),e=u(e);var i=this.map[t];this.map[t]=i?i+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=u(e)},c.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},c.prototype.keys=function(){var i=[];return this.forEach(function(t,e){i.push(e)}),l(i)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var i=[];return this.forEach(function(t,e){i.push([e,t])}),l(i)},s.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var o=[301,302,303,307,308];_.redirect=function(t,e){if(-1===o.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=v,t.Response=_,t.fetch=function(i,o){return new Promise(function(n,t){var e=new v(i,o),r=new XMLHttpRequest;r.onload=function(){var t,o,e={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",o=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),i=e.shift().trim();if(i){var n=e.join(":").trim();o.append(i,n)}}),o)};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var i="response"in r?r.response:r.responseText;n(new _(i,e))},r.onerror=function(){t(new TypeError("Network request failed"))},r.ontimeout=function(){t(new TypeError("Network request failed"))},r.open(e.method,e.url,!0),"include"===e.credentials?r.withCredentials=!0:"omit"===e.credentials&&(r.withCredentials=!1),"responseType"in r&&s.blob&&(r.responseType="blob"),e.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),r.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(i){return new Promise(function(t,e){i.onload=function(){t(i.result)},i.onerror=function(){e(i.error)}})}function p(t){var e=new FileReader,i=d(e);return e.readAsArrayBuffer(t),i}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(s.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(s.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(s.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(s.arrayBuffer&&s.blob&&i(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!n(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,i,n=h(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=d(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var i,n,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),-1<r.indexOf(n)?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(t){var o=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),i=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");o.append(decodeURIComponent(i),decodeURIComponent(n))}}),o}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)}),t.entry="fetch.js"}),y.import("fuse-box-aurelia-loader"),y.import("aurelia-bootstrapper"),y.target="browser"}(function(s){function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],n=0,o=arguments.length;n<o;n++)i=i.concat(arguments[n].split("/"));var r=[];for(n=0,o=i.length;n<o;n++){var s=i[n];s&&"."!==s&&(".."===s?r.pop():r.push(s))}return""===i[0]&&r.unshift(""),r.join("/")||(r.length?"/":".")}function o(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function d(t){return{server:require(t)}}function m(t,e){var i=e.path||"./",n=e.pkg||"default",o=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1);if((_||58!==i)&&(97<=e&&e<=122||64===e)){if(64===e){var n=t.split("/"),o=n.splice(2,n.length).join("/");return[n[0]+"/"+n[1],o||void 0]}var r=t.indexOf("/");return-1===r?[t]:[t.substring(0,r),t.substring(r+1)]}}(t);if(o&&(i="./",n=o[0],e.v&&e.v[n]&&(n=n+"@"+e.v[n]),t=o[1]),t)if(126===t.charCodeAt(0))t=t.slice(2,t.length),i="./";else if(!_&&(47===t.charCodeAt(0)||58===t.charCodeAt(1)))return d(t);var r=b[n];if(!r){if(_&&"electron"!==w.target)throw"Package not found "+n;return d(n+(t?"/"+t:""))}var s,a,u,l=f(i,t=t||"./"+r.s.entry),c=(u=(a=l).match(/\.(\w{1,})$/))&&u[1]?a:a+".js",h=r.f[c];return!h&&-1<c.indexOf("*")&&(s=c),h||s||(c=f(l,"/","index.js"),(h=r.f[c])||"."!==l||(c=r.s&&r.s.entry||"index.js",h=r.f[c]),h||(c=l+".js",h=r.f[c]),h||(h=r.f[l+".jsx"]),h||(c=l+"/index.jsx",h=r.f[c])),{file:h,wildcard:s,pkgName:n,versions:r.v,filePath:l,validPath:c}}function v(t,e){var i=r[t];if(i)for(var n in i){if(!1===i[n].apply(null,e))return!1}}function g(t,e){if(void 0===e&&(e={}),58===t.charCodeAt(4)||58===t.charCodeAt(5))return function(t){if(_){var e,i=document,n=i.getElementsByTagName("head")[0];/\.css$/.test(t)?((e=i.createElement("link")).rel="stylesheet",e.type="text/css",e.href=t):((e=i.createElement("script")).type="text/javascript",e.src=t,e.async=!0),n.insertBefore(e,n.firstChild)}}(t);var o=m(t,e);if(o.server)return o.server;var i=o.file;if(o.wildcard){var n=new RegExp(o.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@@/g,".*").replace(/@/g,"[a-z0-9$_-]+"),"i"),r=b[o.pkgName];if(r){var s={};for(var a in r.f)n.test(a)&&(s[a]=g(o.pkgName+"/"+a));return s}}if(!i){var u="function"==typeof e;if(!1===v("async",[t,e]))return;return function(n,o,t){if(void 0===t&&(t={}),!_)return o(/\.(js|json)$/.test(n)?y.require(n):"");if(t&&t.ajaxed===n)return console.error(n,"does not provide a module");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var t=r.getResponseHeader("Content-Type"),e=r.responseText;/json/.test(t)?e="module.exports = "+e:/javascript/.test(t)||(e="module.exports = "+JSON.stringify(e));var i=f("./",n);w.dynamic(i,e),o(w.import(n,{ajaxed:n}))}else console.error(n,"not found on request"),o(void 0)},r.open("GET",n,!0),r.send()}(t,function(t){return u?e(t):null},e)}var l=o.pkgName;if(i.locals&&i.locals.module)return i.locals.module.exports;var c,h=i.locals={},d=(c=o.validPath).substring(0,c.lastIndexOf("/"))||"./";h.exports={},h.module={exports:h.exports},h.require=function(t,e){var i,n=g(t,{pkg:l,path:d,v:o.versions});return w.sdep&&(null!==(i=n)&&-1<["function","object","array"].indexOf(typeof i)&&void 0===i.default&&(Object.isFrozen(i)?i.default=i:Object.defineProperty(i,"default",{value:i,writable:!0,enumerable:!1}))),n},_||!y.require.main?h.require.main={filename:"./",paths:[]}:h.require.main=y.require.main;var p=[h.module.exports,h.require,h.module,o.validPath,d,l];return v("before-import",p),i.fn.apply(p[0],p),v("after-import",p),h.module.exports}if(s.FuseBox)return s.FuseBox;var t="undefined"!=typeof WorkerGlobalScope,_="undefined"!=typeof window&&window.navigator||t,y=_?t?{}:window:global;_&&(y.global=t?{}:window),s=_&&"undefined"==typeof __fbx__dnm__?s:module.exports;var e=_?t?{}:window.__fsbx__=window.__fsbx__||{}:y.$fsbx=y.$fsbx||{};_||(y.require=require);var b=e.p=e.p||{},r=e.e=e.e||{},w=function(){function e(){}return e.global=function(t,e){return void 0===e?y[t]:void(y[t]=e)},e.import=function(t,e){return g(t,e)},e.on=function(t,e){r[t]=r[t]||[],r[t].push(e)},e.exists=function(t){try{return void 0!==m(t,{}).file}catch(t){return!1}},e.remove=function(t){var e=m(t,{}),i=b[e.pkgName];i&&i.f[e.validPath]&&delete i.f[e.validPath]},e.main=function(t){return this.mainFile=t,e.import(t,{})},e.expose=function(n){var t=function(t){var e=n[t].alias,i=g(n[t].pkg);"*"===e?o(i,function(t,e){return s[t]=e}):"object"==typeof e?o(e,function(t,e){return s[e]=i[t]}):s[e]=i};for(var e in n)t(e)},e.dynamic=function(e,r,t){this.pkg(t&&t.pkg||"default",{},function(t){t.file(e,function(t,e,i,n,o){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",r)(!0,t,e,i,n,o,s)})})},e.flush=function(t){var e=b.default;for(var i in e.f)t&&!t(i)||delete e.f[i].locals},e.pkg=function(t,e,i){if(b[t])return i(b[t].s);var n=b[t]={};return n.f={},n.v=e,n.s={file:function(t,e){return n.f[t]={fn:e}}},i(n.s)},e.addPlugin=function(t){this.plugins.push(t)},e.packages=b,e.isBrowser=_,e.isServer=!_,e.plugins=[],e}();return _||(y.FuseBox=w),s.FuseBox=w}(this));