!function(e){e.$fuse$=e;e.pkg("default",{},function(e){return e.file("app.css",function(e,t,n,i,o){n.exports="/*\n  Search bar styles\n*/\n.toolbar.searchbar {\n  padding: 5px 10px 0;\n}\n\n.toolbar.searchbar.floating + .page__background + .page__content {\n    margin-top: -1px;\n    top: 0;\n}\n\n.toolbar.searchbar.toolbar--transparent .center {\n  box-shadow: 0 1px 5px rgba(0,0,0,.3);\n  border-color: transparent;\n}\n\n.toolbar.searchbar .toolbar-button {\n  color: #666;\n  margin: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  border: none;\n}\n.toolbar.searchbar.toolbar--material .toolbar-button--material {\n  color: #666;\n  margin: 0;\n  border: none;\n}\n.toolbar.searchbar.toolbar--material .toolbar-button--material .ons-icon,\n.toolbar.searchbar.toolbar--material .ons-icon  {\n  width: 22px;\n  font-size: 22px;\n  text-align: center;\n}\n.toolbar.searchbar .toolbar-button .ons-icon, .toolbar.searchbar .ons-icon {\n  width: 17px;\n  text-align: center;\n}\n\n.toolbar.searchbar .left, .toolbar.searchbar .right {\n  min-width: auto;\n  width: auto;\n}\n.toolbar.searchbar .center {\n  flex: 1;\n  display: flex;\n  height: 34px;\n  line-height: 34px;\n  border-radius: 4px;\n  background-color: #fff;\n  max-width: 100%;\n}\n.toolbar.searchbar.toolbar--material .center {\n  height: 46px;\n  line-height: 46px;\n}\n.toolbar.searchbar .search-input {\n  width: 100%;\n  height: 100%;\n  background-image: none;\n  background-color: transparent;\n  border: none;\n  font-size: 17px;\n  padding: 0 8px;\n  line-height: inherit;\n}\n\n/*\n  Simple card style\n*/\n.card {\n  margin: 10px;\n  /*border: 1px solid #ccc;*/\n  border-radius: 4px;\n  background-color: #fff;\n  padding: 10px;\n  box-shadow: 0 1px 5px rgba(0,0,0,.3);\n}\n\n/*\n  White background for normal text pages\n*/\n.page-text .page__background {\n  background-color: #fff;\n}\n\n/*\n  Material inputs without underbar\n*/\nons-select.no-underbar select.select-input--material {\n  background-image: none;\n  padding: 0;\n}\n\n/*\n  Forms\n*/\n.list-item .input-label {\n  font-size: 14px;\n  opacity: 0.75;\n  width: 100%;\n}\n.list-item .error {\n  padding-top: 8px;\n  color: #ee0000;\n  font-size: 12px;\n}\n\n/*\n  Map\n*/\n.leaflet-map-static {\n  pointer-events: none;\n}\n.leaflet-map-static .leaflet-pane img {\n  pointer-events: none;\n}\n.leaflet-control .zmdi {\n  font-size: 1.4em;\n  line-height: inherit;\n}\n\n/*\n  iOS fix\n*/\nons-button, ons-button.button, ons-toolbar-button, ons-list-item, ons-fab, ons-back-button {\n  cursor: pointer;\n}\n"}),e.file("app.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./app.css"></require>\n  <ons-splitter>\n    <ons-splitter-side id="menu" ref="_menu" side="left" collapse swipeable swipe-target-width="1">\n      <ons-page>\n        <ons-list modifier="noborder">\n          <ons-list-item repeat.for="nav of router.navigation" click.delegate="navigateTo(nav)" modifier="nodivider tappable">\n            <span class="center">${nav.title}</span>\n          </ons-list-item>\n        </ons-list>\n      </ons-page>\n    </ons-splitter-side>\n    <ons-splitter-content>\n      <ons-navigator></ons-navigator>\n    </ons-splitter-content>\n  </ons-splitter>\n</template>\n'}),e.file("app.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("./services/db"),c=t("./plugins/aurelia-messageformat"),u=function(){function e(e){this.db=e}return e.prototype.activate=function(){return this.db.load().then(function(){}).catch(function(){})},e.prototype.configureRouter=function(e,t){e.title="Höranlagen",e.map([{route:["","home"],name:"home",moduleId:"./pages/home",nav:!1},{route:"quickstart",name:"quickstart",moduleId:"./pages/help/quickstart",title:c._("pages.help.quickstart.title"),nav:!0,settings:{}},{route:"help/reception",name:"help-reception",moduleId:"./pages/help/reception",nav:!0,title:c._("pages.help.reception.title"),settings:{}},{route:"help/video",name:"help-video",moduleId:"./pages/help/video",nav:!0,title:c._("pages.help.video.title"),settings:{}},{route:"help/symbols",name:"help-symbols",moduleId:"./pages/help/symbols",nav:!0,title:c._("pages.help.symbols.title"),settings:{}},{route:"add-system",name:"add-system",moduleId:"./pages/system/add",title:c._("pages.add-system.title"),nav:!0,settings:{}},{route:"impressum",name:"impressum",moduleId:"./pages/impressum",nav:!0,title:c._("pages.legal-notice.title"),settings:{}},{route:"system/:id",name:"system",moduleId:"./pages/system/info",nav:!1},{route:"system/:id/:plan",name:"system-plan",moduleId:"./pages/system/plan",nav:!1}]),this.router=t},e.prototype.navigateTo=function(e){this._menu.close(),this.router.navigateToRoute(e.config.name)},e=r([s.inject(l.Database),a("design:paramtypes",[Object])],e)}();e.App=u}),e.file("services/db.js",function(e,t,n,i,o){t("process");var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var c=t("aurelia-fetch-client"),u=t("aurelia-framework"),d=t("./config"),p=t("../models/building"),f=t("../models/canton"),h=t("../models/location"),m=t("../models/organisation"),g=t("../models/room-type"),b=t("../models/system"),y=t("../models/technology"),v=t("../models/rating"),w=t("../models/lang"),k=t("../plugins/aurelia-messageformat"),x=function(){function e(e){var t=this;this.config=e,this.reset(),this.httpClient=new c.HttpClient,this.httpClient.configure(function(e){e.useStandardConfiguration().withBaseUrl(t.config.baseUrl+"/db_query.php?").withDefaults()})}return e.prototype.reset=function(){this.indexes=new Map},e.prototype.load=function(){var e=this,t=[f.Canton,g.RoomType,b.System,y.Technology,w.Lang];return this.reset(),Promise.all(t.map(function(t){var n=t.tablename;return e.httpClient.fetch("table="+n).then(function(e){return e.json()}).then(function(n){var i=e.createIndex(t);n.results.forEach(function(e){i.set(e[n.id],new t(e))})}).catch(function(n){e.createIndex(t)})})).then(function(){e.process()})},e.prototype.createIndex=function(e){var t=e.tablename;return this.indexes.set(t,new Map),this.getIndex(e)},e.prototype.getIndex=function(e){var t=e.tablename;return this.indexes.get(t)},e.prototype.process=function(){var e,t,n,i,o=this.getIndex(b.System),r=this.getIndex(g.RoomType),a=this.createIndex(p.Building),c=this.createIndex(m.Organisation),u=this.createIndex(h.Location),d=this.createIndex(v.Rating);try{for(var y=s(r.entries()),x=y.next();!x.done;x=y.next()){var _=l(x.value,2)[1];_.name=k._("data."+g.RoomType.tablename+"."+_.id+".title"),_.nameHyphens=k._("data."+g.RoomType.tablename+"."+_.id+".title-hyphens")}}catch(t){e={error:t}}finally{try{x&&!x.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}try{for(var j=s(o.entries()),I=j.next();!I.done;I=j.next()){var O=l(I.value,2)[1];switch(O.buildingId=O.plz+"-"+O.strasse_nr+"-"+O.gebaeude,O.organisationId=""+O.organisation,O.locationId=O.ort.trim(),O.lang=this.query(w.Lang).getById(O.langID),O.bewertung){case 1:case 2:O.ratingId=O.bewertung;break;default:O.ratingId=3}var z=a.get(O.buildingId),S=c.get(O.organisationId),R=u.get(O.locationId),P=d.get(O.ratingId);if(z||(z=new p.Building({id:O.buildingId,name:O.gebaeude,lat:O.lat,lng:O.lng,strasse_nr:O.strasse_nr,plz:O.plz,ort:O.ort,cantonId:O.kantonID,canton:this.query(f.Canton).getById(O.kantonID)}),a.set(z.id,z)),R||(R=new h.Location({id:O.locationId,name:O.locationId,plzs:[],bounds:L.latLngBounds()}),u.set(R.id,R)),S||(S=new m.Organisation({id:O.organisationId,name:O.organisation}),c.set(S.id,S)),!P){switch((P=new v.Rating({id:O.ratingId})).id){case 1:P.icon="r32_green.png";break;case 2:P.icon="r32_yellow.png";break;default:P.icon="r32_white.png"}d.set(P.id,P)}O.organisation=S,O.building=z,O.rating=P,R.bounds.extend(L.latLng(O.lat,O.lng)),-1===R.plzs.indexOf(O.plz)&&R.plzs.push(O.plz)}}catch(e){n={error:e}}finally{try{I&&!I.done&&(i=j.return)&&i.call(j)}finally{if(n)throw n.error}}},e.prototype.query=function(e){return new _(this,e,this.getIndex(e))},e.prototype.sortByDistance=function(e){var t,n,i=this.getIndex(b.System),o=Array.from(i.values()).sort(function(t,n){return e.distanceTo(L.latLng(t.lat,t.lng))-e.distanceTo(L.latLng(n.lat,n.lng))});i.clear();try{for(var r=s(o),a=r.next();!a.done;a=r.next()){var l=a.value;i.set(l.id,l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e=r([u.inject(d.Config),a("design:paramtypes",[Object])],e)}();e.Database=x;var _=function(){function e(e,t,n){this.db=e,this.model=t,this.index=n,this.records=new Map(this.index.entries())}return e.prototype.get=function(e,t){var n,i,o;try{for(var r=s(this.records.values()),a=r.next();!a.done;a=r.next()){var l=a.value;if(l[e]===t){n=l;break}}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return n},e.prototype.getById=function(e){return this.records.get(e)},e.prototype.all=function(){return Array.from(this.records.values())},e.prototype.filterBy=function(e,t){var n,i,o=new Map;try{for(var r=s(this.records.entries()),a=r.next();!a.done;a=r.next()){var c=l(a.value,2),u=c[0],d=c[1];d[e]===t&&o.set(u,d)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return this.records=o,this},e.prototype.groupByRelation=function(e){var t,n,i,o,r=this.model.relations.get(e),a=this.db.query(e),c=new Map,u=new Map;try{for(var d=s(this.records.values()),p=d.next();!p.done;p=d.next()){var f=(g=p.value)[r];u.has(f)||u.set(f,[]),u.get(f).push(g)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var h=s(u.entries()),m=h.next();!m.done;m=h.next()){var g,b=l(m.value,2),y=(f=b[0],b[1]);(g=a.getById(f))&&(g[this.model.tablename]=y,c.set(g.id,g))}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return a.records=c,a},e}();e.Query=_}),e.file("services/config.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("../plugins/aurelia-messageformat"),a=function(){this.baseUrl="https://hoeranlagen.ch",this.basemaps=[{type:"google",id:"roadmap",title:r._("default"),config:{type:"roadmap",styles:[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}]}},{type:"google",id:"satellite",title:r._("satellite"),config:{type:"satellite"}}],this.map={basemap:"roadmap",view:[[45.805829,7.338867],[47.813155,9.008789]]}};e.Config=a}),e.file("plugins/aurelia-messageformat/index.js",function(e,t,n,i,o){"use strict";var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-event-aggregator"),l=t("aurelia-framework"),c=t("aurelia-pal"),u=t("aurelia-templating-resources"),d=t("./i18n");e.I18N=d.I18N,e.configure=function(e,t){return r(this,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return n=new d.I18N(e.container.get(s.EventAggregator),e.container.get(u.BindingSignaler)),e.container.registerInstance(d.I18N,n),e.globalResources(c.PLATFORM.moduleName("./attributes")),[4,n.setup(t)];case 1:return i.sent(),[2]}})})},e._=function(e,t){return void 0===t&&(t=null),l.Container.instance.get(d.I18N).tr(e,t)}}),e.file("plugins/aurelia-messageformat/i18n.js",function(e,t,n,i,o){"use strict";var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var c=t("aurelia-event-aggregator"),u=t("./utils"),d=/<|&#?\w+;/,p=function(){function e(e,t){this.catalogs={},this.options={language:"en",loadPath:"./locales/",languages:[],catalogs:{},fallbackLanguage:"en",keySeparator:".",defaultContext:"",trimWhiteSpace:!0,preserveIndentation:!1,replaceNewLines:" "},this.ea=e,this.signaler=t}return e.prototype.setup=function(e){return r(this,void 0,void 0,function(){var t=this;return a(this,function(n){switch(n.label){case 0:return this.options=Object.assign(this.options,e),[4,Promise.all(this.options.languages.map(function(e){return t.loadCatalog(e)}))];case 1:return n.sent(),this.setLocale(this.options.language),[2]}})})},e.prototype.loadCatalog=function(e){var t=this;return new Promise(function(n,i){t.catalogs[e]=t.options.catalogs[e],n()})},e.prototype.setLocale=function(e){var t=this.getLocale();this.locales=u.negotiateLanguages([e].concat(navigator.languages||[]),this.options.languages,this.options.fallbackLanguage),this.locale=this.locales[0],this.ea.publish("i18n:locale:changed",{oldValue:t,newValue:this.locale}),this.signaler.signal("aurelia-translation-signal")},e.prototype.getLocale=function(){return this.locale},e.prototype.getParams=function(e){if(e.au&&e.au["i18n-params"]&&e.au["i18n-params"].viewModel)return e.au["i18n-params"].viewModel.value},e.prototype.updateTranslations=function(e){if(e&&e.querySelectorAll){if(e.hasAttribute("i18n")){var t=this.getParams(e),n=e.getAttribute("i18n"),i=this.tr(n,t);d.test(i)?e.innerHTML=i:e.textContent=i}if(e.hasAttribute("i18n-attrs")){t=this.getParams(e);var o=e.getAttribute("i18n-attrs").split(";");try{for(var r=s(o),a=r.next();!a.done;a=r.next()){var c=a.value,u=l(c.split(":"),2),p=u[0];n=u[1],i=this.tr(n,t);e.setAttribute(p,i)}}catch(e){g={error:e}}finally{try{a&&!a.done&&(b=r.return)&&b.call(r)}finally{if(g)throw g.error}}}try{for(var f=s(e.querySelectorAll("[i18n]")),h=f.next();!h.done;h=f.next()){var m=h.value;this.updateTranslations(m)}}catch(e){y={error:e}}finally{try{h&&!h.done&&(v=f.return)&&v.call(f)}finally{if(y)throw y.error}}var g,b,y,v}},e.prototype.tr=function(e,t){var n,i,o;try{for(var r=s(this.locales),a=r.next();!a.done;a=r.next()){var l=[a.value,e],c=u.getProp(this.catalogs,l.join(this.options.keySeparator));if("function"==typeof c){n=c(t);break}}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return n||e},e.inject=[c.EventAggregator],e}();e.I18N=p}),e.file("plugins/aurelia-messageformat/utils.js",function(e,t,n,i,o){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0}),e.negotiateLanguages=function(e,t,n){var i,o,a,s,l=[],c=[];try{for(var u=r(e),d=u.next();!d.done;d=u.next()){var p=d.value;if(c.indexOf(p)<0&&c.push(p),p.indexOf("-")>0){var f=p.split("-")[0];c.indexOf(f)<0&&c.push(f)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var h=r(c),m=h.next();!m.done;m=h.next())p=m.value,t.indexOf(p)>-1&&l.indexOf(p)<0&&l.push(p)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l.indexOf(n)<0&&l.push(n),l},e.getProp=function(e,t){for(var n=Array.isArray(t)?t:t.split("."),i=n.length,o=0;e&&o<i;)e=e[n[o++]];return o&&o===i?e:void 0}}),e.file("models/building.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("aurelia-framework"),a=t("../services/db"),s=function(){function e(e){Object.assign(this,e),this.db=r.Container.instance.get(a.Database)}return Object.defineProperty(e,"tablename",{get:function(){return"buildings"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){var e=this.roomtypes;return 1===e.length?e[0].icon:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"roomtypes",{get:function(){return this.systems.reduce(function(e,t){var n=t.roomtype;return-1===e.indexOf(n)&&e.push(n),e},[])},enumerable:!0,configurable:!0}),e}();e.Building=s}),e.file("models/canton.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e,"tablename",{get:function(){return"cantons"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.kantonID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.kantonkuerzel},enumerable:!0,configurable:!0}),e}();e.Canton=r}),e.file("models/location.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e,"tablename",{get:function(){return"locations"},enumerable:!0,configurable:!0}),e}();e.Location=r}),e.file("models/organisation.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e,"tablename",{get:function(){return"organisations"},enumerable:!0,configurable:!0}),e}();e.Organisation=r}),e.file("models/room-type.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={1:{name:"building",prefix:"mki",color:"#2E7D32"},2:{name:"university",prefix:"mki",color:"#283593"},3:{name:"chapel",prefix:"mki",color:"#F9A825"},4:{name:"museum",prefix:"mki",color:"#F57C00"},5:{name:"court_house",prefix:"mki",color:"#AD1457"},6:{name:"document-text",prefix:"ion",color:"#9E9D24"},7:{name:"ios-people",prefix:"ion",color:"#6A1B9A"},8:{name:"cinema",prefix:"mki",color:"#C62828"},9:{name:"theatre",prefix:"mki",color:"#00838F"}},a=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e,"tablename",{get:function(){return"roomtypes"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.typID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.beschreibung},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return r[this.id]},enumerable:!0,configurable:!0}),e}();e.RoomType=a}),e.file("models/system.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("aurelia-framework"),a=t("../services/db"),s=t("../services/config"),l=t("./room-type"),c=t("./technology"),u=t("./building"),d=t("./organisation"),p=t("../plugins/aurelia-messageformat"),f=function(){function e(e){Object.assign(this,e),this.db=r.Container.instance.get(a.Database),this.config=r.Container.instance.get(s.Config),this.i18n=r.Container.instance.get(p.I18N)}return Object.defineProperty(e,"tablename",{get:function(){return"systems"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"relations",{get:function(){return new Map([[u.Building,"buildingId"],[d.Organisation,"organisationId"]])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.anlageID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var e=(this.raum+" "+this.raumnummer).trim();return e||(e=this.building.name),e||(e=this.roomtype.name),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotation",{get:function(){var e=this.i18n.getLocale();return this.lang[e]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"roomtype",{get:function(){return this.db.query(l.RoomType).getById(this.typID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"technology",{get:function(){return this.db.query(c.Technology).getById(this.techID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"photoUrl",{get:function(){var e=this.foto_dateiname;return e&&"transp.png"!==e?this.config.baseUrl+"/admin/images/image_front/"+e:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"roomPlans",{get:function(){var e=[];if("transp.png"!==this.plan1_dateiname){var t={id:(n="image_room1")+"_"+this.plan2_dateiname,value:this.plan1_dateiname,text:"transp.png"!==this.plan2_dateiname?"Raumplan "+(Object.keys(e).length+1):"Raumplan",url:this.config.baseUrl+"/admin/images/"+n+"/"+this.plan1_dateiname};e.push(t)}if("transp.png"!==this.plan2_dateiname){var n;t={id:(n="image_room2")+"_"+this.plan2_dateiname,value:this.plan2_dateiname,text:"transp.png"!==this.plan1_dateiname?"Raumplan "+(Object.keys(e).length+1):"Raumplan",url:this.config.baseUrl+"/admin/images/"+n+"/"+this.plan2_dateiname};e.push(t)}return e},enumerable:!0,configurable:!0}),e}();e.System=f}),e.file("models/technology.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("aurelia-framework"),a=t("../services/config"),s=t("../plugins/aurelia-messageformat"),l=function(){function e(e){Object.assign(this,e),this.config=r.Container.instance.get(a.Config)}return Object.defineProperty(e,"tablename",{get:function(){return"technologies"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.techID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return s._("data."+e.tablename+"."+this.id+".title")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return s._("data."+e.tablename+"."+this.id+".description")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{get:function(){return this.config.baseUrl+"/symbols/"+this.technologie+".png"},enumerable:!0,configurable:!0}),e}();e.Technology=l}),e.file("models/rating.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("aurelia-framework"),a=t("../services/config"),s=t("../plugins/aurelia-messageformat"),l=function(){function e(e){Object.assign(this,e),this.config=r.Container.instance.get(a.Config)}return Object.defineProperty(e.prototype,"title",{get:function(){return s._("data.ratings."+this.id+".title")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return s._("data.ratings."+this.id+".description")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shortDescription",{get:function(){return s._("data.ratings."+this.id+".description-short")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageUrl",{get:function(){return this.config.baseUrl+"/symbols/"+this.icon},enumerable:!0,configurable:!0}),e}();e.Rating=l}),e.file("models/lang.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e,"tablename",{get:function(){return"lang"},enumerable:!0,configurable:!0}),e}();e.Lang=r}),e.file("components/leaflet-layer-control.css",function(e,t,n,i,o){n.exports="leaflet-layer-control ons-popover {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 99999;\n}\n"}),e.file("components/leaflet-layer-control.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./leaflet-layer-control.css"></require>\n\n  <ons-popover ref="layerControlEl" direction="down" cover-target cancelable modifier="material">\n    <ons-list>\n      <ons-list-header style="display:flex;flex-direction:row;align-items:center;padding-right:0;">\n        <span style="flex:1;" i18n="map-type"></span>\n        <ons-button modifier="quiet" click.delegate="hideLayerControl()" style="color:inherit;">\n          <ons-icon icon="md-close" fixed-width="true"></ons-icon>\n        </ons-button>\n      </ons-list-header>\n      <ons-list-item repeat.for="baseLayer of config.basemaps" click.delegate="changeBaseLayer(baseLayer.id)" tappable>\n        <div class="center">\n          ${baseLayer.title}\n        </div>\n        <div class="right">\n          <ons-icon icon="fa-check" if.bind="baseLayer.id === state.baseLayerId"></ons-icon>\n        </div>\n      </ons-list-item>\n    </ons-list>\n  </ons-popover>\n</template>\n'}),e.file("components/leaflet-layer-control.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=t("aurelia-framework"),c=t("../services/storage"),u=t("../services/config"),d=t("../services/state"),p=function(){function e(e,t,n,i){this.el=e,this.config=t,this.state=n,this.baseLayers=new Map,this.overlays=new Map;try{for(var o=s(this.config.basemaps),r=o.next();!r.done;r=o.next()){var a=r.value;"google"===a.type&&this.baseLayers.set(a.id,L.gridLayer.googleMutant(a.config))}}catch(e){l={error:e}}finally{try{r&&!r.done&&(c=o.return)&&c.call(o)}finally{if(l)throw l.error}}var l,c;this.button=L.easyButton("zmdi zmdi-layers",this.showLayerControl.bind(this),{position:"topright"})}return e.prototype.mapChanged=function(e){this.map&&this.button.addTo(this.map)},e.prototype.showLayerControl=function(){this.layerControlEl.show(this.button.getContainer())},e.prototype.hideLayerControl=function(){this.layerControlEl.hide()},e.prototype.changeBaseLayer=function(e){var t=this.state.baseLayerId;e!==t&&(this.map.removeLayer(this.baseLayers.get(t)),this.map.addLayer(this.baseLayers.get(e)),this.state.baseLayerId=e)},r([l.bindable(),a("design:type",Object)],e.prototype,"map",void 0),e=r([l.inject(Element,u.Config,d.State,c.Storage),a("design:paramtypes",[Object,Object,Object,Object])],e)}();e.LeafletLayerControlCustomElement=p}),e.file("services/storage.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(){this.stores={local:localStorage,session:sessionStorage}}return e.prototype.getItem=function(e,t){return void 0===t&&(t="local"),JSON.parse(this.stores[t].getItem(e))},e.prototype.setItem=function(e,t,n){void 0===n&&(n="local"),this.stores[n].setItem(e,JSON.stringify(t))},e}();e.Storage=r}),e.file("services/state.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("./config"),c=t("./storage"),u=function(){function e(e,t){this.config=e,this.storage=t,this.baseLayerId=this.config.map.basemap}return Object.defineProperty(e.prototype,"mapBounds",{get:function(){var e=this.storage.getItem("mapbounds")||this.config.map.view;return L.latLngBounds(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapCenter",{get:function(){return this.mapBounds.getCenter()},enumerable:!0,configurable:!0}),e=r([s.inject(l.Config,c.Storage),a("design:paramtypes",[Object,Object])],e)}();e.State=u}),e.file("components/leaflet-map.css",function(e,t,n,i,o){n.exports="leaflet-map, leaflet-map .leaflet-map {\n  width: 100%;\n  height: 100%;\n}\n\nleaflet-map.leaflet-map-fixed .leaflet-map {\n  pointer-events: none;\n}\n\nleaflet-map.leaflet-map-fixed .leaflet-map img {\n  pointer-events: none;\n}\n\nleaflet-map .leaflet-layer-control {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 99999;\n}\n\nleaflet-map .leaflet-button-plain {\n  background-color: #fff;\n  color: #333;\n}\n\nleaflet-map .easy-button-container .easy-button-button {\n  padding: 0;\n}\n"}),e.file("components/leaflet-map.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./leaflet-map.css"></require>\n\n  <div ref="mapContainer" class="leaflet-map"></div>\n  <leaflet-layer-control map.bind="map" if.bind="layerControl"></leaflet-layer-control>\n</template>\n'}),e.file("components/leaflet-map.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=t("aurelia-framework"),c=t("../services/storage"),u=t("../services/config"),d=t("../services/state"),p=function(){function e(e,t,n,i){this.mapOptions={attributionControl:!1},this.fixed=!1,this.layerControl=!0,this.zoomControl=!0,this.el=e,this.config=t,this.state=n,this.storage=i,this.baseLayers=new Map,this._overlays=[];try{for(var o=s(this.config.basemaps),r=o.next();!r.done;r=o.next()){var a=r.value;"google"===a.type&&this.baseLayers.set(a.id,L.gridLayer.googleMutant(a.config))}}catch(e){l={error:e}}finally{try{r&&!r.done&&(c=o.return)&&c.call(o)}finally{if(l)throw l.error}}var l,c}return e.prototype.attached=function(){this.bounds||(this.bounds=L.latLngBounds(this.state.mapBounds)),this.mapOptions.zoomControl=this.zoomControl,this.map||(this.map=L.map(this.mapContainer,this.mapOptions)),this.map.addLayer(this.baseLayers.get(this.state.baseLayerId)),this.bounds?this.map.fitBounds(this.bounds):this.map.setView(this.config.map.center,this.config.map.zoom),this.updateOverlays(),this.map.on("click",this.onMapClick.bind(this))},e.prototype.centerChanged=function(e){e&&this.map.setView(e,this.map.getZoom())},e.prototype.boundsChanged=function(e){e&&this.map&&this.map.fitBounds(e)},e.prototype.fixedChanged=function(e){var t="leaflet-map-fixed";!0===e?this.el.classList.add(t):this.el.classList.remove(t)},e.prototype.overlaysChanged=function(e,t){this.map&&this.updateOverlays()},e.prototype.updateOverlays=function(){var e,t,n,i,o=this.overlays||[];try{for(var r=s(this._overlays),a=r.next();!a.done;a=r.next()){var l=a.value;this.map.removeLayer(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}try{for(var c=s(o),u=c.next();!u.done;u=c.next()){var d=u.value;l=void 0;"marker"===d.type&&(l=L.marker(d.latLng).addTo(this.map)),l.data=d,this._overlays.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}},e.prototype.showLayerControl=function(){this.layerControlEl.show(this.layerControlTargetEl)},e.prototype.hideLayerControl=function(){this.layerControlEl.hide()},e.prototype.changeBaseLayer=function(e){var t=this.state.baseLayerId;e!==t&&(this.map.removeLayer(this.baseLayers.get(t)),this.map.addLayer(this.baseLayers.get(e)),this.state.baseLayerId=e)},e.prototype.onMapClick=function(e){var t=new CustomEvent("mapclick",{detail:e});this.el.dispatchEvent(t)},r([l.bindable(),a("design:type",Object)],e.prototype,"center",void 0),r([l.bindable(),a("design:type",Object)],e.prototype,"bounds",void 0),r([l.bindable(),a("design:type",Object)],e.prototype,"fixed",void 0),r([l.bindable(),a("design:type",Object)],e.prototype,"layerControl",void 0),r([l.bindable(),a("design:type",Object)],e.prototype,"zoomControl",void 0),r([l.bindable(),a("design:type",Object)],e.prototype,"overlays",void 0),e=r([l.inject(Element,u.Config,d.State,c.Storage),a("design:paramtypes",[Object,Object,Object,Object])],e)}();e.LeafletMap=p}),e.file("locales/de.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={image:function(e){return"Bild"},"map-type":function(e){return"Kartentyp"},default:function(e){return"Standard"},satellite:function(e){return"Satelitt"},address:function(e){return"Adresse"},technologies:function(e){return"Technologien"},ratings:function(e){return"Bewertungen"},"hearing-assistance-system":function(e){return"Höranlage"},"room-plans":function(e){return"Raumpläne"},"no-room-plans":function(e){return"Keine Raumpläne verfügbar"},website:function(e){return"Webseite"},photo:function(e){return"Foto"},delete:function(e){return"Löschen"},annotation:function(e){return"Hinweise"},"your-contact-info":function(e){return"Ihre Kontaktdaten"},"full-name":function(e){return"Vollständiger Name"},"email-address":function(e){return"E-Mail-Adresse"},error:{geolocation:{title:function(e){return"Ortung fehlgeschlagen"},message:function(e){return"Ist die Ortung aktiviert und die App berechtigt darauf zugreifen?"}}},search:{placeholder:function(e){return"Höranlage suchen..."},"no-results":function(e){return"Für den eingegebenen Suchbegriff wurde nichts gefunden."}},links:{metas:{title:function(e){return"Hörgeräteliste Eidgenössisches Institut für Metrologie METAS"},url:function(e){return"https://www.metas.ch/metas/de/home/dok/rechtliches/hoergeraetliste.html"}}},data:{roomtypes:{1:{title:function(e){return"Mehrzweckraum"},"title-hyphens":function(e){return"Mehrzweck&shy;raum"}},2:{title:function(e){return"Unterrichtsraum"},"title-hyphens":function(e){return"Unterrichts&shy;raum"}},3:{title:function(e){return"Kultusraum"},"title-hyphens":function(e){return"Kultus&shy;raum"}},4:{title:function(e){return"Kulturraum"},"title-hyphens":function(e){return"Kultur&shy;raum"}},5:{title:function(e){return"Amtsraum"},"title-hyphens":function(e){return"Amts&shy;raum"}},6:{title:function(e){return"Kundenschalter"},"title-hyphens":function(e){return"Kunden&shy;schalter"}},7:{title:function(e){return"Allgemeinraum"},"title-hyphens":function(e){return"Allgemein&shy;raum"}},8:{title:function(e){return"Kino"},"title-hyphens":function(e){return"Kino"}},9:{title:function(e){return"Theater"},"title-hyphens":function(e){return"Theater"}}},technologies:{1:{title:function(e){return"Induktion"},description:function(e){return"T-Modus ist das häufigste Piktogramm. Induktiver Empfang des Direkttons über die Hörgeräte, welche über eine Programmtaste am Hörgerät in den T-Modus umgestellt wurden."}},2:{title:function(e){return"Infrarot"},description:function(e){return"In seltenen Fällen wird der Direktton über Infrarotlicht an ein kleines tragbares Gerät mit einer induktiven Halsschleife übertragen. Dieser Empfänger ist bei der Rezeption oder an der Kasse erhältlich."}},3:{title:function(e){return"Funk"},description:function(e){return"Hier ist für einen induktiven Empfang ein kleines tragbares Gerät bei der Rezeption oder an der Kasse erhältlich. Eine induktive Halsschleife ist am kleinen Gerät angeschlossen."}}},ratings:{1:{title:function(e){return"Grüne Raute"},description:function(e){return"Geprüfte Höranlage mit normgerechtem Empfang."},"description-short":function(e){return"Geprüfte Höranlage gemäss Norm"}},2:{title:function(e){return"Gelbe Raute"},description:function(e){return"Geprüfte Höranlage, die die Voraussetzungen für einen normgerechten Empfang knapp nicht erfüllt."},"description-short":function(e){return"Geprüfte Höranlage nicht nach Norm"}},3:{title:function(e){return"Weisse Raute"},description:function(e){return"Nicht überprüfte Höranlage, keine Bewertung."},"description-short":function(e){return"Nicht überprüfte Höranlage"}}}},pages:{help:{quickstart:{title:function(e){return"Quickstart"},content:function(e){return"<p>Wo finden Sie Höranlagen? Tippen Sie hier im www.hoeranlagen.ch <b>Suchbegriffe</b> wie z. B. «Kino», «Theater», «Kirche», «Mehrzweckraum» usw. ein. Sie können die Suche mit weiteren Suchbegriffen <b>einschränken</b>, zum Beispiel: «Universität Bern», «Kino Kosmos» oder «Kirche Stansstad». Die Suchfunktion prüft alle Postadressen, Raum- und Gebäudebezeichnungen.</p>\n<p>Klicken Sie auf einen <b>Marker</b> und es erscheint ein Info-Fenster mit der Postadresse und mit Angaben zur Höranlage. Sofern vorhanden, informieren Raumpläne über einen grünen Raumbereich für einen optimalen Empfang. Klicken Sie auf die Bilder für eine Vergrösserung.</p>"}},reception:{title:function(e){return"Informationen zu Hörhilfen"},content:function(e){return"<p>Wussten Sie schon? Die meisten Hörhilfen können <b>drahtlos</b> ein Tonsignal im Kino, Theater, in Kirchen, Hochschulen, u.s.w. empfangen. Sie hören in klarer Lautstärke und <b>ohne Nachhall und Nebengeräusche</b>. Dies ermöglicht selbst in grossen Versammlungsräumen ein angenehmes Sprachverstehen. An über 2000 Standorten in der Schweiz stehen Höranlagen zur Verfügung.</p>\n<p>Es ist ganz einfach. Sie brauchen Ihre Hörhilfen nur in den <b>T-Modus</b> einzustellen. Dies geschieht über eine Programmtaste oder mit der Fernbedienung Ihrer Hörgeräte. Wenn Sie diese Funktion noch nicht kennen, fragen Sie Ihren <b>Akustiker</b> nach dem T-Modus oder nach dem induktiven Empfang.</p>\n<p>Zu den <b>Hörhilfen</b> gehören alle Gehäuseformen, die vom kleinen Im-Ohr-Gerät über Hinter-dem-Ohr-Gerät bis hin zu spezialisierten Hörhilfen wie Cochlea Implantaten reichen.</p>\n<p>Hat auch Ihr Hörgerät eine Telefonspule? Auf folgender Webseite können Sie die <b>Hörgeräteliste</b> einsehen und feststellen, ob Ihr Hörgerät eine Telefonspule besitzt:</p>"}},symbols:{title:function(e){return"Informationen zu Höranlagen"}},video:{title:function(e){return"Video: Wie funktioniert eine Höranlage?"}}},"add-system":{title:function(e){return"Neue Höranlage melden"},"mark-position":function(e){return"Position auf der Karte markieren"},search:{placeholder:function(e){return"Suchen oder auf die Karte tippen..."},"no-results":{title:function(e){return"Nichts gefunden."},message:function(e){return"Für die gewählte Position konnte keine Adresse gefunden werden."}}},submit:{success:{title:function(e){return"Vielen Dank"},message:function(e){return"Ihre Daten wurden gesendet und werden überprüft."}},error:{title:function(e){return"Fehler"}}}},sponsors:{title:function(e){return"Sponsoren"},intro:function(e){return"Wir danken folgenden Sponsoren für die finanzielle Unterstützung:"}},"legal-notice":{title:function(e){return"Impressum"},responsability:function(e){return"Verantwortlich für den Inhalt dieser App ist:"},warrenty:{title:function(e){return"Keine Garantie"},content:function(e){return"Die Inhalte dieser App stellen ein unverbindliches Informationsangebot dar. Die IGGH gewährleistet weder deren Aktualität, Richtigkeit, Zuverlässigkeit, Vollständigkeit noch deren Qualität. Die Nutzung erfolgt auf eigenes Risiko der Besucherin oder des Besuchers. Die IGGH haftet auf keinen Fall für Schäden oder Folgeschäden materieller oder ideeller Art, die sich aus der Nutzung oder Nichtnutzung der angebotenen Informationen, aus der missbräuchlichen Verwendung oder als Folge von technischen Störungen ergeben. Die IGGH behält sich die Veränderung oder Löschung von Informationen jederzeit und ohne vorherige Ankündigung vor."}},liability:{title:function(e){return"Haftungsbeschränkung"},content:function(e){return"Die IGGH haftet für keinen direkten oder indirekten Schaden, der durch den Zugriff oder die Nutzung dieser App oder der darin veröffentlichten Informationen entstand."}},links:{title:function(e){return"Verknüpfte Internetseiten"},content:function(e){return"Die IGGH überprüft keine der mit den IGGH-Internetseiten verknüpften Seiten und übernimmt keine Haftung für deren Inhalt und für allfällige angebotene Leistungen. Der Besuch solcher Seiten erfolgt auf eigenes Risiko der Nutzerin / des Nutzers."}},privacy:{title:function(e){return"Datenschutz"},content:function(e){return"<p>Die IGGH behandelt die ihr überlassenen persönlichen Daten streng vertraulich und schützt die Interessen der Nutzerinnen und Nutzer. Persönliche Daten werden weder an Dritte verkauft noch weitergegeben. Die IGGH bemüht sich in angemessener Weise, die Datenbanken vor fremden Zugriffen, Verlusten und Missbrauch oder vor Fälschung zu schützen. Die IGGH kann dafür aber keine Garantie übernehmen.</p>\n<p>Die Internetseite der IGGH ist grundsätzlich ohne Angaben von Personalien zugänglich. In enger Zusammenarbeit mit den Hosting-Partnern bemühen wir uns, die Datenbanken mit allen Mitteln vor fremden Zugriffen, Verlusten, Missbrauch oder vor Fälschung zu schützen. Beim Besuch registrieren die Webserver des Hosting-Providers der IGGH unpersönliche Nutzungsdaten. Die Logfiles geben Auskunft über die Anzahl Zugriffe auf die Homepage der IGGH. Die Nutzungsdaten werden nicht mit persönlichen Daten verknüpft.</p>\n<p>Eine Ausnahme bildet die freiwillige Kontaktaufnahme mit uns. Alle Dateien, die Sie uns übermitteln, werden streng vertraulich behandelt. Wir erfassen und speichern sie nur soweit, wie es Ihre Anmeldung und Anfrage erfordert. Der Zugang zu dieser App und die Übertragung von E-Mails an uns sind unverschlüsselt. Es ist theoretisch möglich, dass Dateien unvollständig oder von Dritten eingesehen werden könnten. Aus diesem Grund bitten wir Sie, uns keine vertraulichen Daten per E-Mail zu übermitteln. Anfragen, welche wir per E-Mail erhalten, beantworten wir üblicherweise auch per E-Mail. Sollten Sie dies nicht wünschen, bitten wir Sie, dies in Ihrer Anfrage anzumerken.</p>"}},copyright:{title:function(e){return"Copyright"},content:function(e){return"Für sämtliche Inhalte dieser App (Bilder, Grafiken, Texte, Video usw.) hat die IGGH das Urheberrecht (alle Rechte vorbehalten). Durch das Herunterladen oder Kopieren von Inhalten, Bildern, Fotos und anderen Dateien werden keinerlei Rechte bezüglich der Inhalte übertragen. Für die Reproduktion und Weitergabe jeglicher Elemente ist die schriftliche Zustimmung der IGGH im Voraus einzuholen."}}}}}}),e.file("locales/en.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={image:function(e){return"Picture"},"map-type":function(e){return"Map type"},default:function(e){return"Default"},satellite:function(e){return"Satellite"},address:function(e){return"Address"},technologies:function(e){return"Technologies"},ratings:function(e){return"Evaluations"},"hearing-assistance-system":function(e){return"Hearing assistance system"},"room-plans":function(e){return"Room plans"},"no-room-plans":function(e){return"No room plans available"},website:function(e){return"Website"},photo:function(e){return"Photo"},delete:function(e){return"Delete"},annotation:function(e){return"Notes"},"your-contact-info":function(e){return"Your contact details"},"full-name":function(e){return"Full name"},"email-address":function(e){return"E-mail address"},error:{geolocation:{title:function(e){return"Location failed"},message:function(e){return"Is tracking enabled and does the app have permission to access it?"}}},search:{placeholder:function(e){return"Search for hearing assistance system..."},"no-results":function(e){return"Nothing was found for the entered search term."}},links:{metas:{title:function(e){return"List of hearing aids by Federal Institute of Metrology METAS"},url:function(e){return"https://www.metas.ch/metas/en/home/dok/rechtliches/hoergeraetliste.html"}}},data:{roomtypes:{1:{title:function(e){return"Multi-purpose room"},"title-hyphens":function(e){return"Multi-purpose room"}},2:{title:function(e){return"Classroom"},"title-hyphens":function(e){return"Classroom"}},3:{title:function(e){return"Place of worship"},"title-hyphens":function(e){return"Place of worship"}},4:{title:function(e){return"Cultural meeting place"},"title-hyphens":function(e){return"Cultural meeting place"}},5:{title:function(e){return"Office"},"title-hyphens":function(e){return"Office"}},6:{title:function(e){return"Customer counter"},"title-hyphens":function(e){return"Customer counter"}},7:{title:function(e){return"Room for general use"},"title-hyphens":function(e){return"Room for general use"}},8:{title:function(e){return"Cinema"},"title-hyphens":function(e){return"Cinema"}},9:{title:function(e){return"Theatre"},"title-hyphens":function(e){return"Theatre"}}},technologies:{1:{title:function(e){return"Induction"},description:function(e){return"T-mode is the most common icon. Inductive reception of sound directly via hearing aids which have been switched to T-mode by pressing a button on the device."}},2:{title:function(e){return"Infrared"},description:function(e){return"In rare cases, the direct sound is transmitted via infrared light to a small portable device with an inductive neck loop. This receiver is available at the reception or in the checkout area."}},3:{title:function(e){return"FM"},description:function(e){return"This requires a small portable device that can be requested at the reception or in the checkout area. An inductive neck loop is attached to the small device."}}},ratings:{1:{title:function(e){return"Green diamond"},description:function(e){return"Tested hearing system with standard reception."},"description-short":function(e){return"Tested, standard-compliant"}},2:{title:function(e){return"Yellow diamond"},description:function(e){return"Tested hearing system which does not quite meet the standard."},"description-short":function(e){return"Tested, not quite standard-compliant"}},3:{title:function(e){return"White diamond"},description:function(e){return"Untested hearing system, not rated."},"description-short":function(e){return"Untested"}}}},pages:{help:{quickstart:{title:function(e){return"Quickstart"},content:function(e){return"<p>Enter <b>keywords</b> like «cinema», «theatre», «kirche», etc. to perform a search on www.hearingloop.ch. You can <b>restrict</b> the search results by entering additional keywords, such as «Universität Zürich», «Cosmos Cinema» or «Kirche Basel». The search function checks all postal addresses, room, and building names.</p>\n<p>Click on a <b>marker</b> to see an info window with the postal address and information about the hearing assistance system. If available, room plans are marked in green to indicate where reception is best. Click on the pictures to enlarge them.</p>"}},reception:{title:function(e){return"Information about Hearing Aids"},content:function(e){return"<p>Did you know? Most hearing aids can receive signals <b>wirelessly</b> in cinemas, theatre, churches, lecture halls, etc. You will hear <b>clearly at full volume without reverberation or background noise</b>. This makes it possible to understand any conversation, even in large meeting rooms full of people. Hearing assistance systems are provided at more than 2,000 locations in Switzerland.</p>\n<p>It‘s really quite simple. You only need to switch your hearing aid to <b>T-mode</b>. This is done with the push of a button on your hearing aid or its remote control. If you don‘t know where to find this button, just ask your <b>hearing aid technician</b> how to set up T-mode or inductive reception.</p>\n<p><b>Hearing aids</b> come in all shapes and sizes, ranging from small in-ear devices to behind-the-ear devices to specialised hearing aids such as cochlear implants.</p>\n<p>Does your hearing aid also have a telecoil? On the following website, you can see a <b>list of hearing aids</b> with telecoil.</p>"}},symbols:{title:function(e){return"Information about Hearing Assistance Systems"}},video:{title:function(e){return"Video: How does a Hearing Loop work?"}}},"add-system":{title:function(e){return"Report a new hearing assistance system"},"mark-position":function(e){return"Mark position on the map"},search:{placeholder:function(e){return"Search or tap on the map..."},"no-results":{title:function(e){return"Nothing found."},message:function(e){return"No address could be found for the selected position."}}},submit:{success:{title:function(e){return"Many thanks"},message:function(e){return"The data has been sent and will be checked."}},error:{title:function(e){return"Error"}}}},sponsors:{title:function(e){return"Sponsors"},intro:function(e){return"We thank the following sponsors for the financial support:"}},"legal-notice":{title:function(e){return"Legal notice"},responsability:function(e){return"This website is operated by:"},warrenty:{title:function(e){return"No warrenty"},content:function(e){return"This website is a non-binding source of information only. IGGH does not make any claim that the information presented here is up-to-date, correct, reliable, accurate, or complete. The use of this information is solely at your own risk. IGGH accepts no liability for damages or consequential damages of any kind that may or may not result from the use, non-use, or misuse of the information offered herein or as a result of technical disturbances. IGGH reserves the right to change or delete the information at any time without prior notice."}},liability:{title:function(e){return"Limitation of liability"},content:function(e){return"IGGH is not responsible for any direct or indirect damage caused by access or use of this website or the information published herein."}},links:{title:function(e){return"Links"},content:function(e){return"IGGH does not check any websites linked herein and does not accept any liability for their content or any services they might offer. Any visit to such sites is at your own risk."}},privacy:{title:function(e){return"Data protection"},content:function(e){return"<p>IGGH treats the personal data it receives as strictly confidential and protects the same in the interests of its users. Personal data will neither be sold nor disclosed to third parties. IGGH makes every effort to protect its databases against third-party access, loss, misuse, or counterfeiting, although IGGH makes no claim to guarantee this.</p>\n<p>The IGGH website may be accessed without providing any personal data. In close cooperation with our hosting providers, we make every effort to protect the databases from outside access, data loss, misuse or falsification. During your visit to the site, the web servers of IGGH's hosting provider will log anonymous usage data. These log files provide information concerning the number of hits received by the IGGH homepage. The usage data are not linked to personal data.</p>\n<p>An exception is if you make voluntary contact with us. All data you submit to us will be kept strictly confidential. We collect and store said data only to the extent required to process your registration and enquiry. This website is accessed and emails are transmitted unencrypted. It is theoretically possible that data could be accessed in whole or in part by third parties. For this reason, we recommend that you not provide us with confidential data by email. Enquiries we receive by email are usually also answered by email. If you would prefer another form of response, please indicate this in your enquiry.</p>"}},copyright:{title:function(e){return"Copyright, trademark, and other intellectual property rights"},content:function(e){return"All content of this website (images, graphics, texts, video, etc.) belongs to and is copyright IGGH or third parties who have made the material available to us. All rights reserved. No rights are transferred to you if you download or copy content, images, photos and other files. Written consent of IGGH must be obtained in advance before any element is reproduced."}}}}}}),e.file("locales/fr.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={image:function(e){return"Image"},"map-type":function(e){return"Type de carte"},default:function(e){return"Par défault"},satellite:function(e){return"Satellite"},address:function(e){return"Adresse"},technologies:function(e){return"Technologies"},ratings:function(e){return"Évaluations"},"hearing-assistance-system":function(e){return"Système d'écoute"},"room-plans":function(e){return"Plans d'aménagement"},"no-room-plans":function(e){return"Aucun plan d'aménagement n'est disponible"},website:function(e){return"Site web"},photo:function(e){return"Photo"},delete:function(e){return"Supprimer"},annotation:function(e){return"Remarques"},"your-contact-info":function(e){return"Vos coordonnées"},"full-name":function(e){return"Nom complet"},"email-address":function(e){return"Adresse e-mail"},error:{geolocation:{title:function(e){return"Localisation échouée"},message:function(e){return"La localisation est-elle activée et l'application a la permission d'y accéder?"}}},search:{placeholder:function(e){return"Rechercher un système d'écoute..."},"no-results":function(e){return"Rien n'a été trouvé pour le terme de recherche entré."}},links:{metas:{title:function(e){return"Liste des aides auditives de l'Institut fédéral de métrologie METAS"},url:function(e){return"https://www.metas.ch/metas/fr/home/dok/rechtliches/hoergeraetliste.html"}}},data:{roomtypes:{1:{title:function(e){return"Salle polyvalente"},"title-hyphens":function(e){return"Salle polyvalente"}},2:{title:function(e){return"Salle de classe"},"title-hyphens":function(e){return"Salle de classe"}},3:{title:function(e){return"Lieu de culte"},"title-hyphens":function(e){return"Lieu de culte"}},4:{title:function(e){return"Chambre de culture"},"title-hyphens":function(e){return"Chambre de culture"}},5:{title:function(e){return"Bureaux administratifs"},"title-hyphens":function(e){return"Bureaux administratifs"}},6:{title:function(e){return"Guichet"},"title-hyphens":function(e){return"Guichet"}},7:{title:function(e){return"Salle commune"},"title-hyphens":function(e){return"Salle commune"}},8:{title:function(e){return"Cinéma"},"title-hyphens":function(e){return"Cinéma"}},9:{title:function(e){return"Théâtre"},"title-hyphens":function(e){return"Théâtre"}}},technologies:{1:{title:function(e){return"Induction"},description:function(e){return"Le mode T est le pictogramme le plus courant. Réception inductive de la tonalité directe via les aides auditives qui ont été commutées en mode T sur l'appareil auditif via une touche de programme."}},2:{title:function(e){return"Infrarouge"},description:function(e){return"Dans de rares cas, la tonalité directe est transmise par infrarouge à un petit appareil portatif, équipé d'un collier inductif. Ce récepteur est disponible à la réception ou à la caisse."}},3:{title:function(e){return"FM"},description:function(e){return"Pour la réception inductive, un petit appareil portatif est disponible à la réception ou à la caisse. Un collier inductif est connecté au petit appareil."}}},ratings:{1:{title:function(e){return"Losange vert"},description:function(e){return"Appareil auditif testé avec réception standardisée."},"description-short":{}},2:{title:function(e){return"Losange jaune"},description:function(e){return"Appareil auditif testé ne répondant pas aux exigences d'une réception standardisée."},"description-short":{}},3:{title:function(e){return"Losange blanc"},description:function(e){return"Appareil auditif non contrôlé, aucune évaluation."},"description-short":{}}}},pages:{help:{quickstart:{title:function(e){return"Démarrage rapide"},content:function(e){return"<p>Où trouver des appareils auditifs? Sur www.höranlagen.ch, entrez des <b>mots-clés</b> comme «cinéma», «théâtre», «église», par exemple. Vous pouvez <b>limiter</b> votre recherche avec d'autres mots-clés, par exemple: «université Lausanne», «cinéma Rex» ou «église Genève». La fonction de recherche vérifie toutes les adresses postales, les désignations de locaux et d'immeubles.</p>\n<p>Cliquez sur un <b>marqueur</b> et une fenêtre d‘informations avec l‘adresse postale et des données sur le système d‘écoute apparaissent. Le cas échéant, les plans fournissent des informations sur une zone verte pour une réception optimale. Cliquez sur les photos pour les agrandir.</p>"}},reception:{title:function(e){return"Informations sur les appareils auditifs"},content:function(e){return"<p>La plupart des aides auditives peuvent recevoir un signal sonore <b>sans fil</b> dans les cinémas, les théâtres, les églises, les universités, etc. Vous entendrez <b>clairement sans écho, ni bruit de fond</b>. Cela permet de comprendre facilement ce qui se dit, même dans les grandes salles de réunion. Vous trouvez des appareils auditifs dans plus de 2 000 endroits en Suisse.</p>\n<p>C‘est très simple. Il suffit de régler vos appareils auditifs sur la  <b>position T ou boucle magnétique</b> qui se trouve sur vos appareils ou via la télécommande. En cas de doute, renseignez-vous auprès de votre <b>audioprothésiste</b> sur la réception par induction.</p>\n<p>Les <b>appareils auditifs</b> comprenant les intra-auriculaire, contours d‘oreilles et implants cochléaires peuvent avoir la position T.</p>\n<p>Votre aide auditive a-t-elle également une bobine téléphonique? Sur le site Web suivant, vous pouvez consulter la liste des appareils auditifs et déterminer si votre aide auditive possède une bobine téléphonique:</p>"}},symbols:{title:function(e){return"Informations sur les systèmes d'écoute"}},video:{title:function(e){return"Vidéo: Comment fonctionne un système d'écoute?"}}},"add-system":{title:function(e){return"Signaler un nouveau système d'écoute"},"mark-position":function(e){return"Marquer la position sur la carte"},search:{placeholder:function(e){return"Recherchez ou tapez sur la carte....."},"no-results":{title:function(e){return"Aucun résultat."},message:function(e){return"Aucune adresse n'a pu être trouvée pour la position sélectionnée."}}},submit:{success:{title:function(e){return"Merci beaucoup."},message:function(e){return"Les données ont été envoyées et vérifiées."}},error:{title:function(e){return"Erreur"}}}},sponsors:{title:function(e){return"Sponsors"},intro:function(e){return"Nous tenons à remercier les sponsors suivant pour leur soutien financier:"}},"legal-notice":{title:function(e){return"Mentions légales"},responsability:function(e){return"Le gestionnaire de cette page d'accueil est:"},warrenty:{title:function(e){return"Clause de non-responsabilité"},content:function(e){return"Les contenus de ce site web constituent une offre d'informations non contraignante. L'IGGH n'en garantit ni l'actualité, la justesse, la fiabilité, l'exhaustivité, ni la qualité. Leur utilisation se fait au propre risque de l'utilisatrice ou de l'utilisateur. L'IGGH n'est en rien responsable en cas de dégâts ou dégâts consécutifs matériels ou immatériels qui résulteraient de l'utilisation ou de la non utilisation des informations proposées, d'une utilisation abusive ou comme suite de défauts techniques. L'IGGH se réserve le droit d'effectuer des modifications ou des suppression à tout moment, et ce, sans avis préalable."}},liability:{title:function(e){return"Limitation de responsabilité"},content:function(e){return"L'IGGH n'est pas responsable des dégâts directs ou indirects qui résulteraient de l'accès à ou de l'utilisation de ce site web ou des informations qui y sont publiées."}},links:{title:function(e){return"Liens vers des pages internet"},content:function(e){return"L'IGGH ne contrôle aucunes des pages en lien avec ce site web et ne prend aucune responsabilité pour leur contenu et pour les éventuels services proposés. La visite de telles pages se fait au risque propre de l'utilisatrice / de l'utilisateur."}},privacy:{title:function(e){return"Protection des données"},content:function(e){return"<p>L'IGGH traite les données personnelles transmises de manière strictement confidentielle et protège les intérêts des utilisatrices et des utilisateurs. Les données personnelles ne sont ni vendues à des tiers, ni diffusées. L'IGGH s'efforce de manière appropriée de protéger les bases de données contre les accès étrangers, les pertes et les abus ou les falsifications. L'IGGH ne peut néanmoins donner aucune garantie par rapport à cela.</p>\n<p>La page internet de l'IGGH est en principe accessible sans mentions de données personnelles. En collaboration étroite avec les partenaires d'hébergement, nous nous efforçons de protéger par tous les moyens les bases de données contre les accès étrangers, les pertes, les abus ou les falsifications. Lors des visites, le serveur web du fournisseur d'hébergement de l'IGGH enregistre les données d'utilisation de maniére non-personnelle. Les fichiers de journal donnent des informations sur le nombre d'accès à la page d'accueil de l'IGGH. Les données d'utilisation ne sont pas liées à des données personnelles.</p>\n<p>La prise de contact volontaire avec nous constitue une exception. Toutes les données que vous nous transmettez sont traitées de manière strictement confidentielle. Nous les recueillons et les enregistrons seulement dans la mesure où cela est nécessaire pour votre inscription et votre requête. L'accès à ce site web et le transfert de courriers électroniques qui nous sont adressés ne sont pas cryptés. Il est théoriquement possible que les données soient incomplètes ou consultées par des tiers. Pour cette raison, nous vous prions de ne pas nous transmettre de données condifentielles par courrier électronique. Nous répondons habituellement aux requêtes que nous recevons par courrier électronique également par courrier électronique. Au cas où vous ne deviez pas souhaitez cela, nous vous prions de le faire remarquer dans votre requête.</p>"}},copyright:{title:function(e){return"Droit d'auteur, droit des marques, copyright et autres droits de protection"},content:function(e){return"Pour l'ensemble des contenus de site web (images, graphismes, textes, vidéo, etc.), l'IGGH ou des tiers qui mettent ce matériel à notre disposition sont propriétaires du droit d'auteur (tous droits réservés). Lors du téléchargement ou de la copie des contenus, des images, des photos et d'autres données, aucuns droits ne sont transférés en ce qui concerne leurs contenus. Pour la reproduction et la transmission de quelques éléments que ce soit, le consentement écrit préalable de l'IGGH doit être obtenu."}}}}}}),e.file("locales/it.js",function(e,t,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={image:function(e){return"Immagine"},"map-type":function(e){return"Tipo di mappa"},default:function(e){return"Predefinita"},satellite:function(e){return"Satellite"},address:function(e){return"Indirizzo"},technologies:function(e){return"Tecnologie"},ratings:function(e){return"Valutazioni"},"hearing-assistance-system":function(e){return"Sistema di ascolto"},"room-plans":function(e){return"Planimetrie"},"no-room-plans":function(e){return"Nessuna planimetria disponibile"},website:function(e){return"Sito web"},photo:function(e){return"Foto"},delete:function(e){return"Cancella"},annotation:function(e){return"Osservazioni"},"your-contact-info":function(e){return"I tuoi dati di contatto"},"full-name":function(e){return"Nome e cognome completi"},"email-address":function(e){return"Indirizzo e-mail"},error:{geolocation:{title:function(e){return"Localizzazione non riuscita"},message:function(e){return"La localizzazione è abilitata e l'app ha il permesso di accedervi?"}}},search:{placeholder:function(e){return"Cerca un sistema di ascolto..."},"no-results":function(e){return"Non è stato trovato nulla per il termine di ricerca inserito."}},links:{metas:{title:function(e){return"Elenco degli apparecchi acustici Istituto federale di metrologia METAS"},url:function(e){return"https://www.metas.ch/metas/it/home/dok/rechtliches/hoergeraetliste.html"}}},data:{roomtypes:{1:{title:function(e){return"Sala polivalente"},"title-hyphens":function(e){return"Sala polivalente"}},2:{title:function(e){return"Aula didattica"},"title-hyphens":function(e){return"Aula didattica"}},3:{title:function(e){return"Spazio di culto"},"title-hyphens":function(e){return"Spazio di culto"}},4:{title:function(e){return"Spazio culturale"},"title-hyphens":function(e){return"Spazio culturale"}},5:{title:function(e){return"Ufficio amministrativo"},"title-hyphens":function(e){return"Ufficio amministrativo"}},6:{title:function(e){return"Sportello clienti"},"title-hyphens":function(e){return"Sportello clienti"}},7:{title:function(e){return"Spazio comune"},"title-hyphens":function(e){return"Spazio comune"}},8:{title:function(e){return"Cinema"},"title-hyphens":function(e){return"Cinema"}},9:{title:function(e){return"Teatro"},"title-hyphens":function(e){return"Teatro"}}},technologies:{1:{title:function(e){return"Induzione"},description:function(e){return"La modalità T è il pittogramma più comune. Ricezione induttiva del tono diretto tramite apparecchi acustici, commutati in modalità T mediante un pulsante di programma presente sull'apparecchio acustico."}},2:{title:function(e){return"Infrarossi"},description:function(e){return"Raramente, il tono diretto viene trasmesso tramite infrarossi a un piccolo dispositivo portatile con collare induttivo. Questo ricevitore è disponibile alla reception o alla cassa."}},3:{title:function(e){return"FM"},description:function(e){return"Per la ricezione induttiva è disponibile un piccolo dispositivo portatile presso la reception o alla cassa. Al dispositivo piccolo è collegato un collare."}}},ratings:{1:{title:function(e){return"Rombo verde"},description:function(e){return"Sistema di ascolto testato con ricezione a norma."},"description-short":{}},2:{title:function(e){return"Rombo giallo"},description:function(e){return"Sistema di ascolto testato che non ha i requisiti per una ricezione a norma."},"description-short":{}},3:{title:function(e){return"Rombo bianco"},description:function(e){return"Sistema di ascolto non testato, nessuna valutazione."},"description-short":{}}}},pages:{help:{quickstart:{title:function(e){return"Quickstart"},content:function(e){return"<p>Dove si possono trovare gli sistemi di ascolto? Sul sito web www.sistemadiascolto.ch cliccare su <b>parole chiave</b> come ad es. «sportello», «théatre Vevey», «Lugano», ecc. È possibile <b>circoscriverela</b> ricerca con parole chiave aggiuntive, ad esempio: «stazione Bellinzona», «cinema Rex» o «sportello credit suisse». La funzione di ricerca verifica tutti gli indirizzi postali, le descrizioni di locali e di edifici.</p>\n<p>Cliccando su un <b>marcatore</b> compare una finestra di informazione con l‘indirizzo postale e le informazioni sui sistemi di ascolto. Se disponibili, le planimetrie danno informazioni sull‘area di ricezione ottimale evidenziandola in verde. Cliccare sulle immagini per ingrandirle.</p>"}},reception:{title:function(e){return"Informazione sugli apparecchi acustici"},content:function(e){return"<p>La maggior parte degli apparecchi acustici può ricevere <b>wireless</b> un segnale sonoro nelle sale cinematografiche, nei teatri, nelle chiese, nelle università, ecc. Si sente a un <b>volume chiaro e senza eco nè rumori di fondo</b>. Il segnale vocale è ben comprensibile anche in sale riunioni di grandi dimensioni. Gli Impianti audio sono disponibili in oltre 2000 sedi in Svizzera.</p>\n<p>È molto semplice. È sufficiente impostare i vostri apparecchi acustici in <b>modalità T</b>, tramite un pulsante di programma o il telecomando dei vostri apparecchi acustici. Se non avete ancora familiarità con questa funzione, chiedete informazioni sulla modalità T o sulla ricezione induttiva al vostro specialista.</p>\n<p>Gli <b>apparecchi acustici</b> sono di vario tipo e forma, dai piccoli apparecchi endoauricolari a quelli retroauricolari e gli apparecchi acustici speciali come gli impianti cocleari.</p>\n<p>Anche il vostro apparecchio acustico ha una bobina telefonica? Sul seguente sito web è possibile visualizzare <b>il elenco degli apparecchi acustici</b> e capire se il vostro apparecchio dispone di una bobina telefonica.</p>"}},symbols:{title:function(e){return"Informazioni sugli sistemi di ascolto"}},video:{title:function(e){return"Video: come funziona un sistema di ascolto?"}}},"add-system":{title:function(e){return"Segnala un nuovo sistema di ascolto"},"mark-position":function(e){return"Segna la posizione sulla mappa"},search:{placeholder:function(e){return"Cerca o tocca sulla mappa..."},"no-results":{title:function(e){return"Non è stato trovato nulla."},message:function(e){return"Per la posizione selezionata non è stato possibile trovare nessun indirizzo."}}},submit:{success:{title:function(e){return"Grazie mille"},message:function(e){return"I dati sono stati inviati e vengono verificati."}},error:{title:function(e){return"Errore"}}}},sponsors:{title:function(e){return"Sponsor"},intro:function(e){return"Vorremmo ringraziare i seguenti sponsor per il loro sostegno finanziario:"}},"legal-notice":{title:function(e){return"Impressum"},responsability:function(e){return"Gestore della homepage:"},warrenty:{title:function(e){return"Nessuna garanzia"},content:function(e){return"I contenuti di questo sito web rappresentano un’offerta informativa non vincolante. La IGGH non ne garantisce l’aggiornamento, la correttezza, l‘affidabilità, la completezza né la relativa qualità. L’utilizzo è a rischio della visitatrice o del visitatore. La IGGH non risponde di danni o danni consequenziali di tipo materiale o ideale, derivanti dall’uso o dal mancato uso delle informazioni offerte, dall’utilizzo improprio o come conseguenza di anomalie tecniche. La IGGH si riserva di modificare o cancellare le informazioni in ogni momento senza preavviso."}},liability:{title:function(e){return"Limitazione della responsabilità"},content:function(e){return"La IGGH non risponde di danni diretti o indiretti derivanti dall’accesso o dall’utilizzo di questo sito web o delle informazioni in esso contenute."}},links:{title:function(e){return"Pagine internet collegate"},content:function(e){return"La IGGH non verifica le pagine collegate a questo sito web e non si assume alcune responsabilità per il loro contenuto e per gli eventuali servizi ivi offerti. La visita di dette pagine è a rischio degli utenti."}},privacy:{title:function(e){return"Privacy"},content:function(e){return"<p>La IGGH tratta i dati personali comunicati in modo strettamente riservato tutelando gli interessi degli utenti. I dati personali non verranno né venduti né inoltrati a terzi. La IGGH farà il possibile per tutelare le banche dati contro gli attacchi di terzi, le perdite, l’uso improprio o la falsificazione. La IGGH non può però assumersi alcuna garanzia al riguardo.</p>\n<p>La pagina internet della IGGH è accessibile senza indicare dati riservati. In stretta collaborazione con i partner Hosting facciamo il possibile per proteggere le banche dati con ogni mezzo contro attacchi di terzi, perdite, uso improprio o falsificazione. Al momento della visita i server web del provider hosting della IGGH registrano i dati non personali relativi all’utilizzo. I file log danno informazioni sul numero di accessi alla homepage della IGGH. I dati relativi all’utilizzo non sono collegati ai dati personali.</p>\n<p>Fa eccezione la presa di contatto volontaria con noi. Tutti i file che ci vengono trasmessi sono trattati con la massima riservatezza. Vengono acquisiti e memorizzati solo per la registrazione e per le vostre richieste. L’accesso a questo sito web e l’invio di e-mail al nostro indirizzo non sono codificati. Teoricamente è quindi possibile che i file vengano visti in modo incompleto o da terzi. Per questo motivo vi invitiamo a non trasmetterci dati riservati per posta elettronica. Solitamente rispondiamo via mail alle richieste pervenuteci nello stesso modo. Se non lo desiderate, vi chiediamo di indicarlo nella richiesta.</p>"}},copyright:{title:function(e){return"Diritto d’autore, diritto di marchio, copyright e altri diritti di tutela"},content:function(e){return"Per tutti i contenuti di questo sito web (immagini, grafici, testi, video, ecc.) la IGGH o terzi che ci hanno fornito il materiale, hanno il diritto d’autore (ogni diritto riservato). Scaricando o copiando contenuti, immagini, foto e altri file non si ottengono diritti riguardo a tali contenuti. La riproduzione e la trasmissione di qualsiasi elemento è consentita solo previo consenso scritto di IGGH."}}}}}}),e.file("main.js",function(e,t,n,i,o){var r=t("process");Object.defineProperty(e,"__esModule",{value:!0}),t("whatwg-fetch");var a=t("aurelia-pal"),s=t("./locales/de"),l=t("./locales/en"),c=t("./locales/fr"),u=t("./locales/it");e.configure=function(e){var t=function(e){for(var t=e.split("&"),n={},i=0;i<t.length;i++){var o=t[i].split("=");if(void 0===n[o[0]])n[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof n[o[0]]){var r=[n[o[0]],decodeURIComponent(o[1])];n[o[0]]=r}else n[o[0]].push(decodeURIComponent(o[1]))}return n}(location.search.substring(1));e.use.basicConfiguration().history().plugin(a.PLATFORM.moduleName("./plugins/aurelia-messageformat"),{language:t.lang||navigator.language||"en",languages:["en","de","fr","it"],catalogs:{de:s.default,en:l.default,fr:c.default,it:u.default},fallbackLanguage:"en"}).plugin("aurelia-onsenui").globalResources([a.PLATFORM.moduleName("./components/leaflet-layer-control"),a.PLATFORM.moduleName("./components/leaflet-map")]),"development"===r.env.NODE_ENV&&e.use.developmentLogging(),e.start().then(function(){return e.setRoot()})}}),e.file("pages/help/quickstart.html",function(e,t,n,i,o){n.exports='<template>\n  <ons-page class="page-text">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <div style="margin:10px 10px;" i18n="pages.help.quickstart.content"></div>\n  </ons-page>\n</template>\n'}),e.file("pages/help/quickstart.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../../services/config"),c=function(){function e(e){this.config=e}return e.prototype.activate=function(e,t){this.title=t.title,this.image={src:this.config.baseUrl+"/images/InduktiveAntenne.jpg",description:""}},e=r([s.inject(l.Config),a("design:paramtypes",[Object])],e)}();e.Quickstart=c}),e.file("pages/help/reception.html",function(e,t,n,i,o){n.exports='<template>\n  <ons-page class="page-text">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <div>\n      <img width="100%" src="${image.src}" alt="${image.description}">\n      <div style="text-align:right;font-size:0.75em;margin-right:10px;"><span i18n="image"></span>: Phonak AG</div>\n    </div>\n    <div style="margin:0 10px 10px;">\n      <div i18n="pages.help.reception.content"></div>\n      <p>\n        <a i18n="links.metas.title" i18n-attrs="href:links.metas.url" target="blank"></a>        \n      </p>\n  </ons-page>\n</template>\n'}),e.file("pages/help/reception.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../../services/config"),c=function(){function e(e){this.config=e}return e.prototype.activate=function(e,t){this.title=t.title,this.image={src:this.config.baseUrl+"/pictures/AudeoB_312T_Rend.jpg",description:""}},e=r([s.inject(l.Config),a("design:paramtypes",[Object])],e)}();e.Reception=c}),e.file("pages/help/symbols.html",function(e,t,n,i,o){n.exports='<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <ons-list>\n      <ons-list-header i18n="technologies"></ons-list-header>\n      <ons-list-item repeat.for="technology of technologies">\n        <span class="left" style="align-self:flex-start;">\n          <img src="${technology.imageUrl}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          <span class="list-item__title">${technology.title}</span>\n          <span class="list-item__subtitle">${technology.description}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n    <ons-list>\n      <ons-list-header i18n="ratings"></ons-list-header>\n      <ons-list-item repeat.for="rating of ratings">\n        <span class="left" style="align-self:flex-start;">\n          <img src="${rating.imageUrl}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          <span class="list-item__title">${rating.title}</span>\n          <span class="list-item__subtitle">${rating.description}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n'}),e.file("pages/help/symbols.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../../services/db"),c=t("../../services/config"),u=t("../../models/technology"),d=t("../../models/rating"),p=function(){function e(e,t){this.db=e,this.config=t}return e.prototype.activate=function(e,t){this.title=t.title,this.technologies=this.db.query(u.Technology).all(),this.ratings=this.db.query(d.Rating).all().sort(function(e,t){return e.id>t.id})},e=r([s.inject(l.Database,c.Config),a("design:paramtypes",[Object,Object])],e)}();e.Symbols=p}),e.file("pages/help/video.css",function(e,t,n,i,o){n.exports=".video-container {\n  position: relative;\n  width: 100%;\n  height: 0;\n  /* 16:9 */\n  padding-bottom: 56.25%;\n}\n.video-container iframe {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n"}),e.file("pages/help/video.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./video.css"></require>\n  <ons-page>\n   <ons-toolbar>\n    <div class="left">\n      <ons-back-button></ons-back-button>\n    </div>\n    <div class="center">\n      ${title}\n    </div>\n  </ons-toolbar>\n  <div class="video-container">\n    <iframe src.bind="url" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>\n  </div>\n  </ons-page>\n</template>\n'}),e.file("pages/help/video.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../../plugins/aurelia-messageformat"),c=function(){function e(e){this.i18n=e,this.locale=e.getLocale(),this.url="https://www.youtube.com/embed/pOHBhKu7pO8?hl="+this.locale+"&&cc_load_policy=1"}return e.prototype.activate=function(e,t){this.title=t.title},e=r([s.inject(l.I18N),a("design:paramtypes",[Object])],e)}();e.Video=c}),e.file("pages/home.css",function(e,t,n,i,o){n.exports=".leaflet-building-icon div {\n  background-color: #4E342E;\n  border-radius: 50%;\n  border: 1.5px solid #ffffff;\n  line-height: 25px;\n  font-size: 12px;\n  color: #ffffff;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n.leaflet-building-icon div span {\n  color: #fff;\n}\n.leaflet-building-icon .ion {\n  font-size: 17px;\n  line-height: 1em;\n  vertical-align: -2px;\n}\n.leaflet-building-icon .mki {\n  font-size: 20px;\n  line-height: 1em;\n}\n.leaflet-building-icon .mki.mki-chapel,\n.leaflet-building-icon .mki.mki-building {\n  vertical-align: -2px;\n  font-size: 22px;\n}\n.leaflet-building-icon .mki.mki-museum {\n  vertical-align: -1px;\n}\n.leaflet-building-icon .mki.mki-court_house {\n  vertical-align: -2px;\n}\n.leaflet-building-icon .mki.mki-theatre {\n  vertical-align: -3px;\n}\n\n.marker-cluster-small {\n  line-height: 22px;\n}\n.marker-cluster-medium {\n  line-height: 26px;\n}\n.marker-cluster-large {\n  line-height: 30px;\n}\n\n.marker-cluster {\n\tbackground-clip: padding-box;\n\tborder-radius: 100%;\n  font-size: 12px;\n  background-color: rgba(78, 56, 42, 0.6);\n  border: 5px solid rgba(78, 56, 42, 0.2);\n}\n.marker-cluster div {\n\ttext-align: center;\n\tborder-radius: 15px;\n  color: #fff;\n  line-height: inherit;\n}\n\n.leaflet-container .leaflet-google-mutant .gmnoprint {\n  display: none;\n}\n.leaflet-container .leaflet-google-mutant .gmnoprint.gm-style-cc {\n  display: inherit;\n}\n\n.leaflet-container .easy-button-container .easy-button-button {\n  padding: 0;\n}\n\n.category-item {\n  width: 33%;\n  text-align:center;\n}\n.category-item .category-label {\n  padding-top:5px;\n  font-size:13px;\n  max-width:100%;\n  -ms-hyphens: auto;\n  -webkit-hyphens: auto;\n  hyphens: auto;\n  color: #666;\n}\n\n.category-item .ons-icon {\n  font-size: 30px;\n}\n.category-item .ons-icon.mki {\n  font-size: 34px;\n}\n.category-item .ons-icon.mki.mki-chapel,\n.category-item .ons-icon.mki.mki-building {\n  font-size: 38px;\n  margin-top: 2px;\n}\n.category-item .ons-icon.mki.mki-museum,\n.category-item .ons-icon.mki.mki-court_house {\n  margin-top: 2px;\n}\n\n.category-item .ons-icon.mki.mki-theatre {\n  margin-top: 3px;\n}\n"}),e.file("pages/home.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./home.css"></require>\n  <ons-page>\n    <ons-toolbar modifier="" class="searchbar ${isSearching ? \'toolbar--transparent\' : \'\'}">\n      <div class="left">\n      </div>\n      <div class="center">\n        <ons-toolbar-button if.bind="!isSearching" click.delegate="showMenu()">\n          <ons-icon icon="ion-navicon, material:md-menu"></ons-icon>\n        </ons-toolbar-button>\n        <ons-toolbar-button if.bind="isSearching" click.delegate="cancelSearch()">\n          <ons-icon icon="ion-ios-arrow-back, material:md-arrow-left"></ons-icon>\n        </ons-toolbar-button>\n        <form style="flex:1;" submit.delegate="onSearch()" click.delegate="showSearch()">\n          <input ref="_searchinput" type="search" class="search-input" i18n i18n-attrs="placeholder:search.placeholder" value.bind="searchText" input.trigger="onSearchInput()" />\n        </form>\n        <ons-toolbar-button if.bind="searchText" click.delegate="clearSearch()">\n          <ons-icon icon="ion-ios-close-empty, material:md-close"></ons-icon>\n        </ons-toolbar-button>\n      </div>\n      <div class="right">\n      </div>\n    </ons-toolbar>\n    \x3c!-- search sheet overlay --\x3e\n    <div show.bind="isSearching" style="z-index:11000;background-color:#fff;position:absolute;top:0;right:0;left:0;bottom:0;" ref="_searchoverlay">\n      <div class="card" show.bind="!searchText">\n        <div style="display:flex;flex-wrap:wrap;align-items:flex-start;">\n          <div class="category-item" repeat.for="category of categories">\n            <div style="padding:10px 5px;" click.delegate="searchCategory(category)">\n              <ons-button css="width:48px;height:48px;border-radius:100%;line-height:48px;padding:0;background-color:${category.icon.color};">\n                <span class="category ons-icon ${category.icon.prefix} ${category.icon.prefix}-${category.icon.name}"></span>\n              </ons-button>\n              <div class="category-label" innerhtml.bind="category.nameHyphens"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style="padding:0 10px;" show.bind="searchText && searchResults.locations.length === 0 && searchResults.systems.length === 0">\n        <p i18n="search.no-results"></p>\n      </div>\n      <div class="card" style="padding:0;" show.bind="searchText">\n        <ons-list>\n          <ons-list-item repeat.for="location of searchResults.locations" tappable modifier="longdivider" click.delegate="onLocationResultClick(location)">\n            <div class="left"></div>\n            <div class="center">\n              <span class="list-item__title">${location.name}</span>\n            </div>\n          </ons-list-item>\n          <ons-list-item repeat.for="system of searchResults.systems" tappable modifier="longdivider" click.delegate="onResultClick(system)">\n            <div class="left"></div>\n            <div class="center">\n              <span class="list-item__title">${system.building.name || system.organisation.name}</span>\n              <span class="list-item__subtitle">\n                <span if.bind="system.building.name">${system.organisation.name}</span>\n                <br if.bind="system.building.name"/>\n                <span>${system.building.strasse_nr}, ${system.building.plz} ${system.building.ort}</span>\n              </span>\n            </div>\n          </ons-list-item>\n        </ons-list>\n      </div>\n    </div>\n    <div style="display:flex;flex-direction:column;height:100%;">\n      <div ref="_map" style="flex:1;width:100%;"></div>\n      <leaflet-layer-control map.bind="map"></leaflet-layer-control>\n      <div show.bind="selection" style="position:relative;max-height:60%;height:auto;z-index:10000;display:flex;">\n        <ons-button style="position:fixed;right:0;left:auto;margin-top:-16px;z-index:10000;" modifier="quiet">\n          <ons-icon icon="ion-record,material:md-circle" size="2x" style="color:#fff;"></ons-icon>\n        </ons-button>\n        <ons-button click.trigger="deselect()" style="position:fixed;right:0;left:auto;margin-top:-16px;z-index:10001;" modifier="quiet">\n          <ons-icon icon="ion-ios-close,material:md-close-circle" size="2x"></ons-icon>\n        </ons-button>\n        <ons-list style="flex:1;overflow-y:scroll;" ref="_selectionList">\n          <template if.bind="selection.systems.length === 1">\n            <ons-list-header if.bind="selection.name && selection.name !== selection.systems[0].name">\n              <span>${selection.name}</span>\n            </ons-list-header>\n            <ons-list-item repeat.for="system of selection.systems" tappable click.trigger="showInfo(system)" style="margin-bottom:0px;">\n              <span class="list-item__title">\n                <span>${system.name}</span>\n              </span>\n              <span class="list-item__subtitle" if.bind="system.organisation.name">\n                <span>${system.organisation.name}</span>\n              </span>\n            </ons-list-item>\n          </template>\n          <template if.bind="selection.systems.length > 1">\n            <ons-list-header if.bind="selection.name">\n              <span>${selection.name}</span>\n            </ons-list-header>\n              <ons-list-item repeat.for="system of selection.systems" tappable click.trigger="showInfo(system)" style="margin-bottom:0px;">\n                <span class="list-item__title">\n                  <span>${system.name}</span>\n                </span>\n                <span class="list-item__subtitle" if.bind="system.organisation.name">\n                  <span>${system.organisation.name}</span>\n                </span>\n              </ons-list-item>\n          </template>\n        </ons-list>\n      </div>\n    </div>\n  </ons-page>\n</template>\n'}),e.file("pages/home.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=t("resize-observer-polyfill"),c=t("onsenui"),u=t("aurelia-router"),d=t("aurelia-framework"),p=t("../services/config"),f=t("../services/db"),h=t("../services/state"),m=t("../services/search"),g=t("../services/storage"),b=t("../models/building"),y=t("../models/room-type"),v=t("../models/system"),w=t("../plugins/aurelia-messageformat"),k=function(){function e(e,t,n,i,o,r){this.isSearching=!1,this.router=e,this.db=t,this.storage=n,this.search=i,this.config=o,this.state=r,this.baseLayers=new Map;try{for(var a=s(this.config.basemaps),l=a.next();!l.done;l=a.next()){var u=l.value;"google"===u.type&&this.baseLayers.set(u.id,L.gridLayer.googleMutant(u.config))}}catch(e){d={error:e}}finally{try{l&&!l.done&&(p=a.return)&&p.call(a)}finally{if(d)throw d.error}}this.overlays=new Map,this.overlays.set("buildings",L.markerClusterGroup({maxClusterRadius:this.getMaxClusterRadius,iconCreateFunction:this.createClusterIcon})),this.overlays.set("marker",L.marker()),this.controls=new Map;var d,p,f=L.control.locate({showPopup:!1,onLocationError:function(e){c.notification.alert(w._("error.geolocation.message"),{title:w._("error.geolocation.title")})},locateControl:{}});f._start=f.start.bind(f),f._stop=f.stop.bind(f),f._setView=f.setView.bind(f),f.stop=this.stopGeolocation.bind(this),f.start=this.startGeolocation.bind(this),f.setView=this.setGeolocationView.bind(this),this.controls.set("locate",f)}return e.prototype.attached=function(){var e=new l(this.resizeMap.bind(this)),t=this.overlays.get("buildings"),n=this.overlays.get("marker"),i=this.controls.get("locate"),o=this.state.mapBounds,r=this.storage.getItem("geolocation");this.map=L.map(this._map,{attributionControl:!1}),this.map.addLayer(this.baseLayers.get(this.state.baseLayerId)),this.map.addLayer(t),this.map.addControl(i),this.map.fitBounds(o),r&&i.start(),this.map.on("moveend",this.updateMapView,this),n.on("click",this.onMarkerClick,this),t.on("click",this.onBuildingClick,this),t.on("dblclick",this.onBuildingDoubleClick,this),e.observe(this._map),this.buildings=this.db.query(v.System).groupByRelation(b.Building).all(),this.categories=this.db.query(y.RoomType).all(),this.db.sortByDistance(this.map.getCenter())},e.prototype.onBuildingClick=function(e){this.selection===e.layer.data&&1===this.selection.systems.length?this.showInfo(this.selection.systems[0]):this.selection=e.layer.data},e.prototype.onBuildingDoubleClick=function(e){this.selection=e.layer.data,1===this.selection.systems.length&&this.showInfo(this.selection.systems[0])},e.prototype.onMarkerClick=function(e){this.selection&&1===this.selection.systems.length&&this.showInfo(this.selection.systems[0])},e.prototype.deselect=function(){this.selection=null,this._selectionList.scrollTop=0},Object.defineProperty(e.prototype,"selection",{get:function(){return this.overlays.get("marker").data},set:function(e){var t=this.overlays.get("marker");e?(t.setLatLng([e.lat,e.lng]),t.data=e,this.map.addLayer(t),this.panToSelection({animate:!1}),t._bringToFront(),this._selectionList.scrollTop=0):(this.map.removeLayer(t),t.data=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buildings",{get:function(){return this.overlays.get("buildings").getLayers().map(function(e){return e.data})},set:function(e){var t=this,n=this.overlays.get("buildings");n.clearLayers(),e.forEach(function(e){var i=t.createBuildingMarker(e);i.data=e,n.addLayer(i)})},enumerable:!0,configurable:!0}),e.prototype.updateMapView=function(e){var t=e.target.getBounds();this.storage.setItem("mapbounds",[[t.getSouth(),t.getWest()],[t.getNorth(),t.getEast()]])},e.prototype.showMenu=function(){document.getElementById("menu").open()},e.prototype.showSearch=function(){this.isSearching||(this.isSearching=!0,this._searchoverlay.scrollTop=0,this.db.sortByDistance(this.map.getCenter()),this.searchText=this.search.text,this.search.update(this.search.text),this.searchResults=this.search.results,this.searchText=this.search.text)},e.prototype.cancelSearch=function(){this.isSearching=!1,this.searchText=this.search.text},e.prototype.clearSearch=function(){this.isSearching?(this.search.applyFilter=!1,this.search.update(null),this.searchText=null,this.searchResults=this.search.results,this._searchinput.focus()):(this.search.reset(),this.buildings=this.db.query(v.System).groupByRelation(b.Building).all(),this.selection=null,this.searchText=this.search.text,this.searchResults=this.search.results)},e.prototype.showInfo=function(e){this.router.navigateToRoute("system",{id:e.id})},e.prototype.searchCategory=function(e){this.isSearching=!1,this.buildings=this.db.query(v.System).filterBy("typID",e.id).groupByRelation(b.Building).all(),this.search.filter={property:"typID",value:e.id},this.searchText=this.search.text=e.name,this.selection=null,this.zoomToNearest()},e.prototype.zoomToNearest=function(){var e=this.map.getCenter(),t=this.overlays.get("buildings"),n=L.GeometryUtil.closestLayer(this.map,t.getLayers(),e);if(!this.map.getBounds().contains(n.layer.getLatLng())){var i=L.latLngBounds(n.layer.getLatLng(),e);this.disableGeolocationTracking(),this.map.fitBounds(i,{maxZoom:this.map.getZoom(),padding:[40,40]})}},e.prototype.onResultClick=function(e){var t=this,n=this.search.query.groupByRelation(b.Building);this.isSearching=!1,this.buildings=n.all(),this.search.text=this.searchText,this.selection=null,this.map.once("moveend",function(){t.selection=n.getById(e.building.id)}),this.disableGeolocationTracking(),this.map.setView([e.building.lat,e.building.lng],17)},e.prototype.onLocationResultClick=function(e){this.isSearching=!1;var t=this.search.query.groupByRelation(b.Building);this.buildings=t.all(),this.search.text=this.searchText,this.selection=null,this.disableGeolocationTracking(),this.map.fitBounds(e.bounds)},e.prototype.onSearch=function(){this.onSearchInput()},e.prototype.onSearchInput=function(){var e=this,t=this._searchinput.value;this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){e.search.applyFilters&&(e.search.applyFilters=!1,e.search.update()),e.searchResults=e.search.execute(t)},500)},e.prototype.startGeolocation=function(){var e=this.controls.get("locate");this.storage.setItem("geolocation",!0),e.isLocatingStart=!0,e._start()},e.prototype.stopGeolocation=function(){var e=this.controls.get("locate");this.storage.setItem("geolocation",!1),e._stop()},e.prototype.setGeolocationView=function(){var e=this.controls.get("locate");e.isLocatingStart?(e.isLocatingStart=!1,e.options.keepCurrentZoomLevel=!1,e.options.locateOptions.maxZoom=this.map.getZoom()<15?15:this.map.getZoom(),e._setView(),e.options.keepCurrentZoomLevel=!0,e.options.locateOptions.maxZoom=1/0):e._setView()},e.prototype.disableGeolocationTracking=function(){this.controls.get("locate")._onDrag()},e.prototype.resizeMap=function(){var e=this;this.selection&&this.map.once("moveend",function(){var t=e.overlays.get("marker");e.panToSelection({animate:!0}),t._bringToFront()}),this.map.invalidateSize({pan:!1})},e.prototype.panToSelection=function(e){var t=L.latLng(this.selection.lat,this.selection.lng);this.map.getBounds().contains(t)||this.map.panTo(t,e)},e.prototype.createBuildingMarker=function(e){var t,n=e.icon;return t=n?'<div style="background-color:'+n.color+'">\n          <span class="ons-icon '+n.prefix+" "+n.prefix+"-"+n.name+'"></span>\n        </div>':"<div>"+e.systems.length+"</div>",L.marker([e.lat,e.lng],{icon:L.divIcon({className:"leaflet-building-icon",iconSize:28,html:t})})},e.prototype.createClusterIcon=function(e){var t=e.getChildCount(),n=" marker-cluster-",i=22;return t<10?n+="small":t<100?(n+="medium",i=26):(n+="large",i=30),new L.DivIcon({html:"<div>"+t+"</div>",className:"marker-cluster"+n,iconSize:i})},e.prototype.getMaxClusterRadius=function(e){return e<13?80:e<15?50:e<17?30:20},r([d.bindable(),a("design:type",Object)],e.prototype,"state",void 0),e=r([d.inject(u.Router,f.Database,g.Storage,m.Search,p.Config,h.State),a("design:paramtypes",[Object,Object,Object,Object,Object,Object])],e)}();e.Home=k}),e.file("services/search.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=t("aurelia-framework"),c=t("./db"),u=t("../models/location"),d=t("../models/system"),p=function(){function e(e){this.db=e,this.reset()}return e.prototype.reset=function(){this.text=null,this.filter=null,this.applyFilters=!0,this.dataset=[],this.results={locations:[],systems:[]}},e.prototype.update=function(e){if(void 0===e&&(e=null),this.query=this.db.query(d.System),this.applyFilters&&this.filter&&this.query.filterBy(this.filter.property,this.filter.value),this.dataset=this.query.all(),this.applyFilters){var t=new Map;this.results={locations:[],systems:[]};try{for(var n=s(this.dataset),i=n.next();!i.done;i=n.next()){var o=i.value,r=o.building,a=o.organisation,l=r.id+"-"+a.id;if(t.has(l)||(t.set(l,o),this.results.systems.push(o)),20===this.results.systems.length)break}}catch(e){c={error:e}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(c)throw c.error}}}else e&&(this.results=this.execute(e));var c,u},e.prototype.execute=function(e,t){void 0===t&&(t=10);var n={locations:[],systems:[]};e=e.trim().toLowerCase().split(" ").filter(function(e){return""!==e});try{for(var i=s(this.db.query(u.Location).all()),o=i.next();!o.done;o=i.next()){for(var r=o.value,a=(r.name+" "+r.plzs).toLowerCase(),l=0,c=0;c<e.length;c++){var d=e[c];a.indexOf(d)>-1&&l++}if(l===e.length&&n.locations.push(r),3===n.locations.length)break}}catch(e){p={error:e}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(p)throw p.error}}var p,f,h,m,g=new Map;try{for(var b=s(this.dataset),y=b.next();!y.done;y=b.next()){var v=y.value,w=v.building,k=v.organisation,x=w.id+"-"+k.id;if(!g.has(x)){l=0;a=(a=w.name+" "+w.strasse_nr+"\n          "+w.ort+" "+w.plz+" "+w.canton.kantonkuerzel+"\n          "+k.name+" "+v.roomtype.name).toLowerCase();for(c=0;c<e.length;c++){d=e[c];a.indexOf(d)>-1&&l++}l===e.length&&(g.set(x,v),n.systems.push(v))}if(n.systems.length===t)break}}catch(e){h={error:e}}finally{try{y&&!y.done&&(m=b.return)&&m.call(b)}finally{if(h)throw h.error}}return n},e=r([l.inject(c.Database),a("design:paramtypes",[Object])],e)}();e.Search=p}),e.file("pages/impressum.css",function(e,t,n,i,o){n.exports=".page .page__background {\n  background-color: #fff;\n}\n\nh1.paragraph {\n  font-size: 17px;\n  font-weight: bold;\n  margin-bottom: 4px;\n}\nh1.paragraph + p,\nh1.paragraph + div > p {\n  margin-top: 0;\n}\n\n.list.list-with-border .list-item:first-child {\n  border-top: 1px solid #ccc;\n}\n.list.list-with-border .list-item:last-child {\n  border-bottom: 2px solid #ccc;\n}\n.list.list--material.list-with-border .list-item:first-child {\n  border-top: 1px solid #eee;\n}\n.list.list--material.list-with-border .list-item:last-child {\n  border-bottom: 2px solid #eee;\n}\n"}),e.file("pages/impressum.html",function(e,t,n,i,o){n.exports='<template>\n  <require from ="./impressum.css"></require>\n  <ons-page class="page">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n    </ons-toolbar>\n    <div style="margin: 0 16px">\n      <h1 class="paragraph" i18n="address"></h1>\n      <p i18n="pages.legal-notice.responsability"></p>\n      <p>IGGH Interessengemeinschaft Gehörlose und Hörbehinderte<br/>\n      Belpstrasse 24<br/>\n      3007 Bern</p>\n    </div>\n    <div style="margin: 0 16px 12px; padding-top:8px;">\n      <h1 class="paragraph" i18n="pages.sponsors.title"></h1>\n      <div i18n="pages.sponsors.intro"></div>\n    </div>\n    <ons-list modifier="noborder" class="list-with-border">\n      <ons-list-item repeat.for="sponsor of sponsors" modifier="longdivider tappable" click.delegate="openWebsite(sponsor)">\n        <span class="center" style="padding-right:14px;">\n          <img if.bind="sponsor.logo" src="${sponsor.logo}" alt="${sponsor.title}" style="max-width:100%;max-height:120px;">\n          <span if.bind="!sponsor.logo" class="list-item__title">${sponsor.title}</span>\n        </span>\n      </ons-list-item>\n    </ons-list>\n\n    <div style="margin: 0 16px;padding-top:32px;">\n      <h1 class="paragraph" i18n="pages.legal-notice.warrenty.title"></h1>\n      <p i18n="pages.legal-notice.warrenty.content"></p>\n\n      <h1 class="paragraph" i18n="pages.legal-notice.liability.title"></h1>\n      <p i18n="pages.legal-notice.liability.content"></p>\n      \n      <h1 class="paragraph" i18n="pages.legal-notice.links.title"></h1>\n      <p i18n="pages.legal-notice.links.content"></p>\n      \n      <h1 class="paragraph" i18n="pages.legal-notice.privacy.title"></h1>\n      <div i18n="pages.legal-notice.privacy.content"></div>\n      \n      <h1 class="paragraph" i18n="pages.legal-notice.copyright.title"></h1>\n      <p i18n="pages.legal-notice.copyright.content"></p>\n\n      <p>\n        Copyright © IGGH Interessengemeinschaft, Gehörlose und Hörbehinderte<br/>\n        Belpstrasse 24, 3007 Bern\n      </p>\n    </div>\n  </ons-page>\n</template>\n'}),e.file("pages/impressum.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../services/config"),c=function(){function e(e){this.config=e}return e.prototype.activate=function(e,t){this.title=t.title,this.sponsors=[{title:"Irma Wigert Stiftung c/o pro audito schweiz",link:""},{title:"pro audito schweiz",link:"http://www.pro-audito.ch/",logo:this.config.baseUrl+"/pictures/logos/logo-pro-audito-schweiz.png"},{title:"Reformierte Kirche Kanton Zug",link:"http://www.ref-zug.ch/kanton-zug/",logo:this.config.baseUrl+"/pictures/logos/logo-ref-kirche-kt-zug.png"},{title:"Reformierte Kirche Baselland",link:"https://refbl.ch/",logo:this.config.baseUrl+"/pictures/logos/logo-ref-kirche-baselland.png"},{title:"Reformierte Kirche Kanton Luzern",link:"http://www.reflu.ch/",logo:this.config.baseUrl+"/pictures/logos/logo-ref-kirche-kt-luzern.png"},{title:"Evangelische Landeskirche des Kantons Thurgau",link:"http://www.evang-tg.ch/",logo:this.config.baseUrl+"/pictures/logos/logo-evg-kirche-kt-thurgau.png"}]},e.prototype.openWebsite=function(e){e.link&&window.open(e.link,"_system")},e=r([s.inject(l.Config),a("design:paramtypes",[Object])],e)}();e.Impressum=c}),e.file("pages/system/add.css",function(e,t,n,i,o){n.exports=".address-list {\n  max-height: 150px;\n  overflow-y: scroll;\n}\n\n.image-upload {\n  margin-top: 8px;\n  width: 100%;\n}\n\nons-button.upload-button {\n  border: 1px dashed #ccc;\n  background-color: rgb(249, 249, 249);\n  color: #333;\n  height: 140px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-upload .upload-preview {\n  height: 140px;\n  width: 100%;\n  position: relative;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n\n.form ons-list-item .left {\n  align-items: start;\n}\n.form ons-list-item .left ons-icon {\n  line-height: 1.5em;\n}\n"}),e.file("pages/system/add.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./add.css"></require>\n\n  <ons-page class="page-text">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">\n        ${title}\n      </div>\n      <div class="right">\n        <ons-toolbar-button click.delegate="commit()">\n          <ons-icon icon="md-mail-send"></ons-icon>\n        </ons-toolbar-button>\n      </div>\n    </ons-toolbar>\n    <ons-list modifier="noborder" class="form">\n      <ons-list-header style="display:none;"></ons-list-header>\n      <ons-list-item modifier="nodivider" click.trigger="showPositionPage()">\n        <div class="left">\n          <ons-icon icon="ion-ios-location,material:md-pin" fixed-width="true"></ons-icon>\n        </div>\n        <div class="center">\n          <label for="address" class="input-label"><span i18n="address"></span>*</label>\n          <ons-input input-id="address" type="text" modifier="underbar" style="width:100%;" value.one-way="data.formatted_address" readonly="true"></ons-input>\n          <div class="error" if.bind="errors.address">${errors.address}</div>\n          <div style="width:100%;height:120px;position:relative;margin-top:12px;">\n            <leaflet-map fixed.bind="true" overlays.bind="overlays" center.bind="data.coordinates" bounds.bind="bounds" layer-control.bind="false" zoom-control.bind="false"></leaflet-map>\n            <div if.bind="!place" style="z-index:10000;background-color: rgba(0,0,0,0.5);color:#fff;position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;padding:16px;">\n              <div style="text-align:center;" i18n="pages.add-system.mark-position"></div>\n            </div>\n          </div>\n        </div>\n        <div class="right"></div>\n      </ons-list-item>\n      <ons-list-item modifier="nodivider">\n        <div class="left">\n          <ons-icon icon="ion-camera,material:md-camera" fixed-width="true"></ons-icon>\n        </div>\n        <div class="center">\n          <label class="input-label" i18n="photo"></label>\n          <ons-button if.bind="imageUrl" click.trigger="deleteImage()" modifier="quiet" style="position:absolute;right:6px;top:7px;" i18n="delete"></ons-button>\n          <div class="image-upload">\n            <ons-button if.bind="!imageUrl" click.trigger="uploadImageClick()" modifier="quiet" class="upload-button">\n              <ons-icon icon="md-plus"></ons-icon>\n            </ons-button>\n            <div if.bind="imageUrl" class="upload-preview" css="background-image:url(${imageUrl});" click.trigger="uploadImageClick()">\n            </div>\n            <input type="file" ref="imageInputEl" show.bind="false" change.trigger="onImageChange()" />\n          </div>\n        </div>\n        <div class="right"></div>\n      </ons-list-item>\n      <ons-list-item modifier="nodivider">\n        <div class="left">\n          <ons-icon icon="md-comment-text" fixed-width="true"></ons-icon>\n        </div>\n        <div class="center">\n          <label for="annotations" class="input-label" i18n="annotation"></label>\n          <textarea id="annotations" class="textarea" rows="4" style="width:100%;margin-top:8px;" value.bind="data.annotations"></textarea>\n        </div>\n        <div class="right"></div>\n      </ons-list-item>\n      <ons-list-header i18n="your-contact-info"></ons-list-header>\n      <ons-list-item modifier="nodivider">\n        <div class="left">\n          <ons-icon icon="ion-person, material:md-account" fixed-width="true"></ons-icon>\n        </div>\n        <div class="center">\n          <label for="username" class="input-label"><span i18n="full-name"></span>*</label>\n          <ons-input input-id="username" type="text" modifier="underbar" style="width:100%;" value.bind="data.username" input.trigger="validate($event)"></ons-input>\n          <div class="error" if.bind="errors.username">${errors.username}</div>\n        </div>\n        <div class="right"></div>\n      </ons-list-item>\n      <ons-list-item modifier="nodivider">\n        <div class="left">\n          <ons-icon icon="ion-email, material:md-email" fixed-width="true"></ons-icon>\n        </div>\n        <div class="center">\n          <label for="useremail" class="input-label"><span i18n="email-address"></span>*</label>\n          <ons-input input-id="useremail" type="email" modifier="underbar" style="width:100%;" value.bind="data.useremail" input.trigger="validate($event)"></ons-input>\n          <div class="error" if.bind="errors.useremail">${errors.useremail}</div>\n        </div>\n        <div class="right"></div>\n      </ons-list-item>\n      <ons-list-item>\n        <div class="right">\n          <ons-button click.delegate="commit()">Senden</ons-button>\n        </div>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n  \x3c!-- Position page overlay --\x3e\n  <ons-page if.bind="positionPageVisible">\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center" i18n="address"></div>\n      <div class="right">\n        <ons-toolbar-button disabled.bind="!place" click.trigger="onAcceptAddressClick()">\n          <ons-icon icon="md-check"></ons-icon>\n        </ons-toolbar-button>\n      </div>\n    </ons-toolbar>\n    <ons-list modifier="noborder" style="display:flex;flex-direction:column;height:100%;">\n      <ons-list-item modifier="nodivier">\n        <div class="center">\n          <ons-input input-id="address" type="text" value.one-way="place.name" modifier="underbar" style="width:100%;"\n                     ref="addressInputEl" input.trigger="onAddressChange($event) & debounce" blur.trigger="onAddressBlur() & debounce"\n                     focus.trigger="onAddressFocus()" i18n-attrs="placeholder:pages.add-system.search.placeholder">\n          </ons-input>\n          <div style="position:relative;width:100%;">\n            <div style="position:absolute;top:0;right:0;left:0;z-index:20000;" class="popover--material__content" if.bind="addressListVisible">\n              <ons-list modifier="noborder" class="address-list">\n                <ons-list-item modifier="nodivider" tappable="true" repeat.for="item of addressList" click.delegate="onAddressListItemClick(item)">\n                  <div class="center">\n                    <div class="list-item__title">${item.structured_formatting.main_text}</div>\n                    <div class="list-item__subtitle">${item.structured_formatting.secondary_text}</div>\n                  </div>\n                </ons-list-item>\n              </ons-list>\n            </div>\n          </div>\n        </div>\n      </ons-list-item>\n      <ons-list-item style="flex:1;padding:0;" modifier="nodivier">\n        <div class="center" style="padding:0;">\n          <leaflet-map mapclick.trigger="onPositionMapClick($event)" view-model.ref="leafletMap" bounds.bind="bounds" overlays.bind="overlays" center.bind="center" style="flex:1;"></leaflet-map>\n        </div>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n'}),e.file("pages/system/add.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("aurelia-history"),c=t("aurelia-fetch-client"),u=t("onsenui"),d=t("../../services/config"),p=t("../../services/db"),f=t("../../models/canton"),h=t("../../plugins/aurelia-messageformat"),m=function(){function e(e,t,n){var i=this;this.overlays=[],this.positionPageVisible=!1,this.addressListVisible=!1,this.image=null,this.place=null,this.data={name:"",lat:"",lng:"",formatted_address:"",street:"",housenumber:"",postcode:"",location:"",canton:"",image:null,annotations:"",username:"",useremail:""},this.errors={},this.addressList=[],this.searchTypes=["art_gallery","bank","church","hindu_temple","hospital","insurance_agency","local_government_office","mosque","movie_theater","museum","pharmacy","police","post_office","school","stadium","synagogue","university"],this.history=e,this.config=t,this.db=n,this.httpClient=new c.HttpClient,this.httpClient.configure(function(e){e.useStandardConfiguration().withBaseUrl(i.config.baseUrl+"/db_add_system.php").withDefaults()}),this.autocompleteService=new google.maps.places.AutocompleteService,this.geocoder=new google.maps.Geocoder,this.placesService=new google.maps.places.PlacesService(document.createElement("div"))}return e.prototype.activate=function(e,t){this.title=t.title},e.prototype.showPositionPage=function(){this.history.history.pushState({},"",""),this.positionPageVisible=!0,window.addEventListener("popstate",this.onPositionPageBack.bind(this))},e.prototype.onPositionPageBack=function(){this.positionPageVisible=!1,this.coordinates=this.data.coordinates,window.removeEventListener("popstate",this.onPositionPageBack.bind(this))},e.prototype.onPositionMapClick=function(e){var t=this;this.coordinates=e.detail.latlng,this.center=this.coordinates,this.searchNearBy(this.coordinates,25).then(function(e){t.loadPlaceDetail(e.place_id)}).catch(function(){t.geocodeLocation(t.coordinates).then(function(e){t.loadPlaceDetail(e.place_id)}).catch(function(e){u.notification.alert(h._("pages.add-system.search.no-results.message"),{title:h._("pages.add-system.search.no-results.title")})})})},e.prototype.onAddressChange=function(e){var t=this,n=e.target.value;n.length>=3?this.queryAddressListItems(n).then(function(){t.showAddressList()}).catch(function(){t.hideAddressList()}):this.hideAddressList()},e.prototype.onAddressBlur=function(){this.place&&(this.addressInputEl.value=this.place.name),this.hideAddressList()},e.prototype.onAddressFocus=function(){this.showAddressList()},e.prototype.onAddressListItemClick=function(e){var t=this;this.loadPlaceDetail(e.place_id).then(function(e){var n=e.geometry.viewport.toJSON();t.leafletMap.map.fitBounds([[n.north,n.east],[n.south,n.west]]),t.coordinates=e.geometry.location.toJSON()})},e.prototype.showAddressList=function(){!this.addressListVisible&&this.addressList.length>0&&(this.addressListVisible=!0)},e.prototype.hideAddressList=function(){this.addressListVisible=!1},e.prototype.placeChanged=function(e){e&&this.queryAddressListItems(e.name)},e.prototype.searchNearBy=function(e,t){var n=this;return new Promise(function(i,o){n.placesService.nearbySearch({location:e,radius:t},function(e,t){if(e){var r=e.find(function(e){return n.searchTypes.find(function(t){return e.types.indexOf(t)>-1})});r?i(r):o(t)}else o(t)})})},e.prototype.geocodeLocation=function(e){var t=this;return new Promise(function(n,i){t.geocoder.geocode({location:e},function(e,t){"OK"===t?n(e[0]):i(t)})})},e.prototype.queryAddressListItems=function(e){var t=this;return new Promise(function(n,i){var o=t.leafletMap.map.getCenter(),r=new google.maps.LatLng(o.lat,o.lng);t.autocompleteService.getPlacePredictions({input:e,location:r,radius:1e4,types:["address"]},function(e,i){"OK"===i?(t.addressList=e,n(e)):(t.addressList=[],n([]))})})},e.prototype.loadPlaceDetail=function(e){var t=this;return new Promise(function(n,i){t.placesService.getDetails({placeId:e},function(e,o){t.place=e,null!==e?n(e):i(o)})})},e.prototype.coordinatesChanged=function(e){this.overlays=e?[{type:"marker",latLng:L.latLng(e.lat,e.lng)}]:[]},e.prototype.onAcceptAddressClick=function(){var e=this,t=this.place.geometry.viewport.toJSON();this.data.coordinates=this.coordinates,this.data.name=this.place.name||"",this.data.formatted_address=this.place.formatted_address,this.data.lat=this.coordinates.lat,this.data.lng=this.coordinates.lng,this.data.website=this.place.website||"",this.place.address_components.forEach(function(t){t.types.indexOf("postal_code")>-1?e.data.postcode=t.long_name:t.types.indexOf("route")>-1?e.data.street=t.long_name:t.types.indexOf("street_number")>-1?e.data.housenumber=t.long_name:t.types.indexOf("administrative_area_level_1")>-1?e.data.canton=e.db.query(f.Canton).get("name",t.short_name):t.types.indexOf("locality")>-1&&(e.data.location=t.long_name)}),this.bounds=[[t.north,t.east],[t.south,t.west]],this.errors.address=null,this.history.history.back()},e.prototype.uploadImageClick=function(){this.imageInputEl.click()},e.prototype.onImageChange=function(){var e=this.imageInputEl.files[0];e&&(this.image=e,this.imageUrl&&URL.revokeObjectURL(this.imageUrl),this.imageUrl=URL.createObjectURL(this.image))},e.prototype.deleteImage=function(){URL.revokeObjectURL(this.imageUrl),this.imageUrl=null,this.image=null},e.prototype.commit=function(){var e=this,t=new FormData;t.append("username",this.data.username),t.append("useremail",this.data.useremail),t.append("name",this.data.name),t.append("lat",this.data.lat),t.append("lng",this.data.lng),t.append("street_number",this.data.street+" "+this.data.housenumber),t.append("location",this.data.location),t.append("postcode",this.data.postcode),t.append("cantonId",this.data.canton?this.data.canton.id:null),t.append("website",this.data.website),t.append("annotations",this.data.annotations),t.append("image",this.image),this.httpClient.fetch("",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(t){200!==t.code?(e.errors=t.errors,e.showInvalidAlert(t.message)):e.showSuccessMessage()})},e.prototype.showInvalidAlert=function(e){u.notification.alert(e,{title:h._("pages.add-system.submit.error.title")})},e.prototype.showSuccessMessage=function(){var e=this;u.notification.alert(h._("pages.add-system.submit.success.message"),{title:h._("pages.add-system.submit.success.title"),callback:function(){e.history.navigateBack()}})},e.prototype.validate=function(e){this.errors[e.target.id]=null},r([s.bindable(),a("design:type",Object)],e.prototype,"coordinates",void 0),r([s.bindable(),a("design:type",Object)],e.prototype,"bounds",void 0),r([s.bindable(),a("design:type",Object)],e.prototype,"imageUrl",void 0),r([s.bindable,a("design:type",Object)],e.prototype,"place",void 0),e=r([s.inject(l.History,d.Config,p.Database),a("design:paramtypes",[Object,Object,Object])],e)}();e.Add=m}),e.file("pages/system/info.css",function(e,t,n,i,o){n.exports=".room-plan-list {\n  display: flex;\n  flex-direction: row;\n  padding: 0;\n}\n\n.room-plan-list ons-list-item {\n  width: 50vw;\n  height: 50vw;\n  padding: 14px 7px;\n}\n.room-plan-list ons-list-item.first {\n  padding-left: 14px;\n}\n.room-plan-list ons-list-item.last {\n  padding-right: 14px;\n}\n.room-plan-list.list--material ons-list-item {\n  width: 50vw;\n  height: 50vw;\n  padding: 16px 8px;\n}\n.room-plan-list.list--material ons-list-item.first {\n  padding-left: 16px;\n}\n.room-plan-list.list--material ons-list-item.last {\n  padding-right: 16px;\n}\n.room-plan-list ons-list-item .center {\n  margin: 0;\n  padding: 0;\n}\n\n.room-plan-list ons-list-item .image {\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center center;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #eee;\n  box-sizing: border-box;\n}\n"}),e.file("pages/system/info.html",function(e,t,n,i,o){n.exports='<template>\n  <require from="./info.css"></require>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">${data.name}</div>\n    </ons-toolbar>\n    <div if.bind="data.photoUrl" css="background-image:url(\'${data.photoUrl}\');background-repeat:no-repeat;background-size:cover;background-position:center;width:100%;height:35%;">\n    </div>\n    <ons-list>\n      <ons-list-item if.bind="data.strasse_nr || data.plz || data.org">\n        <span class="left">\n          <ons-icon icon="ion-ios-location,material:md-pin" fixed-width="true"></ons-icon>\n        </span>\n        <span class="center">\n          ${data.building.name}<template if.bind="data.organisation.name && data.building.name">, </template>${data.organisation.name}<br/>\n          ${data.building.strasse_nr}, ${data.building.plz} ${data.building.ort}\n      </ons-list-item>\n      <ons-list-item if.bind="data.webadresse" click.trigger="openWebsite()" tappable modifier="chevron" >\n        <span class="left">\n          <ons-icon icon="md-globe" fixed-width="true"></ons-icon>\n        </span>\n        <span class="center" i18n="website"></span>\n      </ons-list-item>\n      <ons-list-header i18n="hearing-assistance-system">\n      </ons-list-header>\n      <ons-list-item>\n        <span class="left">\n          <img src="${data.technology.imageUrl}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          ${data.technology.title}\n        </span>\n      </ons-list-item>\n      <ons-list-item>\n        <span class="left">\n          <img src="${data.rating.imageUrl}" alt="" style="width:1.28571429em;"/>\n        </span>\n        <span class="center">\n          ${data.rating.description}\n        </span>\n      </ons-list-item>\n      <ons-list-item if.bind="data.annotation">\n        ${data.annotation}\n      </ons-list-item>\n      <ons-list-header i18n="room-plans">\n      </ons-list-header>\n      <ons-list class="room-plan-list" if.bind="data.roomPlans.length > 0">\n        <ons-list-item modifier="nodivider" repeat.for="roomPlan of data.roomPlans"\n          tappable class="${$index%2 == 0 ? \'first\' : \'last\'}" click.delegate="showRoomPlan(roomPlan.id)">\n          <div class="center">\n            <div class="image" css="background-image: url(${roomPlan.url})"></div>\n          </div>\n        </ons-list-item>\n      </ons-list>\n      <ons-list-item if.bind="data.roomPlans.length == 0">\n        <div class="center" i18n="no-room-plans"></div>\n      </ons-list-item>\n    </ons-list>\n  </ons-page>\n</template>\n'}),e.file("pages/system/info.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("aurelia-router"),c=t("../../services/db"),u=t("../../services/config"),d=t("../../models/system"),p=function(){function e(e,t,n){this.router=e,this.db=t,this.config=n}return e.prototype.activate=function(e){this.data=this.db.query(d.System).getById(parseInt(e.id,10))},e.prototype.openWebsite=function(){window.open(this.data.webadresse,"_system")},e.prototype.hasRoomPlan=function(){return"transp.png"!==this.data.plan1_dateiname||"transp.png"!==this.data.plan2_dateiname},e.prototype.showRoomPlan=function(e){this.router.navigateToRoute("system-plan",{id:this.data.id,plan:e})},e=r([s.inject(l.Router,c.Database,u.Config),a("design:paramtypes",[Object,Object,Object])],e)}();e.Info=p}),e.file("pages/system/plan.html",function(e,t,n,i,o){n.exports='<template>\n  <ons-page>\n    <ons-toolbar>\n      <div class="left">\n        <ons-back-button></ons-back-button>\n      </div>\n      <div class="center">${data.name}</div>\n    </ons-toolbar>\n    <div ref="planmap" style="width:100%;height:100%;"></div>\n  </ons-page>\n</template>\n'}),e.file("pages/system/plan.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("aurelia-framework"),l=t("../../services/db"),c=t("../../services/config"),u=t("../../models/system"),d=function(){function e(e,t){this.db=e,this.config=t}return e.prototype.activate=function(e){var t=this;return this.data=this.db.query(u.System).getById(parseInt(e.id,10)),new Promise(function(n,i){var o=t.data.roomPlans.find(function(t){return t.id===e.plan}),r=new Image;r.onload=function(){var e=256/r.width;t.layer=L.imageOverlay(o.url,[[0,0],[r.height*e,r.width*e]]),n()},r.src=o.url})},e.prototype.attached=function(){this.map=L.map(this.planmap,{crs:L.CRS.Simple,attributionControl:!1,maxZoom:4}),this.map.addLayer(this.layer),this.map.fitBounds(this.layer.getBounds()),this.map.setMaxBounds(this.layer.getBounds())},e=r([s.inject(l.Database,c.Config),a("design:paramtypes",[Object,Object])],e)}();e.Plan=d}),e.file("plugins/aurelia-messageformat/attributes.js",function(e,t,n,i,o){"use strict";var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(e,"__esModule",{value:!0});var s=t("./i18n"),l=t("aurelia-event-aggregator"),c=t("aurelia-templating"),u=t("aurelia-pal"),d=function(){function e(e,t){this.element=e,this.service=t}return e.prototype.valueChanged=function(){this.service.updateTranslations(this.element)},e.inject=[u.DOM.Element,s.I18N],e=r([c.customAttribute("i18n-params"),a("design:paramtypes",[Object,Object])],e)}();e.I18NParamsCustomAttribute=d;var p=function(){function e(e,t,n,i){var o=this;this.element=e,this.service=t,this.ea=n,this.subscription=this.ea.subscribe("i18n:locale:changed",function(){o.service.updateTranslations(o.element)})}return e.prototype.valueChanged=function(e){this.service.updateTranslations(this.element)},e.prototype.unbind=function(){this.subscription&&this.subscription.dispose()},e.inject=[u.DOM.Element,s.I18N,l.EventAggregator],e=r([c.customAttribute("i18n"),a("design:paramtypes",[Object,Object,Object,Object])],e)}();e.I18NCustomAttribute=p}),e.entry="main.js"}),e.import("fuse-box-aurelia-loader"),e.import("aurelia-bootstrapper"),e.target="browser",e.import("default/main.js"),e.main("default/main.js")}(FuseBox);