!function(t){var e,i,n,r,o;t.$fuse$=t,e=this,i=function(t){"use strict";function e(t){var e,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(e in r=arguments[i])t[e]=r[e];return t}function i(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++Ht,t._leaflet_id}function r(t,e,i){var n,r,o,s;return s=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function o(t,e,i){var n=e[1],r=e[0],o=n-r;return t===n&&i?t:((t-r)%o+o)%o+r}function s(){return!1}function a(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return u(t).split(/\s+/)}function c(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?qt(t.options):{}),e)t.options[i]=e[i];return t.options}function h(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}function d(t,e){return t.replace(Ut,function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}function p(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function f(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,i=Math.max(0,16-(e-Gt));return Gt=e+i,window.setTimeout(t,i)}function v(t,e,n){if(!n||Yt!==m)return Yt.call(window,i(t,e));t.call(e)}function g(t){t&&Xt.call(window,t)}function _(){}function y(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}function b(t,e,i){return t instanceof y?t:Zt(t)?new y(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new y(t.x,t.y):new y(t,e,i)}function w(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function k(t,e){return!t||t instanceof w?t:new w(t,e)}function x(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function C(t,e){return t instanceof x?t:new x(t,e)}function E(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function O(t,e,i){return t instanceof E?t:Zt(t)&&"object"!=typeof t[0]?3===t.length?new E(t[0],t[1],t[2]):2===t.length?new E(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new E(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new E(t,e,i)}function S(t,e,i,n){if(Zt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function P(t,e,i,n){return new S(t,e,i,n)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t,e){var i,n,r,o,s,a,u="";for(i=0,r=t.length;i<r;i++){for(n=0,o=(s=t[i]).length;n<o;n++)u+=(n?"L":"M")+(a=s[n]).x+" "+a.y;u+=e?De?"z":"x":""}return u||"M0 0"}function T(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function j(t,e,n,r){return"touchstart"===e?(h=t,d=n,p=r,f=i(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ze.indexOf(t.target.tagName)<0))return;G(t)}B(t,d)}),h["_leaflet_touchstart"+p]=f,h.addEventListener(Ve,f,!1),Ge||(document.documentElement.addEventListener(Ve,I,!0),document.documentElement.addEventListener(qe,R,!0),document.documentElement.addEventListener(He,N,!0),document.documentElement.addEventListener(Ue,N,!0),Ge=!0)):"touchmove"===e?(l=n,c=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&B(t,l)},(u=t)["_leaflet_touchmove"+r]=c,u.addEventListener(qe,c,!1)):"touchend"===e&&(s=n,a=function(t){B(t,s)},(o=t)["_leaflet_touchend"+r]=a,o.addEventListener(He,a,!1),o.addEventListener(Ue,a,!1)),this;var o,s,a,u,l,c,h,d,p,f}function I(t){We[t.pointerId]=t,Ye++}function R(t){We[t.pointerId]&&(We[t.pointerId]=t)}function N(t){delete We[t.pointerId],Ye--}function B(t,e){for(var i in t.touches=[],We)t.touches.push(We[i]);t.changedTouches=[t],e(t)}function D(t,e,i){function n(t){var e;if(Te){if(!pe||"mouse"===t.pointerType)return;e=Ye}else e=t.touches.length;if(!(e>1)){var i=Date.now(),n=i-(o||i);s=t.touches?t.touches[0]:t,a=n>0&&n<=u,o=i}}function r(t){if(a&&!s.cancelBubble){if(Te){if(!pe||"mouse"===t.pointerType)return;var i,n,r={};for(n in s)i=s[n],r[n]=i&&i.bind?i.bind(s):i;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[Qe+Xe+i]=n,t[Qe+$e+i]=r,t[Qe+"dblclick"+i]=e,t.addEventListener(Xe,n,!1),t.addEventListener($e,r,!1),t.addEventListener("dblclick",e,!1),this}function z(t,e){var i=t[Qe+Xe+e],n=t[Qe+$e+e],r=t[Qe+"dblclick"+e];return t.removeEventListener(Xe,i,!1),t.removeEventListener($e,n,!1),pe||t.removeEventListener("dblclick",r,!1),this}function F(t,e,i,n){if("object"==typeof e)for(var r in e)q(t,r,e[r],i);else for(var o=0,s=(e=l(e)).length;o<s;o++)q(t,e[o],i,n);return this}function V(t,e,i,n){if("object"==typeof e)for(var r in e)H(t,r,e[r],i);else if(e)for(var o=0,s=(e=l(e)).length;o<s;o++)H(t,e[o],i,n);else{for(var a in t[Ke])H(t,a,t[Ke][a]);delete t[Ke]}return this}function q(t,e,i,r){var o=e+n(i)+(r?"_"+n(r):"");if(t[Ke]&&t[Ke][o])return this;var s=function(e){return i.call(r||t,e||window.event)},a=s;Te&&0===e.indexOf("touch")?j(t,e,s,o):!je||"dblclick"!==e||!D||Te&&_e?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,J(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&me&&(s=function(t){var e,i,n,r;i=a,n=(e=t).timeStamp||e.originalEvent&&e.originalEvent.timeStamp,(r=ne&&n-ne)&&r>100&&r<500||e.target._simulatedClick&&!e._simulated?Y(e):(ne=n,i(e))}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):D(t,s,o),t[Ke]=t[Ke]||{},t[Ke][o]=s}function H(t,e,i,r){var o=e+n(i)+(r?"_"+n(r):""),s=t[Ke]&&t[Ke][o];if(!s)return this;Te&&0===e.indexOf("touch")?(a=t,u=e,l=o,c=a["_leaflet_"+u+l],"touchstart"===u?a.removeEventListener(Ve,c,!1):"touchmove"===u?a.removeEventListener(qe,c,!1):"touchend"===u&&(a.removeEventListener(He,c,!1),a.removeEventListener(Ue,c,!1))):je&&"dblclick"===e&&z?z(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[Ke][o]=null;var a,u,l,c}function U(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,K(t),this}function Z(t){return q(t,"mousewheel",U),this}function W(t){return F(t,"mousedown touchstart dblclick",U),q(t,"click",Q),this}function G(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Y(t){return G(t),U(t),this}function X(t,e){if(!e)return new y(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new y(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)}function $(t){return pe?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Je:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Q(t){ti[t.type]=!0}function K(t){var e=ti[t.type];return ti[t.type]=!1,e}function J(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}function tt(t){return"string"==typeof t?document.getElementById(t):t}function et(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function it(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function nt(t){var e=t.parentNode;e&&e.removeChild(t)}function rt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ot(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function st(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function at(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ht(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function ut(t,e){if(void 0!==t.classList)for(var i=l(e),n=0,r=i.length;n<r;n++)t.classList.add(i[n]);else if(!at(t,e)){var o=ht(t);ct(t,(o?o+" ":"")+e)}}function lt(t,e){void 0!==t.classList?t.classList.remove(e):ct(t,u((" "+ht(t)+" ").replace(" "+e+" "," ")))}function ct(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ht(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function dt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function pt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ft(t,e,i){var n=e||new y(0,0);t.style[ii]=(Ce?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function mt(t,e){t._leaflet_pos=e,Oe?ft(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function vt(t){return t._leaflet_pos||new y(0,0)}function gt(){F(window,"dragstart",G)}function _t(){V(window,"dragstart",G)}function yt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(bt(),si=t,ai=t.style.outline,t.style.outline="none",F(window,"keydown",bt))}function bt(){si&&(si.style.outline=ai,si=void 0,ai=void 0,V(window,"keydown",bt))}function wt(t,e){if(!e||!t.length)return t.slice();var i=e*e;return function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,r,o){var s,a,u,l=0;for(a=r+1;a<=o-1;a++)(u=Lt(e[a],e[r],e[o],!0))>l&&(s=a,l=u);l>n&&(i[s]=1,t(e,i,n,r,s),t(e,i,n,s,o))}(t,n,e,0,i-1);var r,o=[];for(r=0;r<i;r++)n[r]&&o.push(t[r]);return o}(t=function(t,e){for(var i=[t[0]],n=1,r=0,o=t.length;n<o;n++)s=t[n],a=t[r],void 0,void 0,u=a.x-s.x,l=a.y-s.y,u*u+l*l>e&&(i.push(t[n]),r=n);var s,a,u,l;return r<o-1&&i.push(t[o-1]),i}(t,i),i)}function kt(t,e,i){return Math.sqrt(Lt(t,e,i,!0))}function xt(t,e,i,n,r){var o,s,a,u=n?gi:Et(t,i),l=Et(e,i);for(gi=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=Et(s=Ct(t,e,o=u||l,i,r),i),o===u?(t=s,u=a):(e=s,l=a)}}function Ct(t,e,i,n,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=n.min,c=n.max;return 8&i?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&i?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&i?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&i&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new y(o,s,r)}function Et(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Lt(t,e,i,n){var r,o=e.x,s=e.y,a=i.x-o,u=i.y-s,l=a*a+u*u;return l>0&&((r=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=i.x,s=i.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,n?a*a+u*u:new y(o,s)}function Ot(t){return!Zt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function St(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(t)}function Pt(t,e,i){var n,r,o,s,a,u,l,c,h,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Et(t[r],e);for(s=0;s<4;s++){for(c=d[s],n=[],r=0,o=(l=t.length)-1;r<l;o=r++)a=t[r],u=t[o],a._code&c?u._code&c||((h=Ct(u,a,c,e,i))._code=Et(h,e),n.push(h)):(u._code&c&&((h=Ct(u,a,c,e,i))._code=Et(h,e),n.push(h)),n.push(a));t=n}return t}function At(t,e){var i,n,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Mt;if(!a&&!s)return null;switch(s.type){case"Point":return i=c(a),l?l(t,i):new zi(i);case"MultiPoint":for(r=0,o=a.length;r<o;r++)i=c(a[r]),u.push(l?l(t,i):new zi(i));return new Ri(u);case"LineString":case"MultiLineString":return n=Tt(a,"LineString"===s.type?0:1,c),new Hi(n,e);case"Polygon":case"MultiPolygon":return n=Tt(a,"Polygon"===s.type?1:2,c),new Ui(n,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=At({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Ri(u);default:throw new Error("Invalid GeoJSON object.")}}function Mt(t){return new E(t[1],t[0],t[2])}function Tt(t,e,i){for(var n,r=[],o=0,s=t.length;o<s;o++)n=e?Tt(t[o],e-1,i):(i||Mt)(t[o]),r.push(n);return r}function jt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function It(t,e,i,n){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?It(t[o],e-1,i,n):jt(t[o],n));return!e&&i&&r.push(r[0]),r}function Rt(t,i){return t.feature?e({},t.feature,{geometry:i}):Nt(i)}function Nt(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Bt(t,e){return new Zi(t,e)}function Dt(t,e){return new en(t,e)}function zt(t){return Be?new on(t):null}function Ft(t){return De||ze?new ln(t):null}var Vt=Object.freeze;Object.freeze=function(t){return t};var qt=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),Ht=0,Ut=/\{ *([\w_\-]+) *\}/g,Zt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Wt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Gt=0,Yt=window.requestAnimationFrame||f("RequestAnimationFrame")||m,Xt=window.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},$t=(Object.freeze||Object)({freeze:Vt,extend:e,create:qt,bind:i,lastId:Ht,stamp:n,throttle:r,wrapNum:o,falseFn:s,formatNum:a,trim:u,splitWords:l,setOptions:c,getParamString:h,template:d,isArray:Zt,indexOf:p,emptyImageUrl:Wt,requestFn:Yt,cancelFn:Xt,requestAnimFrame:v,cancelAnimFrame:g});_.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,r=qt(n);for(var o in r.constructor=i,i.prototype=r,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(i[o]=this[o]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(function(t){if(L&&L.Mixin){t=Zt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(qt(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},i},_.include=function(t){return e(this.prototype,t),this},_.mergeOptions=function(t){return e(this.prototype.options,t),this},_.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var Qt={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var r=0,o=(t=l(t)).length;r<o;r++)this._on(t[r],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var r=0,o=(t=l(t)).length;r<o;r++)this._off(t[r],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var r={fn:e,ctx:i},o=n,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===i)return;o.push(r)},_off:function(t,e,i){var n,r,o;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(r=0,o=n.length;r<o;r++){var a=n[r];if(a.ctx===i&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(r,1)}}else{for(r=0,o=n.length;r<o;r++)n[r].fn=s;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var r=e({},i,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target},t),!0)}};Qt.addEventListener=Qt.on,Qt.removeEventListener=Qt.clearAllEventListeners=Qt.off,Qt.addOneTimeEventListener=Qt.once,Qt.fireEvent=Qt.fire,Qt.hasEventListeners=Qt.listens;var Kt=_.extend(Qt);y.prototype={clone:function(){return new y(this.x,this.y)},add:function(t){return this.clone()._add(b(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(b(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new y(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new y(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var e=(t=b(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=b(t)).x===this.x&&t.y===this.y},contains:function(t){return t=b(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},w.prototype={extend:function(t){return t=b(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new y(this.min.x,this.max.y)},getTopRight:function(){return new y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof y?b(t):k(t))instanceof w?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>=e.x&&n.x<=i.x,s=r.y>=e.y&&n.y<=i.y;return o&&s},overlaps:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>e.x&&n.x<i.x,s=r.y>e.y&&n.y<i.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},x.prototype={extend:function(t){var e,i,n=this._southWest,r=this._northEast;if(t instanceof E)e=t,i=t;else{if(!(t instanceof x))return t?this.extend(O(t)||C(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||r?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new E(e.lat,e.lng),this._northEast=new E(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new x(new E(e.lat-n,e.lng-r),new E(i.lat+n,i.lng+r))},getCenter:function(){return new E((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new E(this.getNorth(),this.getWest())},getSouthEast:function(){return new E(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof E||"lat"in t?O(t):C(t);var e,i,n=this._southWest,r=this._northEast;return t instanceof x?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=r.lat&&e.lng>=n.lng&&i.lng<=r.lng},intersects:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&n.lat<=i.lat,s=r.lng>=e.lng&&n.lng<=i.lng;return o&&s},overlaps:function(t){t=C(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&n.lat<i.lat,s=r.lng>e.lng&&n.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=C(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},E.prototype={equals:function(t,e){return!!t&&(t=O(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return ee.distance(this,O(t))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return C([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new E(this.lat,this.lng,this.alt)}};var Jt,te={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new w(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new E(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,r=e.lng-i.lng;if(0===n&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new x(new E(o.lat-n,o.lng-r),new E(s.lat-n,s.lng-r))}},ee=e({},te,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(o,1))}}),ie={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=Math.sin(n*e);return new y(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new E((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(Jt=6378137*Math.PI,new w([-Jt,-Jt],[Jt,Jt]))};S.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new y((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var ne,re,oe,se,ae,ue=e({},ee,{code:"EPSG:3857",projection:ie,transformation:(ae=.5/(Math.PI*ie.R),P(ae,.5,-ae,.5))}),le=e({},ue,{code:"EPSG:900913"}),ce=document.documentElement.style,he="ActiveXObject"in window,de=he&&!document.addEventListener,pe="msLaunchUri"in navigator&&!("documentMode"in document),fe=T("webkit"),me=T("android"),ve=T("android 2")||T("android 3"),ge=!!window.opera,_e=T("chrome"),ye=T("gecko")&&!fe&&!ge&&!he,be=!_e&&T("safari"),we=T("phantom"),ke="OTransition"in ce,xe=0===navigator.platform.indexOf("Win"),Ce=he&&"transition"in ce,Ee="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,Le="MozPerspective"in ce,Oe=!window.L_DISABLE_3D&&(Ce||Ee||Le)&&!ke&&!we,Se="undefined"!=typeof orientation||T("mobile"),Pe=Se&&fe,Ae=Se&&Ee,Me=!window.PointerEvent&&window.MSPointerEvent,Te=!(!window.PointerEvent&&!Me),je=!window.L_NO_TOUCH&&(Te||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ie=Se&&ge,Re=Se&&ye,Ne=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Be=!!document.createElement("canvas").getContext,De=!(!document.createElementNS||!A("svg").createSVGRect),ze=!De&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Fe=(Object.freeze||Object)({ie:he,ielt9:de,edge:pe,webkit:fe,android:me,android23:ve,opera:ge,chrome:_e,gecko:ye,safari:be,phantom:we,opera12:ke,win:xe,ie3d:Ce,webkit3d:Ee,gecko3d:Le,any3d:Oe,mobile:Se,mobileWebkit:Pe,mobileWebkit3d:Ae,msPointer:Me,pointer:Te,touch:je,mobileOpera:Ie,mobileGecko:Re,retina:Ne,canvas:Be,svg:De,vml:ze}),Ve=Me?"MSPointerDown":"pointerdown",qe=Me?"MSPointerMove":"pointermove",He=Me?"MSPointerUp":"pointerup",Ue=Me?"MSPointerCancel":"pointercancel",Ze=["INPUT","SELECT","OPTION"],We={},Ge=!1,Ye=0,Xe=Me?"MSPointerDown":Te?"pointerdown":"touchstart",$e=Me?"MSPointerUp":Te?"pointerup":"touchend",Qe="_leaflet_",Ke="_leaflet_events",Je=xe&&_e?2*window.devicePixelRatio:ye?window.devicePixelRatio:1,ti={},ei=(Object.freeze||Object)({on:F,off:V,stopPropagation:U,disableScrollPropagation:Z,disableClickPropagation:W,preventDefault:G,stop:Y,getMousePosition:X,getWheelDelta:$,fakeStop:Q,skipped:K,isExternalTarget:J,addListener:F,removeListener:V}),ii=pt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),ni=pt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ri="webkitTransition"===ni||"OTransition"===ni?ni+"End":"transitionend";if("onselectstart"in document)re=function(){F(window,"selectstart",G)},oe=function(){V(window,"selectstart",G)};else{var oi=pt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(oi){var t=document.documentElement.style;se=t[oi],t[oi]="none"}},oe=function(){oi&&(document.documentElement.style[oi]=se,se=void 0)}}var si,ai,ui=(Object.freeze||Object)({TRANSFORM:ii,TRANSITION:ni,TRANSITION_END:ri,get:tt,getStyle:et,create:it,remove:nt,empty:rt,toFront:ot,toBack:st,hasClass:at,addClass:ut,removeClass:lt,setClass:ct,getClass:ht,setOpacity:dt,testProp:pt,setTransform:ft,setPosition:mt,getPosition:vt,disableTextSelection:re,enableTextSelection:oe,disableImageDrag:gt,enableImageDrag:_t,preventOutline:yt,restoreOutline:bt}),li=Kt.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=vt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=v(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),mt(this._el,i),this.fire("step")},_complete:function(){g(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ci=Kt.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(O(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ni&&Oe&&!Ie&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,ri,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(O(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,i),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Oe?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Oe?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof y?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/n),s=this.containerPointToLatLng(r.add(o));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():C(t);var i=b(e.paddingTopLeft||e.padding||[0,0]),n=b(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(n));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=C(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=b(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new li,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ut(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){function n(t){var e=(d*d-h*h+(t?-1:1)*m*m*p*p)/(2*(t?d:h)*m*p),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return h*(o(g)*(r(e=g+f*t)/o(e))-r(g))/m;var e}if(!1===(i=i||{}).animate||!Oe)return this.setView(t,e,i);this._stop();var a=this.project(this.getCenter()),u=this.project(t),l=this.getSize(),c=this._zoom;t=O(t),e=void 0===e?c:e;var h=Math.max(l.x,l.y),d=h*this.getZoomScale(c,e),p=u.distanceTo(a)||1,f=1.42,m=f*f,g=n(0),_=Date.now(),y=(n(1)-g)/f,b=i.duration?1e3*i.duration:1e3*y*.8;return this._moveStart(!0),function i(){var n,r,l=(Date.now()-_)/b,d=(n=l,(1-Math.pow(1-n,1.5))*y);l<=1?(this._flyToFrame=v(i,this),this._move(this.unproject(a.add(u.subtract(a).multiplyBy(s(d)/p)),c),this.getScaleZoom(h/(r=d,h*(o(g)/o(g+f*r))),c),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=C(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,C(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=n.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new E(t.coords.latitude,t.coords.longitude),i=e.toBounds(t.coords.accuracy),n=this._locateOptions;if(n.setView){var r=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(r,n.maxZoom):r)}var o={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)nt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=it("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new x(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=C(t),i=b(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(i),l=k(this.project(a,n),this.project(s,n)).getSize(),c=Oe?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,p=e?Math.max(h,d):Math.min(h,d);return n=this.getScaleZoom(p,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(r,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new w(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(O(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(b(t),e)},layerPointToLatLng:function(t){var e=b(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(O(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(O(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(C(t))},distance:function(t,e){return this.options.crs.distance(O(t),O(e))},containerPointToLayerPoint:function(t){return b(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return b(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(b(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(O(t)))},mouseEventToContainerPoint:function(t){return X(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=tt(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");F(e,"scroll",this._onScroll,this),this._containerId=n(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe,ut(t,"leaflet-container"+(je?" leaflet-touch":"")+(Ne?" leaflet-retina":"")+(de?" leaflet-oldie":"")+(be?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=et(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new y(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(t.markerPane,"leaflet-zoom-hide"),ut(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){mt(this._mapPane,new y(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){mt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var e=t?V:F;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Oe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=v(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((i=this._targets[n(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!J(s,t))break;if(r.push(i),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!J(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!K(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||yt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,i))).length){var o=n[0];"contextmenu"===i&&o.listens(i,!0)&&G(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.options&&"icon"in o.options;s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<n.length;u++)if(n[u].fire(i,s,!0),s.originalEvent._stopped||!1===n[u].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return vt(this._mapPane)||new y(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return k([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),r=this.getSize().divideBy(2),o=new w(n.subtract(r),n.add(r)),s=this._getBoundsOffset(o,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new w(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=k(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),r=n.min.subtract(t.min),o=n.max.subtract(t.max);return new y(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=Oe?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ii,i=this._proxy.style[e];ft(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ft(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r)||(v(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,r){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),v(function(){this._moveEnd(!0)},this))}}),hi=_.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return ut(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),di=function(t){return new hi(t)};ci.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=i+t+" "+i+r;e[t+r]=it("div",o,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=it("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)nt(this._controlCorners[t]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pi=hi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in c(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return hi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(n(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ut(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):lt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=it("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),W(e),Z(e);var n=this._form=it("form",t+"-list");i&&(this._map.on("click",this.collapse,this),me||F(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=it("a",t+"-toggle",e);r.href="#",r.title="Layers",je?(F(r,"click",Y),F(r,"click",this.expand,this)):F(r,"focus",this.expand,this),i||this.expand(),this._baseLayersList=it("div",t+"-base",n),this._separator=it("div",t+"-separator",n),this._overlaysList=it("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&n(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rt(this._baseLayersList),rt(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,r=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(n(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=n(t.layer),F(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return i.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),fi=hi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=it("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,r){var o=it("a",i,n);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),W(o),F(o,"click",Y),F(o,"click",r,this),F(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";lt(this._zoomInButton,e),lt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ut(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ut(this._zoomInButton,e)}});ci.mergeOptions({zoomControl:!0}),ci.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fi,this.addControl(this.zoomControl))});var mi=hi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=it("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=it("div",e,i)),t.imperial&&(this._iScale=it("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,r=3.2808399*t;r>5280?(e=r/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),vi=hi.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=it("div","leaflet-control-attribution"),W(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});ci.mergeOptions({attributionControl:!0}),ci.addInitHook(function(){this.options.attributionControl&&(new vi).addTo(this)}),hi.Layers=pi,hi.Zoom=fi,hi.Scale=mi,hi.Attribution=vi,di.layers=function(t,e,i){return new pi(t,e,i)},di.zoom=function(t){return new fi(t)},di.scale=function(t){return new mi(t)},di.attribution=function(t){return new vi(t)};var gi,_i,yi=_.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),bi={Events:Qt},wi=je?"touchstart mousedown":"mousedown",ki={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},xi={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ci=Kt.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){c(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(F(this._dragStartTarget,wi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(),V(this._dragStartTarget,wi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!at(this._element,"leaflet-zoom-anim")&&!(Ci._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Ci._dragging=this,this._preventOutline&&yt(this._element),gt(),re(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new y(e.clientX,e.clientY),F(document,xi[t.type],this._onMove,this),F(document,ki[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new y(e.clientX,e.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(G(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=vt(this._element).subtract(i),ut(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,g(this._animRequest),this._lastEvent=t,this._animRequest=v(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),mt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xi)V(document,xi[t],this._onMove,this),V(document,ki[t],this._onUp,this);_t(),oe(),this._moved&&this._moving&&(g(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ci._dragging=!1}}),Ei=(Object.freeze||Object)({simplify:wt,pointToSegmentDistance:kt,closestPointOnSegment:function(t,e,i){return Lt(t,e,i)},clipSegment:xt,_getEdgeIntersection:Ct,_getBitCode:Et,_sqClosestPointOnSegment:Lt,isFlat:Ot,_flat:St}),Li=(Object.freeze||Object)({clipPolygon:Pt}),Oi={project:function(t){return new y(t.lng,t.lat)},unproject:function(t){return new E(t.y,t.x)},bounds:new w([-180,-90],[180,90])},Si={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new y(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new E(a*i,t.x*i/n)}},Pi=(Object.freeze||Object)({LonLat:Oi,Mercator:Si,SphericalMercator:ie}),Ai=e({},ee,{code:"EPSG:3395",projection:Si,transformation:(_i=.5/(Math.PI*Si.R),P(_i,.5,-_i,.5))}),Mi=e({},ee,{code:"EPSG:4326",projection:Oi,transformation:P(1/180,1,-1/180,.5)}),Ti=e({},te,{projection:Oi,transformation:P(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});te.Earth=ee,te.EPSG3395=Ai,te.EPSG3857=ue,te.EPSG900913=le,te.EPSG4326=Mi,te.Simple=Ti;var ji=Kt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});ci.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=n(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=n(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?Zt(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=n(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ii=ji.extend({initialize:function(t){var e,i;if(this._layers={},t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),Ri=Ii.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ii.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ii.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new x;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ni=_.extend({initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var r=b(n),o=b("shadow"===e&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ne&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Bi=Ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Bi.imagePath||(Bi.imagePath=this._detectIconPath()),(this.options.imagePath||Bi.imagePath)+Ni.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=it("div","leaflet-default-icon-path",document.body),e=et(t,"background-image")||et(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),Di=yi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ci(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=vt(e._icon),r=e._map.layerPointToLatLng(n);i&&mt(i,n),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),zi=ji.extend({options:{icon:new Bi,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){c(this,e),this._latlng=O(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=O(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),ut(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ut(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(t){mt(this._icon,t),this._shadow&&mt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Di)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Di(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;dt(this._icon,t),this._shadow&&dt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Fi=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(je?10:0)}}),Vi=Fi.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=O(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=O(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Fi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new w(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),qi=Vi.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),c(this,i),this._latlng=O(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new x(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Fi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===ee.distance){var r=Math.PI/180,o=this._mRadius/ee.R/r,s=i.project([e+o,t]),a=i.project([e-o,t]),u=s.add(a).divideBy(2),l=i.unproject(u).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-i.project([l,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-s.y),1)}else{var h=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}}),Hi=Fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,r=null,o=Lt,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],i=u[l],!0);h<n&&(n=h,r=o(t,e,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<u-1;t++)if(r=a[t],o=a[t+1],(n+=i=r.distanceTo(o))>e)return s=(n-e)/i,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=O(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new x,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Ot(t),n=0,r=t.length;n<r;n++)i?(e[n]=O(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new y(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,r,o=t[0]instanceof E,s=t.length;if(o){for(r=[],n=0;n<s;n++)r[n]=this._map.latLngToLayerPoint(t[n]),i.extend(r[n]);e.push(r)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,r,o,s,a,u=this._parts;for(e=0,n=0,r=this._rings.length;e<r;e++)for(i=0,o=(a=this._rings[e]).length;i<o-1;i++)(s=xt(a[i],a[i+1],t,i,!0))&&(u[n]=u[n]||[],u[n].push(s[0]),s[1]===a[i+1]&&i!==o-2||(u[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=wt(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,o=this._parts.length;i<o;i++)for(n=0,r=(s=(a=this._parts[i]).length)-1;n<s;r=n++)if((e||0!==n)&&kt(t,a[r],a[n])<=u)return!0;return!1}});Hi._flat=St;var Ui=Hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=s=a=0,t=0,e=c-1;t<c;e=t++)i=l[t],n=l[e],r=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*r,a+=(i.y+n.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Hi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof E&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Hi.prototype._setLatLngs.call(this,t),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new y(e,e);if(t=new w(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,o=this._rings.length;r<o;r++)(n=Pt(this._rings[r],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,r,o,s,a,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(u=(e=this._parts[r]).length)-1;o<u;s=o++)i=e[o],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||Hi.prototype._containsPoint.call(this,t,!0)}}),Zi=Ri.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,r=Zt(t)?t:t.features;if(r){for(e=0,i=r.length;e<i;e++)((n=r[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=At(t,o);return s?(s.feature=Nt(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Wi={toGeoJSON:function(t){return Rt(this,{type:"Point",coordinates:jt(this.getLatLng(),t)})}};zi.include(Wi),qi.include(Wi),Vi.include(Wi),Hi.include({toGeoJSON:function(t){var e=!Ot(this._latlngs);return Rt(this,{type:(e?"Multi":"")+"LineString",coordinates:It(this._latlngs,e?1:0,!1,t)})}}),Ui.include({toGeoJSON:function(t){var e=!Ot(this._latlngs),i=e&&!Ot(this._latlngs[0]),n=It(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Rt(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Ii.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Rt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(i)n.push(r.geometry);else{var o=Nt(r);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}}),i?Rt(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Gi=Bt,Yi=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=C(e),c(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ot(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=C(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=it("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=s,t.onmousemove=s,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ft(this._image,i,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();mt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Xi=Yi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:it("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=i(this.fire,this,"load"),!t){Zt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var n=0;n<this._url.length;n++){var r=it("source");r.src=this._url[n],e.appendChild(r)}}}}),$i=ji.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&dt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(i(nt,void 0,this._container),200)):nt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=O(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ot(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=b(this.options.offset),i=this._getAnchor();this._zoomAnimated?mt(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Qi=$i.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){$i.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fi||this._source.on("preclick",U))},onRemove:function(t){$i.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fi||this._source.off("preclick",U))},getEvents:function(){var t=$i.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=it("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=it("div",t+"-content-wrapper",e);if(this._contentNode=it("div",t+"-content",i),W(i),Z(this._contentNode),F(i,"contextmenu",U),this._tipContainer=it("div",t+"-tip-container",e),this._tip=it("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=it("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",F(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,r=this.options.maxHeight;r&&n>r?(e.height=r+"px",ut(t,"leaflet-popup-scrolled")):lt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();mt(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(et(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,r=new y(this._containerLeft,-i-this._containerBottom);r._add(vt(this._container));var o=t.layerPointToContainerPoint(r),s=b(this.options.autoPanPadding),a=b(this.options.autoPanPaddingTopLeft||s),u=b(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;o.x+n+u.x>l.x&&(c=o.x+n-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+i+u.y>l.y&&(h=o.y+i-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Y(t)},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ci.mergeOptions({closePopupOnClick:!0}),ci.include({openPopup:function(t,e,i){return t instanceof Qi||(t=new Qi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ji.include({bindPopup:function(t,e){return t instanceof Qi?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Qi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof ji||(e=t,t=this),t instanceof Ri)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Y(t),e instanceof Fi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ki=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){$i.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){$i.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=$i.prototype.getEvents.call(this);return je&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,u=b(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(b(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(b(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(b(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<n.x?(o="right",t=t.add(b(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(b(s+l.x-u.x,a/2-l.y-u.y,!0))),lt(i,"leaflet-tooltip-right"),lt(i,"leaflet-tooltip-left"),lt(i,"leaflet-tooltip-top"),lt(i,"leaflet-tooltip-bottom"),ut(i,"leaflet-tooltip-"+o),mt(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&dt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ci.include({openTooltip:function(t,e,i){return t instanceof Ki||(t=new Ki(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ji.include({bindTooltip:function(t,e){return t instanceof Ki?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ki(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),je&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof ji||(e=t,t=this),t instanceof Ri)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ut(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(lt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Ji=Ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=b(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Ni.Default=Bi;var tn=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),nt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(ot(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof y?t:new y(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),r=0,o=i.length;r<o;r++)e=i[r].style.zIndex,i[r]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de){dt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);dt(r.el,o),o<1?e=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(g(this._fadeFrame),this._fadeFrame=v(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(nt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],r=this._map;return n||((n=this._levels[t]={}).el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,r.getCenter(),r.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)nt(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,n){var r=Math.floor(t/2),o=Math.floor(e/2),s=i-1,a=new y(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>n&&this._retainParent(r,o,s,n))},_retainChildren:function(t,e,i,n){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new y(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),i+1<n&&this._retainChildren(r,o,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;n&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),r=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();Oe?ft(t.el,r,n):mt(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*n);return new w(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new w(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new y(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var p=new y(d,h);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||s.push(p))}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return C(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),r=n.add(i),o=new x(e.unproject(n,t.z),e.unproject(r,t.z));return this.options.noWrap||e.wrapLatLngBounds(o),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new y(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(nt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ut(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,de&&this.options.opacity<1&&dt(t,this.options.opacity),me&&!ve&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&v(i(this._tileReady,this,t,null,o)),mt(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(dt(n.el,0),g(this._fadeFrame),this._fadeFrame=v(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ut(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de||!this._map._fadeAnimated?v(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new y(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),en=tn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=c(this,e)).detectRetina&&Ne&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),me||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return F(n,"load",i(this._tileOnLoad,this,e,n)),F(n,"error",i(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var i={r:Ne?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return d(this._url,e(i,this.options))},_tileOnLoad:function(t,e){de?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.src!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=Wt,nt(e)))}}),nn=en.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var r in i)r in this.options||(n[r]=i[r]);i=c(this,i),n.width=n.height=i.tileSize*(i.detectRetina&&Ne?2:1),this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,en.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===Mi?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),o=en.prototype.getTileUrl.call(this,t);return o+h(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});en.WMS=nn,Dt.wms=function(t,e){return new nn(t,e)};var rn=ji.extend({options:{padding:.1},initialize:function(t){c(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=vt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=r.multiplyBy(-i).add(n).add(r).subtract(s);Oe?ft(this._container,a,i):mt(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),on=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");F(t,"mousemove",r(this._onMouseMove,32,this),this),F(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,nt(this._container),V(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},rn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Ne?2:1;mt(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Ne&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||v(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++)o=s[i][n],u[n?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=t._radius,r=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(e.x,e.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(Q(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(lt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,r=this._drawFirst;r;r=r.next)(i=r.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(ut(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),sn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),an={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=sn("shape");ut(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=sn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;nt(e),t.removeInteractiveTarget(e),delete this._layers[n(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,r=t._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(e||(e=t._stroke=sn("stroke")),r.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=Zt(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(r.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=sn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ot(t._container)},_bringToBack:function(t){st(t._container)}},un=ze?sn:A,ln=rn.extend({getEvents:function(){var t=rn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),V(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){rn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),mt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=un("path");t.options.className&&ut(e,t.options.className),t.options.interactive&&ut(e,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){nt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,M(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n="a"+i+","+(t._radiusY||i)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ot(t._path)},_bringToBack:function(t){st(t._path)}});ze&&ln.include(an),ci.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&zt()||Ft()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=ln&&Ft({pane:t})||on&&zt({pane:t}),this._paneRenderers[t]=e),e}});var cn=Ui.extend({initialize:function(t,e){Ui.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=C(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ln.create=un,ln.pointsToPath=M,Zi.geometryToLayer=At,Zi.coordsToLatLng=Mt,Zi.coordsToLatLngs=Tt,Zi.latLngToCoords=jt,Zi.latLngsToCoords=It,Zi.getFeature=Rt,Zi.asFeature=Nt,ci.mergeOptions({boxZoom:!0});var hn=yi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),gt(),this._startPoint=this._map.mouseEventToContainerPoint(t),F(document,{contextmenu:Y,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),i=e.getSize();mt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(nt(this._box),lt(this._container,"leaflet-crosshair")),oe(),_t(),V(document,{contextmenu:Y,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new x(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});ci.addInitHook("addHandler","boxZoom",hn),ci.mergeOptions({doubleClickZoom:!0});var dn=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,r=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});ci.addInitHook("addHandler","doubleClickZoom",dn),ci.mergeOptions({dragging:!0,inertia:!ve,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pn=yi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ci(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=C(this._map.options.maxBounds);this._offsetLimit=k(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(i.inertiaDeceleration*s),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),v(function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});ci.addInitHook("addHandler","dragging",pn),ci.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fn=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),F(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),V(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;e<i;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;e<i;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;e<i;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;e<i;e++)n[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;e<i;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;e<i;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){V(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=b(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup)return;n.closePopup()}Y(t)}}});ci.addInitHook("addHandler","keyboard",fn),ci.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mn=yi.extend({addHooks:function(){F(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){V(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Y(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(r/i)*i:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});ci.addInitHook("addHandler","scrollWheelZoom",mn),ci.mergeOptions({tap:!0,tapTolerance:15});var vn=yi.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(G(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new y(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ut(n,"leaflet-active"),this._holdTimeout=setTimeout(i(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),F(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),V(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&lt(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new y(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});je&&!Te&&ci.addInitHook("addHandler","tap",vn),ci.mergeOptions({touchZoom:je&&!ve,bounceAtZoomLimits:!0});var gn=yi.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend",this._onTouchEnd,this),G(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),g(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=v(a,this,!0),G(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),V(document,"touchmove",this._onTouchMove),V(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ci.addInitHook("addHandler","touchZoom",gn),ci.BoxZoom=hn,ci.DoubleClickZoom=dn,ci.Drag=pn,ci.Keyboard=fn,ci.ScrollWheelZoom=mn,ci.Tap=vn,ci.TouchZoom=gn;var _n=window.L;window.L=t,Object.freeze=Vt,t.version="1.2.0",t.noConflict=function(){return window.L=_n,this},t.Control=hi,t.control=di,t.Browser=Fe,t.Evented=Kt,t.Mixin=bi,t.Util=$t,t.Class=_,t.Handler=yi,t.extend=e,t.bind=i,t.stamp=n,t.setOptions=c,t.DomEvent=ei,t.DomUtil=ui,t.PosAnimation=li,t.Draggable=Ci,t.LineUtil=Ei,t.PolyUtil=Li,t.Point=y,t.point=b,t.Bounds=w,t.bounds=k,t.Transformation=S,t.transformation=P,t.Projection=Pi,t.LatLng=E,t.latLng=O,t.LatLngBounds=x,t.latLngBounds=C,t.CRS=te,t.GeoJSON=Zi,t.geoJSON=Bt,t.geoJson=Gi,t.Layer=ji,t.LayerGroup=Ii,t.layerGroup=function(t){return new Ii(t)},t.FeatureGroup=Ri,t.featureGroup=function(t){return new Ri(t)},t.ImageOverlay=Yi,t.imageOverlay=function(t,e,i){return new Yi(t,e,i)},t.VideoOverlay=Xi,t.videoOverlay=function(t,e,i){return new Xi(t,e,i)},t.DivOverlay=$i,t.Popup=Qi,t.popup=function(t,e){return new Qi(t,e)},t.Tooltip=Ki,t.tooltip=function(t,e){return new Ki(t,e)},t.Icon=Ni,t.icon=function(t){return new Ni(t)},t.DivIcon=Ji,t.divIcon=function(t){return new Ji(t)},t.Marker=zi,t.marker=function(t,e){return new zi(t,e)},t.TileLayer=en,t.tileLayer=Dt,t.GridLayer=tn,t.gridLayer=function(t){return new tn(t)},t.SVG=ln,t.svg=Ft,t.Renderer=rn,t.Canvas=on,t.canvas=zt,t.Path=Fi,t.CircleMarker=Vi,t.circleMarker=function(t,e){return new Vi(t,e)},t.Circle=qi,t.circle=function(t,e,i){return new qi(t,e,i)},t.Polyline=Hi,t.polyline=function(t,e){return new Hi(t,e)},t.Polygon=Ui,t.polygon=function(t,e){return new Ui(t,e)},t.Rectangle=cn,t.rectangle=function(t,e){return new cn(t,e)},t.Map=ci,t.map=function(t,e){return new ci(t,e)}},"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(e.L={}),window,n=document,L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,r=this._nonPointGroup,o=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,u=t.length,l=0,c=!0;if(this._map){var h=(new Date).getTime(),d=L.bind(function(){for(var p=(new Date).getTime();u>l&&!(o&&0==l%200&&(new Date).getTime()-p>s);l++)if((i=t[l])instanceof L.LayerGroup)c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(i,t),u=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var f=i.__parent.getAllChildMarkers(),m=f[0]===i?f[1]:f[0];n.removeLayer(m)}}else r.addLayer(i),e||this.fire("layeradd",{layer:i});a&&a(l,u,(new Date).getTime()-h),l===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var p=this._needsClustering;u>l;l++)(i=t[l])instanceof L.LayerGroup?(c&&(t=t.slice(),c=!1),this._extractNonGroupLayers(i,t),u=t.length):i.getLatLng?this.hasLayer(i)||p.push(i):r.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,r=this._featureGroup,o=this._nonPointGroup,s=!0;if(!this._map){for(e=0;n>e;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),o.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),u=n;for(e=0;u>e;e++)(i=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),u=a.length):this._unspiderfyLayer(i)}for(e=0;n>e;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),r.hasLayer(i)&&(r.removeLayer(i),i.clusterShow&&i.clusterShow())):(o.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,r,o=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),n=o.length-1;n>=0;n--){for(i=!0,r=s.length-1;r>=0;r--)if(s[r].layer===o[n]){i=!1;break}i&&t.call(e,o[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;i>e;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,r=this._map.getMinZoom();e>=r&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,i){var n=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,s=this._map,a=this._map.getMinZoom();e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,c=l._markers;for(this._arraySplice(c,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(o.removeLayer(l),i||o.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this._map.getMinZoom(),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var r=t;r>=e;r--)this._gridClusters[r]=new L.DistanceGrid(n(r)),this._gridUnclustered[r]=new L.DistanceGrid(n(r));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,r=this._gridClusters,o=this._gridUnclustered,s=this._map.getMinZoom();for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){i=this._map.project(t.getLatLng(),e);var a=r[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=o[e].getNearObject(i)){var u=a.__parent;u&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);r[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var c=l;for(n=e-1;n>u._zoom;n--)c=new this._markerCluster(this,n,c),r[n].addObject(c,this._map.project(a.getLatLng(),n));return u._addChild(c),void this._removeFromGridUnclustered(a,e)}o[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),r=0;for(e=e||[];r<n.length;r++)(i=n[r])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),r=this._featureGroup,o=this._map.getMinZoom();this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,o,function(o){var s,a=o._latlng,u=o._markers;for(n.contains(a)||(a=null),o._isSingleParent()&&t+1===e?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,n)):(o.clusterHide(),o._recursivelyAddChildrenToMap(a,e,n)),i=u.length-1;i>=0;i--)s=u[i],n.contains(s._latlng)||r.removeLayer(s)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),r.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,o,function(t){r.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),r=this._map.getMinZoom();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,e+1,i);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,r,function(t){t._recursivelyRemoveChildrenFromMap(n,r,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(n.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),r=this._zoom+1,o=i.getZoom();e.length>0&&n>r;){r++;var s=[];for(t=0;t<e.length;t++)s=s.concat(e[t]._childClusters);e=s}n>r?this._group._map.setView(this._latlng,r):o>=n?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,r=this._markers,o=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<r.length;t++)i=r[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<o.length;t++)(e=o[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,function(t){var i,n,r=t._markers;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,r=t._childClusters;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,function(r){r._recursivelyAnimateChildrenIn(t,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&&i-1===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(t,e,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,function(n){if(e!==n._zoom)for(var r=n._markers.length-1;r>=0;r--){var o=n._markers[r];i.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.clusterHide&&o.clusterHide()),n._group._featureGroup.addLayer(o))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var r,o;this._recursively(t,e-1,i-1,function(t){for(o=t._markers.length-1;o>=0;o--)r=t._markers[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)r=t._childClusters[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(t,e,i,n,r){var o,s,a=this._childClusters,u=this._zoom;if(u>=e&&(n&&n(this),r&&u===i&&r(this)),e>u||i>u)for(o=a.length-1;o>=0;o--)s=a[o],t.intersects(s._bounds)&&s._recursively(t,e,i,n,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),r=this._grid,o=r[n]=r[n]||{},s=o[i]=o[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,r=this._getCoord(e.x),o=this._getCoord(e.y),s=this._grid,a=s[o]=s[o]||{},u=a[r]=a[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=u.length;n>i;i++)if(u[i]===t)return u.splice(i,1),1===n&&delete a[r],!0},eachObject:function(t,e){var i,n,r,o,s,a,u=this._grid;for(i in u)for(n in s=u[i])for(r=0,o=(a=s[n]).length;o>r;r++)t.call(e,a[r])&&(r--,o--)},getNearObject:function(t){var e,i,n,r,o,s,a,u,l=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=c-1;c+1>=e;e++)if(r=this._grid[e])for(i=l-1;l+1>=i;i++)if(o=r[i])for(n=0,s=o.length;s>n;n++)a=o[n],d>(u=this._sqDist(h[L.Util.stamp(a)],t))&&(d=u,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,r,o=0,s=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],(r=this.getDistant(n,t))>0&&(a.push(n),r>o&&(o=r,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,r=!1,o=!1,s=null,a=null,u=null,l=null,c=null,h=null;for(e=t.length-1;e>=0;e--){var d=t[e];(!1===i||d.lat>i)&&(s=d,i=d.lat),(!1===n||d.lat<n)&&(a=d,n=d.lat),(!1===r||d.lng>r)&&(u=d,r=d.lng),(!1===o||d.lng<o)&&(l=d,o=d.lng)}return n!==i?(h=a,c=s):(h=l,c=u),[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,o=this._2PI/t,s=[];for(s.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,s[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return s},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,r=n*this._spiralLengthStart,o=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,u=[];for(u.length=t,i=t-1;i>=0;i--)a+=o/r+5e-4*i,u[i]=new L.Point(e.x+r*Math.cos(a),e.y+r*Math.sin(a))._round(),r+=s/a;return u},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,r=i._featureGroup,o=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:o}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,r,o,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)o=a.layerPointToLatLng(e[i]),n=t[i],r=new L.Polyline([this._latlng,o],l),a.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(o),n.setZIndexOffset&&n.setZIndexOffset(1e6),u.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,r,o,s,a,u=this,l=this._group,c=l._map,h=l._featureGroup,d=this._latlng,p=c.latLngToLayerPoint(d),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),v=m.opacity;for(void 0===v&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=v,l._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],a=c.layerPointToLatLng(e[i]),r=new L.Polyline([d,a],m),c.addLayer(r),n._spiderLeg=r,f&&(s=(o=r._path).getTotalLength()+.1,o.style.strokeDasharray=s,o.style.strokeDashoffset=s),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),h.addLayer(n),n._setPos&&n._setPos(p);for(l._forceLayout(),l._animationStart(),i=t.length-1;i>=0;i--)a=c.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&&n.clusterShow(),f&&((o=(r=n._spiderLeg)._path).style.strokeDashoffset=0,r.setStyle({opacity:v}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,r,o,s,a=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),i=d.length-1;i>=0;i--)(e=d[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(h),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&c.removeLayer(e),p&&(o=(r=(n=e._spiderLeg)._path).getTotalLength()+.1,r.style.strokeDashoffset=o,n.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(i=d.length-1;i>=0;i--)(e=d[i])._spiderLeg&&t++;for(i=d.length-1;i>=0;i--)(e=d[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r=function(t){var e,i=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:t.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(e){for(var i in e)"object"==typeof this.options[i]?t.extend(this.options[i],e[i]):this.options[i]=e[i];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(e){var i=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");return this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null,this._link=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",i),this._link.title=this.options.strings.title,this._icon=t.DomUtil.create(this.options.iconElementTag,this.options.icon,this._link),t.DomEvent.on(this._link,"click",t.DomEvent.stopPropagation).on(this._link,"click",t.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),i},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){switch(this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds)(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this.options.keepCurrentZoomLevel){(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude])}else{(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})}},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var e,i,n=this._event.accuracy,r=this._event.latlng;if(this.options.drawCircle){var o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(r).setRadius(n).setStyle(o):this._circle=t.circle(r,n,o).addTo(this._layer)}if(this.options.metric?(e=n.toFixed(0),i=this.options.strings.metersUnit):(e=(3.2808399*n).toFixed(0),i=this.options.strings.feetUnit),this.options.drawMarker){var s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(r),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(r,s).addTo(this._layer)}var a=this.options.strings.popup;this.options.showPopup&&a&&this._marker&&this._marker.bindPopup(t.Util.template(a,{distance:e,unit:i}))._popup.setLatLng(r)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(e){"requesting"==e?(t.DomUtil.removeClasses(this._container,"active following"),t.DomUtil.addClasses(this._container,"requesting"),t.DomUtil.removeClasses(this._icon,this.options.icon),t.DomUtil.addClasses(this._icon,this.options.iconLoading)):"active"==e?(t.DomUtil.removeClasses(this._container,"requesting following"),t.DomUtil.addClasses(this._container,"active"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)):"following"==e&&(t.DomUtil.removeClasses(this._container,"requesting"),t.DomUtil.addClasses(this._container,"active following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon))},_cleanClasses:function(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),t.DomUtil.removeClasses(this._icon,this.options.iconLoading),t.DomUtil.addClasses(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return t.control.locate=function(e){return new t.Control.Locate(e)},e=function(e,i,n){(n=n.split(" ")).forEach(function(n){t.DomUtil[e].call(this,i,n)})},t.DomUtil.addClasses=function(t,i){e("addClass",t,i)},t.DomUtil.removeClasses=function(t,i){e("removeClass",t,i)},i},o=window,"function"==typeof define&&define.amd?define(["leaflet"],r):"object"==typeof exports&&(void 0!==o&&o.L?module.exports=r(L):module.exports=r(require("leaflet"))),void 0!==o&&o.L&&(o.L.Control.Locate=r(L)),L.GridLayer.GoogleMutant=L.GridLayer.extend({includes:L.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(t,e){var i=0,n=null;n=setInterval(function(){return i>=10?(clearInterval(n),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(n),t(window.google)):void i++},500)}),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(t){L.GridLayer.prototype.onAdd.call(this,t),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=t,this._initMutant(),t.on("viewreset",this._reset,this),t.on("move",this._update,this),t.on("zoomend",this._handleZoomAnim,this),t.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),t._controlCorners.bottomright.style.marginBottom="20px",t._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var e in this._subLayers)this._subLayers[e].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em"},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(t,e){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var i=new(0,google.maps[t])(e);return i.setMap(this._mutant),this._subLayers[t]=i,i}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var i=t[e],n=0;n<i.addedNodes.length;++n){var r=i.addedNodes[n];r instanceof HTMLImageElement?this._onMutatedImage(r):r instanceof HTMLElement&&Array.prototype.forEach.call(r.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,i=t.src.match(this._roadRegexp),n=0;if(i?(e={z:i[1],x:i[2],y:i[3]},this._imagesPerTile>1&&(t.style.zIndex=1,n=1)):((i=t.src.match(this._satRegexp))&&(e={x:i[1],y:i[2],z:i[3]}),n=0),e){var r=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var o=r+"/"+n;if(this._freshTiles[o]=t,o in this._tileCallbacks&&this._tileCallbacks[o])this._tileCallbacks[o].pop()(t),this._tileCallbacks[o].length||delete this._tileCallbacks[o];else if(this._tiles[r]){var s=this._tiles[r].el,a=0===n?s.firstChild:s.firstChild.nextSibling,u=this._clone(t);s.replaceChild(u,a)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,e){var i=this._tileCoordsToKey(t),n=L.DomUtil.create("div");n.dataset.pending=this._imagesPerTile,e=e.bind(this,null,n);for(var r=0;r<this._imagesPerTile;r++){var o=i+"/"+r;if(o in this._freshTiles){var s=this._freshTiles[o];n.appendChild(this._clone(s)),n.dataset.pending--}else this._tileCallbacks[o]=this._tileCallbacks[o]||[],this._tileCallbacks[o].push(function(t){return function(i){t.appendChild(this._clone(i)),t.dataset.pending--,parseInt(t.dataset.pending)||e()}.bind(this)}.bind(this)(n))}return parseInt(n.dataset.pending)||L.Util.requestAnimFrame(e),n},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var i=this._map.getZoom(),n=i!==Math.round(i),r=this._mutant.getZoom();n||i==r||(this._mutant.setZoom(i),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),i=t.split(":")[2],n=this._mutant.getBounds(),r=n.getSouthWest(),o=n.getNorthEast(),s=L.latLngBounds([[r.lat(),r.lng()],[o.lat(),o.lng()]]),a=0;a<this._imagesPerTile;a++){var u=t+"/"+a;if(u in this._freshTiles){var l=this._map&&this._keyToBounds(t);this._map&&l.overlaps(s)&&i==e||delete this._freshTiles[u]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)},function(){function t(t,e){this.title=t.title,this.stateName=t.stateName?t.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=function(t){var e;t.match(/[&;=<>"']/)?e=t:(t=t.replace(/(^\s*|\s*$)/g,""),e=L.DomUtil.create("span",""),0===t.indexOf("fa-")?L.DomUtil.addClass(e,"fa "+t):0===t.indexOf("glyphicon-")?L.DomUtil.addClass(e,"glyphicon "+t):L.DomUtil.addClass(e,t),e=e.outerHTML);return e}(t.icon),this.onClick=L.Util.bind(t.onClick?t.onClick:function(){},e)}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(t,e){e&&L.Util.setOptions(this,e),this._buildContainer(),this._buttons=[];for(var i=0;i<t.length;i++)t[i]._bar=this,t[i]._container=t[i].button,this._buttons.push(t[i]),this.container.appendChild(t[i].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(t){this._map=t;for(var e=0;e<this._buttons.length;e++)this._buttons[e]._map=t;var i=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return L.DomUtil.addClass(i,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}}),L.easyBar=function(){for(var t=[L.Control.EasyBar],e=0;e<arguments.length;e++)t.push(arguments[e]);return new(Function.prototype.bind.apply(L.Control.EasyBar,t))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(e,i,n,r){this.options.states=[],null!=r&&(this.options.id=r),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof e&&"function"==typeof i&&this.options.states.push({icon:e,onClick:i,title:"string"==typeof n?n:""}),this._states=[];for(var o=0;o<this.options.states.length;o++)this._states.push(new t(this.options.states[o],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),"button"===this.options.tagName&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",function(t){L.DomEvent.stop(t),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()},this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var t=0;t<this._states.length;t++)this.button.appendChild(this._states[t].icon)},_currentState:{stateName:"unnamed",icon:document.createElement("span")},_states:null,state:function(t){return"string"==typeof t?this._activateStateNamed(t):"number"==typeof t&&this._activateState(this._states[t]),this},_activateStateNamed:function(t){for(var e=0;e<this._states.length;e++)this._states[e].stateName==t&&this._activateState(this._states[e])},_activateState:function(t){if(t!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(t.icon),this.button.removeChild(this._currentState.icon)),t.title?this.button.title=t.title:this.button.removeAttribute("title");for(var e=0;e<this._states.length;e++)L.DomUtil.removeClass(this._states[e].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[e].icon,t.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,t.stateName+"-active"),this._currentState=t}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(t){var e=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=e,this._container=e.container,this._anonymousBar.container},removeFrom:function(t){return this._map===t&&this.remove(),this}}),L.easyButton=function(){var t=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,t))}}(),function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(t){"use strict";return t.Polyline._flat=t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))},distanceSegment:function(e,i,n,r){var o=e.latLngToLayerPoint(i),s=e.latLngToLayerPoint(n),a=e.latLngToLayerPoint(r);return t.LineUtil.pointToSegmentDistance(o,s,a)},readableDistance:function(t,e){return"imperial"!==e?t>1e3?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":(t*=1.09361)>1760?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"},belongsSegment:function(t,e,i,n){n=void 0===n?.2:n;var r=e.distanceTo(i);return(e.distanceTo(t)+t.distanceTo(i)-r)/r<n},length:function(e){var i=t.GeometryUtil.accumulatedLengths(e);return i.length>0?i[i.length-1]:0},accumulatedLengths:function(t){if("function"==typeof t.getLatLngs&&(t=t.getLatLngs()),0===t.length)return[];for(var e=0,i=[0],n=0,r=t.length-1;n<r;n++)e+=t[n].distanceTo(t[n+1]),i.push(e);return i},closestOnSegment:function(e,i,n,r){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=e.project(i,o),a=e.project(n,o),u=e.project(r,o),l=t.LineUtil.closestPointOnSegment(s,a,u);return e.unproject(l,o)},closest:function(e,i,n,r){var o,s,a,u=1/0,l=null;if(i instanceof Array){if(i[0]instanceof Array&&"number"!=typeof i[0][0]){for(var c=0;c<i.length;c++){(m=t.GeometryUtil.closest(e,i[c],n,r)).distance<u&&(u=m.distance,l=m)}return l}if(!(i[0]instanceof t.LatLng||"number"==typeof i[0][0]||"number"==typeof i[0].lat))return l;i=t.polyline(i)}if(!(i instanceof t.Polyline))return l;if(o=JSON.parse(JSON.stringify(i.getLatLngs().slice(0))),i instanceof t.Polygon){var h=function(e){if(t.Polyline._flat(e))e.push(e[0]);else for(var i=0;i<e.length;i++)h(e[i])};h(o)}if(t.Polyline._flat(o)){if(r){for(c=0,s=o.length;c<s;c++){var d=o[c];(a=t.GeometryUtil.distance(e,n,d))<u&&(u=a,(l=d).distance=a)}return l}for(c=0,s=o.length;c<s-1;c++){var p=o[c],f=o[c+1];(a=t.GeometryUtil.distanceSegment(e,n,p,f))<=u&&(u=a,(l=t.GeometryUtil.closestOnSegment(e,n,p,f)).distance=a)}return l}for(c=0;c<o.length;c++){var m;(m=t.GeometryUtil.closest(e,o[c],n,r)).distance<u&&(u=m.distance,l=m)}return l},closestLayer:function(e,i,n){for(var r=1/0,o=null,s=null,a=1/0,u=0,l=i.length;u<l;u++){var c=i[u];if(c instanceof t.LayerGroup){var h=t.GeometryUtil.closestLayer(e,c.getLayers(),n);h.distance<r&&(r=h.distance,o=h)}else"function"==typeof c.getLatLng?(s=c.getLatLng(),a=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(a=s.distance),a<r&&(r=a,o={layer:c,latlng:s,distance:a})}return o},nClosestLayers:function(e,i,n,r){if((r="number"==typeof r?r:i.length)<1||i.length<1)return null;for(var o,s,a=[],u=0,l=i.length;u<l;u++){var c=i[u];if(c instanceof t.LayerGroup){var h=t.GeometryUtil.closestLayer(e,c.getLayers(),n);a.push(h)}else"function"==typeof c.getLatLng?(s=c.getLatLng(),o=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(o=s.distance),a.push({layer:c,latlng:s,distance:o})}return a.sort(function(t,e){return t.distance-e.distance}),a.length>r?a.slice(0,r):a},layersWithin:function(e,i,n,r){r="number"==typeof r?r:1/0;for(var o=[],s=null,a=0,u=0,l=i.length;u<l;u++){var c=i[u];"function"==typeof c.getLatLng?(s=c.getLatLng(),a=t.GeometryUtil.distance(e,n,s)):(s=t.GeometryUtil.closest(e,c,n))&&(a=s.distance),s&&a<r&&o.push({layer:c,latlng:s,distance:a})}return o.sort(function(t,e){return t.distance-e.distance})},closestLayerSnap:function(e,i,n,r,o){r="number"==typeof r?r:1/0,o="boolean"!=typeof o||o;var s=t.GeometryUtil.closestLayer(e,i,n);if(!s||s.distance>r)return null;if(o&&"function"==typeof s.layer.getLatLngs){var a=t.GeometryUtil.closest(e,s.layer,s.latlng,!0);a.distance<r&&(s.latlng=a,s.distance=t.GeometryUtil.distance(e,a,n))}return s},interpolateOnPointSegment:function(e,i,n){return t.point(e.x*(1-n)+n*i.x,e.y*(1-n)+n*i.y)},interpolateOnLine:function(e,i,n){var r=(i=i instanceof t.Polyline?i.getLatLngs():i).length;if(r<2)return null;if(0===(n=Math.max(Math.min(n,1),0)))return{latLng:i[0]instanceof t.LatLng?i[0]:t.latLng(i[0]),predecessor:-1};if(1==n)return{latLng:i[i.length-1]instanceof t.LatLng?i[i.length-1]:t.latLng(i[i.length-1]),predecessor:i.length-2};var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());for(var s=[],a=0,u=0;u<r;u++)s[u]=e.project(i[u],o),u>0&&(a+=s[u-1].distanceTo(s[u]));for(var l=a*n,c=s[0],h=s[1],d=0,p=c.distanceTo(h),f=1;f<r&&p<l;f++)c=h,d=p,h=s[f],p+=c.distanceTo(h);var m=p-d!=0?(l-d)/(p-d):0,v=t.GeometryUtil.interpolateOnPointSegment(c,h,m);return{latLng:e.unproject(v,o),predecessor:f-2}},locateOnLine:function(e,i,n){var r=i.getLatLngs();if(n.equals(r[0]))return 0;if(n.equals(r[r.length-1]))return 1;for(var o=t.GeometryUtil.closest(e,i,n,!1),s=t.GeometryUtil.accumulatedLengths(r),a=s[s.length-1],u=0,l=!1,c=0,h=r.length-1;c<h;c++){var d=r[c],p=r[c+1];if(u=s[c],t.GeometryUtil.belongsSegment(o,d,p)){u+=d.distanceTo(o),l=!0;break}}if(!l)throw"Could not interpolate "+n.toString()+" within "+i.toString();return u/a},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,i,n,r){if(n>r)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(i),1-n,1-r);n=Math.max(Math.min(n,1),0),r=Math.max(Math.min(r,1),0);var o=i.getLatLngs(),s=t.GeometryUtil.interpolateOnLine(e,i,n),a=t.GeometryUtil.interpolateOnLine(e,i,r);if(n==r)return[t.GeometryUtil.interpolateOnLine(e,i,r).latLng];-1==s.predecessor&&(s.predecessor=0),-1==a.predecessor&&(a.predecessor=0);var u=o.slice(s.predecessor+1,a.predecessor+1);return u.unshift(s.latLng),u.push(a.latLng),u},isBefore:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[i.length-1].equals(n[0])},isAfter:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs();return i[0].equals(n[n.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var i=t.getLatLngs(),n=e.getLatLngs(),r=i[0];return r.equals(n[0])||r.equals(n[n.length-1])},computeAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},computeSlope:function(t,e){var i=(e.y-t.y)/(e.x-t.x);return{a:i,b:t.y-i*t.x}},rotatePoint:function(e,i,n,r){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=n*Math.PI/180,a=e.project(i,o),u=e.project(r,o),l=Math.cos(s)*(a.x-u.x)-Math.sin(s)*(a.y-u.y)+u.x,c=Math.sin(s)*(a.x-u.x)+Math.cos(s)*(a.y-u.y)+u.y;return e.unproject(new t.Point(l,c),o)},bearing:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=t.lng*i,s=e.lng*i,a=Math.sin(s-o)*Math.cos(r),u=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(s-o),l=(180*Math.atan2(a,u)/Math.PI+360)%360;return l>=180?l-360:l},destination:function(e,i,n){i=(i+360)%360;var r=Math.PI/180,o=180/Math.PI,s=e.lng*r,a=e.lat*r,u=i*r,l=Math.sin(a),c=Math.cos(a),h=Math.cos(n/6378137),d=Math.sin(n/6378137),p=Math.asin(l*h+c*d*Math.cos(u)),f=s+Math.atan2(Math.sin(u)*d*c,h-l*Math.sin(p));return f=(f*=o)>180?f-360:f<-180?f+360:f,t.latLng([p*o,f])}}),t.GeometryUtil});var s={NODE_ENV:"production"};t.pkg("default",{},function(t){}),t.pkg("leaflet",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.markercluster",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.locatecontrol",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet.gridlayer.googlemutant",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet-easybutton",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("leaflet-geometryutil",{},function(t){return t.file("index.js",function(t,e,i,n,r){i.exports=L}),t.entry="index.js"}),t.pkg("aurelia-bootstrapper",{},function(t){return t.file("dist/commonjs/aurelia-bootstrapper.js",function(t,e,i,n,r){var o=e("process");Object.defineProperty(t,"__esModule",{value:!0}),t.starting=void 0,t.bootstrap=m,e("aurelia-polyfills");var s=e("aurelia-pal"),a=[],u=void 0,l=new Promise(function(t){return u=t}),c=s.PLATFORM.global,h=void 0!==o&&!o.browser;function d(){if(s.PLATFORM.Loader)return Promise.resolve(new s.PLATFORM.Loader);if("undefined"==typeof AURELIA_WEBPACK_2_0){if("undefined"!=typeof __webpack_require__){var t=__webpack_require__(e.resolve("aurelia-loader-webpack"));return Promise.resolve(new t.WebpackLoader)}if(c.System&&"function"==typeof c.System.config)return c.System.normalize("aurelia-bootstrapper").then(function(t){return c.System.normalize("aurelia-loader-default",t)}).then(function(t){return c.System.import(t).then(function(t){return new t.DefaultLoader})});if("function"==typeof c.require&&"string"==typeof c.require.version)return new Promise(function(t,e){return c.require(["aurelia-loader-default"],function(e){return t(new e.DefaultLoader)},e)});if(h&&void 0!==i&&void 0!==i.require){var n=i.require("aurelia-loader-nodejs");return Promise.resolve(new n.NodeJsLoader)}}return Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function p(t){var e=function(e,i){return t.normalize(e,i).then(function(i){return t.map(e,i),i})};return function(t){var e=void 0,i=h&&("renderer"===o.type||o.versions["node-webkit"]);if(h&&!i)e="nodejs";else if("undefined"!=typeof window)e="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");e="worker"}return t.loadModule("aurelia-pal-"+e).then(function(t){return"nodejs"===e&&!s.isInitialized&&t.globalize()||t.initialize()})}(t).then(function(){return t.normalize("aurelia-bootstrapper")}).then(function(t){var i=e(s.PLATFORM.moduleName("aurelia-framework",{exports:["Aurelia"]}),t);return Promise.all([i,i.then(function(t){return e("aurelia-dependency-injection",t)}),e("aurelia-router",t),e("aurelia-logging-console",t)])}).then(function(e){var i=e[0];return t.loadModule(i)}).then(function(e){return u(function(){return new e.Aurelia(t)})})}function f(t,e,i){return i.host=t,i.configModuleId=e||null,e?i.loader.loadModule(e).then(function(t){if(!t.configure)throw new Error("Cannot initialize module '"+e+"' without a configure function.");return t.configure(i)}):(i.use.standardConfiguration().developmentLogging(),i.start().then(function(){return i.setRoot()}))}function m(t){var e=l.then(function(e){return t(e())});return a&&a.push(e),e}t.starting=(c.document&&"complete"!==c.document.readyState?new Promise(function(t){function e(){c.document.removeEventListener("DOMContentLoaded",e),c.removeEventListener("load",e),t()}c.document.addEventListener("DOMContentLoaded",e),c.addEventListener("load",e)}):Promise.resolve()).then(d).then(p).then(function(){for(var t=c.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),e=0,i=t.length;e<i;++e){var n=t[e],r=n.getAttribute("aurelia-app")||n.getAttribute("data-aurelia-app");m(f.bind(null,n,r))}var o=console.error.bind(console),s=a.map(function(t){return t.catch(o)});return a=null,Promise.all(s)})}),t.entry="dist/commonjs/aurelia-bootstrapper.js"}),t.pkg("aurelia-polyfills",{},function(t){return t.file("dist/commonjs/aurelia-polyfills.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d,p,f,m,v,g,_,y,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},w=e("aurelia-pal");"undefined"==typeof FEATURE_NO_ES2015&&(function(t,e){if(!(e in t)){var i,n=w.PLATFORM.global,r=0,o=""+Math.random(),s="__symbol:",a=s.length,u="__symbol@@"+o,l="defineProperty",c="defineProperties",h="getOwnPropertyNames",d="getOwnPropertyDescriptor",p="propertyIsEnumerable",f=t[h],m=t[d],v=t.create,g=t.keys,_=t[l],y=t[c],k=m(t,h),x=t.prototype,C=x.hasOwnProperty,E=x[p],L=x.toString,O=(Array.prototype.indexOf,function(t,e,i){C.call(t,u)||_(t,u,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[u]["@@"+e]=i}),S=function(){},P=function(t){return t!=u&&!C.call(I,t)},A=function(t){return t!=u&&C.call(I,t)},M=function(t){var e=""+t;return A(e)?C.call(this,e)&&this[u]["@@"+e]:E.call(this,t)},T=function(e){return _(x,e,{enumerable:!1,configurable:!0,get:S,set:function(t){i(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),O(this,e,!0)}}),I[e]=_(t(e),"constructor",R)},j=function(t){if(this&&this!==n)throw new TypeError("Symbol is not a constructor");return T(s.concat(t||"",o,++r))},I=v(null),R={value:j},N=function(t){return I[t]},B=function(t,e,n){var r,o=""+e;return A(o)?(i(t,o,n.enumerable?((r=v(n)).enumerable=!1,r):n),O(t,o,!!n.enumerable)):_(t,e,n),t},D=function(e){return e="[object String]"===L.call(e)?e.split(""):t(e),f(e).filter(A).map(N)};k.value=B,_(t,l,k),k.value=D,_(t,e,k),k.value=function(t){return f(t).filter(P)},_(t,h,k),k.value=function(t,e){var i=D(e);return i.length?g(e).concat(i).forEach(function(i){M.call(e,i)&&B(t,i,e[i])}):y(t,e),t},_(t,c,k),k.value=M,_(x,p,k),k.value=j,_(n,"Symbol",k),k.value=function(t){var e=s.concat(s,t,o);return e in x?I[e]:T(e)},_(j,"for",k),k.value=function(t){return C.call(I,t)?t.slice(2*a,-o.length):void 0},_(j,"keyFor",k),k.value=function(t,e){var i=m(t,e);return i&&A(e)&&(i.enumerable=M.call(t,e)),i},_(t,d,k),k.value=function(t,e){return 1===arguments.length?v(t):(i=e,n=v(t),null!==i&&"object"===(void 0===i?"undefined":b(i))&&f(i).forEach(function(t){M.call(i,t)&&B(n,t,i[t])}),n);var i,n},_(t,"create",k),k.value=function(){var t=L.call(this);return"[object String]"===t&&A(this)?"[object Symbol]":t},_(x,"toString",k);try{i=v(_({},s,{get:function(){return _(this,s,{value:!1})[s]}}))[s]||_}catch(t){i=function(t,e,i){var n=m(x,e);delete x[e],_(t,e,i),_(x,e,n)}}}}(Object,"getOwnPropertySymbols"),o=Object,Symbol,a=o.defineProperty,u=o.prototype,l=u.toString,["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",c="toStringTag"].forEach(function(t){if(!(t in Symbol))switch(a(Symbol,t,{value:Symbol(t)}),t){case c:(s=o.getOwnPropertyDescriptor(u,"toString")).value=function(){var t=l.call(this),e=null==this?void 0:this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},a(u,"toString",s)}}),function(t,e,i){function n(){return this}e[t]||(e[t]=function(){var e=0,i=this,r={next:function(){var t=i.length<=e;return t?{done:t}:{done:t,value:i[e++]}}};return r[t]=n,r}),i[t]||(i[t]=function(){var e=String.fromCodePoint,i=this,r=0,o=i.length,s={next:function(){var t=o<=r,n=t?"":e(i.codePointAt(r));return r+=n.length,t?{done:t}:{done:t,value:n}}};return s[t]=n,s})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(t){return t!=t},Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(t){return!0}}()||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(t){return!0}}()||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=(h=function(t){return t>0?Math.min((e=t,isNaN(e=+e)?0:(e>0?Math.floor:Math.ceil)(e)),9007199254740991):0;var e},d=function(t,e,i,n){try{return e(i,n)}catch(e){throw"function"==typeof t.return&&t.return(),e}},function(t){var e,i,n,r,o=Object(t),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=void 0!==u,c=0,p=o[Symbol.iterator];if(l&&(u=u.bind(a>2?arguments[2]:void 0)),null==p||Array.isArray(t))for(i=new s(e=h(o.length));e>c;c++)i[c]=l?u(o[c],c):o[c];else for(r=p.call(o),i=new s;!(n=r.next()).done;c++)i[c]=l?d(r,u,n.value,c):n.value;return i.length=c,i})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return o;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(t){var e=Object(this),i=parseInt(e.length)||0;if(0===i)return!1;var n,r,o=parseInt(arguments[1])||0;for(o>=0?n=o:(n=i+o)<0&&(n=0);n<i;){if(t===(r=e[n])||t!=t&&r!=r)return!0;n++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(!function(){var t,e,i,n,r=!1;try{var o=Object.keys("a");r=1!==o.length||"0"!==o[0]}catch(t){r=!0}r&&(Object.keys=(t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=(i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(r){if(null==r)throw TypeError("Cannot convert undefined or null to object");r=Object(r);var o,s,a=[];for(o in r)t.call(r,o)&&a.push(o);if(e)for(s=0;s<n;s++)t.call(r,i[s])&&a.push(i[s]);return a}))}(),"assign"in(p=Object)||p.defineProperty(p,"assign",{configurable:!0,writable:!0,value:(f=p.getOwnPropertySymbols,m=p.propertyIsEnumerable,v=f?function(t){return f(t).filter(m,t)}:function(){return Array.prototype},function(t){function e(e){t[e]=r[e]}!f||t instanceof p||console.warn("problematic Symbols",t);for(var i=1,n=arguments.length;i<n;++i){var r=arguments[i];null!=r&&p.keys(r).concat(v(r)).forEach(e)}return t})})),"undefined"==typeof FEATURE_NO_ES2015&&function(t){var e,i,n,r=Object.defineProperty,o=function(t,e){return t===e||t!=t&&e!=e};("undefined"==typeof WeakMap&&(t.WeakMap=s({delete:a,clear:f,get:u,has:h,set:d},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next)||(t.Map=s(((i={delete:a,has:h,get:u,set:d,keys:function(){return g(this._itp,this._keys)},values:m,entries:v,forEach:y,clear:f})[Symbol.iterator]=v,i)));"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=s(((n={has:c,add:p,delete:a,clear:f,keys:m,values:m,entries:function(){return g(this._itp,this._values,this._values)},forEach:y})[Symbol.iterator]=m,n)));function s(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&function(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}.call(this,t)}return e||r(t,"size",{get:_}),t.constructor=i,i.prototype=t,i}function a(t){return this.has(t)&&(this._keys.splice(e,1),this._values.splice(e,1),this._itp.forEach(function(t){e<t[0]&&t[0]--})),-1<e}function u(t){return this.has(t)?this._values[e]:void 0}function l(t,i){if(this.objectOnly&&i!==Object(i))throw new TypeError("Invalid value used as weak collection key");if(i!=i||0===i)for(e=t.length;e--&&!o(t[e],i););else e=t.indexOf(i);return-1<e}function c(t){return l.call(this,this._values,t)}function h(t){return l.call(this,this._keys,t)}function d(t,i){return this.has(t)?this._values[e]=i:this._values[this._keys.push(t)-1]=i,this}function p(t){return this.has(t)||this._values.push(t),this}function f(){(this._keys||0).length=this._values.length=0}function m(){return g(this._itp,this._values)}function v(){return g(this._itp,this._keys,this._values)}function g(t,e,i){var n,r=[0],o=!1;return t.push(r),(n={})[Symbol.iterator]=function(){return this},n.next=function(){var n,s=r[0];return!o&&s<e.length?(n=i?[e[s],i[s]]:e[s],r[0]++):(o=!0,t.splice(t.indexOf(r),1)),{done:o,value:n}},n}function _(){return this._values.length}function y(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}"undefined"==typeof WeakSet&&(t.WeakSet=s({delete:a,add:p,clear:f,has:c},!0))}(w.PLATFORM.global),"undefined"==typeof FEATURE_NO_ES2015&&(g=Function.prototype.bind,void 0===w.PLATFORM.global.Reflect&&(w.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(t,e,i){if("object"===(void 0===t?"undefined":b(t))?null===t:"function"!=typeof t)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(t,e,i),!0}catch(t){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(t,e){if(e)switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(g.apply(t,i))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))})),"undefined"==typeof FEATURE_NO_ESNEXT&&(_=Object.freeze({}),y="__metadata__","function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(t,e,i){if(e.hasOwnProperty(y))return(e[y][i]||_)[t]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(t,e,i,n){var r=i.hasOwnProperty(y)?i[y]:i[y]={};(r[n]||(r[n]={}))[t]=e}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(t,e){return function(i,n){Reflect.defineMetadata(t,e,i,n)}}))}),t.entry="dist/commonjs/aurelia-polyfills.js"}),t.pkg("aurelia-pal",{},function(t){return t.file("dist/commonjs/aurelia-pal.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateError=function(t,e,i){if(e){if(e.innerError&&i)return e;var n="\n------------------------------------------------\n";t+=n+"Inner Error:\n","string"==typeof e?t+="Message: "+e:(e.message?t+="Message: "+e.message:t+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(e,null,"  "),e.stack&&(t+="\nInner Error Stack:\n"+e.stack,t+="\nEnd Inner Error Stack")),t+=n}var r=new Error(t);e&&(r.innerError=e);return r},t.initializePAL=function(e){if(u)return;t.isInitialized=u=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(t,e){for(var i=Object.getOwnPropertyDescriptor(t,e),n=Object.getPrototypeOf(t);void 0===i&&null!==n;)i=Object.getOwnPropertyDescriptor(n,e),n=Object.getPrototypeOf(n);return i});e(s,o,a)},t.reset=function(){t.isInitialized=u=!1};var o=t.FEATURE={},s=t.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t})};s.global="undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")();var a=t.DOM={},u=t.isInitialized=!1}),t.entry="dist/commonjs/aurelia-pal.js"}),t.pkg("process",{},function(e){return e.file("index.js",function(e,i,n,r,o){if(t.isServer)void 0!==s&&Object.assign(global.process.env,s),n.exports=global.process;else{"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i});var a,u=n.exports={},l=[],c=!1,h=-1;function d(){c=!1,a.length?l=a.concat(l):h=-1,l.length&&p()}function p(){if(!c){var t=setTimeout(d);c=!0;for(var e=l.length;e;){for(a=l,l=[];++h<e;)a&&a[h].run();h=-1,e=l.length}a=null,c=!1,clearTimeout(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||c||setTimeout(p,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={NODE_ENV:"development"},void 0!==s&&Object.assign(u.env,s),u.argv=[],u.version="",u.versions={},u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}}}),e.entry="index.js"}),t.pkg("aurelia-event-aggregator",{},function(t){return t.file("dist/commonjs/aurelia-event-aggregator.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregator=void 0,t.includeEventsIn=c,t.configure=function(t){t.instance(l,c(t.aurelia))};var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")).getLogger("event-aggregator"),s=function(){function t(t,e){this.messageType=t,this.callback=e}return t.prototype.handle=function(t){t instanceof this.messageType&&this.callback.call(null,t)},t}();function a(t,e,i){try{t(e,i)}catch(t){o.error(t)}}function u(t,e){try{t.handle(e)}catch(t){o.error(t)}}var l=t.EventAggregator=function(){function t(){this.eventLookup={},this.messageHandlers=[]}return t.prototype.publish=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event was invalid.");if("string"==typeof t){if(i=this.eventLookup[t])for(n=(i=i.slice()).length;n--;)a(i[n],e,t)}else for(n=(i=this.messageHandlers.slice()).length;n--;)u(i[n],t)},t.prototype.subscribe=function(t,e){var i=void 0,n=void 0;if(!t)throw new Error("Event channel/type was invalid.");return"string"==typeof t?(i=e,n=this.eventLookup[t]||(this.eventLookup[t]=[])):(i=new s(t,e),n=this.messageHandlers),n.push(i),{dispose:function(){var t=n.indexOf(i);-1!==t&&n.splice(t,1)}}},t.prototype.subscribeOnce=function(t,e){var i=this.subscribe(t,function(t,n){return i.dispose(),e(t,n)});return i},t}();function c(t){var e=new l;return t.subscribeOnce=function(t,i){return e.subscribeOnce(t,i)},t.subscribe=function(t,i){return e.subscribe(t,i)},t.publish=function(t,i){e.publish(t,i)},e}}),t.entry="dist/commonjs/aurelia-event-aggregator.js"}),t.pkg("aurelia-logging",{},function(t){return t.file("dist/commonjs/aurelia-logging.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=function(t){return s[t]||new c(t)},t.addAppender=function(t){1===a.push(t)&&((e=c.prototype).debug=l("debug"),e.info=l("info"),e.warn=l("warn"),e.error=l("error"));var e},t.removeAppender=function(t){a=a.filter(function(e){return e!==t})},t.setLevel=function(t){for(var e in u=t,s)s[e].setLevel(t)},t.getLevel=function(){return u};var o=t.logLevel={none:0,error:1,warn:2,info:3,debug:4},s={},a=[],u=o.none;function l(t){var e=o[t];return function(){if(!(this.level<e))for(var i=function(){return[this].concat(Array.prototype.slice.call(arguments))}.apply(this,arguments),n=a.length;n--;){var r;(r=a[n])[t].apply(r,i)}}}var c=t.Logger=function(){function t(t){var e=s[t];if(e)return e;s[t]=this,this.id=t,this.level=u}return t.prototype.debug=function(t){},t.prototype.info=function(t){},t.prototype.warn=function(t){},t.prototype.error=function(t){},t.prototype.setLevel=function(t){this.level=t},t}()}),t.entry="dist/commonjs/aurelia-logging.js"}),t.pkg("aurelia-fetch-client",{},function(t){return t.file("dist/commonjs/aurelia-fetch-client.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.json=function(t){return new Blob([JSON.stringify(void 0!==t?t:{})],{type:"application/json"})};var s=t.HttpClientConfiguration=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:a})},t}();function a(t){if(!t.ok)throw t;return t}t.HttpClient=function(){function t(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return t.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":o(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");(e=new s).baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var i=t(e);s.prototype.isPrototypeOf(i)&&(e=i)}var n=e.defaults;if(n&&Headers.prototype.isPrototypeOf(n.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=n,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},t.prototype.fetch=function(t){function e(e,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var i=this;(function(){this.isRequesting=!!++this.activeRequestCount}).call(this);var n,r,o=Promise.resolve().then(function(){return function(t,e){var i=this.defaults||{},n=void 0,r=void 0,o=void 0,s=function(t){var e={};for(var i in t||{})t.hasOwnProperty(i)&&(e[i]="function"==typeof t[i]?t[i]():t[i]);return e}(i.headers);if(Request.prototype.isPrototypeOf(t))n=t,o=new Headers(n.headers).get("Content-Type");else{e||(e={});var a=(r=e.body)?{body:r}:null,l=Object.assign({},i,{headers:{}},e,a);o=new Headers(l.headers).get("Content-Type"),n=new Request(function(t,e){if(u.test(e))return e;return(t||"")+e}(this.baseUrl,t),l)}!o&&new Headers(s).has("content-type")&&n.headers.set("Content-Type",new Headers(s).get("content-type"));(function(t,e){for(var i in e||{})e.hasOwnProperty(i)&&!t.has(i)&&t.set(i,e[i])})(n.headers,s),r&&Blob.prototype.isPrototypeOf(r)&&r.type&&n.headers.set("Content-Type",r.type);return n}.call(i,t,e,i.defaults)}),s=(n=o,r=this.interceptors,l(n,r,"request","requestError")).then(function(t){var e=null;if(Response.prototype.isPrototypeOf(t))e=t;else{if(!Request.prototype.isPrototypeOf(t))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+t+"]");o=Promise.resolve(t),e=fetch(t)}return o.then(function(t){return n=e,r=i.interceptors,l(n,r,"response","responseError",t);var n,r})});return function(t){var e=function(){this.isRequesting=!!--this.activeRequestCount}.bind(this);return t.then(e,e),t}.call(this,s)}),t}();var u=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function l(t,e,i,n){for(var r=arguments.length,o=Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];return(e||[]).reduce(function(t,e){var r=e[i],s=e[n];return t.then(r&&function(t){return r.call.apply(r,[e,t].concat(o))}||c,s&&function(t){return s.call.apply(s,[e,t].concat(o))}||h)},Promise.resolve(t))}function c(t){return t}function h(t){throw t}}),t.entry="dist/commonjs/aurelia-fetch-client.js"}),t.pkg("aurelia-framework",{},function(t){return t.file("dist/commonjs/aurelia-framework.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogManager=t.FrameworkConfiguration=t.Aurelia=void 0;var o=e("aurelia-dependency-injection");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var s=e("aurelia-binding");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var a=e("aurelia-metadata");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=e("aurelia-templating");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var l=e("aurelia-loader");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var c=e("aurelia-task-queue");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var h=e("aurelia-path");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var d=e("aurelia-pal");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var p=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging"));t.Aurelia=function(){function t(e,i,n){this.loader=e||new d.PLATFORM.Loader,this.container=i||(new o.Container).makeGlobal(),this.resources=n||new u.ViewResources,this.use=new b(this),this.logger=p.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(t,this),this.use.instance(l.Loader,this.loader),this.use.instance(u.ViewResources,this.resources)}return t.prototype.start=function(){var t=this;return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then(function(){if(d.DOM.addEventListener("submit",function(t){var e=t.target,i=e.action;"form"!==e.tagName.toLowerCase()||i||t.preventDefault()}),!t.container.hasResolver(u.BindingLanguage)){var e="You must configure Aurelia with a BindingLanguage implementation.";throw t.logger.error(e),new Error(e)}t.logger.info("Aurelia Started");var i=d.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return d.DOM.dispatchEvent(i),t}))},t.prototype.enhance=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(i||d.DOM.querySelectorAll("body")[0]),new Promise(function(i){var n=t.container.get(u.TemplatingEngine);t.root=n.enhance({container:t.container,element:t.host,resources:t.resources,bindingContext:e}),t.root.attached(),t._onAureliaComposed(),i(t)})},t.prototype.setRoot=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(i);var r=this.container.get(u.TemplatingEngine);return delete this.container.get(u.CompositionTransaction).initialComposition,e||(e=this.configModuleId?(0,h.relativeToFile)("./app",this.configModuleId):"app"),n.viewModel=e,n.container=n.childContainer=this.container,n.viewSlot=this.hostSlot,n.host=this.host,r.compose(n).then(function(e){return t.root=e,n.viewSlot.attached(),t._onAureliaComposed(),t})},t.prototype._configureHost=function(t){if(!this.hostConfigured){if(t=t||this.host,this.host=t&&"string"!=typeof t?t:d.DOM.getElementById(t||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new u.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(d.DOM.boundary,this.host)}},t.prototype._onAureliaComposed=function(){var t=d.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return d.DOM.dispatchEvent(t)},1)},t}();var f=p.getLogger("aurelia"),m=/\.[^/.]+$/;function v(t,e){var i=void 0;return function n(){return(i=e.shift())?Promise.resolve(i(t)).then(n):Promise.resolve()}()}function g(t,e,i){var n=t.container.get(u.ViewEngine);return Promise.all(Object.keys(e).map(function(i){return function(e){var i=e.moduleId,n=_(i);r(i)&&(i=o(i));return t.loader.normalize(i,e.relativeTo).then(function(t){return{name:e.moduleId,importId:r(e.moduleId)?(i=t,s=n,o(i)+"."+s):t};var i,s})}(e[i])})).then(function(t){var e=[],r=[];return t.forEach(function(t){e.push(void 0),r.push(t.importId)}),n.importViewResources(r,e,i)});function r(t){var e=_(t);return!!e&&(""!==e&&(".js"!==e&&".ts"!==e))}function o(t){return t.replace(m,"")}}function _(t){var e=t.match(m);if(e&&e.length>0)return e[0].split(".")[1]}function y(t){if(t.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}var b=function(){function t(t){var e=this;this.aurelia=t,this.container=t.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return t.loader.normalize("aurelia-bootstrapper").then(function(t){return e.bootstrapperName=t})}),this.postTask(function(){return g(t,e.resourcesToLoad,t.resources)})}return t.prototype.instance=function(t,e){return this.container.registerInstance(t,e),this},t.prototype.singleton=function(t,e){return this.container.registerSingleton(t,e),this},t.prototype.transient=function(t,e){return this.container.registerTransient(t,e),this},t.prototype.preTask=function(t){return y(this),this.preTasks.push(t),this},t.prototype.postTask=function(t){return y(this),this.postTasks.push(t),this},t.prototype.feature=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=/\/index$/i.test(t),n=i||_(t)?t:t+"/index",r=i?t.substr(0,t.length-6):t;return this.plugin({moduleId:n,resourcesRelativeTo:[r,""],config:e})},t.prototype.globalResources=function(t){y(this);for(var e=Array.isArray(t)?t:arguments,i=void 0,n=this.resourcesRelativeTo||["",""],r=0,o=e.length;r<o;++r){if("string"!=typeof(i=e[r]))throw new Error("Invalid resource path ["+i+"]. Resources must be specified as relative module IDs.");var s=n[0],a=n[1],u=i;(i.startsWith("./")||i.startsWith("../"))&&""!==s&&(u=(0,h.join)(s,i)),this.resourcesToLoad[u]={moduleId:u,relativeTo:a}}return this},t.prototype.globalName=function(t,e){return y(this),this.resourcesToLoad[t]={moduleId:e,relativeTo:""},this},t.prototype.plugin=function(t,e){return y(this),"string"==typeof t?this.plugin({moduleId:t,resourcesRelativeTo:[t,""],config:e||{}}):(this.info.push(t),this)},t.prototype._addNormalizedPlugin=function(t,e){var i=this,n={moduleId:t,resourcesRelativeTo:[t,""],config:e||{}};return this.plugin(n),this.preTask(function(){var e=[t,i.bootstrapperName];return n.moduleId=t,n.resourcesRelativeTo=e,Promise.resolve()}),this},t.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},t.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},t.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},t.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},t.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},t.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},t.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},t.prototype.developmentLogging=function(){var t=this;return this.preTask(function(){return t.aurelia.loader.normalize("aurelia-logging-console",t.bootstrapperName).then(function(e){return t.aurelia.loader.loadModule(e).then(function(t){p.addAppender(new t.ConsoleAppender),p.setLevel(p.logLevel.debug)})})}),this},t.prototype.apply=function(){var t=this;return this.processed?Promise.resolve():v(this,this.preTasks).then(function(){var e=t.aurelia.loader,i=t.info,n=void 0;return function r(){return(n=i.shift())?function(t,e,i){f.debug("Loading plugin "+i.moduleId+"."),t.resourcesRelativeTo=i.resourcesRelativeTo;var n=i.moduleId;return i.resourcesRelativeTo.length>1?e.normalize(i.moduleId,i.resourcesRelativeTo[1]).then(function(t){return r(t)}):r(n);function r(n){return e.loadModule(n).then(function(e){if("configure"in e)return Promise.resolve(e.configure(t,i.config||{})).then(function(){t.resourcesRelativeTo=null,f.debug("Configured plugin "+i.moduleId+".")});t.resourcesRelativeTo=null,f.debug("Loaded plugin "+i.moduleId+".")})}}(t,e,n).then(r):(t.processed=!0,Promise.resolve())}().then(function(){return v(t,t.postTasks)})})},t}();t.FrameworkConfiguration=b;t.LogManager=p}),t.entry="dist/commonjs/aurelia-framework.js"}),t.pkg("aurelia-dependency-injection",{},function(t){return t.file("dist/commonjs/aurelia-dependency-injection.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.InvocationHandler=t._emptyParameters=t.SingletonRegistration=t.TransientRegistration=t.FactoryInvoker=t.NewInstance=t.Factory=t.StrategyResolver=t.Parent=t.Optional=t.All=t.Lazy=t.resolver=void 0,t.getDecoratorDependencies=x,t.lazy=function(t){return function(e,i,n){var r=x(e,"lazy");r[n]=v.of(t)}},t.all=function(t){return function(e,i,n){var r=x(e,"all");r[n]=g.of(t)}},t.optional=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=function(t){return function(e,i,n){var r=x(e,"optional");r[n]=_.of(r[n],t)}};if("boolean"==typeof t)return e(t);return e(!0)},t.parent=function(t,e,i){var n=x(t,"parent");n[i]=y.of(n[i])},t.factory=function(t,e){return function(i,n,r){var o=x(i,"factory"),s=w.of(t);o[r]=e?s.as(e):s}},t.newInstance=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=function(t){return function(e,n,r){var o=x(e,"newInstance");o[r]=k.of.apply(k,[o[r]].concat(i)),t&&o[r].as(t)}};if(arguments.length>=1)return r(t);return r()},t.invoker=function(t){return function(e){p.metadata.define(p.metadata.invoker,t,e)}},t.invokeAsFactory=function(t){var e=function(t){p.metadata.define(p.metadata.invoker,C.instance,t)};return t?e(t):e},t.registration=E,t.transient=function(t){return E(new L(t))},t.singleton=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return E(new O(t,e))},t.autoinject=function(t){var e=function(t){var e=t.inject?t.inject.slice():null,i=p.metadata.getOwn(p.metadata.paramTypes,t)||P;if(e){for(var n=0;n<i.length;n++)if(e[n]&&e[n]!==i[n]){var r=e.indexOf(i[n]);r>-1&&e.splice(r,1),e.splice(r>-1&&r<n?n-1:n,0,i[n])}else e[n]||(e[n]=i[n]);t.inject=e}else t.inject=i};return t?e(t):e},t.inject=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i,n){if("number"==typeof n&&1===e.length){var r=t.inject;if("function"==typeof r)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return r||(r=p.metadata.getOwn(p.metadata.paramTypes,t).slice(),t.inject=r),void(r[n]=e[0])}if(n){var o=n.value;o.inject=e}else t.inject=e}};var p=e("aurelia-metadata"),f=e("aurelia-pal"),m=t.resolver=p.protocol.create("aurelia:resolver",function(t){return"function"==typeof t.get||"Resolvers must implement: get(container: Container, key: any): any"}),v=t.Lazy=m()(o=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){return t.get(e._key)}},t.of=function(e){return new t(e)},t}())||o,g=t.All=m()(s=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.getAll(this._key)},t.of=function(e){return new t(e)},t}())||s,_=t.Optional=m()(a=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=t,this._checkParent=e}return t.prototype.get=function(t){return t.hasResolver(this._key,this._checkParent)?t.get(this._key):null},t.of=function(e){return new t(e,arguments.length<=1||void 0===arguments[1]||arguments[1])},t}())||a,y=t.Parent=m()(u=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.parent?t.parent.get(this._key):null},t.of=function(e){return new t(e)},t}())||u,b=t.StrategyResolver=m()(l=function(){function t(t,e){this.strategy=t,this.state=e}return t.prototype.get=function(t,e){switch(this.strategy){case 0:return this.state;case 1:var i=t.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return t.invoke(this.state);case 3:return this.state(t,e,this);case 4:return this.state[0].get(t,e);case 5:return t.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},t}())||l,w=t.Factory=m()(c=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.invoke(e._key,n)}},t.of=function(e){return new t(e)},t}())||c,k=t.NewInstance=m()(h=function(){function t(t){this.key=t,this.asKey=t;for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return t.prototype.get=function(t){var e=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(e){return e["protocol:aurelia:resolver"]?e.get(t):t.get(e)}):void 0,i=t.invoke(this.key,e);return t.registerInstance(this.asKey,i),i},t.prototype.as=function(t){return this.asKey=t,this},t.of=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(t,[null].concat([e],n)))},t}())||h;function x(t,e){var i=t.inject;if("function"==typeof i)throw new Error("Decorator "+e+' cannot be used with "inject()".  Please use an array instead.');return i||(i=p.metadata.getOwn(p.metadata.paramTypes,t).slice(),t.inject=i),i}var C=t.FactoryInvoker=function(){function t(){}return t.prototype.invoke=function(t,e,i){for(var n=i.length,r=new Array(n);n--;)r[n]=t.get(i[n]);return e.apply(void 0,r)},t.prototype.invokeWithDynamicDependencies=function(t,e,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=t.get(i[r]);return void 0!==n&&(o=o.concat(n)),e.apply(void 0,o)},t}();function E(t){return function(e){p.metadata.define(p.metadata.registration,t,e)}}C.instance=new C;var L=t.TransientRegistration=function(){function t(t){this._key=t}return t.prototype.registerResolver=function(t,e,i){var n=t.getResolver(this._key||e);return void 0===n?t.registerTransient(this._key||e,i):n},t}(),O=t.SingletonRegistration=function(){function t(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof t?this._registerInChild=t:(this._key=t,this._registerInChild=e)}return t.prototype.registerResolver=function(t,e,i){var n=this._registerInChild?t:t.root,r=n.getResolver(this._key||e);return void 0===r?n.registerSingleton(this._key||e,i):r},t}();function S(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}var P=t._emptyParameters=Object.freeze([]);p.metadata.registration="aurelia:registration",p.metadata.invoker="aurelia:invoker";var A=m.decorates,M=t.InvocationHandler=function(){function t(t,e,i){this.fn=t,this.invoker=e,this.dependencies=i}return t.prototype.invoke=function(t,e){return void 0!==e?this.invoker.invokeWithDynamicDependencies(t,this.fn,this.dependencies,e):this.invoker.invoke(t,this.fn,this.dependencies)},t}();function T(t,e,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=t.get(i[r]);return void 0!==n&&(o=o.concat(n)),Reflect.construct(e,o)}var j=((d={})[0]={invoke:function(t,e){return new e},invokeWithDynamicDependencies:T},d[1]={invoke:function(t,e,i){return new e(t.get(i[0]))},invokeWithDynamicDependencies:T},d[2]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]))},invokeWithDynamicDependencies:T},d[3]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]))},invokeWithDynamicDependencies:T},d[4]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]))},invokeWithDynamicDependencies:T},d[5]={invoke:function(t,e,i){return new e(t.get(i[0]),t.get(i[1]),t.get(i[2]),t.get(i[3]),t.get(i[4]))},invokeWithDynamicDependencies:T},d.fallback={invoke:T,invokeWithDynamicDependencies:T},d);t.Container=function(){function t(t){void 0===t&&(t={}),this._configuration=t,this._onHandlerCreated=t.onHandlerCreated,this._handlers=t.handlers||(t.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return t.prototype.makeGlobal=function(){return t.instance=this,this},t.prototype.setHandlerCreatedCallback=function(t){this._onHandlerCreated=t,this._configuration.onHandlerCreated=t},t.prototype.registerInstance=function(t,e){return this.registerResolver(t,new b(0,void 0===e?t:e))},t.prototype.registerSingleton=function(t,e){return this.registerResolver(t,new b(1,void 0===e?t:e))},t.prototype.registerTransient=function(t,e){return this.registerResolver(t,new b(2,void 0===e?t:e))},t.prototype.registerHandler=function(t,e){return this.registerResolver(t,new b(3,e))},t.prototype.registerAlias=function(t,e){return this.registerResolver(e,new b(5,t))},t.prototype.registerResolver=function(t,e){S(t);var i=this._resolvers,n=i.get(t);return void 0===n?i.set(t,e):4===n.strategy?n.state.push(e):i.set(t,new b(4,[n,e])),e},t.prototype.autoRegister=function(t,e){if("function"==typeof(e=void 0===e?t:e)){var i=p.metadata.get(p.metadata.registration,e);return void 0===i?this.registerResolver(t,new b(1,e)):i.registerResolver(this,t,e)}return this.registerResolver(t,new b(0,e))},t.prototype.autoRegisterAll=function(t){for(var e=t.length;e--;)this.autoRegister(t[e])},t.prototype.unregister=function(t){this._resolvers.delete(t)},t.prototype.hasResolver=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return S(t),this._resolvers.has(t)||e&&null!==this.parent&&this.parent.hasResolver(t,e)},t.prototype.getResolver=function(t){return this._resolvers.get(t)},t.prototype.get=function(e){if(S(e),e===t)return this;if(A(e))return e.get(this,e);var i=this._resolvers.get(e);if(void 0===i){if(null===this.parent)return this.autoRegister(e).get(this,e);var n=p.metadata.get(p.metadata.registration,e);return void 0===n?this.parent._get(e):n.registerResolver(this,e,e).get(this,e)}return i.get(this,e)},t.prototype._get=function(t){var e=this._resolvers.get(t);return void 0===e?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):e.get(this,t)},t.prototype.getAll=function(t){S(t);var e=this._resolvers.get(t);if(void 0===e)return null===this.parent?P:this.parent.getAll(t);if(4===e.strategy){for(var i=e.state,n=i.length,r=new Array(n);n--;)r[n]=i[n].get(this,t);return r}return[e.get(this,t)]},t.prototype.createChild=function(){var e=new t(this._configuration);return e.root=this.root,e.parent=this,e},t.prototype.invoke=function(t,e){try{var i=this._handlers.get(t);return void 0===i&&(i=this._createInvocationHandler(t),this._handlers.set(t,i)),i.invoke(this,e)}catch(e){throw new f.AggregateError("Error invoking "+t.name+". Check the inner error for details.",e,!0)}},t.prototype._createInvocationHandler=function(t){var e,i=void 0;if(void 0===t.inject)i=p.metadata.getOwn(p.metadata.paramTypes,t)||P;else{i=[];for(var n=t;"function"==typeof n;){var r;(r=i).push.apply(r,(e=n).hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]),n=Object.getPrototypeOf(n)}}var o=p.metadata.getOwn(p.metadata.invoker,t)||j[i.length]||j.fallback,s=new M(t,o,i);return void 0!==this._onHandlerCreated?this._onHandlerCreated(s):s},t}()}),t.entry="dist/commonjs/aurelia-dependency-injection.js"}),t.pkg("aurelia-metadata",{},function(t){return t.file("dist/commonjs/aurelia-metadata.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Origin=t.metadata=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.decorators=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=function(t,i,n){var r=e.length;if(i){for(n=n||{value:t[i],writable:!0,configurable:!0,enumerable:!0};r--;)n=e[r](t,i,n)||n;Object.defineProperty(t,i,n)}else for(;r--;)t=e[r](t)||t;return t};return n.on=n,n},t.deprecated=function(t,e,i){function n(i,n,r){var s=i.constructor.name+"#"+n,a=e?{}:t||{},u="DEPRECATION - "+s;if("function"!=typeof r.value)throw new SyntaxError("Only methods can be marked as deprecated.");return a.message&&(u+=" - "+a.message),o({},r,{value:function(){if(a.error)throw new Error(u);return console.warn(u),r.value.apply(this,arguments)}})}return e?n(t,e,i):n},t.mixin=function(t){var e=Object.keys(t);return function(i){var n=function(i){for(var n="function"==typeof i?i.prototype:i,r=e.length;r--;){var o=e[r];Object.defineProperty(n,o,{value:t[o],writable:!0})}};return i?n(i):n}},t.protocol=g;var a=e("aurelia-pal");function u(t){return t&&("function"==typeof t||"object"===(void 0===t?"undefined":s(t)))}var l=t.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(t,e,i){if(u(e)){var n=l.getOwn(t,e,i);return void 0===n?l.get(t,Object.getPrototypeOf(e),i):n}},getOwn:function(t,e,i){if(u(e))return Reflect.getOwnMetadata(t,e,i)},define:function(t,e,i,n){Reflect.defineMetadata(t,e,i,n)},getOrCreateOwn:function(t,e,i,n){var r=l.getOwn(t,i,n);return void 0===r&&(r=new e,Reflect.defineMetadata(t,r,i,n)),r}},c=new Map,h=Object.freeze({moduleId:void 0,moduleMember:void 0});t.Origin=function(){function t(t,e){this.moduleId=t,this.moduleMember=e}return t.get=function(e){var i=c.get(e);return void 0===i&&a.PLATFORM.eachModule(function(n,r){if("object"===(void 0===r?"undefined":s(r)))for(var o in r){if(r[o]===e)return c.set(e,i=new t(n,o)),!0}return r===e&&(c.set(e,i=new t(n,"default")),!0)}),i||h},t.set=function(t,e){c.set(t,e)},t}();function d(){return!0}function p(){}function f(t){return void 0===t?t={}:"function"==typeof t&&(t={validate:t}),t.validate||(t.validate=d),t.compose||(t.compose=p),t}function m(t){return function(e){return!0===t(e)}}function v(t,e){return function(i){var n=e(i);if(!0!==n)throw new Error(n||t+" was not correctly implemented.")}}function g(t,e){e=f(e);var i=function i(n){var r="function"==typeof n?n.prototype:n;e.compose(r),i.assert(r),Object.defineProperty(r,"protocol:"+t,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return i.validate=m(e.validate),i.assert=v(t,e.validate),i}g.create=function(t,e){e=f(e);var i="protocol:"+t,n=function(i){var n=g(t,e);return i?n(i):n};return n.decorates=function(t){return!0===t[i]},n.validate=m(e.validate),n.assert=v(t,e.validate),n}}),t.entry="dist/commonjs/aurelia-metadata.js"}),t.pkg("aurelia-binding",{},function(t){return t.file("dist/commonjs/aurelia-binding.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSetObserver=t.BindingEngine=t.NameExpression=t.Listener=t.ListenerExpression=t.BindingBehaviorResource=t.ValueConverterResource=t.Call=t.CallExpression=t.Binding=t.BindingExpression=t.ObjectObservationAdapter=t.ObserverLocator=t.SVGAnalyzer=t.presentationAttributes=t.presentationElements=t.elements=t.ComputedExpression=t.ClassObserver=t.SelectValueObserver=t.CheckedObserver=t.ValueAttributeObserver=t.StyleObserver=t.DataAttributeObserver=t.dataAttributeAccessor=t.XLinkAttributeObserver=t.SetterObserver=t.PrimitiveObserver=t.propertyAccessor=t.DirtyCheckProperty=t.DirtyChecker=t.EventManager=t.delegationStrategy=t.getMapObserver=t.ParserImplementation=t.Parser=t.Scanner=t.Lexer=t.Token=t.bindingMode=t.ExpressionCloner=t.Unparser=t.LiteralObject=t.LiteralArray=t.LiteralString=t.LiteralPrimitive=t.PrefixNot=t.Binary=t.CallFunction=t.CallMember=t.CallScope=t.AccessKeyed=t.AccessMember=t.AccessScope=t.AccessThis=t.Conditional=t.Assign=t.ValueConverter=t.BindingBehavior=t.Chain=t.Expression=t.getArrayObserver=t.CollectionLengthObserver=t.ModifyCollectionObserver=t.ExpressionObserver=t.sourceContext=void 0;var o,s,a,u,l,c,h,d,p,f,m,v,g,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},y=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.camelCase=O,t.createOverrideContext=S,t.getContextFor=P,t.createScopeForTest=function(t,e){if(e)return{bindingContext:t,overrideContext:S(t,S(e))};return{bindingContext:t,overrideContext:S(t)}},t.connectable=D,t.enqueueBindingConnect=G,t.subscriberCollection=it,t.calcSplices=at,t.mergeSplice=ut,t.projectArraySplices=lt,t.getChangeRecords=ct,t.cloneExpression=function(t){var e=new Ut;return t.accept(e)},t.hasDeclaredDependencies=Pi,t.declarePropertyDependencies=function(t,e,i){Object.getOwnPropertyDescriptor(t.prototype,e).get.dependencies=i},t.computedFrom=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i,n){return n.get.dependencies=e,n}},t.createComputedObserver=Mi,t.valueConverter=function(t){if(void 0===t||"string"==typeof t)return function(e){x.metadata.define(x.metadata.resource,new Zi(t),e)};x.metadata.define(x.metadata.resource,new Zi,t)},t.bindingBehavior=function(t){if(void 0===t||"string"==typeof t)return function(e){x.metadata.define(x.metadata.resource,new Wi(t),e)};x.metadata.define(x.metadata.resource,new Wi,t)},t.observable=function(t,e,i){function n(t,e,i,n){var r=void 0===e;r&&(t=t.prototype,e="string"==typeof n?n:n.name);var o="_"+e,s={configurable:!0,enumerable:!1,writable:!0},a=n&&n.changeHandler||e+"Changed";if(i?"function"==typeof i.initializer&&(s.value=i.initializer()):i={},"enumerable"in i||(i.enumerable=!0),delete i.value,delete i.writable,delete i.initializer,Reflect.defineProperty(t,o,s),i.get=function(){return this[o]},i.set=function(t){var i=this[o];t!==i&&(this[o]=t,Reflect.defineProperty(this,o,{enumerable:!1}),this[a]&&this[a](t,i,e))},i.get.dependencies=[o],!r)return i;Reflect.defineProperty(t,e,i)}if(void 0===e)return function(e,i,r){return n(e,i,r,t)};return n(t,e,i)};var b=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),w=e("aurelia-pal"),k=e("aurelia-task-queue"),x=e("aurelia-metadata");function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L=Object.create(null);function O(t){if(t in L)return L[t];var e=t.charAt(0).toLowerCase()+t.slice(1).replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()});return L[t]=e,e}function S(t,e){return{bindingContext:t,parentOverrideContext:e||null}}function P(t,e,i){var n=e.overrideContext;if(i){for(;i&&n;)i--,n=n.parentOverrideContext;if(i||!n)return;return t in n?n:n.bindingContext}for(;n&&!(t in n)&&!(n.bindingContext&&t in n.bindingContext);)n=n.parentOverrideContext;return n?t in n?n:n.bindingContext:e.bindingContext||e.overrideContext}for(var A=t.sourceContext="Binding:source",M=[],T=[],j=0;j<100;j++)M.push("_observer"+j),T.push("_observerVersion"+j);function I(t){for(var e=void 0===this._observerSlots?0:this._observerSlots,i=e;i--&&this[M[i]]!==t;);if(-1===i){for(i=0;this[M[i]];)i++;this[M[i]]=t,t.subscribe(A,this),i===e&&(this._observerSlots=i+1)}void 0===this._version&&(this._version=0),this[T[i]]=this._version}function R(t,e){var i=this.observerLocator.getObserver(t,e);I.call(this,i)}function N(t){var e=this.observerLocator.getArrayObserver(t);I.call(this,e)}function B(t){for(var e=this._observerSlots;e--;)if(t||this[T[e]]!==this._version){var i=this[M[e]];this[M[e]]=null,i&&i.unsubscribe(A,this)}}function D(){return function(t){t.prototype.observeProperty=R,t.prototype.observeArray=N,t.prototype.unobserve=B,t.prototype.addObserver=I}}var z=[],F={},V=0,q=100,H=15,U=!1,Z=0;function W(t){for(var e=z.length,i=0;i<e;){var n=z[i];if(F[n.__connectQueueId]=!1,n.connect(!0),++i%100==0&&w.PLATFORM.performance.now()-t>H)break}z.splice(0,i),z.length?w.PLATFORM.requestAnimationFrame(W):(U=!1,Z=0)}function G(t){if(Z<q)Z++,t.connect(!1);else{var e=t.__connectQueueId;void 0===e&&(e=V,V++,t.__connectQueueId=e),F[e]||(z.push(t),F[e]=!0)}U||(U=!0,w.PLATFORM.requestAnimationFrame(W))}function Y(t,e){return!this.hasSubscriber(t,e)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(t),this._callablesRest.push(e),!0):(this._contextsRest=[t],this._callablesRest=[e],!0):(this._context2=t,this._callable2=e,!0):(this._context1=t,this._callable1=e,!0):(this._context0=t,this._callable0=e,!0))}function X(t,e){if(this._context0===t&&this._callable0===e)return this._context0=null,this._callable0=null,!0;if(this._context1===t&&this._callable1===e)return this._context1=null,this._callable1=null,!0;if(this._context2===t&&this._callable2===e)return this._context2=null,this._callable2=null,!0;var i=this._contextsRest,n=void 0;return!(!i||!i.length||-1===(n=i.indexOf(t))||this._callablesRest[n]!==e)&&(i.splice(n,1),this._callablesRest.splice(n,1),!0)}var $=[],Q=[],K=[];function J(t,e){var i=this._context0,n=this._callable0,r=this._context1,o=this._callable1,s=this._context2,a=this._callable2,u=this._contextsRest?this._contextsRest.length:0,l=void 0,c=void 0,h=void 0,d=void 0;if(u){for(h=K.length;h--&&K[h];);for(h<0?(h=K.length,l=[],c=[],K.push(!0),$.push(l),Q.push(c)):(K[h]=!0,l=$[h],c=Q[h]),d=u;d--;)l[d]=this._contextsRest[d],c[d]=this._callablesRest[d]}if(i&&(n?n.call(i,t,e):i(t,e)),r&&(o?o.call(r,t,e):r(t,e)),s&&(a?a.call(s,t,e):s(t,e)),u){for(d=0;d<u;d++){var p=c[d],f=l[d];p?p.call(f,t,e):f(t,e),l[d]=null,c[d]=null}K[h]=!1}}function tt(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function et(t,e){if(this._context0===t&&this._callable0===e||this._context1===t&&this._callable1===e||this._context2===t&&this._callable2===e)return!0;var i=void 0,n=this._contextsRest;if(!n||0===(i=n.length))return!1;for(var r=this._callablesRest;i--;)if(n[i]===t&&r[i]===e)return!0;return!1}function it(){return function(t){t.prototype.addSubscriber=Y,t.prototype.removeSubscriber=X,t.prototype.callSubscribers=J,t.prototype.hasSubscribers=tt,t.prototype.hasSubscriber=et}}var nt=t.ExpressionObserver=D()(o=it()(o=function(){function t(t,e,i,n){this.scope=t,this.expression=e,this.observerLocator=i,this.lookupFunctions=n}return t.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},t.prototype.setValue=function(t){this.expression.assign(this.scope,t)},t.prototype.subscribe=function(t,e){var i=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(t,e),1===arguments.length&&t instanceof Function)return{dispose:function(){i.unsubscribe(t,e)}}},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},t.prototype.call=function(){var t=this.expression.evaluate(this.scope,this.lookupFunctions),e=this.oldValue;t!==e&&(this.oldValue=t,this.callSubscribers(t,e)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},t}())||o)||o;function rt(t,e,i){return{index:t,removed:e,addedCount:i}}function ot(){}ot.prototype={calcEditDistances:function(t,e,i,n,r,o){for(var s=o-r+1,a=i-e+1,u=new Array(s),l=void 0,c=void 0,h=0;h<s;++h)u[h]=new Array(a),u[h][0]=h;for(var d=0;d<a;++d)u[0][d]=d;for(var p=1;p<s;++p)for(var f=1;f<a;++f)this.equals(t[e+f-1],n[r+p-1])?u[p][f]=u[p-1][f-1]:(l=u[p-1][f]+1,c=u[p][f-1]+1,u[p][f]=l<c?l:c);return u},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,i=t[0].length-1,n=t[e][i],r=[];e>0||i>0;)if(0!==e)if(0!==i){var o=t[e-1][i-1],s=t[e-1][i],a=t[e][i-1],u=void 0;(u=s<a?s<o?s:o:a<o?a:o)===o?(o===n?r.push(0):(r.push(1),n=o),e--,i--):u===s?(r.push(3),e--,n=s):(r.push(2),i--,n=a)}else r.push(3),e--;else r.push(2),i--;return r.reverse(),r},calcSplices:function(t,e,i,n,r,o){var s=0,a=0,u=Math.min(i-e,o-r);if(0===e&&0===r&&(s=this.sharedPrefix(t,n,u)),i===t.length&&o===n.length&&(a=this.sharedSuffix(t,n,u-s)),r+=s,o-=a,(i-=a)-(e+=s)==0&&o-r==0)return[];if(e===i){for(var l=rt(e,[],0);r<o;)l.removed.push(n[r++]);return[l]}if(r===o)return[rt(e,[],i-e)];for(var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,i,n,r,o)),h=void 0,d=[],p=e,f=r,m=0;m<c.length;++m)switch(c[m]){case 0:h&&(d.push(h),h=void 0),p++,f++;break;case 1:h||(h=rt(p,[],0)),h.addedCount++,p++,h.removed.push(n[f]),f++;break;case 2:h||(h=rt(p,[],0)),h.addedCount++,p++;break;case 3:h||(h=rt(p,[],0)),h.removed.push(n[f]),f++}return h&&d.push(h),d},sharedPrefix:function(t,e,i){for(var n=0;n<i;++n)if(!this.equals(t[n],e[n]))return n;return i},sharedSuffix:function(t,e,i){for(var n=t.length,r=e.length,o=0;o<i&&this.equals(t[--n],e[--r]);)o++;return o},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var st=new ot;function at(t,e,i,n,r,o){return st.calcSplices(t,e,i,n,r,o)}function ut(t,e,i,n){for(var r,o,s,a,u=rt(e,i,n),l=!1,c=0,h=0;h<t.length;h++){var d=t[h];if(d.index+=c,!l){var p=(r=u.index,o=u.index+u.removed.length,s=d.index,a=d.index+d.addedCount,o<s||a<r?-1:o===s||a===r?0:r<s?o<a?o-s:a-s:a<o?a-r:o-r);if(p>=0){t.splice(h,1),h--,c-=d.addedCount-d.removed.length,u.addedCount+=d.addedCount-p;var f=u.removed.length+d.removed.length-p;if(u.addedCount||f){var m=d.removed;if(u.index<d.index){var v=u.removed.slice(0,d.index-u.index);Array.prototype.push.apply(v,m),m=v}if(u.index+u.removed.length>d.index+d.addedCount){var g=u.removed.slice(d.index+d.addedCount-u.index);Array.prototype.push.apply(m,g)}u.removed=m,d.index<u.index&&(u.index=d.index)}else l=!0}else if(u.index<d.index){l=!0,t.splice(h,0,u),h++;var _=u.addedCount-u.removed.length;d.index+=_,c+=_}}}l||t.push(u)}function lt(t,e){var i=[];return function(t,e){for(var i,n=[],r=0;r<e.length;r++){var o=e[r];switch(o.type){case"splice":ut(n,o.index,o.removed.slice(),o.addedCount);break;case"add":case"update":case"delete":if(+(i=o.name)!=i>>>0)continue;var s=+o.name;if(s<0)continue;ut(n,s,[o.oldValue],"delete"===o.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(o))}}return n}(0,e).forEach(function(e){1!==e.addedCount||1!==e.removed.length?i=i.concat(at(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length)):e.removed[0]!==t[e.index]&&i.push(e)}),i}function ct(t){for(var e,i,n,r=new Array(t.size),o=t.keys(),s=0,a=void 0;(a=o.next())&&!a.done;)r[s]=(e="added",i=t,n=a.value,{type:e,object:i,key:n,oldValue:void 0}),s++;return r}var ht=t.ModifyCollectionObserver=it()(s=function(){function t(t,e){this.taskQueue=t,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length"}return t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.addChangeRecord=function(t){if(this.hasSubscribers()||this.lengthObserver){if("splice"===t.type){var e=t.index,i=t.object.length;e>i?e=i-t.addedCount:e<0&&(e=i+t.removed.length+e-t.addedCount),e<0&&(e=0),t.index=e}null===this.changeRecords?this.changeRecords=[t]:this.changeRecords.push(t),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},t.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},t.prototype.reset=function(t){this.oldCollection=t,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},t.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new dt(this.collection))},t.prototype.call=function(){var t=this.changeRecords,e=this.oldCollection,i=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(i=e?this.collection instanceof Map||this.collection instanceof Set?ct(e):at(this.collection,0,this.collection.length,e,0,e.length):this.collection instanceof Map||this.collection instanceof Set?t:lt(this.collection,t),this.callSubscribers(i)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},t}())||s,dt=t.CollectionLengthObserver=it()(a=function(){function t(t){this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length",this.currentValue=t[this.lengthPropertyName]}return t.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},t.prototype.setValue=function(t){this.collection[this.lengthPropertyName]=t},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.call=function(t){var e=this.currentValue;this.callSubscribers(t,e),this.currentValue=t},t}())||a,pt=Array.prototype.pop,ft=Array.prototype.push,mt=Array.prototype.reverse,vt=Array.prototype.shift,gt=Array.prototype.sort,_t=Array.prototype.splice,yt=Array.prototype.unshift;function bt(t,e){return wt.for(t,e)}Array.prototype.pop=function(){var t=this.length>0,e=pt.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:e}),e},Array.prototype.push=function(){var t=ft.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),t},Array.prototype.reverse=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=mt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.shift=function(){var t=this.length>0,e=vt.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:e}),e},Array.prototype.sort=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=gt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.splice=function(){var t=_t.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:t,addedCount:arguments.length>2?arguments.length-2:0}),t},Array.prototype.unshift=function(){var t=yt.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),t},t.getArrayObserver=bt;var wt=function(t){function e(e,i){return C(this,t.call(this,e,i))}return E(e,t),e.for=function(t,i){return"__array_observer__"in i||Reflect.defineProperty(i,"__array_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__array_observer__},e.create=function(t,i){return new e(t,i)},e}(ht),kt=t.Expression=function(){function t(){this.isChain=!1,this.isAssignable=!1}return t.prototype.evaluate=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},t.prototype.assign=function(t,e,i){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},t.prototype.toString=function(){return"undefined"==typeof FEATURE_NO_UNPARSER?Ht.unparse(this):Function.prototype.toString.call(this)},t}(),xt=t.Chain=function(t){function e(e){var i=C(this,t.call(this));return i.expressions=e,i.isChain=!0,i}return E(e,t),e.prototype.evaluate=function(t,e){for(var i=void 0,n=this.expressions,r=void 0,o=0,s=n.length;o<s;++o)null!==(r=n[o].evaluate(t,e))&&(i=r);return i},e.prototype.accept=function(t){return t.visitChain(this)},e}(kt),Ct=t.BindingBehavior=function(t){function e(e,i,n){var r=C(this,t.call(this));return r.expression=e,r.name=i,r.args=n,r}return E(e,t),e.prototype.evaluate=function(t,e){return this.expression.evaluate(t,e)},e.prototype.assign=function(t,e,i){return this.expression.assign(t,e,i)},e.prototype.accept=function(t){return t.visitBindingBehavior(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e.prototype.bind=function(t,e,i){this.expression.expression&&this.expression.bind&&this.expression.bind(t,e,i);var n=i.bindingBehaviors(this.name);if(!n)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var r="behavior-"+this.name;if(t[r])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');t[r]=n,n.bind.apply(n,[t,e].concat(Vt(e,this.args,t.lookupFunctions)))},e.prototype.unbind=function(t,e){var i="behavior-"+this.name;t[i].unbind(t,e),t[i]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(t,e)},e}(kt),Et=t.ValueConverter=function(t){function e(e,i,n,r){var o=C(this,t.call(this));return o.expression=e,o.name=i,o.args=n,o.allArgs=r,o}return E(e,t),e.prototype.evaluate=function(t,e){var i=e.valueConverters(this.name);if(!i)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in i?i.toView.apply(i,Vt(t,this.allArgs,e)):this.allArgs[0].evaluate(t,e)},e.prototype.assign=function(t,e,i){var n=i.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in n&&(e=n.fromView.apply(n,[e].concat(Vt(t,this.args,i)))),this.allArgs[0].assign(t,e,i)},e.prototype.accept=function(t){return t.visitValueConverter(this)},e.prototype.connect=function(t,e){for(var i=this.allArgs,n=i.length;n--;)i[n].connect(t,e)},e}(kt),Lt=t.Assign=function(t){function e(e,i){var n=C(this,t.call(this));return n.target=e,n.value=i,n.isAssignable=!0,n}return E(e,t),e.prototype.evaluate=function(t,e){return this.target.assign(t,this.value.evaluate(t,e))},e.prototype.accept=function(t){t.visitAssign(this)},e.prototype.connect=function(t,e){},e.prototype.assign=function(t,e){this.value.assign(t,e),this.target.assign(t,e)},e}(kt),Ot=t.Conditional=function(t){function e(e,i,n){var r=C(this,t.call(this));return r.condition=e,r.yes=i,r.no=n,r}return E(e,t),e.prototype.evaluate=function(t,e){return this.condition.evaluate(t,e)?this.yes.evaluate(t,e):this.no.evaluate(t,e)},e.prototype.accept=function(t){return t.visitConditional(this)},e.prototype.connect=function(t,e){this.condition.connect(t,e),this.condition.evaluate(e)?this.yes.connect(t,e):this.no.connect(t,e)},e}(kt),St=t.AccessThis=function(t){function e(e){var i=C(this,t.call(this));return i.ancestor=e,i}return E(e,t),e.prototype.evaluate=function(t,e){for(var i=t.overrideContext,n=this.ancestor;n--&&i;)i=i.parentOverrideContext;return n<1&&i?i.bindingContext:void 0},e.prototype.accept=function(t){return t.visitAccessThis(this)},e.prototype.connect=function(t,e){},e}(kt),Pt=t.AccessScope=function(t){function e(e,i){var n=C(this,t.call(this));return n.name=e,n.ancestor=i,n.isAssignable=!0,n}return E(e,t),e.prototype.evaluate=function(t,e){return P(this.name,t,this.ancestor)[this.name]},e.prototype.assign=function(t,e){var i=P(this.name,t,this.ancestor);return i?i[this.name]=e:void 0},e.prototype.accept=function(t){return t.visitAccessScope(this)},e.prototype.connect=function(t,e){var i=P(this.name,e,this.ancestor);t.observeProperty(i,this.name)},e}(kt),At=t.AccessMember=function(t){function e(e,i){var n=C(this,t.call(this));return n.object=e,n.name=i,n.isAssignable=!0,n}return E(e,t),e.prototype.evaluate=function(t,e){var i=this.object.evaluate(t,e);return null==i?i:i[this.name]},e.prototype.assign=function(t,e){var i=this.object.evaluate(t);return null==i&&(i={},this.object.assign(t,i)),i[this.name]=e,e},e.prototype.accept=function(t){return t.visitAccessMember(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);i&&t.observeProperty(i,this.name)},e}(kt),Mt=t.AccessKeyed=function(t){function e(e,i){var n=C(this,t.call(this));return n.object=e,n.key=i,n.isAssignable=!0,n}return E(e,t),e.prototype.evaluate=function(t,e){return function(t,e){{if(Array.isArray(t))return t[parseInt(e,10)];if(t)return t[e];if(null==t)return}return t[e]}(this.object.evaluate(t,e),this.key.evaluate(t,e))},e.prototype.assign=function(t,e){return function(t,e,i){if(Array.isArray(t)){var n=parseInt(e,10);t.length<=n&&(t.length=n+1),t[n]=i}else t[e]=i;return i}(this.object.evaluate(t),this.key.evaluate(t),e)},e.prototype.accept=function(t){return t.visitAccessKeyed(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var i=this.object.evaluate(e);if(i instanceof Object){this.key.connect(t,e);var n=this.key.evaluate(e);null==n||Array.isArray(i)&&"number"==typeof n||t.observeProperty(i,n)}},e}(kt),Tt=t.CallScope=function(t){function e(e,i,n){var r=C(this,t.call(this));return r.name=e,r.args=i,r.ancestor=n,r}return E(e,t),e.prototype.evaluate=function(t,e,i){var n=Vt(t,this.args,e),r=P(this.name,t,this.ancestor),o=qt(r,this.name,i);if(o)return o.apply(r,n)},e.prototype.accept=function(t){return t.visitCallScope(this)},e.prototype.connect=function(t,e){for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(kt),jt=t.CallMember=function(t){function e(e,i,n){var r=C(this,t.call(this));return r.object=e,r.name=i,r.args=n,r}return E(e,t),e.prototype.evaluate=function(t,e,i){var n=this.object.evaluate(t,e),r=Vt(t,this.args,e),o=qt(n,this.name,i);if(o)return o.apply(n,r)},e.prototype.accept=function(t){return t.visitCallMember(this)},e.prototype.connect=function(t,e){if(this.object.connect(t,e),qt(this.object.evaluate(e),this.name,!1))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(kt),It=t.CallFunction=function(t){function e(e,i){var n=C(this,t.call(this));return n.func=e,n.args=i,n}return E(e,t),e.prototype.evaluate=function(t,e,i){var n=this.func.evaluate(t,e);if("function"==typeof n)return n.apply(null,Vt(t,this.args,e));if(i||null!=n)throw new Error(this.func+" is not a function")},e.prototype.accept=function(t){return t.visitCallFunction(this)},e.prototype.connect=function(t,e){if(this.func.connect(t,e),"function"==typeof this.func.evaluate(e))for(var i=this.args,n=i.length;n--;)i[n].connect(t,e)},e}(kt),Rt=t.Binary=function(t){function e(e,i,n){var r=C(this,t.call(this));return r.operation=e,r.left=i,r.right=n,r}return E(e,t),e.prototype.evaluate=function(t,e){var i=this.left.evaluate(t,e);switch(this.operation){case"&&":return i&&this.right.evaluate(t,e);case"||":return i||this.right.evaluate(t,e)}var n=this.right.evaluate(t,e);switch(this.operation){case"==":return i==n;case"===":return i===n;case"!=":return i!=n;case"!==":return i!==n}if(null===i||null===n||void 0===i||void 0===n){switch(this.operation){case"+":return null!=i?i:null!=n?n:0;case"-":return null!=i?i:null!=n?0-n:0}return null}switch(this.operation){case"+":return function(t,e){if(null!==t&&null!==e)return"string"==typeof t&&"string"!=typeof e?t+e.toString():"string"!=typeof t&&"string"==typeof e?t.toString()+e:t+e;if(null!==t)return t;if(null!==e)return e;return 0}(i,n);case"-":return i-n;case"*":return i*n;case"/":return i/n;case"%":return i%n;case"<":return i<n;case">":return i>n;case"<=":return i<=n;case">=":return i>=n;case"^":return i^n}throw new Error("Internal error ["+this.operation+"] not handled")},e.prototype.accept=function(t){return t.visitBinary(this)},e.prototype.connect=function(t,e){this.left.connect(t,e);var i=this.left.evaluate(e);"&&"===this.operation&&!i||"||"===this.operation&&i||this.right.connect(t,e)},e}(kt),Nt=t.PrefixNot=function(t){function e(e,i){var n=C(this,t.call(this));return n.operation=e,n.expression=i,n}return E(e,t),e.prototype.evaluate=function(t,e){return!this.expression.evaluate(t,e)},e.prototype.accept=function(t){return t.visitPrefix(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e}(kt),Bt=t.LiteralPrimitive=function(t){function e(e){var i=C(this,t.call(this));return i.value=e,i}return E(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralPrimitive(this)},e.prototype.connect=function(t,e){},e}(kt),Dt=t.LiteralString=function(t){function e(e){var i=C(this,t.call(this));return i.value=e,i}return E(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralString(this)},e.prototype.connect=function(t,e){},e}(kt),zt=t.LiteralArray=function(t){function e(e){var i=C(this,t.call(this));return i.elements=e,i}return E(e,t),e.prototype.evaluate=function(t,e){for(var i=this.elements,n=[],r=0,o=i.length;r<o;++r)n[r]=i[r].evaluate(t,e);return n},e.prototype.accept=function(t){return t.visitLiteralArray(this)},e.prototype.connect=function(t,e){for(var i=this.elements.length,n=0;n<i;n++)this.elements[n].connect(t,e)},e}(kt),Ft=t.LiteralObject=function(t){function e(e,i){var n=C(this,t.call(this));return n.keys=e,n.values=i,n}return E(e,t),e.prototype.evaluate=function(t,e){for(var i={},n=this.keys,r=this.values,o=0,s=n.length;o<s;++o)i[n[o]]=r[o].evaluate(t,e);return i},e.prototype.accept=function(t){return t.visitLiteralObject(this)},e.prototype.connect=function(t,e){for(var i=this.keys.length,n=0;n<i;n++)this.values[n].connect(t,e)},e}(kt);function Vt(t,e,i){for(var n=e.length,r=[],o=0;o<n;o++)r[o]=e[o].evaluate(t,i);return r}function qt(t,e,i){var n=null==t?null:t[e];if("function"==typeof n)return n;if(!i&&null==n)return null;throw new Error(e+" is not a function")}var Ht=null;t.Unparser=Ht,"undefined"==typeof FEATURE_NO_UNPARSER&&(t.Unparser=Ht=function(){function t(t){this.buffer=t}return t.unparse=function(t){var e=[],i=new Ht(e);return t.accept(i),e.join("")},t.prototype.write=function(t){this.buffer.push(t)},t.prototype.writeArgs=function(t){this.write("(");for(var e=0,i=t.length;e<i;++e)0!==e&&this.write(","),t[e].accept(this);this.write(")")},t.prototype.visitChain=function(t){for(var e=t.expressions,i=0,n=expression.length;i<n;++i)0!==i&&this.write(";"),e[i].accept(this)},t.prototype.visitBindingBehavior=function(t){var e=t.args;t.expression.accept(this),this.write("&"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitValueConverter=function(t){var e=t.args;t.expression.accept(this),this.write("|"+t.name);for(var i=0,n=e.length;i<n;++i)this.write(":"),e[i].accept(this)},t.prototype.visitAssign=function(t){t.target.accept(this),this.write("="),t.value.accept(this)},t.prototype.visitConditional=function(t){t.condition.accept(this),this.write("?"),t.yes.accept(this),this.write(":"),t.no.accept(this)},t.prototype.visitAccessThis=function(t){if(0!==t.ancestor){this.write("$parent");for(var e=t.ancestor-1;e--;)this.write(".$parent")}else this.write("$this")},t.prototype.visitAccessScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name)},t.prototype.visitAccessMember=function(t){t.object.accept(this),this.write("."+t.name)},t.prototype.visitAccessKeyed=function(t){t.object.accept(this),this.write("["),t.key.accept(this),this.write("]")},t.prototype.visitCallScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name),this.writeArgs(t.args)},t.prototype.visitCallFunction=function(t){t.func.accept(this),this.writeArgs(t.args)},t.prototype.visitCallMember=function(t){t.object.accept(this),this.write("."+t.name),this.writeArgs(t.args)},t.prototype.visitPrefix=function(t){this.write("("+t.operation),t.expression.accept(this),this.write(")")},t.prototype.visitBinary=function(t){t.left.accept(this),this.write(t.operation),t.right.accept(this)},t.prototype.visitLiteralPrimitive=function(t){this.write(""+t.value)},t.prototype.visitLiteralArray=function(t){var e=t.elements;this.write("[");for(var i=0,n=e.length;i<n;++i)0!==i&&this.write(","),e[i].accept(this);this.write("]")},t.prototype.visitLiteralObject=function(t){var e=t.keys,i=t.values;this.write("{");for(var n=0,r=e.length;n<r;++n)0!==n&&this.write(","),this.write("'"+e[n]+"':"),i[n].accept(this);this.write("}")},t.prototype.visitLiteralString=function(t){var e=t.value.replace(/'/g,"'");this.write("'"+e+"'")},t}());var Ut=t.ExpressionCloner=function(){function t(){}return t.prototype.cloneExpressionArray=function(t){for(var e=[],i=t.length;i--;)e[i]=t[i].accept(this);return e},t.prototype.visitChain=function(t){return new xt(this.cloneExpressionArray(t.expressions))},t.prototype.visitBindingBehavior=function(t){return new Ct(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitValueConverter=function(t){return new Et(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitAssign=function(t){return new Lt(t.target.accept(this),t.value.accept(this))},t.prototype.visitConditional=function(t){return new Ot(t.condition.accept(this),t.yes.accept(this),t.no.accept(this))},t.prototype.visitAccessThis=function(t){return new St(t.ancestor)},t.prototype.visitAccessScope=function(t){return new Pt(t.name,t.ancestor)},t.prototype.visitAccessMember=function(t){return new At(t.object.accept(this),t.name)},t.prototype.visitAccessKeyed=function(t){return new Mt(t.object.accept(this),t.key.accept(this))},t.prototype.visitCallScope=function(t){return new Tt(t.name,this.cloneExpressionArray(t.args),t.ancestor)},t.prototype.visitCallFunction=function(t){return new It(t.func.accept(this),this.cloneExpressionArray(t.args))},t.prototype.visitCallMember=function(t){return new jt(t.object.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitPrefix=function(t){return new Nt(t.operation,t.expression.accept(this))},t.prototype.visitBinary=function(t){return new Rt(t.operation,t.left.accept(this),t.right.accept(this))},t.prototype.visitLiteralPrimitive=function(t){return new Bt(t)},t.prototype.visitLiteralArray=function(t){return new zt(this.cloneExpressionArray(t.elements))},t.prototype.visitLiteralObject=function(t){return new Ft(t.keys,this.cloneExpressionArray(t.values))},t.prototype.visitLiteralString=function(t){return new Dt(t.value)},t}();var Zt=t.bindingMode={oneTime:0,oneWay:1,twoWay:2},Wt=t.Token=function(){function t(t,e){this.index=t,this.text=e}return t.prototype.withOp=function(t){return this.opKey=t,this},t.prototype.withGetterSetter=function(t){return this.key=t,this},t.prototype.withValue=function(t){return this.value=t,this},t.prototype.toString=function(){return"Token("+this.text+")"},t}(),Gt=t.Lexer=function(){function t(){}return t.prototype.lex=function(t){for(var e=new Yt(t),i=[],n=e.scanToken();n;)i.push(n),n=e.scanToken();return i},t}(),Yt=t.Scanner=function(){function t(t){this.input=t,this.length=t.length,this.peek=0,this.index=-1,this.advance()}return t.prototype.scanToken=function(){for(;this.peek<=ie;){if(++this.index>=this.length)return this.peek=$t,null;this.peek=this.input.charCodeAt(this.index)}if(We(this.peek))return this.scanIdentifier();if(Ge(this.peek))return this.scanNumber(this.index);var t,e=this.index;switch(this.peek){case me:return this.advance(),Ge(this.peek)?this.scanNumber(e):new Wt(e,".");case le:case ce:case qe:case Ue:case Se:case Ae:case pe:case ge:case _e:return this.scanCharacter(e,String.fromCharCode(this.peek));case ue:case re:return this.scanString();case de:case fe:case he:case ve:case se:case Me:case ke:return this.scanOperator(e,String.fromCharCode(this.peek));case ye:case we:case ne:case be:return this.scanComplexOperator(e,be,String.fromCharCode(this.peek),"=");case ae:return this.scanComplexOperator(e,ae,"&","&");case He:return this.scanComplexOperator(e,He,"|","|");case Ze:for(;(t=this.peek)>=Qt&&t<=ie||t===Ze;)this.advance();return this.scanToken()}var i=String.fromCharCode(this.peek);return this.error("Unexpected character ["+i+"]"),null},t.prototype.scanCharacter=function(t,e){return Xe(this.peek===e.charCodeAt(0)),this.advance(),new Wt(t,e)},t.prototype.scanOperator=function(t,e){return Xe(this.peek===e.charCodeAt(0)),Xe(-1!==Xt.indexOf(e)),this.advance(),new Wt(t,e).withOp(e)},t.prototype.scanComplexOperator=function(t,e,i,n){Xe(this.peek===i.charCodeAt(0)),this.advance();var r=i;return this.peek===e&&(this.advance(),r+=n),this.peek===e&&(this.advance(),r+=n),Xe(-1!==Xt.indexOf(r)),new Wt(t,r).withOp(r)},t.prototype.scanIdentifier=function(){Xe(We(this.peek));var t,e=this.index;for(this.advance();t=this.peek,je<=t&&t<=Ve||Ee<=t&&t<=Oe||xe<=t&&t<=Ce||t===Te||t===oe;)this.advance();var i=this.input.substring(e,this.index),n=new Wt(e,i);return-1!==Xt.indexOf(i)?n.withOp(i):n.withGetterSetter(i),n},t.prototype.scanNumber=function(t){Xe(Ge(this.peek));var e,i,n=this.index===t;for(this.advance();;){if(!Ge(this.peek))if(this.peek===me)n=!1;else{if((i=this.peek)!==Ie&&i!==Le)break;this.advance(),((e=this.peek)===fe||e===de)&&this.advance(),Ge(this.peek)||this.error("Invalid exponent",-1),n=!1}this.advance()}var r=this.input.substring(t,this.index),o=n?parseInt(r,10):parseFloat(r);return new Wt(t,r).withValue(o)},t.prototype.scanString=function(){Xe(this.peek===ue||this.peek===re);var t=this.index,e=this.peek;this.advance();for(var i=void 0,n=this.index;this.peek!==e;)if(this.peek===Pe){i||(i=[]),i.push(this.input.substring(n,this.index)),this.advance();var r=void 0;if(this.peek===ze){var o=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(o)||this.error("Invalid unicode escape [\\u"+o+"]"),r=parseInt(o,16);for(var s=0;s<5;++s)this.advance()}else r=Ye(this.peek),this.advance();i.push(String.fromCharCode(r)),n=this.index}else this.peek===$t?this.error("Unterminated quote"):this.advance();var a=this.input.substring(n,this.index);this.advance();var u=this.input.substring(t,this.index),l=a;return null!=i&&(i.push(a),l=i.join("")),new Wt(t,u).withValue(l)},t.prototype.advance=function(){++this.index>=this.length?this.peek=$t:this.peek=this.input.charCodeAt(this.index)},t.prototype.error=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=this.index+e;throw new Error("Lexer Error: "+t+" at column "+i+" in expression ["+this.input+"]")},t}(),Xt=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],$t=0,Qt=9,Kt=10,Jt=11,te=12,ee=13,ie=32,ne=33,re=34,oe=36,se=37,ae=38,ue=39,le=40,ce=41,he=42,de=43,pe=44,fe=45,me=46,ve=47,ge=58,_e=59,ye=60,be=61,we=62,ke=63,xe=48,Ce=57,Ee=65,Le=69,Oe=90,Se=91,Pe=92,Ae=93,Me=94,Te=95,je=97,Ie=101,Re=102,Ne=110,Be=114,De=116,ze=117,Fe=118,Ve=122,qe=123,He=124,Ue=125,Ze=160;function We(t){return je<=t&&t<=Ve||Ee<=t&&t<=Oe||t===Te||t===oe}function Ge(t){return xe<=t&&t<=Ce}function Ye(t){switch(t){case Ne:return Kt;case Re:return te;case Be:return ee;case De:return Qt;case Fe:return Jt;default:return t}}function Xe(t,e){if(!t)throw e||"Assertion failed"}var $e=new Wt(-1,null),Qe=t.Parser=function(){function t(){this.cache={},this.lexer=new Gt}return t.prototype.parse=function(t){return t=t||"",this.cache[t]||(this.cache[t]=new Ke(this.lexer,t).parseChain())},t}(),Ke=t.ParserImplementation=function(){function t(t,e){this.index=0,this.input=e,this.tokens=t.lex(e)}return t.prototype.parseChain=function(){for(var t=!1,e=[];this.optional(";");)t=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var i=this.parseBindingBehavior();for(e.push(i);this.optional(";");)t=!0;t&&this.error("Multiple expressions are not allowed.")}return 1===e.length?e[0]:new xt(e)},t.prototype.parseBindingBehavior=function(){for(var t=this.parseValueConverter();this.optional("&");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new Ct(t,e,i)}return t},t.prototype.parseValueConverter=function(){for(var t=this.parseExpression();this.optional("|");){var e=this.peek.text,i=[];for(this.advance();this.optional(":");)i.push(this.parseExpression());t=new Et(t,e,i,[t].concat(i))}return t},t.prototype.parseExpression=function(){for(var t=this.peek.index,e=this.parseConditional();"="===this.peek.text;){if(!e.isAssignable){var i=this.index<this.tokens.length?this.peek.index:this.input.length,n=this.input.substring(t,i);this.error("Expression "+n+" is not assignable")}this.expect("="),e=new Lt(e,this.parseConditional())}return e},t.prototype.parseConditional=function(){var t=this.peek.index,e=this.parseLogicalOr();if(this.optional("?")){var i=this.parseExpression();if(!this.optional(":")){var n=this.index<this.tokens.length?this.peek.index:this.input.length,r=this.input.substring(t,n);this.error("Conditional expression "+r+" requires all 3 expressions")}var o=this.parseExpression();e=new Ot(e,i,o)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optional("||");)t=new Rt("||",t,this.parseLogicalAnd());return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optional("&&");)t=new Rt("&&",t,this.parseEquality());return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();;)if(this.optional("=="))t=new Rt("==",t,this.parseRelational());else if(this.optional("!="))t=new Rt("!=",t,this.parseRelational());else if(this.optional("==="))t=new Rt("===",t,this.parseRelational());else{if(!this.optional("!=="))return t;t=new Rt("!==",t,this.parseRelational())}},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();;)if(this.optional("<"))t=new Rt("<",t,this.parseAdditive());else if(this.optional(">"))t=new Rt(">",t,this.parseAdditive());else if(this.optional("<="))t=new Rt("<=",t,this.parseAdditive());else{if(!this.optional(">="))return t;t=new Rt(">=",t,this.parseAdditive())}},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();;)if(this.optional("+"))t=new Rt("+",t,this.parseMultiplicative());else{if(!this.optional("-"))return t;t=new Rt("-",t,this.parseMultiplicative())}},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();;)if(this.optional("*"))t=new Rt("*",t,this.parsePrefix());else if(this.optional("%"))t=new Rt("%",t,this.parsePrefix());else{if(!this.optional("/"))return t;t=new Rt("/",t,this.parsePrefix())}},t.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Rt("-",new Bt(0),this.parsePrefix()):this.optional("!")?new Nt("!",this.parsePrefix()):this.parseAccessOrCallMember()},t.prototype.parseAccessOrCallMember=function(){for(var t=this.parsePrimary();;)if(this.optional(".")){var e=this.peek.text;if(this.advance(),this.optional("(")){var i=this.parseExpressionList(")");this.expect(")"),t=t instanceof St?new Tt(e,i,t.ancestor):new jt(t,e,i)}else t=t instanceof St?new Pt(e,t.ancestor):new At(t,e)}else if(this.optional("[")){var n=this.parseExpression();this.expect("]"),t=new Mt(t,n)}else{if(!this.optional("("))return t;var r=this.parseExpressionList(")");this.expect(")"),t=new It(t,r)}},t.prototype.parsePrimary=function(){if(this.optional("(")){var t=this.parseExpression();return this.expect(")"),t}if(this.optional("null"))return new Bt(null);if(this.optional("undefined"))return new Bt(void 0);if(this.optional("true"))return new Bt(!0);if(this.optional("false"))return new Bt(!1);if(this.optional("[")){var e=this.parseExpressionList("]");return this.expect("]"),new zt(e)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var i=this.peek.value;return this.advance(),i instanceof String||"string"==typeof i?new Dt(i):new Bt(i)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},t.prototype.parseAccessOrCallScope=function(){var t=this.peek.key;if(this.advance(),"$this"===t)return new St(0);for(var e=0;"$parent"===t;)if(e++,this.optional("."))t=this.peek.key,this.advance();else{if(this.peek===$e||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text)return new St(e);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var i=this.parseExpressionList(")");return this.expect(")"),new Tt(t,i,e)}return new Pt(t,e)},t.prototype.parseObject=function(){var t=[],e=[];if(this.expect("{"),"}"!==this.peek.text)do{var i=this.peek,n=i.value;t.push("string"==typeof n?n:i.text),this.advance(),!i.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),e.push(this.parseExpression())):(--this.index,e.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Ft(t,e)},t.prototype.parseExpressionList=function(t){var e=[];if(this.peek.text!==t)for(;e.push(this.parseExpression()),this.optional(","););return e},t.prototype.optional=function(t){return this.peek.text===t&&(this.advance(),!0)},t.prototype.expect=function(t){this.peek.text===t?this.advance():this.error("Missing expected "+t)},t.prototype.advance=function(){this.index++},t.prototype.error=function(t){var e=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+t+" "+e+" ["+this.input+"]")},y(t,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:$e}}]),t}(),Je=Map.prototype;function ti(t,e){return ei.for(t,e)}t.getMapObserver=ti;var ei=function(t){function e(e,i){return C(this,t.call(this,e,i))}return E(e,t),e.for=function(t,i){return"__map_observer__"in i||Reflect.defineProperty(i,"__map_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__map_observer__},e.create=function(t,i){var n=new e(t,i),r=Je;return r.set===i.set&&r.delete===i.delete&&r.clear===i.clear||(r={set:i.set,delete:i.delete,clear:i.clear}),i.set=function(){var t=i.has(arguments[0]),e=t?"update":"add",o=i.get(arguments[0]),s=r.set.apply(i,arguments);return t&&o===i.get(arguments[0])||n.addChangeRecord({type:e,object:i,key:arguments[0],oldValue:o}),s},i.delete=function(){var t=i.has(arguments[0]),e=i.get(arguments[0]),o=r.delete.apply(i,arguments);return t&&n.addChangeRecord({type:"delete",object:i,key:arguments[0],oldValue:e}),o},i.clear=function(){var t=r.clear.apply(i,arguments);return n.addChangeRecord({type:"clear",object:i}),t},n},e}(ht);function ii(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}function ni(){this.standardStopPropagation(),this.propagationStopped=!0}function ri(t){t.standardStopPropagation=t.stopPropagation,t.stopPropagation=ni}function oi(t){var e=!1;t.propagationStopped=!1;for(var i=ii(t),n=[];i;){if(i.capturedCallbacks){var r=i.capturedCallbacks[t.type];r&&(e||(ri(t),e=!0),n.push(r))}i=i.parentNode}for(var o=n.length-1;o>=0;o--){if((0,n[o])(t),t.propagationStopped)break}}var si=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){this.count++,1===this.count&&w.DOM.addEventListener(this.eventName,oi,!0)},t.prototype.decrement=function(){this.count--,0===this.count&&w.DOM.removeEventListener(this.eventName,oi,!0)},t}();function ai(t){var e=!1;t.propagationStopped=!1;for(var i=ii(t);i&&!t.propagationStopped;){if(i.delegatedCallbacks){var n=i.delegatedCallbacks[t.type];n&&(e||(ri(t),e=!0),n(t))}i=i.parentNode}}var ui=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){this.count++,1===this.count&&w.DOM.addEventListener(this.eventName,ai,!1)},t.prototype.decrement=function(){this.count--,0===this.count&&w.DOM.removeEventListener(this.eventName,ai)},t}(),li=function(){function t(){this.delegatedHandlers={},this.capturedHandlers={}}return t.prototype.subscribe=function(t,e,i,n){var r=this,o=void 0,s=void 0,a=void 0;if(n===ci.bubbling){var u=function(){o=r.delegatedHandlers,a=o[e]||(o[e]=new ui(e));var n=t.delegatedCallbacks||(t.delegatedCallbacks={});return a.increment(),n[e]=i,{v:function(){a.decrement(),n[e]=null}}}();if("object"===(void 0===u?"undefined":_(u)))return u.v}if(n===ci.capturing){var l=function(){s=r.capturedHandlers,a=s[e]||(s[e]=new si(e));var n=t.capturedCallbacks||(t.capturedCallbacks={});return a.increment(),n[e]=i,{v:function(){a.decrement(),n[e]=null}}}();if("object"===(void 0===l?"undefined":_(l)))return l.v}return t.addEventListener(e,i,!1),function(){t.removeEventListener(e,i)}},t}(),ci=t.delegationStrategy={none:0,capturing:1,bubbling:2},hi=t.EventManager=function(){function t(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new li}return t.prototype.registerElementConfig=function(t){var e=t.tagName.toLowerCase(),i=t.properties,n=void 0;for(n in this.elementHandlerLookup[e]={},i)i.hasOwnProperty(n)&&this.registerElementPropertyConfig(e,n,i[n])},t.prototype.registerElementPropertyConfig=function(t,e,i){this.elementHandlerLookup[t][e]=this.createElementHandler(i)},t.prototype.createElementHandler=function(t){return{subscribe:function(e,i){return t.forEach(function(t){e.addEventListener(t,i,!1)}),function(){t.forEach(function(t){e.removeEventListener(t,i)})}}}},t.prototype.registerElementHandler=function(t,e){this.elementHandlerLookup[t.toLowerCase()]=e},t.prototype.registerEventStrategy=function(t,e){this.eventStrategyLookup[t]=e},t.prototype.getElementHandler=function(t,e){var i=void 0,n=this.elementHandlerLookup;if(t.tagName){if(n[i=t.tagName.toLowerCase()]&&n[i][e])return n[i][e];if("textContent"===e||"innerHTML"===e)return n["content editable"].value;if("scrollTop"===e||"scrollLeft"===e)return n["scrollable element"][e]}return null},t.prototype.addEventListener=function(t,e,i,n){return(this.eventStrategyLookup[e]||this.defaultEventStrategy).subscribe(t,e,i,n)},t}(),di=t.DirtyChecker=function(){function t(){this.tracked=[],this.checkDelay=120}return t.prototype.addProperty=function(t){var e=this.tracked;e.push(t),1===e.length&&this.scheduleDirtyCheck()},t.prototype.removeProperty=function(t){var e=this.tracked;e.splice(e.indexOf(t),1)},t.prototype.scheduleDirtyCheck=function(){var t=this;setTimeout(function(){return t.check()},this.checkDelay)},t.prototype.check=function(){for(var t=this.tracked,e=t.length;e--;){var i=t[e];i.isDirty()&&i.call()}t.length&&this.scheduleDirtyCheck()},t}(),pi=t.DirtyCheckProperty=it()(u=function(){function t(t,e,i){this.dirtyChecker=t,this.obj=e,this.propertyName=i}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.call=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},t}())||u,fi=b.getLogger("property-observation"),mi=t.propertyAccessor={getValue:function(t,e){return t[e]},setValue:function(t,e,i){e[i]=t}},vi=t.PrimitiveObserver=function(){function t(t,e){this.doNotCache=!0,this.primitive=t,this.propertyName=e}return t.prototype.getValue=function(){return this.primitive[this.propertyName]},t.prototype.setValue=function(){var t=_(this.primitive);throw new Error("The "+this.propertyName+" property of a "+t+" ("+this.primitive+") cannot be assigned.")},t.prototype.subscribe=function(){},t.prototype.unsubscribe=function(){},t}(),gi=t.SetterObserver=it()(l=function(){function t(t,e,i){this.taskQueue=t,this.obj=e,this.propertyName=i,this.queued=!1,this.observing=!1}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.getterValue=function(){return this.currentValue},t.prototype.setterValue=function(t){var e=this.currentValue;e!==t&&(this.queued||(this.oldValue=e,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=t)},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.queued=!1,this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.observing||this.convertProperty(),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||fi.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},t}())||l,_i=t.XLinkAttributeObserver=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.attributeName=i}return t.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},t.prototype.setValue=function(t){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),yi=t.dataAttributeAccessor={getValue:function(t,e){return t.getAttribute(e)},setValue:function(t,e,i){return e.setAttribute(i,t)}},bi=t.DataAttributeObserver=function(){function t(t,e){this.element=t,this.propertyName=e}return t.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},t.prototype.setValue=function(t){return this.element.setAttribute(this.propertyName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),wi=t.StyleObserver=function(){function t(t,e){this.element=t,this.propertyName=e,this.styles=null,this.version=0}return t.prototype.getValue=function(){return this.element.style.cssText},t.prototype._setProperty=function(t,e){var i="";null!=e&&"function"==typeof e.indexOf&&-1!==e.indexOf("!important")&&(i="important",e=e.replace("!important","")),this.element.style.setProperty(t,e,i)},t.prototype.setValue=function(t){var e=this.styles||{},i=void 0,n=this.version;if(null!=t)if(t instanceof Object){var r=void 0;for(i in t)t.hasOwnProperty(i)&&(r=t[i],e[i=i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})]=n,this._setProperty(i,r))}else if(t.length)for(var o=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,s=void 0;null!==(s=o.exec(t));)(i=s[1])&&(e[i]=n,this._setProperty(i,s[2]));if(this.styles=e,this.version+=1,0!==n)for(i in n-=1,e)e.hasOwnProperty(i)&&e[i]===n&&this.element.style.removeProperty(i)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),ki=t.ValueAttributeObserver=it()(c=function(){function t(t,e,i){this.element=t,this.propertyName=e,this.handler=i,"files"===e&&(this.setValue=function(){})}return t.prototype.getValue=function(){return this.element[this.propertyName]},t.prototype.setValue=function(t){t=null==t?"":t,this.element[this.propertyName]!==t&&(this.element[this.propertyName]=t,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t}())||c,xi="CheckedObserver:array",Ci="CheckedObserver:value",Ei=t.CheckedObserver=it()(h=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.initialSync&&this.value===t||(this.arrayObserver&&(this.arrayObserver.unsubscribe(xi,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(xi,this)),this.oldValue=this.value,this.value=t,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(Ci,this))},t.prototype.synchronizeElement=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n="radio"===e.type,r=e.matcher||function(t,e){return t===e};e.checked=n&&!!r(t,i)||!n&&!0===t||!n&&Array.isArray(t)&&-1!==t.findIndex(function(t){return!!r(t,i)})},t.prototype.synchronizeValue=function(){var t=this.value,e=this.element,i=e.hasOwnProperty("model")?e.model:e.value,n=void 0,r=e.matcher||function(t,e){return t===e};if("checkbox"===e.type){if(Array.isArray(t))return n=t.findIndex(function(t){return!!r(t,i)}),void(e.checked&&-1===n?t.push(i):e.checked||-1===n||t.splice(n,1));t=e.checked}else{if(!e.checked)return;t=i}this.oldValue=this.value,this.value=t,this.notify()},t.prototype.notify=function(){var t=this.oldValue,e=this.value;e!==t&&this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe(xi,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(Ci,this)},t}())||h,Li="SelectValueObserver:array",Oi=t.SelectValueObserver=it()(d=function(){function t(t,e,i){this.element=t,this.handler=e,this.observerLocator=i}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){if(null!=t&&this.element.multiple&&!Array.isArray(t))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==t&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(Li,this),this.arrayObserver=null),Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(Li,this)),this.oldValue=this.value,this.value=t,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeOptions()},t.prototype.synchronizeOptions=function(){var t=this.value,e=void 0;Array.isArray(t)&&(e=!0);for(var i=this.element.options,n=i.length,r=this.element.matcher||function(t,e){return t===e},o=function(){var o=i.item(n),s=o.hasOwnProperty("model")?o.model:o.value;if(e)return o.selected=-1!==t.findIndex(function(t){return!!r(s,t)}),"continue";o.selected=!!r(s,t)};n--;)o()},t.prototype.synchronizeValue=function(){for(var t=this,e=this.element.options,i=0,n=[],r=0,o=e.length;r<o;r++){var s=e.item(r);s.selected&&(n.push(s.hasOwnProperty("model")?s.model:s.value),i++)}if(this.element.multiple){if(Array.isArray(this.value)){var a=function(){for(var e=t.element.matcher||function(t,e){return t===e},i=0,r=function(){var r=t.value[i];-1===n.findIndex(function(t){return e(r,t)})?t.value.splice(i,1):i++};i<t.value.length;)r();i=0;for(var o=function(){var r=n[i];-1===t.value.findIndex(function(t){return e(r,t)})&&t.value.push(r),i++};i<n.length;)o();return{v:void 0}}();if("object"===(void 0===a?"undefined":_(a)))return a.v}}else n=0===i?null:n[0];n!==this.value&&(this.oldValue=this.value,this.value=n,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.value;this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.bind=function(){var t=this;this.domObserver=w.DOM.createMutationObserver(function(){t.synchronizeOptions(),t.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},t.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(Li,this),this.arrayObserver=null)},t}())||d,Si=t.ClassObserver=function(){function t(t){this.element=t,this.doNotCache=!0,this.value="",this.version=0}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=this.nameIndex||{},i=this.version,n=void 0,r=void 0;if(null!=t&&t.length)for(var o=0,s=(n=t.split(/\s+/)).length;o<s;o++)""!==(r=n[o])&&(e[r]=i,this.element.classList.add(r));if(this.value=t,this.nameIndex=e,this.version+=1,0!==i)for(r in i-=1,e)e.hasOwnProperty(r)&&e[r]===i&&this.element.classList.remove(r)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},t}();function Pi(t){return!!(t&&t.get&&t.get.dependencies)}var Ai=t.ComputedExpression=function(t){function e(e,i){var n=C(this,t.call(this));return n.name=e,n.dependencies=i,n.isAssignable=!0,n}return E(e,t),e.prototype.evaluate=function(t,e){return t.bindingContext[this.name]},e.prototype.assign=function(t,e){t.bindingContext[this.name]=e},e.prototype.accept=function(t){throw new Error("not implemented")},e.prototype.connect=function(t,e){for(var i=this.dependencies,n=i.length;n--;)i[n].connect(t,e)},e}(kt);function Mi(t,e,i,n){var r=i.get.dependencies;if(!(r instanceof Ai)){for(var o=r.length;o--;)r[o]=n.parser.parse(r[o]);r=i.get.dependencies=new Ai(e,r)}var s={bindingContext:t,overrideContext:S(t)};return new nt(s,r,n)}var Ti=void 0,ji=void 0,Ii=void 0,Ri=void 0;"undefined"==typeof FEATURE_NO_SVG&&function(){Ti={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},ji={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},Ii={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0};var t=function(t){var e=w.DOM.createElement("div");return e.innerHTML=t,e.firstChild};Ri=function(){function e(){"altglyph"===t("<svg><altGlyph /></svg>").firstElementChild.nodeName&&Ni.altGlyph&&(Ni.altglyph=Ni.altGlyph,delete Ni.altGlyph,Ni.altglyphdef=Ni.altGlyphDef,delete Ni.altGlyphDef,Ni.altglyphitem=Ni.altGlyphItem,delete Ni.altGlyphItem,Ni.glyphref=Ni.glyphRef,delete Ni.glyphRef)}return e.prototype.isStandardSvgAttribute=function(t,e){return Bi[t]&&Di[e]||Ni[t]&&-1!==Ni[t].indexOf(e)},e}()}();var Ni=t.elements=Ti,Bi=t.presentationElements=ji,Di=t.presentationAttributes=Ii,zi=t.SVGAnalyzer=Ri||function(){function t(){}return t.prototype.isStandardSvgAttribute=function(){return!1},t}(),Fi=t.ObserverLocator=(f=p=function(){function t(t,e,i,n,r){this.taskQueue=t,this.eventManager=e,this.dirtyChecker=i,this.svgAnalyzer=n,this.parser=r,this.adapters=[],this.logger=b.getLogger("observer-locator")}return t.prototype.getObserver=function(t,e){var i,n=t.__observers__;return n&&e in n?n[e]:((i=this.createPropertyObserver(t,e)).doNotCache||(void 0===n&&(n=this.getOrCreateObserversLookup(t)),n[e]=i),i)},t.prototype.getOrCreateObserversLookup=function(t){return t.__observers__||this.createObserversLookup(t)},t.prototype.createObserversLookup=function(t){var e={};return Reflect.defineProperty(t,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:e})||this.logger.warn("Cannot add observers to object",t),e},t.prototype.addAdapter=function(t){this.adapters.push(t)},t.prototype.getAdapterObserver=function(t,e,i){for(var n=0,r=this.adapters.length;n<r;n++){var o=this.adapters[n].getObserver(t,e,i);if(o)return o}return null},t.prototype.createPropertyObserver=function(t,e){var i,n=void 0,r=void 0;if(!(t instanceof Object))return new vi(t,e);if(t instanceof w.DOM.Element){if("class"===e)return new Si(t);if("style"===e||"css"===e)return new wi(t,e);if(n=this.eventManager.getElementHandler(t,e),"value"===e&&"select"===t.tagName.toLowerCase())return new Oi(t,n,this);if("checked"===e&&"input"===t.tagName.toLowerCase())return new Ei(t,n,this);if(n)return new ki(t,e,n);if(r=/^xlink:(.+)$/.exec(e))return new _i(t,e,r[1]);if("role"===e&&(t instanceof w.DOM.Element||t instanceof w.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(e)||t instanceof w.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return new bi(t,e)}if(Pi(i=Object.getPropertyDescriptor(t,e)))return Mi(t,e,i,this);if(i){var o=i.get||i.set;if(o){if(o.getObserver)return o.getObserver(t);var s=this.getAdapterObserver(t,e,i);return s||new pi(this.dirtyChecker,t,e)}}return t instanceof Array?"length"===e?this.getArrayObserver(t).getLengthObserver():new pi(this.dirtyChecker,t,e):t instanceof Map?"size"===e?this.getMapObserver(t).getLengthObserver():new pi(this.dirtyChecker,t,e):t instanceof Set?"size"===e?this.getSetObserver(t).getLengthObserver():new pi(this.dirtyChecker,t,e):new gi(this.taskQueue,t,e)},t.prototype.getAccessor=function(t,e){if(t instanceof w.DOM.Element){if("class"===e||"style"===e||"css"===e||"value"===e&&("input"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase())||"checked"===e&&"input"===t.tagName.toLowerCase()||"model"===e&&"input"===t.tagName.toLowerCase()||/^xlink:.+$/.exec(e))return this.getObserver(t,e);if(/^\w+:|^data-|^aria-/.test(e)||t instanceof w.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return yi}return mi},t.prototype.getArrayObserver=function(t){return bt(this.taskQueue,t)},t.prototype.getMapObserver=function(t){return ti(this.taskQueue,t)},t.prototype.getSetObserver=function(t){return Ki(this.taskQueue,t)},t}(),p.inject=[k.TaskQueue,hi,di,zi,Qe],f),Vi=(t.ObjectObservationAdapter=function(){function t(){}return t.prototype.getObserver=function(t,e,i){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},t}(),t.BindingExpression=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=r,this.attribute=o,this.discrete=!1}return t.prototype.createBinding=function(t){return new Hi(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.mode,this.lookupFunctions)},t}()),qi="Binding:target",Hi=t.Binding=D()(m=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.sourceExpression=e,this.target=i,this.targetProperty=n,this.mode=r,this.lookupFunctions=o}return t.prototype.updateTarget=function(t){this.targetObserver.setValue(t,this.target,this.targetProperty)},t.prototype.updateSource=function(t){this.sourceExpression.assign(this.source,t,this.lookupFunctions)},t.prototype.call=function(t,e,i){if(this.isBound){if(t===A)return i=this.targetObserver.getValue(this.target,this.targetProperty),(e=this.sourceExpression.evaluate(this.source,this.lookupFunctions))!==i&&this.updateTarget(e),void(this.mode!==Zt.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(t!==qi)throw new Error("Unexpected call context "+t);e!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(e)}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions);var e=this.mode;if(!this.targetObserver){var i=e===Zt.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[i](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();var n=this.sourceExpression.evaluate(t,this.lookupFunctions);this.updateTarget(n),e===Zt.oneWay?G(this):e===Zt.twoWay&&(this.sourceExpression.connect(this,t),this.targetObserver.subscribe(qi,this))},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(qi,this),this.unobserve(!0))},t.prototype.connect=function(t){if(this.isBound){if(t){var e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(e)}this.sourceExpression.connect(this,this.source)}},t}())||m,Ui=(t.CallExpression=function(){function t(t,e,i,n){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=i,this.lookupFunctions=n}return t.prototype.createBinding=function(t){return new Ui(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.lookupFunctions)},t}(),t.Call=function(){function t(t,e,i,n,r){this.sourceExpression=e,this.target=i,this.targetProperty=t.getObserver(i,n),this.lookupFunctions=r}return t.prototype.callSource=function(t){var e=this.source.overrideContext;Object.assign(e,t),e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(var n in delete e.$event,t)delete e[n];return i},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.targetProperty.setValue(function(t){return e.callSource(t)})},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},t}()),Zi=t.ValueConverterResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("ValueConverter"))return new t(O(e.substring(0,e.length-14)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerValueConverter(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}();var Wi=t.BindingBehaviorResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("BindingBehavior"))return new t(O(e.substring(0,e.length-15)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerBindingBehavior(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}();t.ListenerExpression=function(){function t(t,e,i,n,r,o){this.eventManager=t,this.targetEvent=e,this.sourceExpression=i,this.delegationStrategy=n,this.discrete=!0,this.preventDefault=r,this.lookupFunctions=o}return t.prototype.createBinding=function(t){return new Gi(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,t,this.preventDefault,this.lookupFunctions)},t}();var Gi=t.Listener=function(){function t(t,e,i,n,r,o,s){this.eventManager=t,this.targetEvent=e,this.delegationStrategy=i,this.sourceExpression=n,this.target=r,this.preventDefault=o,this.lookupFunctions=s}return t.prototype.callSource=function(t){var e=this.source.overrideContext;e.$event=t;var i=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete e.$event,!0!==i&&this.preventDefault&&t.preventDefault(),i},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,function(t){return e.callSource(t)},this.delegationStrategy)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},t}();function Yi(t){var e=t.au;if(void 0===e)throw new Error('No Aurelia APIs are defined for the element: "'+t.tagName+'".');return e}t.NameExpression=function(){function t(t,e,i){this.sourceExpression=t,this.apiName=e,this.lookupFunctions=i,this.discrete=!0}return t.prototype.createBinding=function(e){return new Xi(this.sourceExpression,t.locateAPI(e,this.apiName),this.lookupFunctions)},t.locateAPI=function(t,e){switch(e){case"element":return t;case"controller":return Yi(t).controller;case"view-model":return Yi(t).controller.viewModel;case"view":return Yi(t).controller.view;default:var i=Yi(t)[e];if(void 0===i)throw new Error('Attempted to reference "'+e+"\", but it was not found amongst the target's API.");return i.viewModel}},t}();var Xi=function(){function t(t,e,i){this.sourceExpression=t,this.target=e,this.lookupFunctions=i}return t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},t}(),$i={bindingBehaviors:function(t){return null},valueConverters:function(t){return null}},Qi=(t.BindingEngine=(g=v=function(){function t(t,e){this.observerLocator=t,this.parser=e}return t.prototype.createBindingExpression=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?Zt.oneWay:arguments[2],n=arguments.length<=3||void 0===arguments[3]?$i:arguments[3];return new Vi(this.observerLocator,t,this.parser.parse(e),i,n)},t.prototype.propertyObserver=function(t,e){var i=this;return{subscribe:function(n){var r=i.observerLocator.getObserver(t,e);return r.subscribe(n),{dispose:function(){return r.unsubscribe(n)}}}}},t.prototype.collectionObserver=function(t){var e=this;return{subscribe:function(i){var n=void 0;if(t instanceof Array)n=e.observerLocator.getArrayObserver(t);else if(t instanceof Map)n=e.observerLocator.getMapObserver(t);else{if(!(t instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");n=e.observerLocator.getSetObserver(t)}return n.subscribe(i),{dispose:function(){return n.unsubscribe(i)}}}}},t.prototype.expressionObserver=function(t,e){var i={bindingContext:t,overrideContext:S(t)};return new nt(i,this.parser.parse(e),this.observerLocator,$i)},t.prototype.parseExpression=function(t){return this.parser.parse(t)},t.prototype.registerAdapter=function(t){this.observerLocator.addAdapter(t)},t}(),v.inject=[Fi,Qe],g),Set.prototype);function Ki(t,e){return Ji.for(t,e)}t.getSetObserver=Ki;var Ji=function(t){function e(e,i){return C(this,t.call(this,e,i))}return E(e,t),e.for=function(t,i){return"__set_observer__"in i||Reflect.defineProperty(i,"__set_observer__",{value:e.create(t,i),enumerable:!1,configurable:!1}),i.__set_observer__},e.create=function(t,i){var n=new e(t,i),r=Qi;return r.add===i.add&&r.delete===i.delete&&r.clear===i.clear||(r={add:i.add,delete:i.delete,clear:i.clear}),i.add=function(){var t=i.size,e=r.add.apply(i,arguments);return i.size===t||n.addChangeRecord({type:"add",object:i,value:Array.from(i).pop()}),e},i.delete=function(){var t=i.has(arguments[0]),e=r.delete.apply(i,arguments);return t&&n.addChangeRecord({type:"delete",object:i,value:arguments[0]}),e},i.clear=function(){var t=r.clear.apply(i,arguments);return n.addChangeRecord({type:"clear",object:i}),t},n},e}(ht)}),t.entry="dist/commonjs/aurelia-binding.js"}),t.pkg("aurelia-task-queue",{},function(t){return t.file("dist/commonjs/aurelia-task-queue.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskQueue=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=e("aurelia-pal"),a="function"==typeof setImmediate;function u(t){return function(){var e=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(e),clearInterval(i),t()}}}function l(t,e,i){i&&e.stack&&"object"===(void 0===t?"undefined":o(t))&&null!==t&&(t.stack=c(t.stack)+e.stack),"onError"in e?e.onError(t):a?setImmediate(function(){throw t}):setTimeout(function(){throw t},0)}t.TaskQueue=function(){function t(){var t,e,i,n,r=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],s.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=(t=function(){return r.flushMicroTaskQueue()},e=1,i=s.DOM.createMutationObserver(t),n=s.DOM.createTextNode(""),i.observe(n,{characterData:!0}),function(){e=-e,n.data=e}):this.requestFlushMicroTaskQueue=u(function(){return r.flushMicroTaskQueue()}),this.requestFlushTaskQueue=u(function(){return r.flushTaskQueue()})}return t.prototype.queueMicroTask=function(t){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(t)},t.prototype.queueTask=function(t){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(t)},t.prototype.flushTaskQueue=function(){var t=this.taskQueue,e=0,i=void 0;this.taskQueue=[];try{for(this.flushing=!0;e<t.length;)i=t[e],this.longStacks&&(this.stack="string"==typeof i.stack?i.stack:void 0),i.call(),e++}catch(t){l(t,i,this.longStacks)}finally{this.flushing=!1}},t.prototype.flushMicroTaskQueue=function(){var t=this.microTaskQueue,e=this.microTaskQueueCapacity,i=0,n=void 0;try{for(this.flushing=!0;i<t.length;)if(n=t[i],this.longStacks&&(this.stack="string"==typeof n.stack?n.stack:void 0),n.call(),++i>e){for(var r=0,o=t.length-i;r<o;r++)t[r]=t[r+i];t.length-=i,i=0}}catch(t){l(t,n,this.longStacks)}finally{this.flushing=!1}t.length=0},t.prototype.prepareQueueStack=function(t){var e=t+function(){var t=new Error;if(t.stack)return t.stack;try{throw t}catch(t){return t.stack}}().replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"");return"string"==typeof this.stack&&(e=c(e)+this.stack),e},t}();function c(t){var e=t.lastIndexOf("flushMicroTaskQueue");return e<0&&(e=t.lastIndexOf("flushTaskQueue"))<0?t:(e=t.lastIndexOf("\n",e))<0?t:t.substr(0,e)}}),t.entry="dist/commonjs/aurelia-task-queue.js"}),t.pkg("aurelia-templating",{},function(t){return t.file("dist/commonjs/aurelia-templating.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingEngine=t.ElementConfigResource=t.CompositionEngine=t.SwapStrategies=t.HtmlBehaviorResource=t.BindableProperty=t.BehaviorPropertyObserver=t.Controller=t.ViewEngine=t.ModuleAnalyzer=t.ResourceDescription=t.ResourceModule=t.ViewCompiler=t.ViewFactory=t.BoundViewFactory=t.ViewSlot=t.View=t.ViewResources=t.ShadowDOM=t.ShadowSlot=t.PassThroughSlot=t.SlotCustomAttribute=t.BindingLanguage=t.ViewLocator=t.InlineViewStrategy=t.TemplateRegistryViewStrategy=t.NoViewStrategy=t.ConventionalViewStrategy=t.RelativeViewStrategy=t.viewStrategy=t.TargetInstruction=t.BehaviorInstruction=t.ViewCompileInstruction=t.ResourceLoadContext=t.ElementEvents=t.ViewEngineHooksResource=t.CompositionTransaction=t.CompositionTransactionOwnershipToken=t.CompositionTransactionNotifier=t.Animator=t.animationEvent=void 0;var o,s,a,u,l,c,h,d,p,f,m,v,g,_,y,b,w,k,x,C,E=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t._hyphenate=V,t._isAllWhitespace=q,t.viewEngineHooks=function(t){var e=function(t){S.metadata.define(S.metadata.resource,new H,t)};return t?e(t):e},t.children=function(t){return Vt(t,!0)},t.child=function(t){return Vt(t,!1)},t.resource=function(t){return function(e){S.metadata.define(S.metadata.resource,t,e)}},t.behavior=function(t){return function(e){if(t instanceof Ft)S.metadata.define(S.metadata.resource,t,e);else{var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,e);Object.assign(i,t)}}},t.customElement=function(t){return function(e){var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,e);i.elementName=Kt(t,"custom element")}},t.customAttribute=function(t,e,i){return function(n){var r=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,n);r.attributeName=Kt(t,"custom attribute"),r.attributeDefaultBindingMode=e,r.aliases=i}},t.templateController=function(t){var e=function(t){var e=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,t);e.liftsContent=!0};return t?e(t):e},t.bindable=function(t,e,i){var n=function(e,i,n){var r=i?e.constructor:e,o=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,r);return i&&((t=t||{}).name=i),new Nt(t).registerWith(r,o,n)};if(!t)return n;if(e){var r=t;return t=null,n(r,e,i)}return n},t.dynamicOptions=function(t){var e=function(t){var e=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,t);e.hasDynamicOptions=!0};return t?e(t):e},t.useShadowDOM=function(t){var e="function"!=typeof t&&t?t:Jt,i=function(t){var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,t);i.targetShadowDOM=!0,i.shadowDOMOptions=e};return"function"==typeof t?i(t):i},t.processAttributes=function(t){return function(e){var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,e);i.processAttributes=function(e,i,n,r,o){try{t(e,i,n,r,o)}catch(t){O.getLogger("templating").error(t)}}}},t.processContent=function(t){return function(e){var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,e);i.processContent=t?function(e,i,n,r){try{return t(e,i,n,r)}catch(t){return O.getLogger("templating").error(t),!1}}:te}},t.containerless=function(t){var e=function(t){var e=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,t);e.containerless=!0};return t?e(t):e},t.useViewStrategy=ee,t.useView=function(t){return ee(new $(t))},t.inlineView=function(t,e,i){return ee(new tt(t,e,i))},t.noView=function(t,e){var i=void 0,n=void 0;"function"==typeof t?i=t:(n=t,i=void 0);var r=function(t){S.metadata.define(et.viewStrategyMetadataKey,new K(n,e),t)};return i?r(i):r},t.elementConfig=function(t){var e=function(t){S.metadata.define(S.metadata.resource,new Qt,t)};return t?e(t):e},t.viewResources=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){S.metadata.define(Tt.viewModelRequireMetadataKey,e,t)}};var O=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),S=e("aurelia-metadata"),P=e("aurelia-pal"),A=e("aurelia-path"),M=e("aurelia-loader"),T=e("aurelia-dependency-injection"),j=e("aurelia-binding"),I=e("aurelia-task-queue");t.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"};var R=t.Animator=function(){function t(){}return t.prototype.enter=function(t){return Promise.resolve(!1)},t.prototype.leave=function(t){return Promise.resolve(!1)},t.prototype.removeClass=function(t,e){return t.classList.remove(e),Promise.resolve(!1)},t.prototype.addClass=function(t,e){return t.classList.add(e),Promise.resolve(!1)},t.prototype.animate=function(t,e){return Promise.resolve(!1)},t.prototype.runSequence=function(t){},t.prototype.registerEffect=function(t,e){},t.prototype.unregisterEffect=function(t){},t}(),N=t.CompositionTransactionNotifier=function(){function t(t){this.owner=t,this.owner._compositionCount++}return t.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},t}(),B=t.CompositionTransactionOwnershipToken=function(){function t(t){this.owner=t,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return t.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},t.prototype.resolve=function(){this._resolveCallback()},t.prototype._createThenable=function(){var t=this;return new Promise(function(e,i){t._resolveCallback=e})},t}(),D=t.CompositionTransaction=function(){function t(){this._ownershipToken=null,this._compositionCount=0}return t.prototype.tryCapture=function(){return null===this._ownershipToken?new B(this):null},t.prototype.enlist=function(){return new N(this)},t.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var t=this._ownershipToken;this._ownershipToken=null,t.resolve()}},t}(),z=/([A-Z])/g;function F(t){return"-"+t.toLowerCase()}function V(t){return(t.charAt(0).toLowerCase()+t.slice(1)).replace(z,F)}function q(t){return!(t.auInterpolationTarget||/[^\t\n\r ]/.test(t.textContent))}var H=t.ViewEngineHooksResource=function(){function t(){}return t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerViewEngineHooks(this.instance)},t.prototype.load=function(t,e){},t.convention=function(e){if(e.endsWith("ViewEngineHooks"))return new t},t}();var U=t.ElementEvents=function(){function t(t){this.element=t,this.subscriptions={}}return t.prototype._enqueueHandler=function(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[],this.subscriptions[t.eventName].push(t)},t.prototype._dequeueHandler=function(t){var e=void 0,i=this.subscriptions[t.eventName];return i&&(e=i.indexOf(t))>-1&&i.splice(e,1),t},t.prototype.publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=P.DOM.createCustomEvent(t,{cancelable:n,bubbles:i,detail:e});this.element.dispatchEvent(r)},t.prototype.subscribe=function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e)return e.eventName=t,e.handler=e,e.bubbles=n,e.dispose=function(){i.element.removeEventListener(t,e,n),i._dequeueHandler(e)},this.element.addEventListener(t,e,n),this._enqueueHandler(e),e},t.prototype.subscribeOnce=function(t,e){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e){var r={v:i.subscribe(t,function t(i){e(i),t.dispose()},n)};if("object"===(void 0===r?"undefined":L(r)))return r.v}},t.prototype.dispose=function(t){if(t&&"string"==typeof t){var e=this.subscriptions[t];if(e)for(;e.length;){var i=e.pop();i&&i.dispose()}}else this.disposeAll()},t.prototype.disposeAll=function(){for(var t in this.subscriptions)this.dispose(t)},t}(),Z=t.ResourceLoadContext=function(){function t(){this.dependencies={}}return t.prototype.addDependency=function(t){this.dependencies[t]=!0},t.prototype.hasDependency=function(t){return t in this.dependencies},t}(),W=t.ViewCompileInstruction=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=t,this.compileSurrogate=e,this.associatedModuleId=null};W.normal=new W;var G=t.BehaviorInstruction=function(){function t(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return t.enhance=function(){var e=new t;return e.enhance=!0,e},t.unitTest=function(e,i){var n=new t;return n.type=e,n.attributes=i||{},n},t.element=function(e,i){var n=new t;return n.type=i,n.attributes={},n.anchorIsContainer=!(e.hasAttribute("containerless")||i.containerless),n.initiatedByBehavior=!0,n},t.attribute=function(e,i){var n=new t;return n.attrName=e,n.type=i||null,n.attributes={},n},t.dynamic=function(e,i,n){var r=new t;return r.host=e,r.viewModel=i,r.viewFactory=n,r.inheritBindingContext=!0,r},t}();G.normal=new G;var Y=t.TargetInstruction=(s=o=function(){function t(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return t.shadowSlot=function(e){var i=new t;return i.parentInjectorId=e,i.shadowSlot=!0,i},t.contentExpression=function(e){var i=new t;return i.contentExpression=e,i},t.lifting=function(e,i){var n=new t;return n.parentInjectorId=e,n.expressions=t.noExpressions,n.behaviorInstructions=[i],n.viewFactory=i.viewFactory,n.providers=[i.type.target],n.lifting=!0,n},t.normal=function(e,i,n,r,o,s){var a=new t;return a.injectorId=e,a.parentInjectorId=i,a.providers=n,a.behaviorInstructions=r,a.expressions=o,a.anchorIsContainer=!s||s.anchorIsContainer,a.elementInstruction=s,a},t.surrogate=function(e,i,n,r){var o=new t;return o.expressions=n,o.behaviorInstructions=i,o.providers=e,o.values=r,o},t}(),o.noExpressions=Object.freeze([]),s),X=t.viewStrategy=S.protocol.create("aurelia:view-strategy",{validate:function(t){return"function"==typeof t.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(t){"function"!=typeof t.makeRelativeTo&&(t.makeRelativeTo=P.PLATFORM.noop)}}),$=t.RelativeViewStrategy=X()(a=function(){function t(t){this.path=t,this.absolutePath=null}return t.prototype.loadViewFactory=function(t,e,i,n){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,A.relativeToFile)(this.path,this.moduleId)),e.associatedModuleId=this.moduleId,t.loadViewFactory(this.absolutePath||this.path,e,i,n)},t.prototype.makeRelativeTo=function(t){null===this.absolutePath&&(this.absolutePath=(0,A.relativeToFile)(this.path,t))},t}())||a,Q=t.ConventionalViewStrategy=X()(u=function(){function t(t,e){this.moduleId=e.moduleId,this.viewUrl=t.convertOriginToViewUrl(e)}return t.prototype.loadViewFactory=function(t,e,i,n){return e.associatedModuleId=this.moduleId,t.loadViewFactory(this.viewUrl,e,i,n)},t}())||u,K=t.NoViewStrategy=X()(l=function(){function t(t,e){this.dependencies=t||null,this.dependencyBaseUrl=e||""}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(null);if(this.entry=r=new M.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.dependencies=[],r.templateIsLoaded=!0,null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n)},t}())||l,J=t.TemplateRegistryViewStrategy=X()(c=function(){function t(t,e){this.moduleId=t,this.entry=e}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry;return r.factoryIsReady?Promise.resolve(r.factory):(e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n))},t}())||c,tt=t.InlineViewStrategy=X()(h=function(){function t(t,e,i){this.markup=t,this.dependencies=e||null,this.dependencyBaseUrl=i||""}return t.prototype.loadViewFactory=function(t,e,i,n){var r=this.entry,o=this.dependencies;if(r&&r.factoryIsReady)return Promise.resolve(r.factory);if(this.entry=r=new M.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),r.template=P.DOM.createTemplateFromMarkup(this.markup),null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?r.addDependency(u):r.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(r,e,i,n)},t}())||h,et=t.ViewLocator=(p=d=function(){function t(){}return t.prototype.getViewStrategy=function(e){if(!e)return null;if("object"===(void 0===e?"undefined":L(e))&&"getViewStrategy"in e){var i=S.Origin.get(e.constructor);return"string"==typeof(e=e.getViewStrategy())&&(e=new $(e)),X.assert(e),i.moduleId&&e.makeRelativeTo(i.moduleId),e}if("string"==typeof e&&(e=new $(e)),X.validate(e))return e;"function"!=typeof e&&(e=e.constructor);var n=S.Origin.get(e),r=S.metadata.get(t.viewStrategyMetadataKey,e);if(r)n.moduleId&&(r.moduleId=n.moduleId);else{if(!n.moduleId)throw new Error("Cannot determine default view strategy for object.",e);r=this.createFallbackViewStrategy(n)}return r},t.prototype.createFallbackViewStrategy=function(t){return new Q(this,t)},t.prototype.convertOriginToViewUrl=function(t){var e=t.moduleId;return(e.endsWith(".js")||e.endsWith(".ts")?e.substring(0,e.length-3):e)+".html"},t}(),d.viewStrategyMetadataKey="aurelia:view-strategy",p);function it(t){throw new Error("BindingLanguage must implement "+t+"().")}var nt=t.BindingLanguage=function(){function t(){}return t.prototype.inspectAttribute=function(t,e,i,n){it("inspectAttribute")},t.prototype.createAttributeInstruction=function(t,e,i,n){it("createAttributeInstruction")},t.prototype.inspectTextContent=function(t,e){it("inspectTextContent")},t}(),rt=Object.freeze([]),ot=t.SlotCustomAttribute=(0,T.inject)(P.DOM.Element)(f=function(){function t(t){this.element=t,this.element.auSlotAttribute=this}return t.prototype.valueChanged=function(t,e){},t}())||f,st=t.PassThroughSlot=function(){function t(t,e,i,n){this.anchor=t,this.anchor.viewSlot=this,this.name=e,this.destinationName=i,this.fallbackFactory=n,this.destinationSlot=null,this.projections=0,this.contentView=null,new ot(this.anchor).value=this.destinationName}return t.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var r=Object.create(null);r[this.destinationSlot.name]=this.destinationSlot,ut.distributeView(this.contentView,r,i,n,this.destinationSlot.name)}},t.prototype.passThroughTo=function(t){this.destinationSlot=t},t.prototype.addNode=function(e,i,n,r){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),i.viewSlot instanceof t?i.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(e,i,n,r))},t.prototype.removeView=function(t,e){this.projections--,this.destinationSlot.removeView(t,e),this.needsFallbackRendering&&this.renderFallbackContent(null,rt,e)},t.prototype.removeAll=function(t){this.projections=0,this.destinationSlot.removeAll(t),this.needsFallbackRendering&&this.renderFallbackContent(null,rt,t)},t.prototype.projectFrom=function(t,e){this.destinationSlot.projectFrom(t,e)},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},E(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),at=t.ShadowSlot=function(){function t(t,e,i){this.anchor=t,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=e,this.fallbackFactory=i,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return t.prototype.addNode=function(t,e,i,n,r){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof st)e.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)ut.distributeNodes(t,[e],this.destinationSlots,this,n);else{e.auOwnerView=t,e.auProjectionSource=i,e.auAssignedSlot=this;var o=this._findAnchor(t,e,i,n);o.parentNode.insertBefore(e,o),this.children.push(e),this.projections++}},t.prototype.removeView=function(t,e){if(null!==this.destinationSlots)ut.undistributeView(t,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ut.undistributeView(t,this.contentView.slots,e);else{var i=this.children.find(function(t){return t.auSlotProjectFrom===e});if(i){for(var n=i.auProjectionChildren,r=0,o=n.length;r<o;++r){var s=n[r];s.auOwnerView===t&&(n.splice(r,1),t.fragment.appendChild(s),r--,o--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(t,rt,e)}}},t.prototype.removeAll=function(t){if(null!==this.destinationSlots)ut.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)ut.undistributeAll(this.contentView.slots,t);else{var e=this.children.find(function(e){return e.auSlotProjectFrom===t});if(e){for(var i=e.auProjectionChildren,n=0,r=i.length;n<r;++n){var o=i[n];o.auOwnerView.fragment.appendChild(o),this.projections--}e.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,rt,t)}}},t.prototype._findAnchor=function(t,e,i,n){if(i){var r=this.children.find(function(t){return t.auSlotProjectFrom===i});if(r){if(void 0!==n)for(var o=r.auProjectionChildren,s=-1,a=void 0,u=0,l=o.length;u<l;++u){var c=o[u];if(c.auOwnerView!==a&&(s++,a=c.auOwnerView,s>=n&&a!==t))return o.splice(u,0,e),c}return r.auProjectionChildren.push(e),r}}return this.anchor},t.prototype.projectTo=function(t){this.destinationSlots=t},t.prototype.projectFrom=function(t,e){var i=P.DOM.createComment("anchor"),n=this.anchor.parentNode;i.auSlotProjectFrom=e,i.auOwnerView=t,i.auProjectionChildren=[],n.insertBefore(i,this.anchor),this.children.push(i),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(i)},t.prototype.renderFallbackContent=function(t,e,i,n){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var r=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var s in r)for(var a=r[s],u=0,l=o.length;u<l;++u){var c=o[u];a.projectFrom(c.auOwnerView,c.auSlotProjectFrom)}this.fallbackSlots=r,ut.distributeNodes(t,e,r,i,n)}},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},E(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),ut=t.ShadowDOM=(v=m=function(){function t(){}return t.getSlotName=function(e){return void 0===e.auSlotAttribute?t.defaultSlotKey:e.auSlotAttribute.value},t.distributeView=function(e,i,n,r,o){var s=void 0;if(null===e)s=rt;else{var a=e.fragment.childNodes,u=a.length;s=new Array(u);for(var l=0;l<u;++l)s[l]=a[l]}t.distributeNodes(e,s,i,n,r,o)},t.undistributeView=function(t,e,i){for(var n in e)e[n].removeView(t,i)},t.undistributeAll=function(t,e){for(var i in t)t[i].removeAll(e)},t.distributeNodes=function(e,i,n,r,o,s){for(var a=0,u=i.length;a<u;++a){var l=i[a],c=l.nodeType;if(l.isContentProjectionSource){for(var h in l.viewSlot.projectTo(n),n)n[h].projectFrom(e,l.viewSlot);i.splice(a,1),u--,a--}else if(1===c||3===c||l.viewSlot instanceof st)if(3===c&&q(l))i.splice(a,1),u--,a--;else{var d=n[s||t.getSlotName(l)];d&&(d.addNode(e,l,r,o),i.splice(a,1),u--,a--)}else i.splice(a,1),u--,a--}for(var p in n){var f=n[p];f.needsFallbackRendering&&f.renderFallbackContent(e,i,r,o)}},t}(),m.defaultSlotKey="__au-default-slot-key__",v);function lt(t,e,i,n){if(e){var r=t[e];if(r){if(r!==i)throw new Error("Attempted to register "+n+" when one with the same name already exists. Name: "+e+".")}else t[e]=i}}var ct=t.ViewResources=function(){function t(t,e){this.bindingLanguage=null,this.parent=t||null,this.hasParent=null!==this.parent,this.viewUrl=e||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return t.prototype._tryAddHook=function(t,e){if("function"==typeof t[e]){for(var i=t[e].bind(t),n=1,r=void 0;void 0!==this[r=e+n.toString()];)n++;this[e]=!0,this[r]=i}},t.prototype._invokeHook=function(t,e,i,n,r){if(this.hasParent&&this.parent._invokeHook(t,e,i,n,r),this[t]){this[t+"1"](e,i,n,r);var o=t+"2";if(this[o]&&(this[o](e,i,n,r),this[o=t+"3"])){this[o](e,i,n,r);for(var s=4;void 0!==this[o=t+s.toString()];)this[o](e,i,n,r),s++}}},t.prototype.registerViewEngineHooks=function(t){this._tryAddHook(t,"beforeCompile"),this._tryAddHook(t,"afterCompile"),this._tryAddHook(t,"beforeCreate"),this._tryAddHook(t,"afterCreate"),this._tryAddHook(t,"beforeBind"),this._tryAddHook(t,"beforeUnbind")},t.prototype.getBindingLanguage=function(t){return this.bindingLanguage||(this.bindingLanguage=t)},t.prototype.patchInParent=function(t){var e=this.parent;this.parent=t||null,this.hasParent=null!==this.parent,null===t.parent&&(t.parent=e,t.hasParent=null!==e)},t.prototype.relativeToView=function(t){return(0,A.relativeToFile)(t,this.viewUrl)},t.prototype.registerElement=function(t,e){lt(this.elements,t,e,"an Element")},t.prototype.getElement=function(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)},t.prototype.mapAttribute=function(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)},t.prototype.registerAttribute=function(t,e,i){this.attributeMap[t]=i,lt(this.attributes,t,e,"an Attribute")},t.prototype.getAttribute=function(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)},t.prototype.registerValueConverter=function(t,e){lt(this.valueConverters,t,e,"a ValueConverter")},t.prototype.getValueConverter=function(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)},t.prototype.registerBindingBehavior=function(t,e){lt(this.bindingBehaviors,t,e,"a BindingBehavior")},t.prototype.getBindingBehavior=function(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)},t.prototype.registerValue=function(t,e){lt(this.values,t,e,"a value")},t.prototype.getValue=function(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)},t}(),ht=t.View=function(){function t(t,e,i,n,r,o,s){for(var a in this.container=t,this.viewFactory=e,this.resources=e.resources,this.fragment=i,this.firstChild=i.firstChild,this.lastChild=i.lastChild,this.controllers=n,this.bindings=r,this.children=o,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,s){this.hasSlots=!0;break}}return t.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},t.prototype.created=function(){var t,e=void 0,i=this.controllers;for(e=0,t=i.length;e<t;++e)i[e].created(this)},t.prototype.bind=function(t,e,i){var n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;if(!i||!this._isUserControlled){if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t,this.overrideContext=e||(0,j.createOverrideContext)(t),this.resources._invokeHook("beforeBind",this),s=0,a=(r=this.bindings).length;s<a;++s)r[s].bind(this);for(null!==this.viewModelScope&&(t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),s=0,a=(n=this.controllers).length;s<a;++s)n[s].bind(this);for(s=0,a=(o=this.children).length;s<a;++s)o[s].bind(t,e,!0);this.hasSlots&&ut.distributeView(this.contentView,this.slots)}},t.prototype.addBinding=function(t){this.bindings.push(t),this.isBound&&t.bind(this)},t.prototype.unbind=function(){var t=void 0,e=void 0,i=void 0,n=void 0,r=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),n=0,r=(e=this.bindings).length;n<r;++n)e[n].unbind();for(n=0,r=(t=this.controllers).length;n<r;++n)t[n].unbind();for(n=0,r=(i=this.children).length;n<r;++n)i[n].unbind();this.bindingContext=null,this.overrideContext=null}},t.prototype.insertNodesBefore=function(t){t.parentNode.insertBefore(this.fragment,t)},t.prototype.appendNodesTo=function(t){t.appendChild(this.fragment)},t.prototype.removeNodes=function(){for(var t=this.fragment,e=this.firstChild,i=this.lastChild,n=void 0;e&&(n=e.nextSibling,t.appendChild(e),e!==i);)e=n},t.prototype.attached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),i=0,n=(t=this.controllers).length;i<n;++i)t[i].attached();for(i=0,n=(e=this.children).length;i<n;++i)e[i].attached()}},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0,n=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),i=0,n=(t=this.controllers).length;i<n;++i)t[i].detached();for(i=0,n=(e=this.children).length;i<n;++i)e[i].detached()}},t}();var dt=t.ViewSlot=function(){function t(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.instance;this.anchor=t,this.anchorIsContainer=e,this.bindingContext=null,this.overrideContext=null,this.animator=i,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,t.viewSlot=this,t.isContentProjectionSource=!1}return t.prototype.animateView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",i=function(t){if(void 0!==t.animatableElement)return t.animatableElement;for(var e=t.firstChild;e&&1!==e.nodeType;)e=e.nextSibling;return e&&1===e.nodeType?t.animatableElement=e.classList.contains("au-animate")?e:null:t.animatableElement=null}(t);if(null!==i)switch(e){case"enter":return this.animator.enter(i);case"leave":return this.animator.leave(i);default:throw new Error("Invalid animation direction: "+e)}},t.prototype.transformChildNodesIntoView=function(){var t=this.anchor;this.children.push({fragment:t,firstChild:t.firstChild,lastChild:t.lastChild,returnToCache:function(){},removeNodes:function(){for(var e=void 0;e=t.lastChild;)t.removeChild(e)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},t.prototype.bind=function(t,e){var i,n=void 0,r=void 0;if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t=t||this.bindingContext,this.overrideContext=e=e||this.overrideContext,n=0,i=(r=this.children).length;n<i;++n)r[n].bind(t,e,!0)},t.prototype.unbind=function(){if(this.isBound){var t,e=void 0,i=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=i.length;e<t;++e)i[e].unbind()}},t.prototype.add=function(t){if(this.anchorIsContainer?t.appendNodesTo(this.anchor):t.insertNodesBefore(this.anchor),this.children.push(t),this.isAttached)return t.attached(),this.animateView(t,"enter")},t.prototype.insert=function(t,e){var i=this.children,n=i.length;return 0===t&&0===n||t>=n?this.add(e):(e.insertNodesBefore(i[t].firstChild),i.splice(t,0,e),this.isAttached?(e.attached(),this.animateView(e,"enter")):void 0)},t.prototype.move=function(t,e){if(t!==e){var i=this.children,n=i[t];n.removeNodes(),n.insertNodesBefore(i[e].firstChild),i.splice(t,1),i.splice(e,0,n)}},t.prototype.remove=function(t,e,i){return this.removeAt(this.children.indexOf(t),e,i)},t.prototype.removeMany=function(t,e,i){var n=this,r=this.children,o=t.length,s=void 0,a=[];t.forEach(function(t){if(i)t.removeNodes();else{var e=n.animateView(t,"leave");e?a.push(e.then(function(){return t.removeNodes()})):t.removeNodes()}});var u=function(){if(n.isAttached)for(s=0;s<o;++s)t[s].detached();if(e)for(s=0;s<o;++s)t[s].returnToCache();for(s=0;s<o;++s){var i=r.indexOf(t[s]);i>=0&&r.splice(i,1)}};return a.length>0?Promise.all(a).then(function(){return u()}):u()},t.prototype.removeAt=function(t,e,i){var n=this,r=this.children[t],o=function(){return t=n.children.indexOf(r),r.removeNodes(),n.children.splice(t,1),n.isAttached&&r.detached(),e&&r.returnToCache(),r};if(!i){var s=this.animateView(r,"leave");if(s)return s.then(function(){return o()})}return o()},t.prototype.removeAll=function(t,e){var i=this,n=this.children,r=n.length,o=void 0,s=[];n.forEach(function(t){if(e)t.removeNodes();else{var n=i.animateView(t,"leave");n?s.push(n.then(function(){return t.removeNodes()})):t.removeNodes()}});var a=function(){if(i.isAttached)for(o=0;o<r;++o)n[o].detached();if(t)for(o=0;o<r;++o){var e=n[o];e&&e.returnToCache()}i.children=[]};return s.length>0?Promise.all(s).then(function(){return a()}):a()},t.prototype.attached=function(){var t,e,i=void 0,n=void 0;if(!this.isAttached)for(this.isAttached=!0,i=0,t=(e=this.children).length;i<t;++i)(n=e[i]).attached(),this.animateView(n,"enter")},t.prototype.detached=function(){var t=void 0,e=void 0,i=void 0;if(this.isAttached)for(this.isAttached=!1,t=0,e=(i=this.children).length;t<e;++t)i[t].detached()},t.prototype.projectTo=function(t){var e=this;this.projectToSlots=t,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(i){return ut.distributeView(i,t,e)})},t.prototype._projectionAdd=function(t){ut.distributeView(t,this.projectToSlots,this),this.children.push(t),this.isAttached&&t.attached()},t.prototype._projectionInsert=function(t,e){0===t&&!this.children.length||t>=this.children.length?this.add(e):(ut.distributeView(e,this.projectToSlots,this,t),this.children.splice(t,0,e),this.isAttached&&e.attached())},t.prototype._projectionMove=function(t,e){if(t!==e){var i=this.children,n=i[t];ut.undistributeView(n,this.projectToSlots,this),ut.distributeView(n,this.projectToSlots,this,e),i.splice(t,1),i.splice(e,0,n)}},t.prototype._projectionRemove=function(t,e){ut.undistributeView(t,this.projectToSlots,this),this.children.splice(this.children.indexOf(t),1),this.isAttached&&t.detached()},t.prototype._projectionRemoveAt=function(t,e){var i=this.children[t];ut.undistributeView(i,this.projectToSlots,this),this.children.splice(t,1),this.isAttached&&i.detached()},t.prototype._projectionRemoveMany=function(t,e){var i=this;t.forEach(function(t){return i.remove(t,e)})},t.prototype._projectionRemoveAll=function(t){ut.undistributeAll(this.projectToSlots,this);var e=this.children;if(this.isAttached)for(var i=0,n=e.length;i<n;++i)e[i].detached();this.children=[]},t}(),pt=new((0,T.resolver)(g=function(){function t(){}return t.prototype.get=function(t,e){var i=e.__providerId__;return i in t?t[i]:t[i]=t.invoke(e)},t}())||g);function ft(t){if(t===P.DOM.Element)return this.element;if(t===wt){if(this.boundViewFactory)return this.boundViewFactory;var e=this.instruction.viewFactory,i=this.partReplacements;return i&&(e=i[e.part]||e),this.boundViewFactory=new wt(this,e,i),this.boundViewFactory}return t===dt?(void 0===this.viewSlot&&(this.viewSlot=new dt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):t===U?this.elementEvents||(this.elementEvents=new U(this.element)):t===D?this.compositionTransaction||(this.compositionTransaction=this.parent.get(t)):t===ct?this.viewResources:t===Y?this.instruction:this.superGet(t)}function mt(t){return this._element.hasAttribute(t)}function vt(t){return this._element.getAttribute(t)}function gt(t,e){this._element.setAttribute(t,e)}function _t(t,e,i,n,r,o,s,a,u){var l=i.behaviorInstructions,c=i.expressions,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;if(i.contentExpression)return r.push(i.contentExpression.createBinding(e.nextSibling)),e.nextSibling.auInterpolationTarget=!0,void e.parentNode.removeChild(e);if(i.shadowSlot){var v=P.DOM.createComment("slot"),g=void 0;return g=i.slotDestination?new st(v,i.slotName,i.slotDestination,i.slotFallbackFactory):new at(v,i.slotName,i.slotFallbackFactory),P.DOM.replaceNode(v,e),s[i.slotName]=g,void n.push(g)}if(l.length)for(i.anchorIsContainer||(e=function(t,e){var i=P.DOM.createComment("anchor");if(e){var n=t.firstChild;n&&"AU-CONTENT"===n.tagName&&(i.contentElement=n),i._element=t,i.hasAttribute=mt,i.getAttribute=vt,i.setAttribute=gt}return P.DOM.replaceNode(i,t),i}(e,i.elementInstruction)),t[i.injectorId]=h=function(t,e,i,n,r,o){var s,a=t.createChild(),u=void 0;for(a.element=e,a.instruction=i,a.children=n,a.viewResources=o,a.partReplacements=r,u=(s=i.providers).length;u--;)a._resolvers.set(s[u],pt);return a.superGet=a.get,a.get=ft,a}(t[i.parentInjectorId],e,i,o,a,u),d=0,p=l.length;d<p;++d)m=(f=l[d]).type.create(h,f,e,r),n.push(m);for(d=0,p=c.length;d<p;++d)r.push(c[d].createBinding(e))}function yt(t,e){var i=t.split(";"),n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;for(e=e||{},r=0;r<i.length;r++)n=(o=i[r]).indexOf(":"),s=o.substring(0,n).trim(),a=o.substring(n+1).trim(),e[s]=a;return e}function bt(t){var e="";for(var i in t)e+=i+":"+t[i]+";";return e}var wt=t.BoundViewFactory=function(){function t(t,e,i){this.parentContainer=t,this.viewFactory=e,this.factoryCreateInstruction={partReplacements:i}}return t.prototype.create=function(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return t._isUserControlled=!0,t},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},E(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),kt=t.ViewFactory=function(){function t(t,e,i){this.isCaching=!1,this.template=t,this.instructions=e,this.resources=i,this.cacheSize=-1,this.cache=null}return t.prototype.setCacheSize=function(t,e){t&&("*"===t?t=Number.MAX_VALUE:"string"==typeof t&&(t=parseInt(t,10))),-1!==this.cacheSize&&e||(this.cacheSize=t),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},t.prototype.getCachedView=function(){return null!==this.cache&&this.cache.pop()||null},t.prototype.returnViewToCache=function(t){t.isAttached&&t.detached(),t.isBound&&t.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(t.fromCache=!0,this.cache.push(t))},t.prototype.create=function(t,e,i){e=e||G.normal;var n=this.getCachedView();if(null!==n)return n;var r,o=e.enhance?this.template:this.template.cloneNode(!0),s=o.querySelectorAll(".au-target"),a=this.instructions,u=this.resources,l=[],c=[],h=[],d=Object.create(null),p={root:t},f=e.partReplacements,m=void 0,v=void 0,g=void 0;for(this.resources._invokeHook("beforeCreate",this,t,o,e),i&&null!==this.surrogateInstruction&&function(t,e,i,n,r,o){var s=i.behaviorInstructions,a=i.expressions,u=i.providers,l=i.values,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(c=u.length;c--;)t._resolvers.set(u[c],pt);for(var m in l)if(f=e.getAttribute(m)){if("class"===m)e.setAttribute("class",f+" "+l[m]);else if("style"===m){var v=yt(l[m]);yt(f,v),e.setAttribute("style",bt(v))}}else e.setAttribute(m,l[m]);if(s.length)for(c=0,h=s.length;c<h;++c)(p=(d=s[c]).type.create(t,d,e,r)).contentView&&o.push(p.contentView),n.push(p);for(c=0,h=a.length;c<h;++c)r.push(a[c].createBinding(e))}(t,i,this.surrogateInstruction,l,c,h),e.enhance&&o.hasAttribute("au-target-id")&&_t(p,g=o,a[g.getAttribute("au-target-id")],l,c,h,d,f,u),m=0,r=s.length;m<r;++m)_t(p,g=s[m],a[g.getAttribute("au-target-id")],l,c,h,d,f,u);return v=new ht(t,this,o,l,c,h,d),e.initiatedByBehavior||v.created(),this.resources._invokeHook("afterCreate",v),v},t}(),xt=0;var Ct=0;function Et(t){var e=t.getAttribute("class"),i=(++Ct).toString();return t.setAttribute("class",e?e+" au-target":"au-target"),t.setAttribute("au-target-id",i),i}var Lt=t.ViewCompiler=(0,T.inject)(nt,ct)(_=function(){function t(t,e){this.bindingLanguage=t,this.resources=e}return t.prototype.compile=function(t,e,i){e=e||this.resources,i=i||W.normal;var n=void 0,r=void 0,o=void 0;(t="string"==typeof t?P.DOM.createTemplateFromMarkup(t):t).content?(r=t.getAttribute("part"),o=t.getAttribute("view-cache"),n=P.DOM.adoptNode(t.content)):n=t,i.targetShadowDOM=i.targetShadowDOM&&P.FEATURE.shadowDOM,e._invokeHook("beforeCompile",n,e,i);var s={};this._compileNode(n,e,s,t,"root",!i.targetShadowDOM);var a=n.firstChild;if(a&&1===a.nodeType){var u=a.getAttribute("au-target-id");if(u){var l=s[u];(l.shadowSlot||l.lifting||l.elementInstruction&&!l.elementInstruction.anchorIsContainer)&&n.insertBefore(P.DOM.createComment("view"),a)}}var c=new kt(n,s,e);return c.surrogateInstruction=i.compileSurrogate?this._compileSurrogate(t,e):null,c.part=r,o&&c.setCacheSize(o),e._invokeHook("afterCompile",c),c},t.prototype._compileNode=function(t,e,i,n,r,o){switch(t.nodeType){case 1:return this._compileElement(t,e,i,n,r,o);case 3:var s=e.getBindingLanguage(this.bindingLanguage).inspectTextContent(e,t.wholeText);if(s){var a=P.DOM.createElement("au-marker"),u=Et(a);for((t.parentNode||n).insertBefore(a,t),t.textContent=" ",i[u]=Y.contentExpression(s);t.nextSibling&&3===t.nextSibling.nodeType;)(t.parentNode||n).removeChild(t.nextSibling)}else for(;t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t.nextSibling;case 11:for(var l=t.firstChild;l;)l=this._compileNode(l,e,i,t,r,o)}return t.nextSibling},t.prototype._compileSurrogate=function(t,e){var i=t.tagName.toLowerCase(),n=t.attributes,r=e.getBindingLanguage(this.bindingLanguage),o=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=[],v=void 0,g=[],_={},y=!1,b=[];for(u=0,l=n.length;u<l;++u){if(h=(c=n[u]).name,d=c.value,p=r.inspectAttribute(e,i,h,d),(f=e.getAttribute(p.attrName))&&(o=e.mapAttribute(p.attrName))&&(s=f.attributes[o])&&(p.defaultBindingMode=s.defaultBindingMode,p.command||p.expression||(p.command=s.hasOptions?"options":null),p.command&&"options"!==p.command&&f.primaryProperty)){var w=f.primaryProperty;h=p.attrName=w.name,p.defaultBindingMode=w.defaultBindingMode}if(a=r.createAttributeInstruction(e,t,p,void 0,f))if(a.alteredAttr&&(f=e.getAttribute(a.attrName)),a.discrete)m.push(a);else if(f){if(a.type=f,this._configureProperties(a,e),f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else m.push(a.attributes[a.attrName]);else if(f){if((a=G.attribute(h,f)).attributes[e.mapAttribute(h)]=d,f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");g.push(a)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(y=!0,_[h]=d)}if(m.length||g.length||y){for(u=0,l=g.length;u<l;++u)(a=g[u]).type.compile(this,e,t,a),b.push(a.type.target);for(u=0,l=m.length;u<l;++u)void 0!==(v=m[u]).attrToRemove&&t.removeAttribute(v.attrToRemove);return Y.surrogate(b,g,m,_)}return null},t.prototype._compileElement=function(t,e,i,n,r,o){var s=t.tagName.toLowerCase(),a=t.attributes,u=[],l=void 0,c=[],h=[],d=e.getBindingLanguage(this.bindingLanguage),p=void 0,f=void 0,m=void 0,v=void 0,g=void 0,_=void 0,y=void 0,b=void 0,w=void 0,k=void 0,x=void 0,C=void 0,E=void 0,L=void 0,O=void 0;if("slot"===s)return o&&(t=function(t,e,i,n,r){var o=P.DOM.createElement("au-shadow-slot");P.DOM.replaceNode(o,i);var s=Et(o),a=Y.shadowSlot(r);if(a.slotName=i.getAttribute("name")||ut.defaultSlotKey,a.slotDestination=i.getAttribute("slot"),i.innerHTML.trim()){for(var u=P.DOM.createDocumentFragment(),l=void 0;l=i.firstChild;)u.appendChild(l);a.slotFallbackFactory=t.compile(u,e)}return n[s]=a,o}(this,e,t,i,r)),t.nextSibling;for("template"===s?(f=this.compile(t,e)).part=t.getAttribute("part"):(m=e.getElement(t.getAttribute("as-element")||s))&&(v=G.element(t,m),m.processAttributes(this,e,t,a,v),c.push(v)),_=0,y=a.length;_<y;++_){if(w=(b=a[_]).name,k=b.value,C=d.inspectAttribute(e,s,w,k),o&&"slot"===C.attrName&&(C.attrName=w="au-slot"),g=null,m=e.getAttribute(C.attrName)){if((L=e.mapAttribute(C.attrName))&&(E=m.attributes[L])&&(C.defaultBindingMode=E.defaultBindingMode,C.command||C.expression||(C.command=E.hasOptions?"options":null),C.command&&"options"!==C.command&&m.primaryProperty)){var S=m.primaryProperty;w=C.attrName=S.name,C.defaultBindingMode=S.defaultBindingMode}}else v&&(g=v.type.attributes[C.attrName])&&(C.defaultBindingMode=g.defaultBindingMode);if(x=g?d.createAttributeInstruction(e,t,C,v):d.createAttributeInstruction(e,t,C,void 0,m))if(x.alteredAttr&&(m=e.getAttribute(x.attrName)),x.discrete)u.push(x);else if(m){if(x.type=m,this._configureProperties(x,e),m.liftsContent){x.originalAttrName=w,p=x;break}c.push(x)}else g?v.attributes[C.attrName].targetProperty=g.name:u.push(x.attributes[x.attrName]);else if(m){if((x=G.attribute(w,m)).attributes[e.mapAttribute(w)]=k,m.liftsContent){x.originalAttrName=w,p=x;break}c.push(x)}else g&&(v.attributes[w]=k)}if(p)p.viewFactory=f,i[Et(t=p.type.compile(this,e,t,p,n))]=Y.lifting(r,p);else{if(u.length||c.length){for(O=!!c.length&&++xt,_=0,y=c.length;_<y;++_)(x=c[_]).type.compile(this,e,t,x,n),h.push(x.type.target);for(_=0,y=u.length;_<y;++_)void 0!==(l=u[_]).attrToRemove&&t.removeAttribute(l.attrToRemove);i[Et(t)]=Y.normal(O,r,h,c,u,v)}if(v&&v.skipContentProcessing)return t.nextSibling;for(var A=t.firstChild;A;)A=this._compileNode(A,e,i,t,O||r,o)}return t.nextSibling},t.prototype._configureProperties=function(t,e){var i=t.type,n=t.attrName,r=t.attributes,o=void 0,s=void 0,a=void 0,u=e.mapAttribute(n);for(s in u&&n in r&&u!==n&&(r[u]=r[n],delete r[n]),r)null!==(a=r[s])&&"object"===(void 0===a?"undefined":L(a))&&(o=i.attributes[s],a.targetProperty=void 0!==o?o.name:s)},t}())||_,Ot=t.ResourceModule=function(){function t(t){this.id=t,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return t.prototype.initialize=function(t){var e=this.mainResource,i=this.resources,n=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==e&&(e.metadata.viewStrategy=n,e.initialize(t));for(var r=0,o=i.length;r<o;++r)(e=i[r]).metadata.viewStrategy=n,e.initialize(t)}},t.prototype.register=function(t,e){var i=this.mainResource,n=this.resources;void 0!==i&&(i.register(t,e),e=null);for(var r=0,o=n.length;r<o;++r)n[r].register(t,e),e=null},t.prototype.load=function(t,e){if(null!==this.onLoaded)return this.loadContext===e?Promise.resolve():this.onLoaded;var i=this.mainResource,n=this.resources,r=void 0;if(void 0!==i){(r=new Array(n.length+1))[0]=i.load(t,e);for(var o=0,s=n.length;o<s;++o)r[o+1]=n[o].load(t,e)}else{r=new Array(n.length);for(var a=0,u=n.length;a<u;++a)r[a]=n[a].load(t,e)}return this.loadContext=e,this.onLoaded=Promise.all(r),this.onLoaded},t}(),St=t.ResourceDescription=function(){function t(t,e,i){i||(i=S.metadata.get(S.metadata.resource,e))||((i=new Ft).elementName=V(t),S.metadata.define(S.metadata.resource,i,e)),i instanceof Ft?void 0===i.elementName?i.elementName=V(t):void 0===i.attributeName?i.attributeName=V(t):null===i.attributeName&&null===i.elementName&&Ft.convention(t,i):i.name||(i.name=V(t)),this.metadata=i,this.value=e}return t.prototype.initialize=function(t){this.metadata.initialize(t,this.value)},t.prototype.register=function(t,e){this.metadata.register(t,e)},t.prototype.load=function(t,e){return this.metadata.load(t,this.value,e)},t}(),Pt=t.ModuleAnalyzer=function(){function t(){this.cache=Object.create(null)}return t.prototype.getAnalysis=function(t){return this.cache[t]},t.prototype.analyze=function(t,e,i){var n=void 0,r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l=[],c=void 0,h=void 0,d=void 0;if(d=this.cache[t])return d;for(a in d=new Ot(t),this.cache[t]=d,"function"==typeof e&&(e={default:e}),i&&(n=new St(i,e[i])),e)u=e[a],a!==i&&"function"==typeof u&&((s=S.metadata.get(S.metadata.resource,u))?(null===s.attributeName&&null===s.elementName&&Ft.convention(a,s),null===s.attributeName&&null===s.elementName&&(s.elementName=V(a)),!n&&s instanceof Ft&&null!==s.elementName?n=new St(a,u,s):l.push(new St(a,u,s))):X.decorates(u)?h=u:u instanceof M.TemplateRegistryEntry?h=new J(t,u):(c=Ft.convention(a))?(null===c.elementName||n?l.push(new St(a,u,c)):n=new St(a,u,c),S.metadata.define(S.metadata.resource,c,u)):(c=j.ValueConverterResource.convention(a)||j.BindingBehaviorResource.convention(a)||H.convention(a))?(l.push(new St(a,u,c)),S.metadata.define(S.metadata.resource,c,u)):r||(r=u,o=a));return!n&&r&&(n=new St(o,r)),d.moduleInstance=e,d.mainResource=n,d.resources=l,d.viewStrategy=h,d},t}(),At=O.getLogger("templating");var Mt=function(){function t(t){var e=this;t.then(function(t){return e.viewFactory=t})}return t.prototype.create=function(t,e,i,n){return this.viewFactory.create(t,e,i,n)},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},E(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),Tt=t.ViewEngine=(0,T.inject)(M.Loader,T.Container,Lt,Pt,ct)((w=b=function(){function t(t,e,i,n,r){this.loader=t,this.container=e,this.viewCompiler=i,this.moduleAnalyzer=n,this.appResources=r,this._pluginMap={};var o=new Ft;o.attributeName="au-slot",o.initialize(e,ot),o.register(r)}return t.prototype.addResourcePlugin=function(t,e){var i=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=i,this.loader.addPlugin(i,e)},t.prototype.loadViewFactory=function(t,e,i,n){var r,o,s=this;return i=i||new Z,(r=this.loader,o=t,o instanceof M.TemplateRegistryEntry?Promise.resolve(o):r.loadTemplate(o)).then(function(r){return r.onReady?i.hasDependency(t)?null===r.template?r.onReady:Promise.resolve(new Mt(r.onReady)):(i.addDependency(t),r.onReady):(i.addDependency(t),r.onReady=s.loadTemplateResources(r,e,i,n).then(function(t){if(r.resources=t,null===r.template)return r.factory=null;var i=s.viewCompiler.compile(r.template,t,e);return r.factory=i}),r.onReady)})},t.prototype.loadTemplateResources=function(e,i,n,r){var o=new ct(this.appResources,e.address),s=e.dependencies,a=void 0,u=void 0;if(i=i||W.normal,0===s.length&&!i.associatedModuleId)return Promise.resolve(o);if(a=s.map(function(t){return t.src}),u=s.map(function(t){return t.name}),At.debug("importing resources for "+e.address,a),r){var l=S.metadata.get(t.viewModelRequireMetadataKey,r);if(l){for(var c=a.length,h=0,d=l.length;h<d;++h){var p=l[h],f="function"==typeof p?S.Origin.get(p).moduleId:(0,A.relativeToFile)(p.src||p,e.address);-1===a.indexOf(f)&&(a.push(f),u.push(p.as))}At.debug("importing ViewModel resources for "+i.associatedModuleId,a.slice(c))}}return this.importViewResources(a,u,o,i,n)},t.prototype.importViewModelResource=function(t,e){var i=this;return this.loader.loadModule(t).then(function(n){var r=S.Origin.get(n).moduleId,o=i.moduleAnalyzer.analyze(r,n,e);if(!o.mainResource)throw new Error('No view model found in module "'+t+'".');return o.initialize(i.container),o.mainResource})},t.prototype.importViewResources=function(t,e,i,n,r){var o=this;return r=r||new Z,n=n||W.normal,t=t.map(function(t){return o._applyLoaderPlugin(t)}),this.loader.loadAllModules(t).then(function(t){var s=void 0,a=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=o.container,p=o.moduleAnalyzer,f=new Array(t.length);for(s=0,a=t.length;s<a;++s)c=t[s],l=S.Origin.get(c).moduleId,(u=p.analyze(l,c)).initialize(d),u.register(i,e[s]),f[s]=u;for(n.associatedModuleId&&(h=p.getAnalysis(n.associatedModuleId))&&h.register(i),s=0,a=f.length;s<a;++s)f[s]=f[s].load(d,r);return Promise.all(f).then(function(){return i})})},t.prototype._applyLoaderPlugin=function(t){var e=t.lastIndexOf(".");if(-1!==e){var i=t.substring(e),n=this._pluginMap[i];return void 0===n?t:this.loader.applyPluginToUrl(t,n)}return t},t}(),b.viewModelRequireMetadataKey="aurelia:view-model-require",y=w))||y,jt=t.Controller=function(){function t(t,e,i,n){this.behavior=t,this.instruction=e,this.viewModel=i,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=n,this.elementEvents=n.elementEvents||null;var r,o=t.observerLocator.getOrCreateObserversLookup(i),s=t.handlesBind,a=e.attributes,u=this.boundProperties=[],l=t.properties,c=void 0;for(t._ensurePropertiesDefined(i,o),c=0,r=l.length;c<r;++c)l[c]._initialize(i,o,a,s,u)}return t.prototype.created=function(t){this.behavior.handlesCreated&&this.viewModel.created(t,this.view)},t.prototype.automate=function(t,e){this.view.bindingContext=this.viewModel,this.view.overrideContext=t||(0,j.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(e||null,this.view),this.bind(this.view)},t.prototype.bind=function(t){var e,i=this.behavior.handlesBind,n=this.boundProperties,r=void 0,o=void 0,s=void 0,a=void 0;if(this.isBound){if(this.scope===t)return;this.unbind()}for(this.isBound=!0,this.scope=t,r=0,e=n.length;r<e;++r)a=(s=(o=n[r]).observer).selfSubscriber,s.publishing=!1,i&&(s.selfSubscriber=null),o.binding.bind(t),s.call(),s.publishing=!0,s.selfSubscriber=a;var u=void 0;null!==this.view?(i&&(this.view.viewModelScope=t),this.viewModel===t.overrideContext.bindingContext?u=t.overrideContext:this.instruction.inheritBindingContext?u=(0,j.createOverrideContext)(this.viewModel,t.overrideContext):(u=(0,j.createOverrideContext)(this.viewModel)).__parentOverrideContext=t.overrideContext,this.view.bind(this.viewModel,u)):i&&(u=t.overrideContext,void 0!==t.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((u=Object.assign({},t.overrideContext)).parentOverrideContext=t.overrideContext.__parentOverrideContext),this.viewModel.bind(t.bindingContext,u))},t.prototype.unbind=function(){if(this.isBound){var t,e=this.boundProperties,i=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),i=0,t=e.length;i<t;++i)e[i].binding.unbind()}},t.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},t.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},t}(),It=t.BehaviorPropertyObserver=(0,j.subscriberCollection)()(k=function(){function t(t,e,i,n,r){this.taskQueue=t,this.obj=e,this.propertyName=i,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=n,this.currentValue=this.oldValue=r}return t.prototype.getValue=function(){return this.currentValue},t.prototype.setValue=function(t){var e=this.currentValue;e!==t&&(this.oldValue=e,this.currentValue=t,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.notqueued=!0,e!==t&&(this.selfSubscriber&&this.selfSubscriber(e,t),this.callSubscribers(e,t),this.oldValue=e)},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t}())||k;function Rt(t,e,i){var n=e.__observers__;return void 0===n&&(t.isInitialized||t.initialize(T.Container.instance||new T.Container,e.constructor),n=t.observerLocator.getOrCreateObserversLookup(e),t._ensurePropertiesDefined(e,n)),n[i]}var Nt=t.BindableProperty=function(){function t(t){"string"==typeof t?this.name=t:Object.assign(this,t),this.attribute=this.attribute||V(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=j.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return t.prototype.registerWith=function(t,e,i){if(e.properties.push(this),e.attributes[this.attribute]=this,this.owner=e,i)return this.descriptor=i,this._configureDescriptor(e,i)},t.prototype._configureDescriptor=function(t,e){var i=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return Rt(t,this,i).getValue()},e.set=function(e){Rt(t,this,i).setValue(e)},e.get.getObserver=function(e){return Rt(t,e,i)},e},t.prototype.defineOn=function(t,e){var i=this.name,n=void 0;null===this.changeHandler&&(n=i+"Changed")in t.prototype&&(this.changeHandler=n),null===this.descriptor&&Object.defineProperty(t.prototype,i,this._configureDescriptor(e,{}))},t.prototype.createObserver=function(t){var e=null,i=this.defaultValue,n=this.changeHandler,r=this.name,o=void 0;if(!this.hasOptions){if(n in t)e="propertyChanged"in t?function(e,i){t[n](e,i),t.propertyChanged(r,e,i)}:function(e,i){return t[n](e,i)};else if("propertyChanged"in t)e=function(e,i){return t.propertyChanged(r,e,i)};else if(null!==n)throw new Error("Change handler "+n+" was specified but not declared on the class.");return void 0!==i&&(o="function"==typeof i?i.call(t):i),new It(this.owner.taskQueue,t,this.name,e,o)}},t.prototype._initialize=function(t,e,i,n,r){var o=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var l in i)this._createDynamicProperty(t,e,n,l,i[l],r);else this.hasOptions||(s=e[this.name],null!==i&&(o=s.selfSubscriber,a=i[this.attribute],n&&(s.selfSubscriber=null),"string"==typeof a?(t[this.name]=a,s.call()):a?r.push({observer:s,binding:a.createBinding(t)}):void 0!==u&&s.call(),s.selfSubscriber=o),s.publishing=!0)},t.prototype._createDynamicProperty=function(t,e,i,n,r,o){var s=n+"Changed",a=null,u=void 0,l=void 0;s in t?a="propertyChanged"in t?function(e,i){t[s](e,i),t.propertyChanged(n,e,i)}:function(e,i){return t[s](e,i)}:"propertyChanged"in t&&(a=function(e,i){return t.propertyChanged(n,e,i)}),u=e[n]=new It(this.owner.taskQueue,t,n,a),Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),i&&(u.selfSubscriber=null),"string"==typeof r?(t[n]=r,u.call()):r&&(l={observer:u,binding:r.createBinding(t)},o.push(l)),u.publishing=!0,u.selfSubscriber=a},t}(),Bt=0;function Dt(){return!0}function zt(){}var Ft=t.HtmlBehaviorResource=function(){function t(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=zt,this.processContent=Dt,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return t.convention=function(e,i){var n=void 0;return e.endsWith("CustomAttribute")&&((n=i||new t).attributeName=V(e.substring(0,e.length-15))),e.endsWith("CustomElement")&&((n=i||new t).elementName=V(e.substring(0,e.length-13))),n},t.prototype.addChildBinding=function(t){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(t)},t.prototype.initialize=function(t,e){var i=e.prototype,n=this.properties,r=this.attributeName,o=this.attributeDefaultBindingMode,s=void 0,a=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,e.__providerId__=++Bt,this.observerLocator=t.get(j.ObserverLocator),this.taskQueue=t.get(I.TaskQueue),this.target=e,this.usesShadowDOM=this.targetShadowDOM&&P.FEATURE.shadowDOM,this.handlesCreated="created"in i,this.handlesBind="bind"in i,this.handlesUnbind="unbind"in i,this.handlesAttached="attached"in i,this.handlesDetached="detached"in i,this.htmlName=this.elementName||this.attributeName,null!==r)if(0===n.length&&new Nt({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:r,defaultBindingMode:o}).registerWith(e,this),u=n[0],1===n.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(e,this);else{for(s=0,a=n.length;s<a;++s)if(n[s].defineOn(e,this),n[s].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=n[s]}(u=new Nt({name:"value",changeHandler:"valueChanged"in i?"valueChanged":null,attribute:r,defaultBindingMode:o})).hasOptions=!0,u.registerWith(e,this)}else for(s=0,a=n.length;s<a;++s)n[s].defineOn(e,this)},t.prototype.register=function(t,e){var i=this;null!==this.attributeName&&(t.registerAttribute(e||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach(function(e){t.registerAttribute(e,i,i.attributeName)})),null!==this.elementName&&t.registerElement(e||this.elementName,this)},t.prototype.load=function(t,e,i,n,r){var o=this,s=void 0;return null!==this.elementName?(n=t.get(et).getViewStrategy(n||this.viewStrategy||e),s=new W(this.targetShadowDOM,!0),n.moduleId||(n.moduleId=S.Origin.get(e).moduleId),n.loadViewFactory(t.get(Tt),s,i,e).then(function(t){return r&&o.viewFactory||(o.viewFactory=t),t})):Promise.resolve(this)},t.prototype.compile=function(t,e,i,n,r){if(this.liftsContent){if(!n.viewFactory){var o=P.DOM.createElement("template"),s=P.DOM.createDocumentFragment(),a=i.getAttribute("view-cache"),u=i.getAttribute("part");i.removeAttribute(n.originalAttrName),P.DOM.replaceNode(o,i,r),s.appendChild(i),n.viewFactory=t.compile(s,e),u&&(n.viewFactory.part=u,i.removeAttribute("part")),a&&(n.viewFactory.setCacheSize(a),i.removeAttribute("view-cache")),i=o}}else if(null!==this.elementName){var l={};if(this.processContent(t,e,i,n)&&i.hasChildNodes()){for(var c=i.firstChild,h=this.usesShadowDOM?null:P.DOM.createElement("au-content"),d=void 0,p=void 0;c;)d=c.nextSibling,"TEMPLATE"===c.tagName&&(p=c.getAttribute("replace-part"))?(l[p]=t.compile(c,e),P.DOM.removeNode(c,r),n.partReplacements=l):null!==h&&(3===c.nodeType&&q(c)?P.DOM.removeNode(c,r):h.appendChild(c)),c=d;null!==h&&h.hasChildNodes()&&i.appendChild(h),n.skipContentProcessing=!1}else n.skipContentProcessing=!0}return i},t.prototype.create=function(t,e,i,n){var r=void 0,o=null;e=e||G.normal,i=i||null,n=n||null,null!==this.elementName&&i&&(this.usesShadowDOM?(r=i.attachShadow(this.shadowDOMOptions),t.registerInstance(P.DOM.boundary,r)):(r=i,this.targetShadowDOM&&t.registerInstance(P.DOM.boundary,r))),null!==i&&(i.au=o=i.au||{});var s=e.viewModel||t.get(this.target),a=new jt(this,e,s,t),u=this.childBindings,l=void 0;if(this.liftsContent)o.controller=a;else if(null!==this.elementName){if(l=e.viewFactory||this.viewFactory,t.viewModel=s,l&&(a.view=l.create(t,e,i)),null!==i){if(o.controller=a,a.view){if(!this.usesShadowDOM&&(1===i.childNodes.length||i.contentElement)){var c=i.childNodes[0]||i.contentElement;a.view.contentView={fragment:c},c.parentNode&&P.DOM.removeNode(c)}if(e.anchorIsContainer){if(null!==u)for(var h=0,d=u.length;h<d;++h)a.view.addBinding(u[h].create(i,s,a));a.view.appendNodesTo(r)}else a.view.insertNodesBefore(r)}else if(null!==u)for(var p=0,f=u.length;p<f;++p)n.push(u[p].create(i,s,a))}else if(a.view){if(a.view.controller=a,null!==u)for(var m=0,v=u.length;m<v;++m)a.view.addBinding(u[m].create(e.host,s,a))}else if(null!==u)for(var g=0,_=u.length;g<_;++g)n.push(u[g].create(e.host,s,a))}else if(null!==u)for(var y=0,b=u.length;y<b;++y)n.push(u[y].create(i,s,a));return null!==o&&(o[this.htmlName]=a),e.initiatedByBehavior&&l&&a.view.created(),a},t.prototype._ensurePropertiesDefined=function(t,e){var i,n=void 0,r=void 0,o=void 0;if(!("__propertiesDefined__"in e))for(e.__propertiesDefined__=!0,r=0,i=(n=this.properties).length;r<i;++r)void 0!==(o=n[r].createObserver(t))&&(e[o.propertyName]=o)},t}();function Vt(t,e){return function(i,n,r){var o="string"==typeof n?i.constructor:i,s=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,o);"string"==typeof t&&(t={selector:t,name:n}),r&&(r.writable=!0,r.configurable=!0),t.all=e,s.addChildBinding(new qt(t))}}var qt=function(){function t(t){this.name=t.name,this.changeHandler=t.changeHandler||this.name+"Changed",this.selector=t.selector,this.all=t.all}return t.prototype.create=function(t,e,i){return new Wt(this.selector,t,this.name,e,i,this.changeHandler,this.all)},t}(),Ht=[];function Ut(t,e,i){var n=t.get(e);n||(n=[],t.set(e,n)),n.push(i)}function Zt(t,e){for(var i=e.binders,n=i.length,r=new Map,o=0,s=t.length;o<s;++o){for(var a=t[o],u=a.addedNodes,l=a.removedNodes,c=0,h=l.length;c<h;++c){var d=l[c];if(1===d.nodeType)for(var p=0;p<n;++p){var f=i[p];f.onRemove(d)&&Ut(r,f,a)}}for(var m=0,v=u.length;m<v;++m){var g=u[m];if(1===g.nodeType)for(var _=0;_<n;++_){var y=i[_];y.onAdd(g)&&Ut(r,y,a)}}}r.forEach(function(t,e){null!==e.changeHandler&&e.viewModel[e.changeHandler](t)})}var Wt=function(){function t(t,e,i,n,r,o,s){this.selector=t,this.viewHost=e,this.property=i,this.viewModel=n,this.controller=r,this.changeHandler=o in n?o:null,this.usesShadowDOM=r.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&r.view&&r.view.contentView?this.contentView=r.view.contentView:this.contentView=null}return t.prototype.matches=function(t){if(t.matches(this.selector)){if(null===this.contentView)return!0;var e=this.contentView,i=t.auAssignedSlot;if(i&&i.projectFromAnchors){for(var n=i.projectFromAnchors,r=0,o=n.length;r<o;++r)if(n[r].auOwnerView===e)return!0;return!1}return t.auOwnerView===e}return!1},t.prototype.bind=function(t){var e=this.viewHost,i=this.viewModel,n=e.__childObserver__;if(!n){n=e.__childObserver__=P.DOM.createMutationObserver(Zt);var r={childList:!0,subtree:!this.usesShadowDOM};n.observe(e,r),n.binders=[]}if(n.binders.push(this),this.usesShadowDOM){var o=e.firstElementChild;if(this.all){var s=i[this.property];for(s?s.length=0:s=i[this.property]=[];o;)this.matches(o)&&s.push(o.au&&o.au.controller?o.au.controller.viewModel:o),o=o.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](Ht)}else for(;o;){if(this.matches(o)){var a=o.au&&o.au.controller?o.au.controller.viewModel:o;this.viewModel[this.property]=a,null!==this.changeHandler&&this.viewModel[this.changeHandler](a);break}o=o.nextElementSibling}}},t.prototype.onRemove=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]),n=i.indexOf(e);return-1!==n&&i.splice(n,1),!0}return!1}return!1},t.prototype.onAdd=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){for(var i=this.viewModel[this.property]||(this.viewModel[this.property]=[]),n=0,r=t.previousElementSibling;r;)this.matches(r)&&n++,r=r.previousElementSibling;return i.splice(n,0,e),!0}this.viewModel[this.property]=e,null!==this.changeHandler&&this.viewModel[this.changeHandler](e)}return!1},t.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},t}();function Gt(t,e){return Array.isArray(e)?t.removeMany(e,!0):t.remove(e,!0)}var Yt=t.SwapStrategies={before:function(t,e,i){return void 0===e?i():i().then(function(){return Gt(t,e)})},with:function(t,e,i){return void 0===e?i():Promise.all([Gt(t,e),i()])},after:function(t,e,i){return Promise.resolve(t.removeAll(!0)).then(i)}};function Xt(t){return t.skipActivation||"function"!=typeof t.viewModel.activate?Promise.resolve():t.viewModel.activate(t.model)||Promise.resolve()}var $t=t.CompositionEngine=(0,T.inject)(Tt,et)(x=function(){function t(t,e){this.viewEngine=t,this.viewLocator=e}return t.prototype._swap=function(t,e){var i=Yt[t.swapOrder]||Yt.after,n=t.viewSlot.children.slice();return i(t.viewSlot,n,function(){return Promise.resolve(t.viewSlot.add(e)).then(function(){t.currentController&&t.currentController.unbind()})}).then(function(){t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done()})},t.prototype._createControllerAndSwap=function(t){var e=this;return this.createController(t).then(function(i){return i.automate(t.overrideContext,t.owningView),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e._swap(t,i.view)}).then(function(){return i}):e._swap(t,i.view).then(function(){return i})})},t.prototype.createController=function(t){var e=this,i=void 0,n=void 0,r=void 0,o=void 0;return this.ensureViewModel(t).then(Xt).then(function(){i=t.childContainer,n=t.viewModel,r=t.viewModelResource,o=r.metadata;var s=e.viewLocator.getViewStrategy(t.view||n);return t.viewResources&&s.makeRelativeTo(t.viewResources.viewUrl),o.load(i,r.value,null,s,!0)}).then(function(e){return o.create(i,G.dynamic(t.host,n,e))})},t.prototype.ensureViewModel=function(t){var e=t.childContainer=t.childContainer||t.container.createChild();if("string"==typeof t.viewModel)return t.viewModel=t.viewResources?t.viewResources.relativeToView(t.viewModel):t.viewModel,this.viewEngine.importViewModelResource(t.viewModel).then(function(i){return e.autoRegister(i.value),t.host&&e.registerInstance(P.DOM.Element,t.host),t.viewModel=e.viewModel=e.get(i.value),t.viewModelResource=i,t});var i=S.metadata.getOrCreateOwn(S.metadata.resource,Ft,t.viewModel.constructor);return i.elementName=i.elementName||"dynamic-element",i.initialize(t.container||e,t.viewModel.constructor),t.viewModelResource={metadata:i,value:t.viewModel.constructor},e.viewModel=t.viewModel,Promise.resolve(t)},t.prototype.compose=function(t){var e=this;t.childContainer=t.childContainer||t.container.createChild(),t.view=this.viewLocator.getViewStrategy(t.view);var i=t.childContainer.get(D),n=i.tryCapture();return n?t.compositionTransactionOwnershipToken=n:t.compositionTransactionNotifier=i.enlist(),t.viewModel?this._createControllerAndSwap(t):t.view?(t.viewResources&&t.view.makeRelativeTo(t.viewResources.viewUrl),t.view.loadViewFactory(this.viewEngine,new W).then(function(i){var n=i.create(t.childContainer);return n.bind(t.bindingContext,t.overrideContext),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e._swap(t,n)}).then(function(){return n}):e._swap(t,n).then(function(){return n})})):t.viewSlot?(t.viewSlot.removeAll(),t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},t}())||x,Qt=t.ElementConfigResource=function(){function t(){}return t.prototype.initialize=function(t,e){},t.prototype.register=function(t,e){},t.prototype.load=function(t,e){var i=new e;t.get(j.EventManager).registerElementConfig(i)},t}();function Kt(t,e){if(/[A-Z]/.test(t)){var i=V(t);return O.getLogger("templating").warn("'"+t+"' is not a valid "+e+" name and has been converted to '"+i+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),i}return t}var Jt={mode:"open"};function te(){return!1}function ee(t){return function(e){S.metadata.define(et.viewStrategyMetadataKey,t,e)}}t.TemplatingEngine=(0,T.inject)(T.Container,Pt,Lt,$t)(C=function(){function t(t,e,i,n){this._container=t,this._moduleAnalyzer=e,this._viewCompiler=i,this._compositionEngine=n,t.registerInstance(R,R.instance=new R)}return t.prototype.configureAnimator=function(t){this._container.unregister(R),this._container.registerInstance(R,R.instance=t)},t.prototype.compose=function(t){return this._compositionEngine.compose(t)},t.prototype.enhance=function(t){t instanceof P.DOM.Element&&(t={element:t});var e={},i=t.resources||this._container.get(ct);this._viewCompiler._compileNode(t.element,i,e,t.element.parentNode,"root",!0);var n=new kt(t.element,e,i),r=t.container||this._container.createChild(),o=n.create(r,G.enhance());return o.bind(t.bindingContext||{},t.overrideContext),o.firstChild=o.lastChild=o.fragment,o.fragment=P.DOM.createDocumentFragment(),o.attached(),o},t}())||C}),t.entry="dist/commonjs/aurelia-templating.js"}),t.pkg("aurelia-path",{},function(t){return t.file("dist/commonjs/aurelia-path.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.relativeToFile=function(t,e){var i=e&&e.split("/"),n=t.trim().split("/");if("."===n[0].charAt(0)&&i){var r=i.slice(0,i.length-1);n.unshift.apply(n,r)}return function(t){for(var e=0;e<t.length;++e){var i=t[e];if("."===i)t.splice(e,1),e-=1;else if(".."===i){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}}(n),n.join("/")},t.join=function(t,e){if(!t)return e;if(!e)return t;var i=t.match(/^([^/]*?:)\//),n=i&&i.length>0?i[1]:"";t=t.substr(n.length);var r=void 0;r=0===t.indexOf("///")&&"file:"===n?"///":0===t.indexOf("//")?"//":0===t.indexOf("/")?"/":"";for(var o="/"===e.slice(-1)?"/":"",s=t.split("/"),a=e.split("/"),u=[],l=0,c=s.length;l<c;++l)if(".."===s[l])u.pop();else{if("."===s[l]||""===s[l])continue;u.push(s[l])}for(var h=0,d=a.length;h<d;++h)if(".."===a[h])u.pop();else{if("."===a[h]||""===a[h])continue;u.push(a[h])}return n+r+u.join("/")+o},t.buildQueryString=function(t,e){for(var i=[],n=Object.keys(t||{}).sort(),r=0,o=n.length;r<o;r++){var s=n[r];i=i.concat(u(s,t[s],e))}if(0===i.length)return"";return i.join("&")},t.parseQueryString=function(t){var e={};if(!t||"string"!=typeof t)return e;var i=t;"?"===i.charAt(0)&&(i=i.substr(1));for(var n=i.replace(/\+/g," ").split("&"),r=0;r<n.length;r++){var o=n[r].split("="),s=decodeURIComponent(o[0]);if(s){var a=s.split("]["),u=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[u])?(a[u]=a[u].replace(/\]$/,""),a=a.shift().split("[").concat(a),u=a.length-1):u=0,o.length>=2){var h=o[1]?decodeURIComponent(o[1]):"";u?c(e,a,h):e[s]=l(e[s],h)}else e[s]=!0}}return e};var s=encodeURIComponent,a=function(t){return s(t).replace("%24","$")};function u(t,e,i){var n=[];if(null==e)return n;if(Array.isArray(e))for(var r=0,l=e.length;r<l;r++)if(i)n.push(a(t)+"="+s(e[r]));else{var c=t+"["+("object"===o(e[r])&&null!==e[r]?r:"")+"]";n=n.concat(u(c,e[r]))}else if("object"!==(void 0===e?"undefined":o(e))||i)n.push(a(t)+"="+s(e));else for(var h in e)n=n.concat(u(t+"["+h+"]",e[h]));return n}function l(t,e){return Array.isArray(t)?(t.push(e),t):void 0!==t?[t,e]:e}function c(t,e,i){for(var n=t,r=e.length-1,s=0;s<=r;s++){var a=""===e[s]?n.length:e[s];if(s<r){var u=n[a]&&"object"!==o(n[a])?[n[a]]:n[a];n=n[a]=u||(isNaN(e[s+1])?{}:[])}else n=n[a]=i}}}),t.entry="dist/commonjs/aurelia-path.js"}),t.pkg("aurelia-loader",{},function(t){return t.file("dist/commonjs/aurelia-loader.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=t.TemplateRegistryEntry=t.TemplateDependency=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=e("aurelia-path"),a=e("aurelia-metadata"),u=t.TemplateDependency=function(t,e){this.src=t,this.name=e},l=t.TemplateRegistryEntry=function(){function t(t){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=t,this.onReady=null,this._template=null,this._factory=null}return t.prototype.addDependency=function(t,e){var i="string"==typeof t?(0,s.relativeToFile)(t,this.address):a.Origin.get(t).moduleId;this.dependencies.push(new u(i,e))},o(t,[{key:"template",get:function(){return this._template},set:function(t){var e,i=this.address,n=void 0,r=void 0,o=void 0;this._template=t,this.templateIsLoaded=!0,e=t.content.querySelectorAll("require"),o=this.dependencies=new Array(e.length);for(var a=0,l=e.length;a<l;++a){if(!(r=(n=e[a]).getAttribute("from")))throw new Error("<require> element in "+i+' has no "from" attribute.');o[a]=new u((0,s.relativeToFile)(r,i),n.getAttribute("as")),n.parentNode&&n.parentNode.removeChild(n)}}},{key:"factory",get:function(){return this._factory},set:function(t){this._factory=t,this.factoryIsReady=!0}}]),t}();t.Loader=function(){function t(){this.templateRegistry={}}return t.prototype.map=function(t,e){throw new Error("Loaders must implement map(id, source).")},t.prototype.normalizeSync=function(t,e){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},t.prototype.normalize=function(t,e){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},t.prototype.loadModule=function(t){throw new Error("Loaders must implement loadModule(id).")},t.prototype.loadAllModules=function(t){throw new Error("Loader must implement loadAllModules(ids).")},t.prototype.loadTemplate=function(t){throw new Error("Loader must implement loadTemplate(url).")},t.prototype.loadText=function(t){throw new Error("Loader must implement loadText(url).")},t.prototype.applyPluginToUrl=function(t,e){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},t.prototype.addPlugin=function(t,e){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},t.prototype.getOrCreateTemplateRegistryEntry=function(t){return this.templateRegistry[t]||(this.templateRegistry[t]=new l(t))},t}()}),t.entry="dist/commonjs/aurelia-loader.js"}),t.pkg("aurelia-history-browser",{},function(t){return t.file("dist/commonjs/aurelia-history-browser.js",function(t,e,i,n,r){"use strict";var o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserHistory=t.DefaultLinkHandler=t.LinkHandler=void 0,t.configure=function(t){t.singleton(u.History,p),t.transient(h,d)};var a=e("aurelia-pal"),u=e("aurelia-history");function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=t.LinkHandler=function(){function t(){}return t.prototype.activate=function(t){},t.prototype.deactivate=function(){},t}(),d=t.DefaultLinkHandler=function(t){function e(){var i=l(this,t.call(this));return i.handler=function(t){var n=e.getEventInfo(t),r=n.shouldHandleEvent,o=n.href;r&&(t.preventDefault(),i.history.navigate(o))},i}return c(e,t),e.prototype.activate=function(t){t._hasPushState&&(this.history=t,a.DOM.addEventListener("click",this.handler,!0))},e.prototype.deactivate=function(){a.DOM.removeEventListener("click",this.handler)},e.getEventInfo=function(t){var i={shouldHandleEvent:!1,href:null,anchor:null},n=e.findClosestAnchor(t.target);if(!n||!e.targetIsThisWindow(n))return i;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return i;var r=n.getAttribute("href");i.anchor=n,i.href=r;var o=1===t.which,s=r&&!("#"===r.charAt(0)||/^[a-z]+:/i.test(r));return i.shouldHandleEvent=o&&s,i},e.findClosestAnchor=function(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}},e.targetIsThisWindow=function(t){var e=t.getAttribute("target"),i=a.PLATFORM.global;return!e||e===i.name||"_self"===e||"top"===e&&i===i.top},e}(h);var p=t.BrowserHistory=(s=o=function(t){function e(e){var i=l(this,t.call(this));return i._isActive=!1,i._checkUrlCallback=i._checkUrl.bind(i),i.location=a.PLATFORM.location,i.history=a.PLATFORM.history,i.linkHandler=e,i}return c(e,t),e.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(m,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),a.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&e){var n=this.location,r=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!r)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&n.hash&&(this.fragment=this._getHash().replace(f,""),this.history.replaceState({},a.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},e.prototype.deactivate=function(){a.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),a.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},e.prototype.getAbsoluteRoot=function(){var t,e,i;return""+(t=this.location.protocol,e=this.location.hostname,i=this.location.port,t+"//"+e+(i?":"+i:""))+this.root},e.prototype.navigate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.trigger,n=void 0===i||i,r=e.replace,o=void 0!==r&&r;if(t&&g.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!o)return!1;this.fragment=t;var s=this.root+t;if(""===t&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)s=s.replace("//","/"),this.history[o?"replaceState":"pushState"]({},a.DOM.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);!function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}(this.location,t,o)}return n?this._loadUrl(t):void 0},e.prototype.navigateBack=function(){this.history.back()},e.prototype.setTitle=function(t){a.DOM.title=t},e.prototype._getHash=function(){return this.location.hash.substr(1)},e.prototype._getFragment=function(t,e){var i=void 0;return t||(this._hasPushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,i=this.root.replace(v,""),t.indexOf(i)||(t=t.substr(i.length))):t=this._getHash()),"/"+t.replace(f,"")},e.prototype._checkUrl=function(){this._getFragment()!==this.fragment&&this._loadUrl()},e.prototype._loadUrl=function(t){var e=this.fragment=this._getFragment(t);return!!this.options.routeHandler&&this.options.routeHandler(e)},e}(u.History),o.inject=[h],s),f=/^#?\/*|\s+$/g,m=/^\/+|\/+$/g,v=/\/$/,g=/^([a-z][a-z0-9+\-.]*:)?\/\//i}),t.entry="dist/commonjs/aurelia-history-browser.js"}),t.pkg("aurelia-history",{},function(t){return t.file("dist/commonjs/aurelia-history.js",function(t,e,i,n,r){"use strict";function o(t){throw new Error("History must implement "+t+"().")}Object.defineProperty(t,"__esModule",{value:!0});t.History=function(){function t(){}return t.prototype.activate=function(t){o("activate")},t.prototype.deactivate=function(){o("deactivate")},t.prototype.getAbsoluteRoot=function(){o("getAbsoluteRoot")},t.prototype.navigate=function(t,e){o("navigate")},t.prototype.navigateBack=function(){o("navigateBack")},t.prototype.setTitle=function(t){o("setTitle")},t}()}),t.entry="dist/commonjs/aurelia-history.js"}),t.pkg("aurelia-logging-console",{},function(t){return t.file("dist/commonjs/aurelia-logging-console.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleAppender=void 0;e("aurelia-logging"),t.ConsoleAppender=function(){function t(){}return t.prototype.debug=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).debug.apply(e,["DEBUG ["+t.id+"]"].concat(n))},t.prototype.info=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).info.apply(e,["INFO ["+t.id+"]"].concat(n))},t.prototype.warn=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).warn.apply(e,["WARN ["+t.id+"]"].concat(n))},t.prototype.error=function(t){for(var e,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(e=console).error.apply(e,["ERROR ["+t.id+"]"].concat(n))},t}()}),t.entry="dist/commonjs/aurelia-logging-console.js"}),t.pkg("aurelia-onsenui",{},function(t){return t.file("dist/commonjs/aurelia-onsenui.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTabbar=t.OnsTab=t.OnsSwitch=t.OnsSelect=t.OnsRange=t.OnsNavigator=t.OnsInput=t.OnsIcon=t.OnsBackButton=void 0;var o=e("./ons-back-button");Object.defineProperty(t,"OnsBackButton",{enumerable:!0,get:function(){return o.OnsBackButton}});var s=e("./ons-icon");Object.defineProperty(t,"OnsIcon",{enumerable:!0,get:function(){return s.OnsIcon}});var a=e("./ons-input");Object.defineProperty(t,"OnsInput",{enumerable:!0,get:function(){return a.OnsInput}});var u=e("./ons-navigator");Object.defineProperty(t,"OnsNavigator",{enumerable:!0,get:function(){return u.OnsNavigator}});var l=e("./ons-range");Object.defineProperty(t,"OnsRange",{enumerable:!0,get:function(){return l.OnsRange}});var c=e("./ons-select");Object.defineProperty(t,"OnsSelect",{enumerable:!0,get:function(){return c.OnsSelect}});var h=e("./ons-switch");Object.defineProperty(t,"OnsSwitch",{enumerable:!0,get:function(){return h.OnsSwitch}});var d=e("./ons-tab");Object.defineProperty(t,"OnsTab",{enumerable:!0,get:function(){return d.OnsTab}});var p=e("./ons-tabbar");Object.defineProperty(t,"OnsTabbar",{enumerable:!0,get:function(){return p.OnsTabbar}}),t.configure=function(t){t.singleton(g.RouteLoader,_.TemplatingRouteLoader).singleton(g.Router,v.OnsRouter).globalResources(["./ons-back-button","./ons-icon","./ons-input","./ons-navigator","./ons-range","./ons-select","./ons-switch","./ons-tab","./ons-tabbar",f.PLATFORM.moduleName("aurelia-templating-router/router-view"),f.PLATFORM.moduleName("aurelia-templating-router/route-href")]),t.container.registerAlias(g.Router,v.OnsRouter)};var f=e("aurelia-pal"),m=e("aurelia-history-browser"),v=e("./ons-router"),g=e("aurelia-router"),_=e("aurelia-templating-router"),y=e("aurelia-route-recognizer");g.Router.isNavigatingFirst,g.Router.isNavigatingNew,g.Router.isNavigatingForward,g.Router.isNavigatingBack,g.Router.isNavigatingRefresh,g.Router.currentNavigationTracker,g.Router.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.isNavigatingFirst=!1,this.isNavigatingNew=!1,this.isNavigatingRefresh=!1,this.isNavigatingForward=!1,this.isNavigatingBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new y.RouteRecognizer,this._childRecognizer=new y.RouteRecognizer,this._configuredPromise=new Promise(function(e){t._resolveConfiguredPromise=e})};var b=/^#?\/*|\s+$/g,w=/^\/+|\/+$/g,k=/\/$/,x=/^([a-z][a-z0-9+\-.]*:)?\/\//i;m.BrowserHistory.prototype.setState=function(t,e){var i=Object.assign({},this.history.state);i[t]=e,this.history.replaceState(i,null,null)},m.BrowserHistory.prototype.getState=function(t){return Object.assign({},this.history.state)[t]},m.BrowserHistory.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(w,"/"),this._wantsHashChange=!1!==this.options.hashChange,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=!(!this._hasPushState||!this.options.pushState);var i=void 0;if(this._hasPushState?i="popstate":this._wantsHashChange&&(i="hashchange"),f.PLATFORM.addEventListener(i,this._checkUrlCallback),this._wantsHashChange&&e){var n=this.location,r=n.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._usePushState&&!r)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._usePushState&&r&&n.hash&&(this.fragment=this._getHash().replace(b,""),this.history.replaceState({},f.DOM.title,this.root+this.fragment+n.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},m.BrowserHistory.prototype.navigate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.trigger,n=void 0===i||i,r=e.replace,o=void 0!==r&&r;if(t&&x.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!o)return!1;this.fragment=t;var s=this.root+t;if(""===t&&"/"!==s&&(s=s.slice(0,-1)),this._hasPushState)s=s.replace("//","/"),this._usePushState||(s="#"+s),this.history[o?"replaceState":"pushState"]({},f.DOM.title,s);else{if(!this._wantsHashChange)return this.location.assign(s);!function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}(this.location,t,o)}return n?this._loadUrl(t):void 0},m.BrowserHistory.prototype._getFragment=function(t,e){var i=void 0;return t||(this._usePushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,i=this.root.replace(k,""),t.indexOf(i)||(t=t.substr(i.length))):t=this._getHash()),"/"+t.replace(b,"")},m.BrowserHistory.prototype._checkUrl=function(t){this._getFragment()!==this.fragment&&("popstate"===t.type&&this.history.replaceState(t.state,null),this._loadUrl())}}),t.file("dist/commonjs/ons-back-button.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsBackButton=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-pal"),c=e("aurelia-templating"),h=e("aurelia-router");t.OnsBackButton=(o=(0,c.customElement)("ons-back-button"),s=(0,u.inject)(l.DOM.Element,h.Router),o(a=(0,c.noView)(a=s(a=function(){function t(t,e){this.router=e,this.element=t,this.element.onClick=this.onClick.bind(this)}return t.prototype.onClick=function(){this.router.navigateBack()},t}())||a)||a)||a)}),t.file("dist/commonjs/ons-icon.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsIcon=void 0;var c=e("aurelia-dependency-injection"),h=e("aurelia-pal"),d=e("aurelia-templating");var p,f,m,v,g,_;t.OnsIcon=(o=(0,d.customElement)("ons-icon"),s=(0,c.inject)(h.DOM.Element),o(a=(0,d.noView)(a=s((u=function(){function t(t){var e,i,n,r;e=this,i="icon",r=this,(n=l)&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),this.element=t}return t.prototype.iconChanged=function(t,e){this.element.setAttribute("icon",t)},t}(),p=u.prototype,f="icon",m=[d.bindable],v={enumerable:!0,initializer:null},_={},Object.keys(v).forEach(function(t){_[t]=v[t]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=m.slice().reverse().reduce(function(t,e){return e(p,f,t)||t},_),g&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(g):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(p,f,_),_=null),l=_,a=u))||a)||a)||a)}),t.file("dist/commonjs/ons-input.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d,p,f;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsInput=void 0;var m,v=e("aurelia-dependency-injection"),g=e("aurelia-pal"),_=e("aurelia-templating"),y=e("aurelia-binding"),b=e("onsenui"),w=(m=b)&&m.__esModule?m:{default:m};function k(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t.OnsInput=(o=(0,_.customElement)("ons-input"),s=(0,v.inject)(g.DOM.Element),a=(0,_.bindable)({defaultBindingMode:y.bindingMode.twoWay}),u=(0,_.bindable)({defaultBindingMode:y.bindingMode.twoWay}),o(l=(0,_.noView)(l=s((c=function(){function t(t){k(this,"value",h,this),k(this,"checked",d,this),k(this,"inputId",p,this),k(this,"disabled",f,this),this.element=t,this.element.oninput=this.onInput.bind(this),this.element.onchange=this.onChange.bind(this),w.default._contentReady(this.element,this.onContentReady.bind(this))}return t.prototype.onContentReady=function(){switch(this.element.type){case"radio":this.element.checked=this.value===this.checked;break;case"checkbox":this.element.checked=this.checked.includes(this.value)}},t.prototype.onInput=function(){this.value=this.element.value},t.prototype.onChange=function(){switch(this.element.type){case"radio":this.checked=this.value;break;case"checkbox":var t=this.checked.indexOf(this.value);t>-1?this.checked.splice(t,t+1):this.checked.push(this.value);break;default:this.value=this.element.value}},t.prototype.valueChanged=function(t,e){this.element.value=t},t.prototype.inputIdChanged=function(t,e){this.element.setAttribute("input-id",t)},t.prototype.disabledChanged=function(t,e){t?this.element.setAttribute("disabled",t):this.element.removeAttribute("disabled")},t}(),h=x(c.prototype,"value",[a],{enumerable:!0,initializer:null}),d=x(c.prototype,"checked",[u],{enumerable:!0,initializer:null}),p=x(c.prototype,"inputId",[_.bindable],{enumerable:!0,initializer:null}),f=x(c.prototype,"disabled",[_.bindable],{enumerable:!0,initializer:null}),l=c))||l)||l)||l)}),t.file("dist/commonjs/ons-navigator.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsNavigator=void 0;var p,f=e("onsenui"),m=(p=f)&&p.__esModule?p:{default:p},v=e("aurelia-dependency-injection"),g=e("aurelia-pal"),_=e("aurelia-templating"),y=e("aurelia-router"),b=e("aurelia-templating-router");function w(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t.OnsNavigator=(o=(0,_.customElement)("ons-navigator"),s=(0,v.inject)(g.DOM.Element,v.Container,_.ViewSlot,y.Router,_.ViewLocator,_.CompositionTransaction,_.CompositionEngine),o(a=(0,_.noView)(a=s((u=function(t){function e(e,i,n,r,o,s,a){var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,e,i,n,r,o,s,a));return w(u,"swapOrder",l,u),w(u,"layoutView",c,u),w(u,"layoutViewModel",h,u),w(u,"layoutModel",d,u),u.element.pageLoader=new m.default.PageLoader(u.load.bind(u),u.unload.bind(u)),u.view,u.viewStack=[],u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.swap=function(t){var e=this.router;if(e.isNavigatingBack){var i=e.currentInstruction.previousInstruction.config.settings.navigator||{};return i.data=t,this.element.popPage(i)}var n=e.currentInstruction.config.settings.navigator||{};return n.data=t,this.element.pushPage(t.moduleId,n)},e.prototype.load=function(t,e){var i,n=this,r=(t.page,t.parent,t.params),o=this.view,s=function(){var t=n.view.fragment.querySelector("ons-page");return n.viewSlot.add(n.view),o&&n.viewStack.push(o),n._notify(),e(t)};return this.view=r.controller.view,i=this.owningView,r.controller.automate(n.overrideContext,i),n.compositionTransactionOwnershipToken?n.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return n.compositionTransactionOwnershipToken=null,s()}):s()},e.prototype.unload=function(t){this.viewSlot.remove(this.view),this.view.unbind(),this.view=this.viewStack.pop()},e}(b.RouterView),l=k(u.prototype,"swapOrder",[_.bindable],{enumerable:!0,initializer:null}),c=k(u.prototype,"layoutView",[_.bindable],{enumerable:!0,initializer:null}),h=k(u.prototype,"layoutViewModel",[_.bindable],{enumerable:!0,initializer:null}),d=k(u.prototype,"layoutModel",[_.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a)}),t.file("dist/commonjs/ons-range.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsRange=void 0;var h=e("aurelia-dependency-injection"),d=e("aurelia-pal"),p=e("aurelia-templating"),f=e("aurelia-binding");var m,v,g,_,y,b;t.OnsRange=(o=(0,p.customElement)("ons-range"),s=(0,h.inject)(d.DOM.Element),a=(0,p.bindable)({defaultBindingMode:f.bindingMode.twoWay}),o(u=(0,p.noView)(u=s((l=function(){function t(t){var e,i,n,r;e=this,i="value",r=this,(n=c)&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),this.element=t,this.element.oninput=this.onInput.bind(this)}return t.prototype.onInput=function(){this.value=this.element.value},t.prototype.valueChanged=function(t,e){this.element.value=t},t}(),m=l.prototype,v="value",g=[a],_={enumerable:!0,initializer:null},b={},Object.keys(_).forEach(function(t){b[t]=_[t]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce(function(t,e){return e(m,v,t)||t},b),y&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(y):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(m,v,b),b=null),c=b,u=l))||u)||u)||u)}),t.file("dist/commonjs/ons-select.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsSelect=void 0;var h=e("aurelia-dependency-injection"),d=e("aurelia-pal"),p=e("aurelia-templating"),f=e("aurelia-binding");var m,v,g,_,y,b;t.OnsSelect=(o=(0,p.customElement)("ons-select"),s=(0,h.inject)(d.DOM.Element),a=(0,p.bindable)({defaultBindingMode:f.bindingMode.twoWay}),o(u=(0,p.noView)(u=s((l=function(){function t(t){var e,i,n,r;e=this,i="value",r=this,(n=c)&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0});var o=t.querySelector("au-content");o.parentNode.replaceChild(o.firstChild,o),this.element=t,this.element.onchange=this.onChange.bind(this)}return t.prototype.attached=function(){this.element.value=this.value},t.prototype.onChange=function(){this.value=this.element.value},t.prototype.valueChanged=function(t,e){this.element.value=t},t}(),m=l.prototype,v="value",g=[a],_={enumerable:!0,initializer:null},b={},Object.keys(_).forEach(function(t){b[t]=_[t]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce(function(t,e){return e(m,v,t)||t},b),y&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(y):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(m,v,b),b=null),c=b,u=l))||u)||u)||u)}),t.file("dist/commonjs/ons-switch.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsSwitch=void 0;var h=e("aurelia-dependency-injection"),d=e("aurelia-pal"),p=e("aurelia-templating"),f=e("aurelia-binding");var m,v,g,_,y,b;t.OnsSwitch=(o=(0,p.customElement)("ons-switch"),s=(0,h.inject)(d.DOM.Element),a=(0,p.bindable)({defaultBindingMode:f.bindingMode.twoWay}),o(u=(0,p.noView)(u=s((l=function(){function t(t){var e,i,n,r;e=this,i="value",r=this,(n=c)&&Object.defineProperty(e,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),this.element=t,this.element.onchange=this.onChange.bind(this)}return t.prototype.onChange=function(){this.value=this.element.checked},t.prototype.valueChanged=function(t,e){this.element.checked=t},t}(),m=l.prototype,v="value",g=[a],_={enumerable:!0,initializer:null},b={},Object.keys(_).forEach(function(t){b[t]=_[t]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce(function(t,e){return e(m,v,t)||t},b),y&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(y):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(m,v,b),b=null),c=b,u=l))||u)||u)||u)}),t.file("dist/commonjs/ons-tab.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTab=void 0;var c,h=e("onsenui"),d=(c=h)&&c.__esModule?c:{default:c},p=e("aurelia-dependency-injection"),f=e("aurelia-pal"),m=e("aurelia-templating");var v,g,_,y,b,w,k=["page","icon","active-icon","label","badge","active"];t.OnsTab=(o=(0,m.customElement)("ons-tab"),s=(0,p.inject)(f.DOM.Element,p.Container,m.CompositionEngine,m.ViewSlot,m.ViewResources),o(a=(0,m.noView)(a=s((u=function(){function t(t,e,i,n,r){var o,s,a,u;o=this,s="model",u=this,(a=l)&&Object.defineProperty(o,s,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(u):void 0}),this.element=t,this.container=e,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.element.pageLoader=new d.default.PageLoader(this.load.bind(this),this.unload.bind(this))}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){var i=this;this.bindingContext=t,this.overrideContext=e,Object.keys(this.model).forEach(function(t){k.indexOf(t)>-1&&i.element.setAttribute(t,i.model[t])})},t.prototype.unbind=function(t,e){this.bindingContext=null,this.overrideContext=null},t.prototype.load=function(t,e){var i=this,n=t.page,r=(t.parent,t.params,{container:this.container,model:this.model,viewResources:this.viewResources});/\.html/.test(n)?r.view=n:r.viewModel=n,this.compositionEngine.createController(r).then(function(t){var n=t.view.fragment.querySelector("ons-page");t.automate(i.overrideContext,i.owningView),n.view=t.view,e(n)})},t.prototype.unload=function(t){return function(t,e,i){if("function"==typeof t[e])return Promise.resolve().then(function(){return t[e](i)}).then(function(t){return null==t||t});return Promise.resolve(!0)}(t.view.controller.viewModel,"deactivate").then(function(){t.view.detached(),t.view.unbind()})},t}(),v=u.prototype,g="model",_=[m.bindable],y={enumerable:!0,initializer:null},w={},Object.keys(y).forEach(function(t){w[t]=y[t]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=_.slice().reverse().reduce(function(t,e){return e(v,g,t)||t},w),b&&void 0!==w.initializer&&(w.value=w.initializer?w.initializer.call(b):void 0,w.initializer=void 0),void 0===w.initializer&&(Object.defineProperty(v,g,w),w=null),l=w,a=u))||a)||a)||a)}),t.file("dist/commonjs/ons-tabbar.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsTabbar=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-pal"),c=e("aurelia-templating");t.OnsTabbar=(o=(0,c.customElement)("ons-tabbar"),s=(0,u.inject)(l.DOM.Element),o(a=(0,c.noView)(a=s(a=function(){function t(t){var e=t.querySelector("au-content");e.parentNode.replaceChild(e.firstChild,e),this.element=t,this._switchPage=this.element._switchPage.bind(this.element),this.element._switchPage=this.switchPage.bind(this)}return t.prototype.switchPage=function(t,e){return this._switchPage(t,e).then(function(){t.view.attached()})},t}())||a)||a)||a)}),t.file("dist/commonjs/ons-router.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.OnsRouter=void 0;var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),a=e("aurelia-dependency-injection"),u=e("aurelia-history"),l=e("aurelia-router"),c=e("aurelia-event-aggregator");var h=s.getLogger("app-router");t.OnsRouter=(0,a.inject)(a.Container,u.History,l.PipelineProvider,c.EventAggregator)(o=function(t){function e(e,i,n,r){return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,e,i,n,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._dequeueInstruction=function(t){var e=this;return Promise.resolve().then(function(){if(!e.isNavigating||t){var i=e._queue.shift();if(e._queue.length=0,i){e.isNavigating=!0;var n=e.history.getState("NavigationTracker");if(n||e.currentNavigationTracker?n?e.currentNavigationTracker?e.currentNavigationTracker<n?e.isNavigatingForward=!0:e.currentNavigationTracker>n&&(e.isNavigatingBack=!0):e.isNavigatingRefresh=!0:e.isNavigatingNew=!0:(e.isNavigatingFirst=!0,e.isNavigatingNew=!0),n||(n=Date.now(),e.history.setState("NavigationTracker",n)),e.currentNavigationTracker=n,i.previousInstruction=e.currentInstruction,t){if(t===e.maxInstructionCount-1)return h.error(t+1+" navigation instructions have been attempted without success. Restoring last known good location."),d(e),e._dequeueInstruction(t+1);if(t>e.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else e.events.publish("router:navigation:processing",{instruction:i});return e.pipelineProvider.createPipeline().run(i).then(function(i){return function(t,e,i,n){e&&"completed"in e&&"output"in e||((e=e||{}).output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var r=null;(0,l.isNavigationCommand)(e.output)?e.output.navigate(n):(r=e,e.completed||(e.output instanceof Error&&h.error(e.output),d(n)));return n._dequeueInstruction(i+1).then(function(t){return r||t||e})}(0,i,t,e)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(n){return function(t,e,i,n){t.resolve(e);var r={instruction:t,result:e};if(i)n.events.publish("router:navigation:child:complete",r);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1,n.isNavigatingFirst=!1,n.isNavigatingNew=!1,n.isNavigatingRefresh=!1,n.isNavigatingForward=!1,n.isNavigatingBack=!1;var o=void 0;if(e.output instanceof Error)o="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,o="success"}else o="canceled";n.events.publish("router:navigation:"+o,r),n.events.publish("router:navigation:complete",r)}return e}(i,n,!!t,e)})}}})},e}(l.AppRouter))||o;function d(t){t.history.previousLocation?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):h.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}}),t.entry="dist/commonjs/aurelia-onsenui.js"}),t.pkg("aurelia-router",{},function(t){return t.file("dist/commonjs/aurelia-router.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouter=t.PipelineProvider=t.LoadRouteStep=t.RouteLoader=t.ActivateNextStep=t.DeactivatePreviousStep=t.CanActivateNextStep=t.CanDeactivatePreviousStep=t.Router=t.BuildNavigationPlanStep=t.activationStrategy=t.RouterConfiguration=t.RedirectToRoute=t.Redirect=t.NavModel=t.NavigationInstruction=t.CommitChangesStep=t.Pipeline=t.pipelineStatus=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t._normalizeAbsolutePath=d,t._createRootedPath=p,t._resolveUrl=f,t.isNavigationCommand=x,t._buildNavigationPlan=S;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),u=e("aurelia-route-recognizer"),l=e("aurelia-dependency-injection"),c=e("aurelia-history"),h=e("aurelia-event-aggregator");function d(t,e){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return e||"#"===t[0]||(t="#"+t),e&&i&&(t=t.substring(1,t.length)),t}function p(t,e,i,n){if(v.test(t))return t;var r="";return e.length&&"/"!==e[0]&&(r+="/"),(r+=e).length&&"/"===r[r.length-1]||"/"===t[0]||(r+="/"),r.length&&"/"===r[r.length-1]&&"/"===t[0]&&(r=r.substring(0,r.length-1)),d(r+t,i,n)}function f(t,e,i){return m.test(t)?d(t,i):p(t,e,i)}var m=/^#?\//,v=/^([a-z][a-z0-9+\-.]*:)?\/\//i,g=t.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},_=t.Pipeline=function(){function t(){this.steps=[]}return t.prototype.addStep=function(t){var e=void 0;if("function"==typeof t)e=t;else{if("function"==typeof t.getSteps){for(var i=t.getSteps(),n=0,r=i.length;n<r;n++)this.addStep(i[n]);return this}e=t.run.bind(t)}return this.steps.push(e),this},t.prototype.run=function(t){var e=-1,i=this.steps;function n(){if(!(++e<i.length))return n.complete();var r=i[e];try{return r(t,n)}catch(t){return n.reject(t)}}return n.complete=y(n,g.completed),n.cancel=y(n,g.canceled),n.reject=y(n,g.rejected),n()},t}();function y(t,e){return function(t){return Promise.resolve({status:e,output:t,completed:e===g.completed})}}var b=t.CommitChangesStep=function(){function t(){}return t.prototype.run=function(t,e){return t._commitChanges(!0).then(function(){return t._updateTitle(),e()})},t}(),w=t.NavigationInstruction=function(){function t(t){this.plan=null,this.options={},Object.assign(this,t),this.params=this.params||{},this.viewPortInstructions={};var e=[],i=this;do{var n=Object.assign({},i.params);i.config&&i.config.hasChildRouter&&delete n[i.getWildCardName()],e.unshift(n),i=i.parentInstruction}while(i);var r=Object.assign.apply(Object,[{},this.queryParams].concat(e));this.lifecycleArgs=[r,this.config,this]}return t.prototype.getAllInstructions=function(){var t=[this];for(var e in this.viewPortInstructions){var i=this.viewPortInstructions[e].childNavigationInstruction;i&&t.push.apply(t,i.getAllInstructions())}return t},t.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(t){return t.previousInstruction}).filter(function(t){return t})},t.prototype.addViewPortInstruction=function(t,e,i,n){var r=Object.assign({},this.lifecycleArgs[1],{currentViewPort:t});return this.viewPortInstructions[t]={name:t,strategy:e,moduleId:i,component:n,childRouter:n.childRouter,lifecycleArgs:[].concat(this.lifecycleArgs[0],r,this.lifecycleArgs[2])}},t.prototype.getWildCardName=function(){var t=this.config.route.lastIndexOf("*");return this.config.route.substr(t+1)},t.prototype.getWildcardPath=function(){var t=this.getWildCardName(),e=this.params[t]||"";return this.queryString&&(e+="?"+this.queryString),e},t.prototype.getBaseUrl=function(){var t=this,e=this.fragment;if(""===e){var i=this.router.routes.find(function(e){return e.name===t.config.name&&""!==e.route});i&&(e=i.route)}if(!this.params)return e;var n=this.getWildCardName(),r=this.params[n]||"";return r?(r=encodeURI(r),e.substr(0,e.lastIndexOf(r))):e},t.prototype._commitChanges=function(t){var e=this,i=this.router;i.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,i._refreshBaseUrl(),i.refreshNavigation();var n=[],r=[],o=function(o){var s=e.viewPortInstructions[o],a=i.viewPorts[o];if(!a)throw new Error("There was no router-view found in the view for "+s.moduleId+".");s.strategy===L.replace?(t&&r.push({viewPort:a,viewPortInstruction:s}),n.push(a.process(s,t).then(function(t){if(s.childNavigationInstruction)return s.childNavigationInstruction._commitChanges()}))):s.childNavigationInstruction&&n.push(s.childNavigationInstruction._commitChanges(t))};for(var s in this.viewPortInstructions)o(s);return Promise.all(n).then(function(){return r.forEach(function(t){return t.viewPort.swap(t.viewPortInstruction)}),null}).then(function(){return(t=e).previousInstruction=null,void(t.plan=null);var t})},t.prototype._updateTitle=function(){var t=this._buildTitle();t&&this.router.history.setTitle(t)},t.prototype._buildTitle=function(){var t=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],e="",i=[];for(var n in this.config.navModel.title&&(e=this.router.transformTitle(this.config.navModel.title)),this.viewPortInstructions){var r=this.viewPortInstructions[n];if(r.childNavigationInstruction){var o=r.childNavigationInstruction._buildTitle(t);o&&i.push(o)}}return i.length&&(e=i.join(t)+(e?t:"")+e),this.router.title&&(e+=(e?t:"")+this.router.transformTitle(this.router.title)),e},t}();var k=t.NavModel=function(){function t(t,e){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=t,this.relativeHref=e}return t.prototype.setTitle=function(t){this.title=t,this.isActive&&this.router.updateTitle()},t}();function x(t){return t&&"function"==typeof t.navigate}var C=t.Redirect=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.url=t,this.options=Object.assign({trigger:!0,replace:!0},e),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigate(this.url,this.options)},t}(),E=(t.RedirectToRoute=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.route=t,this.params=e,this.options=Object.assign({trigger:!0,replace:!0},i),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){(this.options.useAppRouter?t:this.router||t).navigateToRoute(this.route,this.params,this.options)},t}(),t.RouterConfiguration=function(){function t(){this.instructions=[],this.options={},this.pipelineSteps=[]}return t.prototype.addPipelineStep=function(t,e){return this.pipelineSteps.push({name:t,step:e}),this},t.prototype.addAuthorizeStep=function(t){return this.addPipelineStep("authorize",t)},t.prototype.addPreActivateStep=function(t){return this.addPipelineStep("preActivate",t)},t.prototype.addPreRenderStep=function(t){return this.addPipelineStep("preRender",t)},t.prototype.addPostRenderStep=function(t){return this.addPipelineStep("postRender",t)},t.prototype.fallbackRoute=function(t){return this._fallbackRoute=t,this},t.prototype.map=function(t){return Array.isArray(t)?(t.forEach(this.map.bind(this)),this):this.mapRoute(t)},t.prototype.mapRoute=function(t){return this.instructions.push(function(e){var i=[];if(Array.isArray(t.route))for(var n=0,r=t.route.length;n<r;++n){var o=Object.assign({},t);o.route=t.route[n],i.push(o)}else i.push(Object.assign({},t));for(var s=void 0,a=0,u=i.length;a<u;++a){var l=i[a];l.settings=l.settings||{},s||(s=e.createNavModel(l)),e.addRoute(l,s)}}),this},t.prototype.mapUnknownRoutes=function(t){return this.unknownRouteConfig=t,this},t.prototype.exportToRouter=function(t){for(var e=this.instructions,i=0,n=e.length;i<n;++i)e[i](t);this.title&&(t.title=this.title),this.unknownRouteConfig&&t.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(t.fallbackRoute=this._fallbackRoute),t.options=this.options;var r=this.pipelineSteps;if(r.length){if(!t.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=t.pipelineProvider,s=0,a=r.length;s<a;++s){var u=r[s],l=u.name,c=u.step;o.addStep(l,c)}}},t}()),L=t.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},O=t.BuildNavigationPlanStep=function(){function t(){}return t.prototype.run=function(t,e){return S(t).then(function(i){return t.plan=i,e()}).catch(e.cancel)},t}();function S(t,e){var i=t.previousInstruction,n=t.config,r={};if("redirect"in n){var o=f(n.redirect,function(t){var e=[];t=t.parentInstruction;for(;t;)e.unshift(t.getBaseUrl()),t=t.parentInstruction;return e.unshift("/"),e.join("")}(t));return t.queryString&&(o+="?"+t.queryString),Promise.reject(new C(o))}if(i){var s=function(t,e){var i=t.params,n=e.params,r=e.config.hasChildRouter?e.getWildCardName():null;for(var o in n)if(o!==r&&i[o]!==n[o])return!0;for(var s in i)if(s!==r&&i[s]!==n[s])return!0;if(!e.options.compareQueryParams)return!1;var a=t.queryParams,u=e.queryParams;for(var l in u)if(a[l]!==u[l])return!0;for(var c in a)if(a[c]!==u[c])return!0;return!1}(i,t),a=[],u=function(o){var u=i.viewPortInstructions[o],l=n.viewPorts[o];if(!l)throw new Error('Invalid Route Config: Configuration for viewPort "'+o+'" was not found for route: "'+t.config.route+'."');var c=r[o]={name:o,config:l,prevComponent:u.component,prevModuleId:u.moduleId};if(u.moduleId!==l.moduleId)c.strategy=L.replace;else if("determineActivationStrategy"in u.component.viewModel){var h;c.strategy=(h=u.component.viewModel).determineActivationStrategy.apply(h,t.lifecycleArgs)}else n.activationStrategy?c.strategy=n.activationStrategy:c.strategy=s||e?L.invokeLifecycle:L.noChange;if(c.strategy!==L.replace&&u.childRouter){var d=t.getWildcardPath(),p=u.childRouter._createNavigationInstruction(d,t).then(function(t){return c.childNavigationInstruction=t,S(t,c.strategy===L.invokeLifecycle).then(function(e){t.plan=e})});a.push(p)}};for(var l in i.viewPortInstructions)u(l);return Promise.all(a).then(function(){return r})}for(var c in n.viewPorts)r[c]={name:c,strategy:L.replace,config:t.config.viewPorts[c]};return Promise.resolve(r)}var P=t.Router=function(){function t(t,e){var i=this;this.parent=null,this.options={},this.transformTitle=function(t){return i.parent?i.parent.transformTitle(t):t},this.container=t,this.history=e,this.reset()}return t.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new u.RouteRecognizer,this._childRecognizer=new u.RouteRecognizer,this._configuredPromise=new Promise(function(e){t._resolveConfiguredPromise=e})},t.prototype.registerViewPort=function(t,e){e=e||"default",this.viewPorts[e]=t},t.prototype.ensureConfigured=function(){return this._configuredPromise},t.prototype.configure=function(t){var e=this;this.isConfigured=!0;var i=t,n=void 0;return"function"==typeof t&&(i=t(n=new E)),Promise.resolve(i).then(function(t){t&&t.exportToRouter&&(n=t),n.exportToRouter(e),e.isConfigured=!0,e._resolveConfiguredPromise()})},t.prototype.navigate=function(t,e){return!this.isConfigured&&this.parent?this.parent.navigate(t,e):(this.isExplicitNavigation=!0,this.history.navigate(f(t,this.baseUrl,this.history._hasPushState),e))},t.prototype.navigateToRoute=function(t,e,i){var n=this.generate(t,e);return this.navigate(n,i)},t.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},t.prototype.createChild=function(e){var i=new t(e||this.container.createChild(),this.history);return i.parent=this,i},t.prototype.generate=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=this._recognizer.hasRoute(t);if((!this.isConfigured||!n)&&this.parent)return this.parent.generate(t,e);if(!n)throw new Error("A route with name '"+t+"' could not be found. Check that `name: '"+t+"'` was specified in the route's config.");var r=p(this._recognizer.generate(t,e),this.baseUrl,this.history._hasPushState,i.absolute);return i.absolute?""+this.history.getAbsoluteRoot()+r:r},t.prototype.createNavModel=function(t){var e=new k(this,"href"in t?t.href:t.route);return e.title=t.title,e.order=t.nav,e.href=t.href,e.settings=t.settings,e.config=t,e},t.prototype.addRoute=function(t,e){A(t,this.routes),"viewPorts"in t||t.navigationStrategy||(t.viewPorts={default:{moduleId:t.moduleId,view:t.view}}),e||(e=this.createNavModel(t)),this.routes.push(t);var i=t.route;"/"===i.charAt(0)&&(i=i.substr(1));var n=!0===t.caseSensitive,r=this._recognizer.add({path:i,handler:t,caseSensitive:n});if(i){var o=t.settings;delete t.settings;var s=JSON.parse(JSON.stringify(t));t.settings=o,s.route=i+"/*childRoute",s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:n}),s.navModel=e,s.settings=t.settings,s.navigationStrategy=t.navigationStrategy}if(t.navModel=e,(e.order||0===e.order)&&-1===this.navigation.indexOf(e)){if(!e.href&&""!==e.href&&(r.types.dynamics||r.types.stars))throw new Error('Invalid route config for "'+t.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof e.order&&(e.order=++this._fallbackOrder),this.navigation.push(e),this.navigation=this.navigation.sort(function(t,e){return t.order-e.order})}},t.prototype.hasRoute=function(t){return!!(this._recognizer.hasRoute(t)||this.parent&&this.parent.hasRoute(t))},t.prototype.hasOwnRoute=function(t){return this._recognizer.hasRoute(t)},t.prototype.handleUnknownRoutes=function(t){var e=this;if(!t)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(i){return e._createRouteConfig(t,i).then(function(t){return i.config=t,i})}},t.prototype.updateTitle=function(){if(this.parent)return this.parent.updateTitle();this.currentInstruction&&this.currentInstruction._updateTitle()},t.prototype.refreshNavigation=function(){for(var t=this.navigation,e=0,i=t.length;e<i;e++){var n=t[e];n.config.href?n.href=d(n.config.href,this.history._hasPushState):n.href=p(n.relativeHref,this.baseUrl,this.history._hasPushState)}},t.prototype._refreshBaseUrl=function(){if(this.parent){var t=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+t}},t.prototype._createNavigationInstruction=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=t,n="",r=t.indexOf("?");-1!==r&&(i=t.substr(0,r),n=t.substr(r+1));var o=this._recognizer.recognize(t);o&&o.length||(o=this._childRecognizer.recognize(t));var s={fragment:i,queryString:n,config:null,parentInstruction:e,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(o&&o.length){var a=o[0],u=new w(Object.assign({},s,{params:a.params,queryParams:a.queryParams||o.queryParams,config:a.config||a.handler}));return"function"==typeof a.handler?M(u,a.handler,a):a.handler&&"function"==typeof a.handler.navigationStrategy?M(u,a.handler.navigationStrategy,a.handler):Promise.resolve(u)}return this.catchAllHandler?M(new w(Object.assign({},s,{params:{path:i},queryParams:o&&o.queryParams,config:null})),this.catchAllHandler):Promise.reject(new Error("Route not found: "+t))},t.prototype._createRouteConfig=function(t,e){var i=this;return Promise.resolve(t).then(function(t){return"string"==typeof t?{moduleId:t}:"function"==typeof t?t(e):t}).then(function(t){return"string"==typeof t?{moduleId:t}:t}).then(function(t){return t.route=e.params.path,A(t,i.routes),t.navModel||(t.navModel=i.createNavModel(t)),t})},s(t,[{key:"isRoot",get:function(){return!this.parent}}]),t}();function A(t,e){if("object"!==(void 0===t?"undefined":o(t)))throw new Error("Invalid Route Config");if("string"!=typeof t.route){var i=t.name||"(no name)";throw new Error('Invalid Route Config for "'+i+'": You must specify a "route:" pattern.')}if(!("redirect"in t||t.moduleId||t.navigationStrategy||t.viewPorts))throw new Error('Invalid Route Config for "'+t.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function M(t,e,i){return Promise.resolve(e.call(i,t)).then(function(){return"viewPorts"in t.config||(t.config.viewPorts={default:{moduleId:t.config.moduleId}}),t})}var T=t.CanDeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return N(t.plan,"canDeactivate",e)},t}(),j=t.CanActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return D(t,"canActivate",e)},t}(),I=t.DeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return N(t.plan,"deactivate",e,!0)},t}(),R=t.ActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return D(t,"activate",e,!0)},t}();function N(t,e,i,n){var r=function t(e,i){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var r in e){var o=e[r],s=o.prevComponent;if((o.strategy===L.invokeLifecycle||o.strategy===L.replace)&&s){var a=s.viewModel;i in a&&n.push(a)}o.childNavigationInstruction?t(o.childNavigationInstruction.plan,i,n):s&&B(s,i,n)}return n}(t,e),o=r.length;function s(t){return n||z(t)?a():i.cancel(t)}function a(){if(o--)try{return V(r[o][e](),s,i.cancel)}catch(t){return i.cancel(t)}return i()}return a()}function B(t,e,i){var n=t.childRouter;if(n&&n.currentInstruction){var r=n.currentInstruction.viewPortInstructions;for(var o in r){var s=r[o].component,a=s.viewModel;e in a&&i.push(a),B(s,e,i)}}}function D(t,e,i,n){var r=function t(e,i){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];var r=arguments[3];var o=e.plan;Object.keys(o).filter(function(s){var a=o[s],u=e.viewPortInstructions[s],l=u.component.viewModel;(a.strategy===L.invokeLifecycle||a.strategy===L.replace)&&i in l&&n.push({viewModel:l,lifecycleArgs:u.lifecycleArgs,router:r}),a.childNavigationInstruction&&t(a.childNavigationInstruction,i,n,u.component.childRouter||r)});return n}(t,e),s=r.length,a=-1;function u(){if(++a<s)try{var t=(c=r[a],{v:V((l=c.viewModel)[e].apply(l,c.lifecycleArgs),function(t){return e=t,r=c.router,n||z(e,r)?u():i.cancel(e);var e,r},i.cancel)});if("object"===(void 0===t?"undefined":o(t)))return t.v}catch(t){return i.cancel(t)}var l,c;return i()}return u()}function z(t,e){return!(t instanceof Error)&&(x(t)?("function"==typeof t.setRouter&&t.setRouter(e),!!t.shouldContinueProcessing):void 0===t||t)}var F=function(){function t(t){this._subscribed=!0,this._subscription=t(this),this._subscribed||this.unsubscribe()}return t.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},s(t,[{key:"subscribed",get:function(){return this._subscribed}}]),t}();function V(t,e,i){if(t&&"function"==typeof t.then)return Promise.resolve(t).then(e).catch(i);if(t&&"function"==typeof t.subscribe){var n=(r=t,{v:new F(function(n){return r.subscribe({next:function(){n.subscribed&&(n.unsubscribe(),e(t))},error:function(t){n.subscribed&&(n.unsubscribe(),i(t))},complete:function(){n.subscribed&&(n.unsubscribe(),e(t))}})})});if("object"===(void 0===n?"undefined":o(n)))return n.v}var r;try{return e(t)}catch(t){return i(t)}}var q=t.RouteLoader=function(){function t(){}return t.prototype.loadRoute=function(t,e,i){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},t}(),H=t.LoadRouteStep=function(){function t(t){this.routeLoader=t}return t.inject=function(){return[q]},t.prototype.run=function(t,e){return U(this.routeLoader,t).then(e).catch(e.cancel)},t}();function U(t,e){var i=function t(e){var i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];var n=e.plan;for(var r in n){var o=n[r];if(o.strategy===L.replace)i.push({viewPortPlan:o,navigationInstruction:e}),o.childNavigationInstruction&&t(o.childNavigationInstruction,i);else{var s=e.addViewPortInstruction(r,o.strategy,o.prevModuleId,o.prevComponent);o.childNavigationInstruction&&(s.childNavigationInstruction=o.childNavigationInstruction,t(o.childNavigationInstruction,i))}}return i}(e).map(function(e){return i=t,n=e.navigationInstruction,r=e.viewPortPlan,s=r.config.moduleId,(a=i,u=n,l=r.config,c=u.router,h=u.lifecycleArgs,a.loadRoute(c,l,u).then(function(t){var e,i=t.viewModel,n=t.childContainer;if(t.router=c,t.config=l,"configureRouter"in i){var r=(e=n.getChildRouter(),t.childRouter=e,{v:e.configure(function(t){return i.configureRouter.apply(i,[t,e].concat(h))}).then(function(){return t})});if("object"===(void 0===r?"undefined":o(r)))return r.v}return t})).then(function(t){var e=n.addViewPortInstruction(r.name,r.strategy,s,t),o=t.childRouter;if(o){var a=n.getWildcardPath();return o._createNavigationInstruction(a,n).then(function(t){return r.childNavigationInstruction=t,S(t).then(function(n){return t.plan=n,e.childNavigationInstruction=t,U(i,t)})})}});var i,n,r,s,a,u,l,c,h});return Promise.all(i)}var Z=function(){function t(t,e,i){this.steps=[],this.container=t,this.slotName=e,this.slotAlias=i}return t.prototype.getSteps=function(){var t=this;return this.steps.map(function(e){return t.container.get(e)})},t}(),W=t.PipelineProvider=function(){function t(t){this.container=t,this.steps=[O,T,H,this._createPipelineSlot("authorize"),j,this._createPipelineSlot("preActivate","modelbind"),I,R,this._createPipelineSlot("preRender","precommit"),b,this._createPipelineSlot("postRender","postcomplete")]}return t.inject=function(){return[l.Container]},t.prototype.createPipeline=function(){var t=this,e=new _;return this.steps.forEach(function(i){return e.addStep(t.container.get(i))}),e},t.prototype._findStep=function(t){return this.steps.find(function(e){return e.slotName===t||e.slotAlias===t})},t.prototype.addStep=function(t,e){var i=this._findStep(t);if(!i)throw new Error("Invalid pipeline slot name: "+t+".");i.steps.includes(e)||i.steps.push(e)},t.prototype.removeStep=function(t,e){var i=this._findStep(t);i&&i.steps.splice(i.steps.indexOf(e),1)},t.prototype._clearSteps=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this._findStep(t);e&&(e.steps=[])},t.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},t.prototype._createPipelineSlot=function(t,e){return new Z(this.container,t,e)},t}(),G=a.getLogger("app-router");t.AppRouter=function(t){function e(e,i,n,r){var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,e,i));return o.pipelineProvider=n,o.events=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.inject=function(){return[l.Container,c.History,W,h.EventAggregator]},e.prototype.reset=function(){t.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},e.prototype.loadUrl=function(t){var e=this;return this._createNavigationInstruction(t).then(function(t){return e._queueInstruction(t)}).catch(function(t){G.error(t),Y(e)})},e.prototype.registerViewPort=function(e,i){var n=this;if(t.prototype.registerViewPort.call(this,e,i),this.isActive)this._dequeueInstruction();else{var r=function(){var t,i=n._findViewModel(e);if("configureRouter"in i){if(!n.isConfigured){var r=(t=n._resolveConfiguredPromise,n._resolveConfiguredPromise=function(){},{v:{v:n.configure(function(t){return i.configureRouter(t,n)}).then(function(){n.activate(),t()})}});if("object"===(void 0===r?"undefined":o(r)))return r.v}}else n.activate()}();if("object"===(void 0===r?"undefined":o(r)))return r.v}return Promise.resolve()},e.prototype.activate=function(t){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,t),this.history.activate(this.options),this._dequeueInstruction())},e.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},e.prototype._queueInstruction=function(t){var e=this;return new Promise(function(i){t.resolve=i,e._queue.unshift(t),e._dequeueInstruction()})},e.prototype._dequeueInstruction=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return Promise.resolve().then(function(){if(!t.isNavigating||e){var i=t._queue.shift();if(t._queue.length=0,i){if(t.isNavigating=!0,i.previousInstruction=t.currentInstruction,e){if(e===t.maxInstructionCount-1)return G.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location."),Y(t),t._dequeueInstruction(e+1);if(e>t.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else t.events.publish("router:navigation:processing",{instruction:i});return t.pipelineProvider.createPipeline().run(i).then(function(i){return function(t,e,i,n){e&&"completed"in e&&"output"in e||((e=e||{}).output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var r=null;x(e.output)?e.output.navigate(n):(r=e,e.completed||(e.output instanceof Error&&G.error(e.output),Y(n)));return n._dequeueInstruction(i+1).then(function(t){return r||t||e})}(0,i,e,t)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(n){return function(t,e,i,n){t.resolve(e);var r={instruction:t,result:e};if(i)n.events.publish("router:navigation:child:complete",r);else{n.isNavigating=!1,n.isExplicitNavigation=!1,n.isExplicitNavigationBack=!1;var o=void 0;if(e.output instanceof Error)o="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";n.history.previousLocation=t.fragment+s,o="success"}else o="canceled";n.events.publish("router:navigation:"+o,r),n.events.publish("router:navigation:complete",r)}return e}(i,n,!!e,t)})}}})},e.prototype._findViewModel=function(t){if(this.container.viewModel)return this.container.viewModel;if(t.container)for(var e=t.container;e;){if(e.viewModel)return this.container.viewModel=e.viewModel,e.viewModel;e=e.parent}},e}(P);function Y(t){t.history.previousLocation?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):G.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}}),t.entry="dist/commonjs/aurelia-router.js"}),t.pkg("aurelia-route-recognizer",{},function(t){return t.file("dist/commonjs/aurelia-route-recognizer.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouteRecognizer=t.EpsilonSegment=t.StarSegment=t.DynamicSegment=t.StaticSegment=t.State=void 0;var o=e("aurelia-path"),s=t.State=function(){function t(t){this.charSpec=t,this.nextStates=[]}return t.prototype.get=function(t){var e=this.nextStates,i=Array.isArray(e),n=0;for(e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(o.charSpec.validChars===t.validChars&&o.charSpec.invalidChars===t.invalidChars)return o}},t.prototype.put=function(e){var i=this.get(e);return i||(i=new t(e),this.nextStates.push(i),e.repeat&&i.nextStates.push(i),i)},t.prototype.match=function(t){for(var e=this.nextStates,i=[],n=0,r=e.length;n<r;n++){var o=e[n],s=o.charSpec;void 0!==s.validChars?-1!==s.validChars.indexOf(t)&&i.push(o):void 0!==s.invalidChars&&-1===s.invalidChars.indexOf(t)&&i.push(o)}return i},t}(),a=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),u=t.StaticSegment=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,i=0,n=e.length;i<n;++i){var r=e[i];t({validChars:this.caseSensitive?r:r.toUpperCase()+r.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(a,"\\$1")},t.prototype.generate=function(){return this.string},t}(),l=t.DynamicSegment=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),c=t.StarSegment=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),h=t.EpsilonSegment=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),d=(t.RouteRecognizer=function(){function t(){this.rootState=new s,this.names={}}return t.prototype.add=function(t){var e=this;if(!Array.isArray(t)){for(var i=this.rootState,n="^",r={statics:0,dynamics:0,stars:0},o=[],s=t.handler.name,a=!0,d=!0,p=function(t,e,i,n){var r=t;"/"===t.charAt(0)&&(r=t.substr(1));for(var o=[],s=r.split("/"),a=0,d=s.length;a<d;++a){var p=s[a],f=p.match(/^:([^?]+)(\?)?$/);if(f){var m=f,v=m[1],g=m[2];if(-1!==v.indexOf("="))throw new Error("Parameter "+v+" in route "+t+" has a default value, which is not supported.");o.push(new l(v,!!g)),e.push(v),i.dynamics++}else(f=p.match(/^\*(.+)$/))?(o.push(new c(f[1])),e.push(f[1]),i.stars++):""===p?o.push(new h):(o.push(new u(p,n)),i.statics++)}return o}(t.path,o,r,t.caseSensitive),m=0,v=p.length;m<v;m++){var g=p[m];g instanceof h||(a=!1,d=d&&g.optional,i=f(i,g),n+=g.optional?"/?":"/",n+=g.regex())}if(d)if(a)i=i.put({validChars:"/"}),n+="/";else{var _=this.rootState.put({validChars:"/"});i.epsilon=[_],i=_}var y=[{handler:t.handler,names:o}];if(s)for(var b=Array.isArray(s)?s:[s],w=0;w<b.length;w++)this.names[b[w]]={segments:p,handlers:y};return i.handlers=y,i.regex=new RegExp(n+"$",t.caseSensitive?"":"i"),i.types=r,i}t.forEach(function(t){return e.add(t)})},t.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.names[t]},t.prototype.generate=function(t,e){var i=this.names[t];if(!i)throw new Error("There is no route named "+t);var n=i.handlers[0].handler;if(n.generationUsesHref)return n.href;for(var r=Object.assign({},e),s=i.segments,a={},u="",l=0,c=s.length;l<c;l++){var d=s[l];if(!(d instanceof h)){var p=d.generate(r,a);if(null==p){if(!d.optional)throw new Error("A value is required for route parameter '"+d.name+"' in route '"+t+"'.")}else u+="/",u+=p}}for(var f in"/"!==u.charAt(0)&&(u="/"+u),a)delete r[f];var m=(0,o.buildQueryString)(r);return u+=m?"?"+m:""},t.prototype.recognize=function(t){var e=[this.rootState],i={},n=!1,r=t,s=r.indexOf("?");if(-1!==s){var a=r.substr(s+1,r.length);r=r.substr(0,s),i=(0,o.parseQueryString)(a)}"/"!==(r=decodeURI(r)).charAt(0)&&(r="/"+r);var u=r.length;u>1&&"/"===r.charAt(u-1)&&(r=r.substr(0,u-1),n=!0);for(var l=0,c=r.length;l<c&&(e=p(e,r.charAt(l))).length;l++);for(var h=[],f=0,m=e.length;f<m;f++)e[f].handlers&&h.push(e[f]);e=h.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0});var v=h[0];if(v&&v.handlers)return n&&"(.+)$"===v.regex.source.slice(-5)&&(r+="/"),function(t,e,i){for(var n=t.handlers,r=t.regex,o=e.match(r),s=1,a=new d(i),u=0,l=n.length;u<l;u++){for(var c=n[u],h=c.names,p={},f=0,m=h.length;f<m;f++)p[h[f]]=o[s++];a.push({handler:c.handler,params:p,isDynamic:!!h.length})}return a}(v,r,i)},t}(),function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}});function p(t,e){for(var i=[],n=0,r=t.length;n<r;n++){var o=t[n];i.push.apply(i,o.match(e))}for(var s=i.filter(function(t){return t.epsilon}),a=function(){var t=[];s.forEach(function(e){i.push.apply(i,e.epsilon),t.push.apply(t,e.epsilon)}),s=t.filter(function(t){return t.epsilon})};s.length>0;)a();return i}function f(t,e){var i=t.put({validChars:"/"});return e.eachChar(function(t){i=i.put(t)}),e.optional&&(t.epsilon=t.epsilon||[],t.epsilon.push(i)),i}}),t.entry="dist/commonjs/aurelia-route-recognizer.js"}),t.pkg("onsenui",{},function(t){return t.file("js/onsenui.js",function(t,e,i,n,r){var o,s,a,u,l=e("process");window.CustomEvent||((o=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}).prototype=window.Event.prototype,window.CustomEvent=o),"undefined"==typeof WeakMap&&(s=Object.defineProperty,a=Date.now()%1e9,(u=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(t,e){var i=t[this.name];return i&&i[0]===t?i[1]=e:s(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t||(e[0]=e[1]=void 0,0))},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=u),function(t){if(!t.JsMutationObserver){var e,i=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))e=setTimeout;else if(window.setImmediate)e=window.setImmediate;else{var n=[],r=String(Math.random());window.addEventListener("message",function(t){if(t.data===r){var e=n;n=[],e.forEach(function(t){t()})}}),e=function(t){n.push(t),window.postMessage(r,"*")}}var o,s,a=!1,u=[],l=0;d.prototype={observe:function(t,e){var n;if(n=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r,o=i.get(t);o||i.set(t,o=[]);for(var s=0;s<o.length;s++)if(o[s].observer===this){(r=o[s]).removeListeners(),r.options=e;break}r||(r=new g(this,t,e),o.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=i.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},g.prototype={enqueue:function(t){var i,n=this.observer.records_,r=n.length;if(n.length>0){var o=v(n[r-1],t);if(o)return void(n[r-1]=o)}else i=this.observer,u.push(i),a||(a=!0,e(c));n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=i.get(t);e||i.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=i.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,n=t.target;(a=new f("attributes",n)).attributeName=e,a.attributeNamespace=i;var r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;h(n,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?m(r):a});break;case"DOMCharacterDataModified":var a=f("characterData",n=t.target);r=t.prevValue;h(n,function(t){if(t.characterData)return t.characterDataOldValue?m(r):a});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var u,l,c=t.target;"DOMNodeInserted"===t.type?(u=[c],l=[]):(u=[],l=[c]);var d=c.previousSibling,p=c.nextSibling;(a=f("childList",t.target.parentNode)).addedNodes=u,a.removedNodes=l,a.previousSibling=d,a.nextSibling=p,h(t.relatedNode,function(t){if(t.childList)return a})}o=s=void 0}},t.JsMutationObserver=d,t.MutationObserver||(t.MutationObserver=d,d._isPolyfilled=!0)}function c(){a=!1;var t=u;u=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n,r=t.takeRecords();(n=t).nodes_.forEach(function(t){var e=i.get(t);e&&e.forEach(function(t){t.observer===n&&t.removeTransientObservers()})}),r.length&&(t.callback_(r,t),e=!0)}),e&&c()}function h(t,e){for(var n=t;n;n=n.parentNode){var r=i.get(n);if(r)for(var o=0;o<r.length;o++){var s=r[o],a=s.options;if(n===t||a.subtree){var u=e(a);u&&s.enqueue(u)}}}}function d(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++l}function p(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(t,e){return o=new p(t,e)}function m(t){return s||((i=new p((e=o).type,e.target)).addedNodes=e.addedNodes.slice(),i.removedNodes=e.removedNodes.slice(),i.previousSibling=e.previousSibling,i.nextSibling=e.nextSibling,i.attributeName=e.attributeName,i.attributeNamespace=e.attributeNamespace,i.oldValue=e.oldValue,(s=i).oldValue=t,s);var e,i}function v(t,e){return t===e?t:s&&((i=t)===s||i===o)?s:null;var i}function g(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}}(self),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],r=Object,o=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},l=function(t){for(var e=o.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,r=i.length;n<r;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=l[i]=[],h=function(){return new l(this)};if(a[i]=Error[i],c.item=function(t){return this[t]||null},c.contains=function(t){return-1!==u(this,t+="")},c.add=function(){for(var t,e=arguments,i=0,n=e.length,r=!1;t=e[i]+"",-1===u(this,t)&&(this.push(t),r=!0),++i<n;);r&&this._updateClassName()},c.remove=function(){var t,e,i=arguments,n=0,r=i.length,o=!1;do{for(t=i[n]+"",e=u(this,t);-1!==e;)this.splice(e,1),o=!0,e=u(this,t)}while(++n<r);o&&this._updateClassName()},c.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(n,e,d))}}else r[i].__defineGetter__&&n.__defineGetter__(e,h)}}(self)),function(){"use strict";function t(e,n){var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=0,a=o.length;s<a;s++)this[o[s]]=u(this[o[s]],this);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}function u(t,e){return function(){return t.apply(e,arguments)}}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!e,n=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=n&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=n&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(n&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;n&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],e.isContentEditable)return!0;if(n){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=t.changedTouches[0],(c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=c.tagName.toLowerCase())){if(e=this.findControl(c)){if(this.focus(c),i)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-s>100||n&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),n&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!n||r||!(u=c.fastClickScrollParent)||u.fastClickLastScrollTop===u.scrollTop)||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,r;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},window.FastClick=t}();var c,h,d=function(){};d.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(t,e){var i=this,n=function(){return i.off(t,n),e.apply(null,arguments)};this.on(t,n)},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&(this._events[t]=this._events[t].filter(function(t){return!!e&&e!==t}))},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},d.mixin=function(t){for(var e=["on","once","off","emit"],i=0;i<e.length;i++)"function"==typeof t?t.prototype[e[i]]=d.prototype[e[i]]:t[e[i]]=d.prototype[e[i]]},void 0!==i&&"exports"in i&&(i.exports=d),window.MicroEvent=d,function(t){var e=setTimeout;function i(){}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,n._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void s(e.promise,t)}o(e.promise,n)}else(1===t._state?o:s)(e.promise,t._value)})):t._deferreds.push(e)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof n)return t._state=3,t._value=e,void a(t);if("function"==typeof i)return void u((r=i,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,a(t)}catch(e){s(t,e)}var r,o}function s(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)r(t,t._deferreds[e]);t._deferreds=null}function u(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,s(e,t))})}catch(t){if(i)return;i=!0,s(e,t)}}n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var n=new this.constructor(i);return r(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(t,e,n)),n},n.all=function(t){var e=Array.prototype.slice.call(t);return new n(function(t,i){if(0===e.length)return t([]);var n=e.length;function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(o,t)},i)}e[o]=s,0==--n&&t(e)}catch(t){i(t)}}for(var o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var n=0,r=t.length;n<r;n++)t[n].then(e,i)})},n._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},window.Promise||(window.Promise=n)}(),function(t,e){"use strict";if(!t.setImmediate){var i,n,r,o,s,a=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(){var t=p(arguments);return l.nextTick(f(m,t)),t}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){m(t.data)},i=function(){var t=p(arguments);return r.port2.postMessage(t),t}):h&&"onreadystatechange"in h.createElement("script")?(n=h.documentElement,i=function(){var t=p(arguments),e=h.createElement("script");return e.onreadystatechange=function(){m(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e),t}):i=function(){var t=p(arguments);return setTimeout(f(m,t),0),t}:(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&m(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(){var e=p(arguments);return t.postMessage(o+e,"*"),e}),d.setImmediate=i,d.clearImmediate=v}function p(t){return u[a]=f.apply(e,t),a++}function f(t){var i=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,i):new Function(""+t)()}}function m(t){if(c)setTimeout(f(m,t),0);else{var e=u[t];if(e){c=!0;try{e()}finally{v(t),c=!1}}}}function v(t){delete u[t]}}(self),function(){function t(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}t.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},t.prototype.setup=function(){this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&(this.viewportElement.getAttribute("content")||("ios"==this.platform.name?this.platform.version>=7&&(window.cordova||window.phonegap||window.PhoneGap)?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT)))},t.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},t.prototype.getPlatformVersion=function(){var t=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(t+3,3).replace("_","."))},window.Viewport=t}(),function(){if(window.MSApp&&MSApp.execUnsafeLocalFunction){var t=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,e=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,i=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),n=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,r=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,o=document.createElement("div");function s(e,i,n){try{t.call(e,i,n)}catch(t){}}function a(t){for(;t.childNodes.length;)t.removeChild(t.lastChild)}function u(t,o){var u=document.implementation.createHTMLDocument("cleaner");a(u.documentElement),MSApp.execUnsafeLocalFunction(function(){var e,n,r;e=u.documentElement,n="afterbegin",r=t,i.value.call(e,n,r)});var l=u.documentElement.querySelectorAll("script");Array.prototype.forEach.call(l,function(t){switch(t.type.toLowerCase()){case"":t.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":t.type="text/inert-"+t.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":t.type="application/inert-"+t.type.slice("application/".length)}}),function t(i){var o,a,u,l=(o=i,n.call(o));if(l&&l.length){for(var c,h=0,d=l.length;h<d;h++){var p=(f=l[h]).name;"o"!==p[0]&&"O"!==p[0]||"n"!==p[1]&&"N"!==p[1]||(c=c||[]).push({name:f.name,value:f.value})}if(c)for(h=0,d=c.length;h<d;h++){var f=c[h];a=i,u=f.name,e.call(a,u),s(i,"x-"+f.name,f.value)}}var m,v=(m=i,r.call(m));for(h=0,d=v.length;h<d;h++)t(v[h])}(u.documentElement);var c=[];return"HTML"===o.tagName?c=Array.prototype.slice.call(document.adoptNode(u.documentElement).childNodes):(u.head&&(c=c.concat(Array.prototype.slice.call(document.adoptNode(u.head).childNodes))),u.body&&(c=c.concat(Array.prototype.slice.call(document.adoptNode(u.body).childNodes)))),c}function l(t,e){var i=Object.getOwnPropertyDescriptor(HTMLElement.prototype,t),n=i.set;Object.defineProperty(HTMLElement.prototype,t,{get:i.get,set:function(t){if(window.WinJS&&window.WinJS._execUnsafe&&function(){var t=!0;try{o.innerHTML="<test/>"}catch(e){t=!1}return t}())n.call(this,t);else{var r=this,s=u(t,r);MSApp.execUnsafeLocalFunction(function(){e(i,r,s)})}},enumerable:i.enumerable,configurable:i.configurable})}l("innerHTML",function(t,e,i){a(e);for(var n=0,r=i.length;n<r;n++)e.appendChild(i[n])}),l("outerHTML",function(t,e,i){for(var n=0,r=i.length;n<r;n++)e.insertAdjacentElement("afterend",i[n]);e.parentNode.removeChild(e)})}}(),c=this,h=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}window.customElements&&(window.customElements.forcePolyfill=!0);var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),i=t(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(function(){function t(t){this.value=t}function e(e){var i,n;function r(i,n){try{var s=e[i](n),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){r("next",t)},function(t){r("throw",t)}):o(s.done?"return":"normal",s.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?r(i.key,i.arg):n=null}this._invoke=function(t,e){return new Promise(function(o,s){var a={key:t,arg:e,resolve:o,reject:s,next:null};n?n=n.next=a:(i=n=a,r(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},p=function(t){return"object"===(void 0===t?"undefined":n(t))?null!==t:"function"==typeof t},f=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},v=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=e.document,_=p(g)&&p(g.createElement),y=function(t){return _?g.createElement(t):{}},b=!v&&!m(function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!p(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!p(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!p(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!p(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},k=Object.defineProperty,x={f:v?Object.defineProperty:function(t,e,i){if(f(t),e=w(e,!0),f(i),b)try{return k(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=v?function(t,e,i){return x.f(t,e,C(1,i))}:function(t,e,i){return t[e]=i,t},L={}.hasOwnProperty,O=function(t,e){return L.call(t,e)},S=0,P=Math.random(),A=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++S+P).toString(36))},M=t(function(t){var n=A("src"),r="toString",o=Function[r],s=(""+o).split(r);i.inspectSource=function(t){return o.call(t)},(t.exports=function(t,i,r,o){var a="function"==typeof r;a&&(O(r,"name")||E(r,"name",i)),t[i]!==r&&(a&&(O(r,n)||E(r,n,t[i]?""+t[i]:s.join(String(i)))),t===e?t[i]=r:o?t[i]?t[i]=r:E(t,i,r):(delete t[i],E(t,i,r)))})(Function.prototype,r,function(){return"function"==typeof this&&this[n]||o.call(this)})}),T=function(t,e,i){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}},j="prototype",I=function t(n,r,o){var s,a,u,l,c=n&t.F,h=n&t.G,d=n&t.P,p=n&t.B,f=h?e:n&t.S?e[r]||(e[r]={}):(e[r]||{})[j],m=h?i:i[r]||(i[r]={}),v=m[j]||(m[j]={});for(s in h&&(o=r),o)u=((a=!c&&f&&void 0!==f[s])?f:o)[s],l=p&&a?T(u,e):d&&"function"==typeof u?T(Function.call,u):u,f&&M(f,s,u,n&t.U),m[s]!=u&&E(m,s,l),d&&v[s]!=u&&(v[s]=u)};e.core=i,I.F=1,I.G=2,I.S=4,I.P=8,I.B=16,I.W=32,I.U=64,I.R=128;var R=I,N={f:{}.propertyIsEnumerable},B={}.toString,D=function(t){return B.call(t).slice(8,-1)},z=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==D(t)?t.split(""):Object(t)},F=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},V=function(t){return z(F(t))},q=Object.getOwnPropertyDescriptor,H={f:v?q:function(t,e){if(t=V(t),e=w(e,!0),b)try{return q(t,e)}catch(t){}if(O(t,e))return C(!N.f.call(t,e),t[e])}},U=function(t,e){if(f(t),!p(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Z={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=T(Function.call,H.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return U(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:U};R(R.S,"Object",{setPrototypeOf:Z.set});var W="__core-js_shared__",G=e[W]||(e[W]={}),Y=function(t){return G[t]||(G[t]={})},X=t(function(t){var i=Y("wks"),n=e.Symbol,r="function"==typeof n;(t.exports=function(t){return i[t]||(i[t]=r&&n[t]||(r?n:A)("Symbol."+t))}).store=i}),$=X("toStringTag"),Q="Arguments"==D(function(){return arguments}()),K=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),$))?i:Q?D(e):"Object"==(n=D(e))&&"function"==typeof e.callee?"Arguments":n},J={};J[X("toStringTag")]="z",J+""!="[object z]"&&M(Object.prototype,"toString",function(){return"[object "+K(this)+"]"},!0);var tt,et=Math.ceil,it=Math.floor,nt=function(t){return isNaN(t=+t)?0:(t>0?it:et)(t)},rt={},ot=Math.min,st=function(t){return t>0?ot(nt(t),9007199254740991):0},at=Math.max,ut=Math.min,lt=Y("keys"),ct=function(t){return lt[t]||(lt[t]=A(t))},ht=(tt=!1,function(t,e,i){var n,r,o,s=V(t),a=st(s.length),u=(o=a,(r=nt(r=i))<0?at(r+o,0):ut(r,o));if(tt&&e!=e){for(;a>u;)if((n=s[u++])!=n)return!0}else for(;a>u;u++)if((tt||u in s)&&s[u]===e)return tt||u||0;return!tt&&-1}),dt=ct("IE_PROTO"),pt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return function(t,e){var i,n=V(t),r=0,o=[];for(i in n)i!=dt&&O(n,i)&&o.push(i);for(;e.length>r;)O(n,i=e[r++])&&(~ht(o,i)||o.push(i));return o}(t,pt)},mt=v?Object.defineProperties:function(t,e){f(t);for(var i,n=ft(e),r=n.length,o=0;r>o;)x.f(t,i=n[o++],e[i]);return t},vt=e.document&&document.documentElement,gt=ct("IE_PROTO"),_t=function(){},yt="prototype",bt=function(){var t,e=y("iframe"),i=pt.length;for(e.style.display="none",vt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),bt=t.F;i--;)delete bt[yt][pt[i]];return bt()},wt=Object.create||function(t,e){var i;return null!==t?(_t[yt]=f(t),i=new _t,_t[yt]=null,i[gt]=t):i=bt(),void 0===e?i:mt(i,e)},kt=x.f,xt=X("toStringTag"),Ct=function(t,e,i){t&&!O(t=i?t:t.prototype,xt)&&kt(t,xt,{configurable:!0,value:e})},Et={};E(Et,X("iterator"),function(){return this});var Lt,Ot=ct("IE_PROTO"),St=Object.prototype,Pt=Object.getPrototypeOf||function(t){return t=Object(F(t)),O(t,Ot)?t[Ot]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?St:null},At=X("iterator"),Mt=!([].keys&&"next"in[].keys()),Tt="values",jt=function(){return this},It=function(t,e,i,n,r,o,s){var a,u,l;u=e,l=n,(a=i).prototype=wt(Et,{next:C(1,l)}),Ct(a,u+" Iterator");var c,h,d,p=function(t){if(!Mt&&t in g)return g[t];switch(t){case"keys":case Tt:return function(){return new i(this,t)}}return function(){return new i(this,t)}},f=e+" Iterator",m=r==Tt,v=!1,g=t.prototype,_=g[At]||g["@@iterator"]||r&&g[r],y=_||p(r),b=r?m?p("entries"):y:void 0,w="Array"==e&&g.entries||_;if(w&&(d=Pt(w.call(new t)))!==Object.prototype&&(Ct(d,f,!0),O(d,At)||E(d,At,jt)),m&&_&&_.name!==Tt&&(v=!0,y=function(){return _.call(this)}),(Mt||v||!g[At])&&E(g,At,y),rt[e]=y,rt[f]=jt,r)if(c={values:m?y:p(Tt),keys:o?y:p("keys"),entries:b},s)for(h in c)h in g||M(g,h,c[h]);else R(R.P+R.F*(Mt||v),e,c);return c},Rt=(Lt=!0,function(t,e){var i,n,r=String(F(t)),o=nt(e),s=r.length;return o<0||o>=s?Lt?"":void 0:(i=r.charCodeAt(o))<55296||i>56319||o+1===s||(n=r.charCodeAt(o+1))<56320||n>57343?Lt?r.charAt(o):i:Lt?r.slice(o,o+2):n-56320+(i-55296<<10)+65536});It(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=Rt(e,i),this._i+=t.length,{value:t,done:!1})});var Nt=X("unscopables"),Bt=Array.prototype;null==Bt[Nt]&&E(Bt,Nt,{});var Dt=function(t){Bt[Nt][t]=!0},zt=function(t,e){return{value:e,done:!!t}},Ft=It(Array,"Array",function(t,e){this._t=V(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,zt(1)):zt(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values");rt.Arguments=rt.Array,Dt("keys"),Dt("values"),Dt("entries");for(var Vt=X("iterator"),qt=X("toStringTag"),Ht=rt.Array,Ut=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Zt=0;Zt<5;Zt++){var Wt,Gt=Ut[Zt],Yt=e[Gt],Xt=Yt&&Yt.prototype;if(Xt)for(Wt in Xt[Vt]||E(Xt,Vt,Ht),Xt[qt]||E(Xt,qt,Gt),rt[Gt]=Ht,Ft)Xt[Wt]||M(Xt,Wt,Ft[Wt],!0)}var $t=function(t,e,i){for(var n in e)M(t,n,e[n],i);return t},Qt=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t},Kt=function(t,e,i,n){try{return n?e(f(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&f(r.call(t)),e}},Jt=X("iterator"),te=Array.prototype,ee=X("iterator"),ie=i.getIteratorMethod=function(t){if(null!=t)return t[ee]||t["@@iterator"]||rt[K(t)]},ne=t(function(t){var e={},i={},n=t.exports=function(t,n,r,o,s){var a,u,l,c,h,d=s?function(){return t}:ie(t),p=T(r,o,n?2:1),m=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(void 0===(h=d)||rt.Array!==h&&te[Jt]!==h){for(l=d.call(t);!(u=l.next()).done;)if((c=Kt(l,p,u.value,n))===e||c===i)return c}else for(a=st(t.length);a>m;m++)if((c=n?p(f(u=t[m])[0],u[1]):p(t[m]))===e||c===i)return c};n.BREAK=e,n.RETURN=i}),re=X("species"),oe=t(function(t){var e=A("meta"),i=x.f,r=0,o=Object.isExtensible||function(){return!0},s=!m(function(){return o(Object.preventExtensions({}))}),a=function(t){i(t,e,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,i){if(!p(t))return"symbol"==(void 0===t?"undefined":n(t))?t:("string"==typeof t?"S":"P")+t;if(!O(t,e)){if(!o(t))return"F";if(!i)return"E";a(t)}return t[e].i},getWeak:function(t,i){if(!O(t,e)){if(!o(t))return!0;if(!i)return!1;a(t)}return t[e].w},onFreeze:function(t){return s&&u.NEED&&o(t)&&!O(t,e)&&a(t),t}}}),se=x.f,ae=oe.fastKey,ue=v?"_s":"size",le=function(t,e){var i,n=ae(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i},ce={getConstructor:function(t,e,i,n){var r=t(function(t,o){Qt(t,r,e,"_i"),t._i=wt(null),t._f=void 0,t._l=void 0,t[ue]=0,null!=o&&ne(o,i,t[n],t)});return $t(r.prototype,{clear:function(){for(var t=this._i,e=this._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete t[e.i];this._f=this._l=void 0,this[ue]=0},delete:function(t){var e=le(this,t);if(e){var i=e.n,n=e.p;delete this._i[e.i],e.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==e&&(this._f=i),this._l==e&&(this._l=n),this[ue]--}return!!e},forEach:function(t){Qt(this,r,"forEach");for(var e,i=T(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!le(this,t)}}),v&&se(r.prototype,"size",{get:function(){return F(this[ue])}}),r},def:function(t,e,i){var n,r,o=le(t,e);return o?o.v=i:(t._l=o={i:r=ae(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[ue]++,"F"!==r&&(t._i[r]=o)),t},getEntry:le,setStrong:function(t,i,n){var r;It(t,i,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?zt(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,zt(1))},n?"entries":"values",!n,!0),r=e[i],v&&r&&!r[re]&&x.f(r,re,{configurable:!0,get:function(){return this}})}},he=X("iterator"),de=!1;try{var pe=[7][he]();pe.return=function(){de=!0},Array.from(pe,function(){throw 2})}catch(t){}var fe=Z.set,me=function(t,i,n,r,o,s){var a=e[t],u=a,l=o?"set":"add",c=u&&u.prototype,h={},d=function(t){var e=c[t];M(c,t,"delete"==t?function(t){return!(s&&!p(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!p(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!p(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof u&&(s||c.forEach&&!m(function(){(new u).entries().next()}))){var f=new u,v=f[l](s?{}:-0,1)!=f,g=m(function(){f.has(1)}),_=function(t,e){if(!e&&!de)return!1;var i=!1;try{var n=[7],r=n[he]();r.next=function(){return{done:i=!0}},n[he]=function(){return r},t(n)}catch(t){}return i}(function(t){new u(t)}),y=!s&&m(function(){for(var t=new u,e=5;e--;)t[l](e,e);return!t.has(-0)});_||((u=i(function(e,i){Qt(e,u,t);var n,r,s,c,h=(n=new a,r=u,(c=e.constructor)!==r&&"function"==typeof c&&(s=c.prototype)!==r.prototype&&p(s)&&fe&&fe(n,s),n);return null!=i&&ne(i,o,h[l],h),h})).prototype=c,c.constructor=u),(g||y)&&(d("delete"),d("has"),o&&d("get")),(y||v)&&d(l),s&&c.clear&&delete c.clear}else u=r.getConstructor(i,t,o,l),$t(u.prototype,n),oe.NEED=!0;return Ct(u,t),h[t]=u,R(R.G+R.W+R.F*(u!=a),h),s||r.setStrong(u,t,o),u},ve=(me("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return ce.def(this,t=0===t?0:t,t)}},ce),function(t){return function(){if(K(this)!=t)throw TypeError(t+"#toJSON isn't generic");return ne(this,!1,(i=[]).push,i,e),i;var e,i}});R(R.P+R.R,"Set",{toJSON:ve("Set")});me("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=ce.getEntry(this,t);return e&&e.v},set:function(t,e){return ce.def(this,0===t?0:t,e)}},ce,!0);R(R.P+R.R,"Map",{toJSON:ve("Map")}),function(){var t=new function(){},e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function i(t){var i=e.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!i&&t}function n(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function r(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function o(t,e,i){i=i||new Set;for(var n=t;n;){if(n.nodeType===Node.ELEMENT_NODE){var s=n;e(s);var a=s.localName;if("link"===a&&"import"===s.getAttribute("rel")){if((n=s.import)instanceof Node&&!i.has(n))for(i.add(n),n=n.firstChild;n;n=n.nextSibling)o(n,e,i);n=r(t,s);continue}if("template"===a){n=r(t,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)o(s,e,i)}n=n.firstChild?n.firstChild:r(t,n)}}function s(t,e,i){t[e]=i}function a(){this.a=new Map,this.f=new Map,this.c=[],this.b=!1}function u(t,e){t.b=!0,t.c.push(e)}function l(t,e){t.b&&o(e,function(e){return c(t,e)})}function c(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var i=0;i<t.c.length;i++)t.c[i](e)}}function h(t,e){var i=[];for(o(e,function(t){return i.push(t)}),e=0;e<i.length;e++){var r=i[e];1===r.__CE_state?n(r)&&t.connectedCallback(r):f(t,r)}}function d(t,e){var i=[];for(o(e,function(t){return i.push(t)}),e=0;e<i.length;e++){var n=i[e];1===n.__CE_state&&t.disconnectedCallback(n)}}function p(t,e,i){i=i||new Set;var n=[];if(o(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var r=e.import;r instanceof Node&&"complete"===r.readyState?(r.__CE_isImportDocument=!0,r.__CE_hasRegistry=!0):e.addEventListener("load",function(){var n=e.import;n.__CE_documentLoadHandled||(n.__CE_documentLoadHandled=!0,n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0,new Set(i),i.delete(n),p(t,n,i))})}else n.push(e)},i),t.b)for(e=0;e<n.length;e++)c(t,n[e]);for(e=0;e<n.length;e++)f(t,n[e])}function f(t,e){if(void 0===e.__CE_state){var i=t.a.get(e.localName);if(i){i.constructionStack.push(e);var r=i.constructor;try{try{if(new r!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback)for(i=i.observedAttributes,r=0;r<i.length;r++){var o=i[r],s=e.getAttribute(o);null!==s&&t.attributeChangedCallback(e,o,null,s,null)}n(e)&&t.connectedCallback(e)}}}function m(t,e){this.c=t,this.a=e,this.b=void 0,p(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function v(t){t.b&&t.b.disconnect()}function g(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function _(t){this.f=!1,this.a=t,this.h=new Map,this.g=function(t){return t()},this.b=!1,this.c=[],this.l=new m(t,document)}a.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t),t.i=!0},a.prototype.disconnectedCallback=function(t){t.i||this.connectedCallback(t);var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t),t.i=void 0},a.prototype.attributeChangedCallback=function(t,e,i,n,r){var o=t.__CE_definition;o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e)&&o.attributeChangedCallback.call(t,e,i,n,r)},m.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||v(this),e=0;e<t.length;e++)for(var i=t[e].addedNodes,n=0;n<i.length;n++)p(this.c,i[n])},_.prototype.m=function(t,e){var n,r,o,s,a,u,l,c,h=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!i(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.f)throw Error("A custom element is already being defined.");this.f=!0;try{var d=function(t){var e=f[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},f=e.prototype;if(!(f instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");n=d("connectedCallback"),r=d("disconnectedCallback"),o=d("adoptedCallback"),s=d("attributeChangedCallback"),a=e.observedAttributes||[]}catch(t){return}finally{this.f=!1}u=this.a,l=t,c={localName:t,constructor:e,connectedCallback:n,disconnectedCallback:r,adoptedCallback:o,attributeChangedCallback:s,observedAttributes:a,constructionStack:[]},u.a.set(l,c),u.f.set(c.constructor,c),this.c.push(t),this.b||(this.b=!0,this.g(function(){if(!1!==h.b)for(h.b=!1,p(h.a,document);0<h.c.length;){var t=h.c.shift();(t=h.h.get(t))&&g(t)}}))},_.prototype.get=function(t){if(t=this.a.a.get(t))return t.constructor},_.prototype.s=function(t){if(!i(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.h.get(t);return e?e.c:(e=new function(){var t=this;this.b=this.a=void 0,this.c=new Promise(function(e){t.b=e,t.a&&e(t.a)})},this.h.set(t,e),this.a.a.get(t)&&-1===this.c.indexOf(t)&&g(e),e.c)},_.prototype.o=function(t){v(this.l);var e=this.g;this.g=function(i){return t(function(){return e(i)})}},window.CustomElementRegistry=_,_.prototype.define=_.prototype.m,_.prototype.get=_.prototype.get,_.prototype.whenDefined=_.prototype.s,_.prototype.polyfillWrapFlushCallback=_.prototype.o;var y=window.Document.prototype.createElement,b=window.Document.prototype.createElementNS,w=window.Document.prototype.importNode,k=window.Document.prototype.prepend,x=window.Document.prototype.append,C=window.Node.prototype.cloneNode,E=window.Node.prototype.appendChild,L=window.Node.prototype.insertBefore,O=window.Node.prototype.removeChild,S=window.Node.prototype.replaceChild,P=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),A=window.Element.prototype.attachShadow,M=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),T=window.Element.prototype.getAttribute,j=window.Element.prototype.setAttribute,I=window.Element.prototype.removeAttribute,R=window.Element.prototype.getAttributeNS,N=window.Element.prototype.setAttributeNS,B=window.Element.prototype.removeAttributeNS,D=window.Element.prototype.insertAdjacentElement,z=window.Element.prototype.prepend,F=window.Element.prototype.append,V=window.Element.prototype.before,q=window.Element.prototype.after,H=window.Element.prototype.replaceWith,U=window.Element.prototype.remove,Z=window.HTMLElement,W=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),G=window.HTMLElement.prototype.insertAdjacentElement;function Y(t,e,i){e.prepend=function(e){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];o=r.filter(function(t){return t instanceof Node&&n(t)}),i.j.apply(this,r);for(var s=0;s<o.length;s++)d(t,o[s]);if(n(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&h(t,s)},e.append=function(e){for(var r=[],o=0;o<arguments.length;++o)r[o-0]=arguments[o];o=r.filter(function(t){return t instanceof Node&&n(t)}),i.append.apply(this,r);for(var s=0;s<o.length;s++)d(t,o[s]);if(n(this))for(o=0;o<r.length;o++)(s=r[o])instanceof Element&&h(t,s)}}var X,$,Q=window.customElements;if(!Q||Q.forcePolyfill||"function"!=typeof Q.define||"function"!=typeof Q.get){var K=new a;$=K,window.HTMLElement=function(){function e(){var e=this.constructor;if(!(n=$.f.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var i=n.constructionStack;if(!i.length)return i=y.call(document,n.localName),Object.setPrototypeOf(i,e.prototype),i.__CE_state=1,i.__CE_definition=n,c($,i),i;var n,r=i[n=i.length-1];if(r===t)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[n]=t,Object.setPrototypeOf(r,e.prototype),c($,r),r}return e.prototype=Z.prototype,e}(),X=K,s(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var e=X.a.get(t);if(e)return new e.constructor}return t=y.call(this,t),c(X,t),t}),s(Document.prototype,"importNode",function(t,e){return t=w.call(this,t,e),this.__CE_hasRegistry?p(X,t):l(X,t),t}),s(Document.prototype,"createElementNS",function(t,e){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var i=X.a.get(e);if(i)return new i.constructor}return t=b.call(this,t,e),c(X,t),t}),Y(X,Document.prototype,{j:k,append:x}),function(){var t=K;function e(e,i){Object.defineProperty(e,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,e);else{var r=void 0;if(this.firstChild){var o=this.childNodes,s=o.length;if(0<s&&n(this)){r=Array(s);for(var a=0;a<s;a++)r[a]=o[a]}}if(i.set.call(this,e),r)for(e=0;e<r.length;e++)d(t,r[e])}}})}s(Node.prototype,"insertBefore",function(e,i){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=L.call(this,e,i),n(this))for(i=0;i<r.length;i++)h(t,r[i]);return e}return r=n(e),i=L.call(this,e,i),r&&d(t,e),n(this)&&h(t,e),i}),s(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=E.call(this,e),n(this))for(var r=0;r<i.length;r++)h(t,i[r]);return e}return i=n(e),r=E.call(this,e),i&&d(t,e),n(this)&&h(t,e),r}),s(Node.prototype,"cloneNode",function(e){return e=C.call(this,e),this.ownerDocument.__CE_hasRegistry?p(t,e):l(t,e),e}),s(Node.prototype,"removeChild",function(e){var i=n(e),r=O.call(this,e);return i&&d(t,e),r}),s(Node.prototype,"replaceChild",function(e,i){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes);if(e=S.call(this,e,i),n(this))for(d(t,i),i=0;i<r.length;i++)h(t,r[i]);return e}r=n(e);var o=S.call(this,e,i),s=n(this);return s&&d(t,i),r&&d(t,e),s&&h(t,e),o}),P&&P.get?e(Node.prototype,P):u(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)O.call(this,this.firstChild);E.call(this,document.createTextNode(t))}})})}(),function(){var t,e,i=K;function r(t,e){Object.defineProperty(t,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(t){var r=this,s=void 0;if(n(this)&&(s=[],o(this,function(t){t!==r&&s.push(t)})),e.set.call(this,t),s)for(var a=0;a<s.length;a++){var u=s[a];1===u.__CE_state&&i.disconnectedCallback(u)}return this.ownerDocument.__CE_hasRegistry?p(i,this):l(i,this),t}})}function a(t,e){s(t,"insertAdjacentElement",function(t,r){var o=n(r);return t=e.call(this,t,r),o&&d(i,r),n(t)&&h(i,r),t})}if(A?s(Element.prototype,"attachShadow",function(t){return this.__CE_shadowRoot=A.call(this,t)}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),M&&M.get)r(Element.prototype,M);else if(W&&W.get)r(HTMLElement.prototype,W);else{var c=y.call(document,"div");u(i,function(t){r(t,{enumerable:!0,configurable:!0,get:function(){return C.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(c.innerHTML=t;0<e.childNodes.length;)O.call(e,e.childNodes[0]);for(;0<c.childNodes.length;)E.call(e,c.childNodes[0])}})})}s(Element.prototype,"setAttribute",function(t,e){if(1!==this.__CE_state)return j.call(this,t,e);var n=T.call(this,t);j.call(this,t,e),e=T.call(this,t),i.attributeChangedCallback(this,t,n,e,null)}),s(Element.prototype,"setAttributeNS",function(t,e,n){if(1!==this.__CE_state)return N.call(this,t,e,n);var r=R.call(this,t,e);N.call(this,t,e,n),n=R.call(this,t,e),i.attributeChangedCallback(this,e,r,n,t)}),s(Element.prototype,"removeAttribute",function(t){if(1!==this.__CE_state)return I.call(this,t);var e=T.call(this,t);I.call(this,t),null!==e&&i.attributeChangedCallback(this,t,e,null,null)}),s(Element.prototype,"removeAttributeNS",function(t,e){if(1!==this.__CE_state)return B.call(this,t,e);var n=R.call(this,t,e);B.call(this,t,e);var r=R.call(this,t,e);n!==r&&i.attributeChangedCallback(this,e,n,r,t)}),G?a(HTMLElement.prototype,G):D?a(Element.prototype,D):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Y(i,Element.prototype,{j:z,append:F}),t=i,(e=Element.prototype).before=function(e){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];r=i.filter(function(t){return t instanceof Node&&n(t)}),V.apply(this,i);for(var o=0;o<r.length;o++)d(t,r[o]);if(n(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&h(t,o)},e.after=function(e){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];r=i.filter(function(t){return t instanceof Node&&n(t)}),q.apply(this,i);for(var o=0;o<r.length;o++)d(t,r[o]);if(n(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&h(t,o)},e.replaceWith=function(e){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];r=i.filter(function(t){return t instanceof Node&&n(t)});var o=n(this);H.apply(this,i);for(var s=0;s<r.length;s++)d(t,r[s]);if(o)for(d(t,this),r=0;r<i.length;r++)(o=i[r])instanceof Element&&h(t,o)},e.remove=function(){var e=n(this);U.call(this),e&&d(t,this)}}(),document.__CE_hasRegistry=!0;var J=new _(K);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:J})}}.call(self);var ge=new(function(){function t(){r(this,t),this._renderPlatform=null}return o(t,[{key:"select",value:function(t){"string"==typeof t&&(this._renderPlatform=t.trim().toLowerCase())}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIOS",value:function(){return this._renderPlatform?"ios"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":n(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isAndroid",value:function(){return this._renderPlatform?"android"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":n(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isWP",value:function(){return this._renderPlatform?"wp"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":n(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isBlackBerry",value:function(){return this._renderPlatform?"blackberry"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":n(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._renderPlatform?"opera"===this._renderPlatform:!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(){return this._renderPlatform?"firefox"===this._renderPlatform:"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._renderPlatform?"safari"===this._renderPlatform:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()}},{key:"isChrome",value:function(){return this._renderPlatform?"chrome"===this._renderPlatform:!(!window.chrome||window.opera||navigator.userAgent.indexOf(" OPR/")>=0||navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(){return this._renderPlatform?"ie"===this._renderPlatform:!!document.documentMode}},{key:"isEdge",value:function(){return this._renderPlatform?"edge"===this._renderPlatform:navigator.userAgent.indexOf(" Edge/")>=0}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":n(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(t.split(".")[0])>=7}return!1}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),t}()),_e={_variables:{},defineVariable:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t)throw new Error("Variable name must be a string.");if("string"!=typeof e&&"function"!=typeof e)throw new Error("Variable value must be a string or a function.");if(this._variables.hasOwnProperty(t)&&!i)throw new Error('"'+t+'" is already defined.');this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,i=!1,n=0,r=[];if(0===t.length)throw new Error("Unable to parse empty string.");for(var o=0;o<t.length;o++)if("$"===(e=t.charAt(o))&&"{"===t.charAt(o+1)){if(i)throw new Error("Nested interpolation not supported.");t.substring(n,o).length>0&&r.push(t.substring(n,o)),n=o,i=!0}else if("}"===e){if(!i)throw new Error("} must be preceeded by ${");t.substring(n,o+1).length>0&&r.push(t.substring(n,o+1)),n=o+1,i=!1}if(i)throw new Error("Unterminated interpolation.");return r.push(t.substring(n,t.length)),r},_replaceToken:function(t){var e=t.match(/^\${(.*?)}$/);if(e){var i=e[1].trim(),n=this.getVariable(i);if(null===n)throw new Error('Variable "'+i+'" does not exist.');if("string"==typeof n)return n;var r=n();if("string"!=typeof r)throw new Error("Must return a string.");return r}return t},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};_e.defineVariable("mobileOS",ge.getMobileOS()),_e.defineVariable("iOSDevice",ge.getIOSDevice()),_e.defineVariable("runtime",function(){return ge.isWebView()?"cordova":"browser"});var ye={config:{autoStatusBarFill:!0,animationsDisabled:!1,warningsDisabled:!1}};ye.nullElement=window.document.createElement("div"),ye.isEnabledAutoStatusBarFill=function(){return!!ye.config.autoStatusBarFill},ye.normalizePageHTML=function(t){return(t=(""+t).trim()).match(/^<ons-page/)||(t="<ons-page _muted>"+t+"</ons-page>"),t},ye.waitDOMContentLoaded=function(t){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",t):setImmediate(t)},ye.autoStatusBarFill=function(t){var e=function e(){ye.shouldFillStatusBar()&&t(),document.removeEventListener("deviceready",e),document.removeEventListener("DOMContentLoaded",e)};"object"===("undefined"==typeof device?"undefined":n(device))?document.addEventListener("deviceready",e):-1===["complete","interactive"].indexOf(document.readyState)?document.addEventListener("DOMContentLoaded",function(){e()}):e()},ye.shouldFillStatusBar=function(){return ye.isEnabledAutoStatusBarFill()&&ge.isWebView()&&ge.isIOS7above()},ye.templateStore={_storage:{},get:function(t){return ye.templateStore._storage[t]||null},set:function(t,e){ye.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&ye.templateStore.set(t.templateId,t.template)},!1),window.document.addEventListener("DOMContentLoaded",function(){function t(t){for(var e=window.document.querySelectorAll(t),i=0;i<e.length;i++)ye.templateStore.set(e[i].getAttribute("id"),e[i].textContent)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]')},!1),ye.getTemplateHTMLAsync=function(t){return new Promise(function(e,i){setImmediate(function(){var n=ye.templateStore.get(t);if(n){var r="string"==typeof n?n:n[1];e(r)}else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(t){var n=o.responseText;o.status>=400&&o.status<600?i(n):e(n)},o.onerror=function(){throw new Error("The page is not found: "+t)},o.send(null)}})})},ye.getPageHTMLAsync=function(t){var e=_e.evaluate(t);return function t(i){return"string"!=typeof i?Promise.reject("Must specify a page."):ye.getTemplateHTMLAsync(i).then(function(t){return ye.normalizePageHTML(t)},function(i){return 0===e.length?Promise.reject(i):t(e.shift())}).then(function(t){return ye.normalizePageHTML(t)})}(e.shift())};var be=function(){function t(e){if(r(this,t),this._animators=e.animators,this._baseClass=e.baseClass,this._baseClassName=e.baseClassName||e.baseClass.name,this._animation=e.defaultAnimation||"default",this._animationOptions=e.defaultAnimationOptions||{},!this._animators[this._animation])throw new Error("No such animation: "+this._animation)}return o(t,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=null;if(t.animation instanceof this._baseClass)return t.animation;var n=null;if("string"==typeof t.animation&&(n=this._animators[t.animation]),!n&&e)i=e;else{n=n||this._animators[this._animation];var r=De.extend({},this._animationOptions,t.animationOptions||{},ye.config.animationsDisabled?{duration:0,delay:0}:{});"function"==typeof(i=new n(r))&&(i=new i(r))}if(!(i instanceof this._baseClass))throw new Error('"animator" is not an instance of '+this._baseClassName+".");return i}}],[{key:"parseAnimationOptionsString",value:function(t){try{if("string"==typeof t){var e=De.animationOptionsParse(t);if("object"===(void 0===e?"undefined":n(e))&&null!==e)return e;console.error('"animation-options" attribute must be a JSON object string: '+t)}return{}}catch(e){return console.error('"animation-options" attribute must be a JSON object string: '+t),{}}}}]),t}(),we=function(){function t(){r(this,t)}return o(t,null,[{key:"diff",value:function(e,i){e=r((""+e).trim()),i=r((""+i).trim());var n=Object.keys(e).reduce(function(t,e){return i[e]||t.push(e),t},[]);return{added:Object.keys(i).reduce(function(t,i){return e[i]||t.push(i),t},[]),removed:n};function r(e){var i={};return t.split(e).forEach(function(t){return i[t]=t}),i}}},{key:"applyDiffToClassList",value:function(t,e,i){t.added.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return e.add(t)}),t.removed.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return e.remove(t)})}},{key:"applyDiffToElement",value:function(e,i,n){for(var r in n)if(n.hasOwnProperty(r))for(var o=!r||De.match(i,r)?[i]:i.querySelectorAll(r),s=0;s<o.length;s++)t.applyDiffToClassList(e,o[s].classList,n[r])}},{key:"onModifierChanged",value:function(e,i,n,r){return t.applyDiffToElement(t.diff(e,i),n,r)}},{key:"initModifier",value:function(e,i){var n=e.getAttribute("modifier");"string"==typeof n&&t.applyDiffToElement({removed:[],added:t.split(n)},e,i)}},{key:"split",value:function(t){return"string"!=typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}},{key:"addModifier",value:function(e,i){if(e.hasAttribute("modifier")){var n=t.split(e.getAttribute("modifier"));-1==n.indexOf(i)&&(n.push(i),e.setAttribute("modifier",n.join(" ")))}else e.setAttribute("modifier",i)}},{key:"removeModifier",value:function(e,i){if(e.hasAttribute("modifier")){var n=t.split(e.getAttribute("modifier")),r=n.indexOf(i);-1!==r&&(n.splice(r,1),e.setAttribute("modifier",n.join(" ")))}}}]),t}(),ke=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r(this,t),"object"!==(void 0===e?"undefined":n(e))||null===e)throw Error('"delegate" parameter must be an object.');if(this._userDelegate=e,!(i instanceof Element)&&null!==i)throw Error('"templateElement" parameter must be an instance of Element or null.');this._templateElement=i}return o(t,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(){this._userDelegate._render.apply(this._userDelegate,arguments)}},{key:"loadItemElement",value:function(t,e){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e);else{var i=this._userDelegate.createItemContent(t,this._templateElement);if(!(i instanceof Element))throw Error("createItemContent() must return an instance of Element.");e({element:i})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();if("number"!=typeof t)throw Error("countItems() must return a number.");return t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);if("number"!=typeof e)throw Error("calculateItemHeight() must return a number.");return e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),t}(),xe=function(){function t(e,i){if(r(this,t),!(i instanceof ke))throw Error('"delegate" parameter must be an instance of LazyRepeatDelegate.');if(this._wrapperElement=e,this._delegate=i,this._insertIndex=this._wrapperElement.children[0]&&"ONS-LAZY-REPEAT"===this._wrapperElement.children[0].tagName?1:0,"ons-list"===e.tagName.toLowerCase()&&e.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(e),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> or an element.");this.lastScrollTop=this._pageContent.scrollTop,this.padding=0,this._topPositions=[0],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return o(t,[{key:"_findPageContentElement",value:function(t){var e=De.findParent(t,".page__content");if(e)return e;var i=De.findParent(t,"ons-page");if(i){var n=De.findChild(i,".content");if(n)return n}return null}},{key:"_checkItemHeight",value:function(t){var e=this;this._delegate.loadItemElement(0,function(i){if(!e._unknownItemHeight)throw Error("Invalid state");e._wrapperElement.appendChild(i.element);var n=function(){e._delegate.destroyItem(0,i),e._wrapperElement.removeChild(i.element),delete e._unknownItemHeight,t()};if(e._itemHeight=i.element.offsetHeight,e._itemHeight>0)n();else{var r=e._wrapperElement.style.visibility;e._wrapperElement.style.visibility="hidden",i.element.style.visibility="hidden",setImmediate(function(){if(e._itemHeight=i.element.offsetHeight,0==e._itemHeight)throw Error("Invalid state: this._itemHeight must be greater than zero.");e._wrapperElement.style.visibility=r,n()})}})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this._renderedItems.hasOwnProperty(t)?(this._renderedItems[t].hasOwnProperty("height")||(this._renderedItems[t].height=this._renderedItems[t].element.offsetHeight),this._renderedItems[t].height):this._topPositions[t+1]&&this._topPositions[t]?this._topPositions[t+1]-this._topPositions[t]:this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_calculateRenderedHeight",value:function(){var t=this;return Object.keys(this._renderedItems).reduce(function(e,i){return e+t._getItemHeight(+i)},0)}},{key:"_onChange",value:function(){this._render()}},{key:"_lastItemRendered",value:function(){return Math.max.apply(Math,h(Object.keys(this._renderedItems)))}},{key:"_firstItemRendered",value:function(){return Math.min.apply(Math,h(Object.keys(this._renderedItems)))}},{key:"refresh",value:function(){var t=Math.min(this._lastItemRendered(),this._countItems()-1),e=this._firstItemRendered();this._wrapperElement.style.height=this._topPositions[e]+this._calculateRenderedHeight()+"px",this.padding=this._topPositions[e],this._removeAllElements(),this._render({forceScrollDown:!0,forceFirstIndex:e,forceLastIndex:t}),this._wrapperElement.style.height="inherit"}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.forceScrollDown,n=void 0!==i&&i,r=e.forceFirstIndex,o=e.forceLastIndex;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this,arguments[0]));var s=!n&&this.lastScrollTop>this._pageContent.scrollTop;this.lastScrollTop=this._pageContent.scrollTop;for(var a={},u=this._wrapperElement.getBoundingClientRect().top,l=4*window.innerHeight-u,c=this._countItems(),d=r||Math.max(0,this._calculateStartIndex(u)-30),p=d,f=this._topPositions[p];p<c&&f<l;p++)p>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[p]=f,f+=this._getItemHeight(p);if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(d,p,function(){t.padding=t._topPositions[d]});if(s)for(var m=p-1;m>=d;m--)a[m]=!0,this._renderElement(m,s);else for(var v=o||Math.max.apply(Math,[p-1].concat(h(Object.keys(this._renderedItems)))),g=d;g<=v;g++)a[g]=!0,this._renderElement(g,s);Object.keys(this._renderedItems).forEach(function(e){return a[e]||t._removeElement(e,s)})}},{key:"_renderElement",value:function(t,e){var i=this,n=this._renderedItems[t];n?this._delegate.updateItem(t,n):this._delegate.loadItemElement(t,function(n){e?(i._wrapperElement.insertBefore(n.element,i._wrapperElement.children[i._insertIndex]),i.padding=i._topPositions[t],n.height=i._topPositions[t+1]-i._topPositions[t]):i._wrapperElement.appendChild(n.element),i._renderedItems[t]=n})}},{key:"_removeElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=+t;var i=this._renderedItems[t];this._delegate.destroyItem(t,i),e?this._topPositions[t+1]=void 0:this.padding=this.padding+this._getItemHeight(t),i.element.parentElement&&i.element.parentElement.removeChild(i.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var t=this;Object.keys(this._renderedItems).forEach(function(e){return t._removeElement(e)})}},{key:"_recalculateTopPositions",value:function(t,e){for(var i=t;i<=e;i++)this._topPositions[i+1]=this._topPositions[i]+this._getItemHeight(i)}},{key:"_calculateStartIndex",value:function(t){var e=this._firstItemRendered(),i=this._lastItemRendered();this._recalculateTopPositions(e,i);for(var n=0,r=this._countItems()-1;;){var o=Math.floor((n+r)/2),s=t+this._topPositions[o];if(r<n)return 0;if(s<=0&&s+this._getItemHeight(o)>0)return o;isNaN(s)||s>=0?r=o-1:n=o+1}}},{key:"_debounce",value:function(t,e,i){var n=void 0;return function(){var r=this,o=arguments,s=i&&!n;clearTimeout(n),s?t.apply(this,arguments):n=setTimeout(function(){n=null,t.apply(r,o)},e)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){De.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),ge.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),ge.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange,!0),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),ge.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange,!0),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"padding",get:function(){return parseInt(this._wrapperElement.style.paddingTop,10)},set:function(t){this._wrapperElement.style.paddingTop=t+"px"}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),t}();ye.AnimatorFactory=be,ye.ModifierUtil=we,ye.LazyRepeatProvider=xe,ye.LazyRepeatDelegate=ke;var Ce=!0,Ee={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",chevron:"",tappable:""},Le={android:function(t){if(!/ons-fab|ons-speed-dial|ons-progress/.test(t.tagName.toLowerCase())&&!/material/.test(t.getAttribute("modifier"))){var e=(t.getAttribute("modifier")||"").trim().split(/\s+/).map(function(t){return Ee.hasOwnProperty(t)?Ee[t]:t});e.unshift("material"),t.setAttribute("modifier",e.join(" ").trim())}!/ons-button|ons-list-item|ons-fab|ons-speed-dial|ons-tab$/.test(t.tagName.toLowerCase())||t.hasAttribute("ripple")||t.querySelector("ons-ripple")||("ons-list-item"===t.tagName.toLowerCase()?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},ios:function(t){/material/.test(t.getAttribute("modifier"))&&(De.removeModifier(t,"material"),De.removeModifier(t,"material--flat")&&De.addModifier(t,De.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))}},Oe={android:!0},Se={isEnabled:function(){return Ce},enable:function(){return Ce=!0},disable:function(){return Ce=!1},prepare:function(t,e){if(Ce&&!t.hasAttribute("disable-auto-styling")){var i=ge.getMobileOS();Le.hasOwnProperty(i)&&(Oe.hasOwnProperty(i)||e)&&Le[i](t)}},mapModifier:function(t,e,i){if(Ce&&!e.hasAttribute("disable-auto-styling")){var n=ge.getMobileOS();if(Le.hasOwnProperty(n)&&(Oe.hasOwnProperty(n)||i))return Ee.hasOwnProperty(t)?Ee[t]:t}return t}},Pe=function(t){return t.slice(1,-1)},Ae=function(t){return t.startsWith("{")&&t.endsWith("}")},Me=function(t){return t.startsWith("[")&&t.endsWith("]")},Te=function(t,e,i){throw new Error("Unexpected token '"+t+"' at position "+(i.length-e.length-1)+" in string: '"+i+"'")},je=function(t,e,i){return"true"===t||"false"===t?"true"===t:(n=t).startsWith("'")&&n.endsWith("'")||n.startsWith('"')&&n.endsWith('"')?Pe(t):isNaN(t)?Ae(t)?Re(Pe(t)):Me(t)?Ne(Pe(t)):void Te(t,e,i):+t;var n},Ie=function(t){var e=(t=t.trimLeft()).length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var i=t.charCodeAt(0),n=1,r=1;r<t.length;r++)if(t.charCodeAt(r)===i)n++;else if(t.charCodeAt(r)===i+2&&0===--n){e=r+1;break}}else if("'"===t[0]||'"'===t[0]){for(var o=1;o<t.length;o++)if(t[o]===t[0]){e=o+1;break}}else for(var s=1;s<t.length;s++)if(-1!==[" ",",",":"].indexOf(t[s])){e=s;break}return t.slice(0,e)},Re=function(t){for(var e=t=t.trim(),i={},n=!0,r=void 0,o=void 0,s=void 0;t.length>0;)if(o=s,s=Ie(t),t=t.slice(s.length,t.length).trimLeft(),":"===s&&(!n||!o||","===o)||","===s&&n||":"!==s&&","!==s&&o&&","!==o&&":"!==o)Te(s,t,e);else if(":"===s&&n&&o){if(!/^[A-Z_\$][A-Z0-9_\$]*$/i.test(o))throw new Error("Invalid key token '"+o+"' at position 0 in string: '"+e+"'");r=o,n=!1}else","===s&&!n&&o&&(i[r]=je(o,t,e),n=!0);return s&&(i[r]=je(s,t,e)),i},Ne=function(t){for(var e=t=t.trim(),i=[],n=void 0,r=void 0;t.length>0;)n=r,r=Ie(t),t=t.slice(r.length,t.length).trimLeft(),","!==r||n&&","!==n?","===r&&i.push(je(n,t,e)):Te(r,t,e);return r&&(","!==r?i.push(je(r,t,e)):Te(r,t,e)),i},Be=function(t){if(t=t.trim(),Ae(t))return Re(Pe(t));if(Me(t))return Ne(Pe(t));throw new Error("Provided string must be object or array like: "+t)},De={prepareQuery:function(t){return t instanceof Function?t:function(e){return De.match(e,t)}},match:function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)},findChild:function(t,e){for(var i=De.prepareQuery(e),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===Node.ELEMENT_NODE&&i(r))return r}return null},findParent:function(t,e){for(var i=De.prepareQuery(e),n=t.parentNode;;){if(!n||n===document)return null;if(i(n))return n;n=n.parentNode}},isAttached:function(t){for(;document.documentElement!==t;){if(!t)return!1;t=t.parentNode}return!0},hasAnyComponentAsParent:function(t){for(;t&&document.documentElement!==t;)if((t=t.parentNode)&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal|ons-sliding-menu|ons-split-view)/))return!0;return!1},propagateAction:function(t,e){for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];n[e]instanceof Function?n[e]():De.propagateAction(n,e)}},camelize:function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.split("."),n=document.createElement(i.shift()||"div");return i.length&&(n.className=i.join(" ")),De.extend(n.style,e),n},createElement:function(t){var e=document.createElement("div");if(e.innerHTML=t,e.children.length>1)throw new Error('"html" must be one wrapper element.');return e.children[0]},createFragment:function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=document.createDocumentFragment();e.firstChild;)i.appendChild(e.firstChild);return i},extend:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0;r<i.length;r++)if(i[r])for(var o=Object.keys(i[r]),s=0;s<o.length;s++){var a=o[s];t[a]=i[r][a]}return t},arrayFrom:function(t){return Array.prototype.slice.apply(t)},parseJSONObjectSafely:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i=JSON.parse(""+t);if("object"===(void 0===i?"undefined":n(i))&&null!==i)return i}catch(t){return e}return e},findFromPath:function(t){t=t.split(".");for(var e,i=window;e=t.shift();)i=i[e];return i},getTopPage:function(t){return t&&("ons-page"===t.tagName.toLowerCase()?t:t.topPage)||null},findToolbarPage:function(t){var e=De.getTopPage(t);if(e){if(e._canAnimateToolbar())return e;for(var i=0;i<e._contentElement.children.length;i++){var n=De.getTopPage(e._contentElement.children[i]);if(n&&!/ons-tabbar/i.test(e._contentElement.children[i].tagName))return De.findToolbarPage(n)}}return null},triggerElementEvent:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});return Object.keys(i).forEach(function(t){n[t]=i[t]}),t.dispatchEvent(n),n},hasModifier:function(t,e){return!!t.hasAttribute("modifier")&&t.getAttribute("modifier").split(/\s+/).some(function(t){return t===e})},addModifier:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.autoStyle&&(e=Se.mapModifier(e,t,i.forceAutoStyle)),De.hasModifier(t,e))return!1;e=e.trim();var n=t.getAttribute("modifier")||"";return t.setAttribute("modifier",(n+" "+e).trim()),!0},removeModifier:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.getAttribute("modifier"))return!1;i.autoStyle&&(e=Se.mapModifier(e,t,i.forceAutoStyle));var n=t.getAttribute("modifier").split(/\s+/),r=n.filter(function(t){return t&&t!==e});return t.setAttribute("modifier",r.join(" ")),n.length!==r.length},updateParentPosition:function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},toggleAttribute:function(t,e,i){i?t.setAttribute(e,i):t.removeAttribute(e)},bindListeners:function(t,e){e.forEach(function(e){var i=e.replace(/^_[a-z]/,"_bound"+e[1].toUpperCase());t[i]=t[i]||t[e].bind(t)})},each:function(t,e){return Object.keys(t).forEach(function(i){return e(i,t[i])})},updateRipple:function(t,e){void 0===e&&(e=t.hasAttribute("ripple"));var i=De.findChild(t,"ons-ripple");e?i||t.insertBefore(document.createElement("ons-ripple"),t.firstChild):i&&i.remove()}};De.animationOptionsParse=Be,De.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},De.defer=function(){var t={};return t.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),t},De.warn=function(){var t;ye.config.warningsDisabled||(t=console).warn.apply(t,arguments)};var ze,Fe,Ve,qe,He={};He.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},He.buildTransitionValue=function(t){return t.property=t.property||"all",t.duration=t.duration||.4,t.timing=t.timing||"linear",t.property.split(/ +/).map(function(e){return e+" "+t.duration+"s "+t.timing}).join(", ")},He.onceOnTransitionEnd=function(t,e){if(!t)return function(){};var i=function(i){t==i.target&&(i.stopPropagation(),n(),e())},n=function(){He._transitionEndEvents.forEach(function(e){t.removeEventListener(e,i,!1)})};return He._transitionEndEvents.forEach(function(e){t.addEventListener(e,i,!1)}),n},He._transitionEndEvents="ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===He.vendorPrefix||"o"===He.vendorPrefix||"moz"===He.vendorPrefix||"ms"===He.vendorPrefix?[He.vendorPrefix+"TransitionEnd","transitionend"]:[],He._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},i="A".charCodeAt(0),n="z".charCodeAt(0),r=function(t){return t.substr(1).toUpperCase()},o=0;o<t.length;o++){var s=t[o].replace(/^[\-]+/,"").replace(/[\-][a-z]/g,r).replace(/^moz/,"Moz");i<=s.charCodeAt(0)&&n>=s.charCodeAt(0)&&"cssText"!==s&&"parentText"!==s&&(e[s]=!0)}return e}(),He.hasCssProperty=function(t){return t in He._cssPropertyDict},He.vendorPrefix=(ze=window.getComputedStyle(document.documentElement,""),(Array.prototype.slice.call(ze).join("").match(/-(moz|webkit|ms)-/)||""===ze.OLink&&["","o"])[1]),He.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},He.batchImmediate=(Fe=[],function(t){0===Fe.length&&setImmediate(function(){var t=Fe.slice(0);Fe=[],t.forEach(function(t){t()})}),Fe.push(t)}),He.batchAnimationFrame=(Ve=[],qe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},function(t){0===Ve.length&&qe(function(){var t=Ve.slice(0);Ve=[],t.forEach(function(t){t()})}),Ve.push(t)}),He.transitionPropertyName=function(){if(He.hasCssProperty("transitionDuration"))return"transition";if(He.hasCssProperty(He.vendorPrefix+"TransitionDuration"))return He.vendorPrefix+"Transition";throw new Error("Invalid state")}();var Ue,Ze,We,Ge,Ye=function t(e){if(!(this instanceof t))return new t(e);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.transitionQueue=[],this.lastStyleAttributeDict=[]};Ye.prototype={transitionQueue:void 0,elements:void 0,play:function(t){return"function"==typeof t&&this.transitionQueue.push(function(e){t(),e()}),this.startAnimation(),this},queue:function(t,e){var i=this.transitionQueue;if(t&&e&&(e.css=t,t=new Ye.Transition(e)),t instanceof Function||t instanceof Ye.Transition||(t=t.css?new Ye.Transition(t):new Ye.Transition({css:t})),t instanceof Function)i.push(t);else{if(!(t instanceof Ye.Transition))throw new Error("Invalid arguments");i.push(t.build())}return this},wait:function(t){return t>0&&this.transitionQueue.push(function(e){setTimeout(e,1e3*t)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var i=this.lastStyleAttributeDict[e]={},n=0;n<t.style.length;n++)i[t.style[n]]=t.style[t.style[n]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(t){var e=this;if((t=t||{}).transition&&!t.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var i=He.transitionPropertyName;if(t.transition||t.duration&&t.duration>0){var n=t.transition||"all "+t.duration+"s "+(t.timing||"linear");this.transitionQueue.push(function(r){var o,s=this.elements,a=function(){s.forEach(function(t){t.style[i]=""})},u=He.onceOnTransitionEnd(s[0],function(){clearTimeout(o),a(),r()});o=setTimeout(function(){u(),a(),r()},1e3*t.duration*1.4),s.forEach(function(t,r){var o,s=e.lastStyleAttributeDict[r];if(!s)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[r]=void 0;for(var a=0,u=t.style.length;a<u;a++)o=t.style[a],void 0===s[o]&&(s[o]="");t.style[i]=n,Object.keys(s).forEach(function(e){e!==i&&(t.style[e]=s[e])}),t.style[i]=n})})}else this.transitionQueue.push(function(t){e.elements.forEach(function(t,n){t.style[i]="none";var r=e.lastStyleAttributeDict[n];if(!r)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[n]=void 0;for(var o=0;o<t.style.length;o++)t.style[o],void 0===r[t.style[o]]&&(r[t.style[o]]="");Object.keys(r).forEach(function(e){t.style[e]=r[e]})}),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,i=!1;t&&t.call(this,function(){if(i)throw new Error("Invalid state: This callback is called twice.");i=!0,e._currentTransition=void 0,e._dequeueTransition()})}},Ye.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},(Ye.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"}).prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var t,e,i=(t=this.options.css,e={},Object.keys(t).forEach(function(i){var n=t[i];if(He.hasCssProperty(i))e[i]=n;else{var r=He.vendorPrefix+He.capitalize(i);He.hasCssProperty(r)?e[r]=n:(e[r]=n,e[i]=n)}}),e);if(this.options.duration>0){var n=He.buildTransitionValue(this.options),r=this;return function(t){var e,o=this.elements,s=1e3*r.options.duration*1.4,a=He.onceOnTransitionEnd(o[0],function(){clearTimeout(e),t()});e=setTimeout(function(){a(),t()},s),o.forEach(function(t){t.style[He.transitionPropertyName]=n,Object.keys(i).forEach(function(e){t.style[e]=i[e]})})}}if(this.options.duration<=0)return function(t){var e=this.elements;e.forEach(function(t){t.style[He.transitionPropertyName]="",Object.keys(i).forEach(function(e){t.style[e]=i[e]})}),e.length>0?He.forceLayoutAtOnce(e,function(){He.batchAnimationFrame(t)}):He.batchAnimationFrame(t)}}};var Xe=function t(e,i){return new t.Instance(e,i||{})};Xe.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xe.DOCUMENT=document,Xe.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,Xe.HAS_TOUCHEVENTS="ontouchstart"in window,Xe.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),Xe.NO_MOUSEEVENTS=Xe.HAS_TOUCHEVENTS&&Xe.IS_MOBILE||Xe.HAS_POINTEREVENTS,Xe.CALCULATE_INTERVAL=25;var $e,Qe,Ke,Je,ti,ei,ii,ni,ri={},oi=Xe.DIRECTION_DOWN="down",si=Xe.DIRECTION_LEFT="left",ai=Xe.DIRECTION_UP="up",ui=Xe.DIRECTION_RIGHT="right",li=Xe.POINTER_MOUSE="mouse",ci=Xe.POINTER_TOUCH="touch",hi=Xe.POINTER_PEN="pen",di=Xe.EVENT_START="start",pi=Xe.EVENT_MOVE="move",fi=Xe.EVENT_END="end",mi=Xe.EVENT_RELEASE="release",vi=Xe.EVENT_TOUCH="touch";Xe.READY=!1,Xe.plugins=Xe.plugins||{},Xe.gestures=Xe.gestures||{},Ze=Xe.utils={extend:function(t,e,i){for(var n in e)!e.hasOwnProperty(n)||void 0!==t[n]&&i||(t[n]=e[n]);return t},on:function(t,e,i){t.addEventListener(e,i,!1)},off:function(t,e,i){t.removeEventListener(e,i,!1)},each:function(t,e,i){var n,r;if("forEach"in t)t.forEach(e,i);else if(void 0!==t.length){for(n=0,r=t.length;n<r;n++)if(!1===e.call(i,t[n],n,t))return}else for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(i,t[n],n,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var i=t.indexOf(e);return-1!==i&&i}for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],r=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(Ze.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),r.push(t.clientY)}),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,i)+s.apply(Math,i))/2,clientX:(o.apply(Math,n)+s.apply(Math,n))/2,clientY:(o.apply(Math,r)+s.apply(Math,r))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?t.clientX-e.clientX>0?si:ui:t.clientY-e.clientY>0?ai:oi},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==ai||t==oi},setPrefixedCss:function(t,e,i,n){var r=["","Webkit","Moz","O","ms"];e=Ze.toCamelCase(e);for(var o=0;o<r.length;o++){var s=e;if(r[o]&&(s=r[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null===n||n)&&i||"";break}}},toggleBehavior:function(t,e,i){if(e&&t&&t.style){Ze.each(e,function(e,n){Ze.setPrefixedCss(t,n,e,i)});var n=i&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=n),"none"==e.userDrag&&(t.ondragstart=n)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},Ue=Xe.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,i,n){var r=e.split(" ");Ze.each(r,function(e){Ze.on(t,e,i),n&&n(e)})},off:function(t,e,i,n){var r=e.split(" ");Ze.each(r,function(e){Ze.off(t,e,i),n&&n(e)})},onTouch:function(t,e,i){var n=this,r=function(r){var o,s=r.type.toLowerCase(),a=Xe.HAS_POINTEREVENTS,u=Ze.inStr(s,"mouse");u&&n.preventMouseEvents||(u&&e==di&&0===r.button?(n.preventMouseEvents=!1,n.shouldDetect=!0):a&&e==di?n.shouldDetect=1===r.buttons||Ge.matchType(ci,r):u||e!=di||(n.preventMouseEvents=!0,n.shouldDetect=!0),a&&e!=fi&&Ge.updatePointer(e,r),n.shouldDetect&&(o=n.doDetect.call(n,r,e,t,i)),o==fi&&(n.preventMouseEvents=!1,n.shouldDetect=!1,Ge.reset()),a&&e==fi&&Ge.updatePointer(e,r))};return this.on(t,ri[e],r),r},doDetect:function(t,e,i,n){var r=this.getTouchList(t,e),o=r.length,s=e,a=r.trigger,u=o;e==di?a=vi:e==fi&&(a=mi,u=r.length-(t.changedTouches?t.changedTouches.length:1)),u>0&&this.started&&(s=pi),this.started=!0;var l=this.collectEventData(i,s,r,t);return e!=fi&&n.call(We,l),a&&(l.changedLength=u,l.eventType=a,n.call(We,l),l.eventType=s,delete l.changedLength),s==fi&&(n.call(We,l),this.started=!1),s},determineEventTypes:function(){var t;return t=Xe.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:Xe.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],ri[di]=t[0],ri[pi]=t[1],ri[fi]=t[2],ri},getTouchList:function(t,e){if(Xe.HAS_POINTEREVENTS)return Ge.getTouchList();if(t.touches){if(e==pi)return t.touches;var i=[],n=[].concat(Ze.toArray(t.touches),Ze.toArray(t.changedTouches)),r=[];return Ze.each(n,function(t){!1===Ze.inArray(i,t.identifier)&&r.push(t),i.push(t.identifier)}),r}return t.identifier=1,[t]},collectEventData:function(t,e,i,n){var r=ci;return Ze.inStr(n.type,"mouse")||Ge.matchType(li,n)?r=li:Ge.matchType(hi,n)&&(r=hi),{center:Ze.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:r,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return We.stopDetect()}}}},Ge=Xe.PointerEvent={pointers:{},getTouchList:function(){var t=[];return Ze.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==fi||t!=fi&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[li]=i===(e.MSPOINTER_TYPE_MOUSE||li),n[ci]=i===(e.MSPOINTER_TYPE_TOUCH||ci),n[hi]=i===(e.MSPOINTER_TYPE_PEN||hi),n[t]},reset:function(){this.pointers={}}},We=Xe.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:Ze.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return Ze.each(this.gestures,function(n){!this.stopped&&e.enabled&&i[n.name]&&n.handler.call(n,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==fi&&this.stopDetect(),t}},stopDetect:function(){this.previous=Ze.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,n,r){var o=this.current,s=!1,a=o.lastCalcEvent,u=o.lastCalcData;a&&t.timeStamp-a.timeStamp>Xe.CALCULATE_INTERVAL&&(e=a.center,i=t.timeStamp-a.timeStamp,n=t.center.clientX-a.center.clientX,r=t.center.clientY-a.center.clientY,s=!0),t.eventType!=vi&&t.eventType!=mi||(o.futureCalcEvent=t),o.lastCalcEvent&&!s||(u.velocity=Ze.getVelocity(i,n,r),u.angle=Ze.getAngle(e,t.center),u.direction=Ze.getDirection(e,t.center),o.lastCalcEvent=o.futureCalcEvent||t,o.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,n=e.lastEvent||i;t.eventType!=vi&&t.eventType!=mi||(i.touches=[],Ze.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var r=t.timeStamp-i.timeStamp,o=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,n.center,r,o,s),Ze.extend(t,{startEvent:i,deltaTime:r,deltaX:o,deltaY:s,distance:Ze.getDistance(i.center,t.center),angle:Ze.getAngle(i.center,t.center),direction:Ze.getDirection(i.center,t.center),scale:Ze.getScale(i.touches,t.touches),rotation:Ze.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),Ze.extend(Xe.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},Xe.Instance=function(t,e){var i=this;Xe.READY||(Ue.determineEventTypes(),Ze.each(Xe.gestures,function(t){We.register(t)}),Ue.onTouch(Xe.DOCUMENT,pi,We.detect),Ue.onTouch(Xe.DOCUMENT,fi,We.detect),Xe.READY=!0),this.element=t,this.enabled=!0,Ze.each(e,function(t,i){delete e[i],e[Ze.toCamelCase(i)]=t}),this.options=Ze.extend(Ze.extend({},Xe.defaults),e||{}),this.options.behavior&&Ze.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=Ue.onTouch(t,di,function(t){i.enabled&&t.eventType==di?We.startDetect(i,t):t.eventType==vi&&We.detect(t)}),this.eventHandlers=[]},Xe.Instance.prototype={on:function(t,e){var i=this;return Ue.on(i.element,t,e,function(t){i.eventHandlers.push({gesture:t,handler:e})}),i},off:function(t,e){var i=this;return Ue.off(i.element,t,e,function(t){var n=Ze.inArray({gesture:t,handler:e});!1!==n&&i.eventHandlers.splice(n,1)}),i},trigger:function(t,e){e||(e={});var i=Xe.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return Ze.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(Ze.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)Ze.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],Ue.off(this.element,ri[di],this.eventStartHandler),null}},$e="drag",Qe=!1,Xe.gestures.Drag={name:$e,index:50,handler:function(t,e){var i=We.current;if(!(e.options.dragMaxTouches>0&&t.touches.length>e.options.dragMaxTouches))switch(t.eventType){case di:Qe=!1;break;case pi:if(t.distance<e.options.dragMinDistance&&i.name!=$e)return;var n=i.startEvent.center;if(i.name!=$e&&(i.name=$e,e.options.dragDistanceCorrection&&t.distance>0)){var r=Math.abs(e.options.dragMinDistance/t.distance);n.pageX+=t.deltaX*r,n.pageY+=t.deltaY*r,n.clientX+=t.deltaX*r,n.clientY+=t.deltaY*r,t=We.extendEventData(t)}(i.lastEvent.dragLockToAxis||e.options.dragLockToAxis&&e.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var o=i.lastEvent.direction;t.dragLockToAxis&&o!==t.direction&&(Ze.isVertical(o)?t.direction=t.deltaY<0?ai:oi:t.direction=t.deltaX<0?si:ui),Qe||(e.trigger($e+"start",t),Qe=!0),e.trigger($e,t),e.trigger($e+t.direction,t);var s=Ze.isVertical(t.direction);(e.options.dragBlockVertical&&s||e.options.dragBlockHorizontal&&!s)&&t.preventDefault();break;case mi:Qe&&t.changedLength<=e.options.dragMaxTouches&&(e.trigger($e+"end",t),Qe=!1);break;case fi:Qe=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},Xe.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},Ke="hold",Xe.gestures.Hold={name:Ke,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(t,e){var i=e.options,n=We.current;switch(t.eventType){case di:clearTimeout(Je),n.name=Ke,Je=setTimeout(function(){n&&n.name==Ke&&e.trigger(Ke,t)},i.holdTimeout);break;case pi:t.distance>i.holdThreshold&&clearTimeout(Je);break;case mi:clearTimeout(Je)}}},Xe.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==mi&&e.trigger(this.name,t)}},Xe.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==mi){var i=t.touches.length,n=e.options;if(i<n.swipeMinTouches||i>n.swipeMaxTouches)return;(t.velocityX>n.swipeVelocityX||t.velocityY>n.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},ti="tap",ei=!1,Xe.gestures.Tap={name:ti,index:100,handler:function(t,e){var i,n,r=e.options,o=We.current,s=We.previous;switch(t.eventType){case di:ei=!1;break;case pi:ei=ei||t.distance>r.tapMaxDistance;break;case fi:!Ze.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<r.tapMaxTime&&!ei&&(i=s&&s.lastEvent&&t.timeStamp-s.lastEvent.timeStamp,n=!1,s&&s.name==ti&&i&&i<r.doubleTapInterval&&t.distance<r.doubleTapDistance&&(e.trigger("doubletap",t),n=!0),n&&!r.tapAlways||(o.name=ti,e.trigger(o.name,t)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},Xe.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==li?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==vi&&e.trigger("touch",t))}},ii="transform",ni=!1,Xe.gestures.Transform={name:ii,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(t,e){switch(t.eventType){case di:ni=!1;break;case pi:if(t.touches.length<2)return;var i=Math.abs(1-t.scale),n=Math.abs(t.rotation);if(i<e.options.transformMinScale&&n<e.options.transformMinRotation)return;We.current.name=ii,ni||(e.trigger(ii+"start",t),ni=!0),e.trigger(ii,t),n>e.options.transformMinRotation&&e.trigger("rotate",t),i>e.options.transformMinScale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case mi:ni&&t.changedLength<2&&(e.trigger(ii+"end",t),ni=!1)}}};var gi=new WeakMap,_i=new WeakMap;function yi(t){gi.set(t,!0)}function bi(t){var e=_i.get(t,[])||[];_i.delete(t),e.forEach(function(t){return t()})}function wi(t){var e,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(e=t,i=r,_i.has(e)||_i.set(e,[]),_i.get(e).push(i),(n=t).childNodes.length>0&&yi(n),gi.has(n))?bi(t):(new MutationObserver(function(e){yi(t),bi(t)}).observe(t,{childList:!0,characterData:!0}),setImmediate(function(){yi(t),bi(t)}))}var ki={_createAlertDialog:function(t){var e="";t.isPrompt&&(e='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(t.inputType||"text")+'"\n        placeholder="'+(t.placeholder||"")+'"\n        value="'+(t.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var i="";t.buttonLabels.forEach(function(e,n){i+='\n      <button class="\n        alert-dialog-button\n        '+(n===t.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n        "+(t.buttonLabels.length<=2?" alert-dialog-button--rowfooter":"")+'\n      ">\n        '+e+"\n      </button>\n    "});var n={},r=function(){n.dialog.onDialogCancel&&n.dialog.removeEventListener("dialog-cancel",n.dialog.onDialogCancel),Object.keys(n).forEach(function(t){return delete n[t]}),n=null,t.destroy instanceof Function&&t.destroy()};n.dialog=document.createElement("ons-alert-dialog"),n.dialog.innerHTML='\n    <div class="alert-dialog-mask"></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(t.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(t.message||t.messageHTML)+"\n          "+e+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(t.buttonLabels.length<=2?" alert-dialog-footer--rowfooter":"")+'\n        ">\n          '+i+"\n        </div>\n      </div>\n    </div>\n  ",wi(n.dialog),["id","class","animation"].forEach(function(e){return t.hasOwnProperty(e)&&n.dialog.setAttribute(e,t[e])}),t.modifier&&De.addModifier(n.dialog,t.modifier);var o=De.defer();return t.isPrompt&&t.submitOnEnter&&(n.input=n.dialog.querySelector(".text-input"),n.input.onkeypress=function(e){13===e.keyCode&&n.dialog.hide().then(function(){if(n){var e=n.input.value;r(),t.callback(e),o.resolve(e)}})}),n.footer=n.dialog.querySelector(".alert-dialog-footer"),De.arrayFrom(n.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(e,i){e.onclick=function(){n.dialog.hide().then(function(){if(n){var e=t.isPrompt?n.input.value:i;n.dialog.remove(),r(),t.callback(e),o.resolve(e)}})},n.footer.appendChild(e)}),t.cancelable&&(n.dialog.cancelable=!0,n.dialog.onDialogCancel=function(){setImmediate(function(){n.dialog.remove(),r()});var e=t.isPrompt?null:-1;t.callback(e),o.reject(e)},n.dialog.addEventListener("dialog-cancel",n.dialog.onDialogCancel,!1)),document.body.appendChild(n.dialog),t.compile(n.dialog),setImmediate(function(){n.dialog.show().then(function(){n.input&&t.isPrompt&&t.autofocus&&n.input.focus()})}),o.promise}},xi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t?e.message=t:e=t,!e.message&&!e.messageHTML)throw new Error("Alert dialog must contain a message.");return(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),De.extend({compile:function(t){return t},callback:function(t){return t},buttonLabels:["OK"],primaryButtonIndex:0,animation:"default",cancelable:!1},i,e)};ki.alert=function(t,e){return e=xi(t,e,{title:"Alert"}),ki._createAlertDialog(e)},ki.confirm=function(t,e){return e=xi(t,e,{buttonLabels:["Cancel","OK"],primaryButtonIndex:1,title:"Confirm"}),ki._createAlertDialog(e)},ki.prompt=function(t,e){return e=xi(t,e,{title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0}),ki._createAlertDialog(e)};var Ci,Ei=(Ci={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var t=this,e=this._isPortrait(),i=0,n=setInterval(function(){i++;var r=window.innerWidth,o=window.innerHeight;e&&r<=o||!e&&r>=o?(t.emit("change",{isPortrait:e}),clearInterval(n)):50===i&&(t.emit("change",{isPortrait:e}),clearInterval(n))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}},d.mixin(Ci),Ci)._init(),Li=new d;Li._visible=!1;var Oi=function(){Li._visible=!0,Li.emit("show")},Si=function(){Li._visible=!1,Li.emit("hide")},Pi=function(){De.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){("undefined"!=typeof Keyboard?(Keyboard.onshow=Oi,Keyboard.onhide=Si,Li.emit("init",{visible:Keyboard.isVisible}),1):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Oi),window.addEventListener("native.keyboardhide",Si),Li.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),1))||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&Pi(),Li.on=Pi)});var Ai={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){Ai._domContentLoaded=!0,ge.isWebView()?window.document.addEventListener("deviceready",function(){Ai._ready=!0},!1):Ai._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return Ai._onDOMContentLoaded()},!1);var Mi,Ti,ji={_store:{},_genId:(Mi=0,function(){return Mi++}),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var i=t.dataset.deviceBackButtonHandlerId=ji._genId();this._store[i]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},Ii=new(function(){function t(){r(this,t),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return o(t,[{key:"enable",value:function(){this._isEnabled||(Ai.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(Ai.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var i={_callback:e,_element:t,disable:function(){ji.remove(t)},setListener:function(t){this._callback=t},enable:function(){ji.set(t,this)},isEnabled:function(){return ji.get(t)===this},destroy:function(){ji.remove(t),this._callback=this._element=null}};return i.enable(),i}},{key:"_dispatchDeviceBackButtonEvent",value:function(){var t=this._captureTree(),e=this._findHandlerLeafElement(t),i=ji.get(e);i._callback(function t(e){return{_element:e,callParentHandler:function(){for(var e=this._element.parentNode;e;){if(i=ji.get(e))return i._callback(t(e));e=e.parentNode}}}}(e))}},{key:"_captureTree",value:function(){return function t(e){var i={element:e,children:Array.prototype.concat.apply([],function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}(e.children).map(function(e){if("none"===e.style.display)return[];if(0===e.children.length&&!ji.has(e))return[];var i=t(e);return 0!==i.children.length||ji.has(i.element)?[i]:[]}))};if(!ji.has(i.element))for(var n=0;n<i.children.length;n++){var r=i.children[n];if(ji.has(r.element))return r}return i}(document.body)}},{key:"_findHandlerLeafElement",value:function(t){return function t(e){if(0===e.children.length)return e.element;if(1===e.children.length)return t(e.children[0]);return e.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var i=parseInt(window.getComputedStyle(t,"").zIndex,10),n=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(i)&&!isNaN(n))return i>n?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}(t)}}]),t}()),Ri=(Ti=0,function(){return Ti++}),Ni=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._lockList=[],this._waitList=[],this._log=e.log||function(){}}return o(t,[{key:"lock",value:function(){var t=this,e=function e(){t._unlock(e)};return e.id=Ri(),this._lockList.push(e),this._log("lock: "+e.id),e}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),t}();function Bi(t,e){var i=t.page,n=t.parent;t.params;ye.getPageHTMLAsync(i).then(function(t){var i=De.createElement(t.trim());n.appendChild(i),e(i)})}function Di(t){t._destroy instanceof Function?t._destroy():t.remove()}var zi,Fi=function(){function t(e,i){r(this,t),this._loader=e instanceof Function?e:Bi,this._unloader=i instanceof Function?i:Di}return o(t,[{key:"load",value:function(t,e){var i=t.page,n=t.parent,r=t.params,o=void 0===r?{}:r;this._loader({page:i,parent:n,params:o},function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");e(t)})}},{key:"unload",value:function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(t)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),t}(),Vi=new Fi,qi=new Fi(function(t,e){var i=t.page,n=t.parent,r=(t.params,De.createElement(i.trim()));n.appendChild(r),e(r)},Di),Hi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.timing=e.timing||"linear",this.duration=e.duration||0,this.delay=e.delay||0}return o(t,null,[{key:"extend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,i=function(){e.apply(this,arguments),De.extend(this,t)};return i.prototype=this.prototype,i}}]),t}(),Ui={};Ui._util=De,Ui.animit=Ye,Ui._deviceBackButtonDispatcher=Ii,Ui._internal=ye,Ui.GestureDetector=Xe,Ui.platform=ge,Ui.softwareKeyboard=Li,Ui.pageAttributeExpression=_e,Ui.orientation=Ei,Ui.notification=ki,Ui._animationOptionsParser=Be,Ui._autoStyle=Se,Ui._DoorLock=Ni,Ui._contentReady=wi,Ui.defaultPageLoader=Vi,Ui.PageLoader=Fi,Ui._BaseAnimator=Hi,Ui._readyLock=new Ni,Ui.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),zi=Ui._readyLock.lock(),window.addEventListener("DOMContentLoaded",function(){Ui.isWebView()?window.document.addEventListener("deviceready",zi,!1):zi()},!1),Ui.isReady=function(){return!Ui._readyLock.isLocked()},Ui.isWebView=Ui.platform.isWebView,Ui.ready=function(t){Ui.isReady()?t():Ui._readyLock.waitUnlock(t)},Ui.setDefaultDeviceBackButtonListener=function(t){Ui._defaultDeviceBackButtonHandler.setListener(t)},Ui.disableDeviceBackButtonHandler=function(){Ui._deviceBackButtonDispatcher.disable()},Ui.enableDeviceBackButtonHandler=function(){Ui._deviceBackButtonDispatcher.enable()},Ui.enableAutoStatusBarFill=function(){if(Ui.isReady())throw new Error("This method must be called before ons.isReady() is true.");Ui._internal.config.autoStatusBarFill=!0},Ui.disableAutoStatusBarFill=function(){if(Ui.isReady())throw new Error("This method must be called before ons.isReady() is true.");Ui._internal.config.autoStatusBarFill=!1},Ui.disableAnimations=function(){Ui._internal.config.animationsDisabled=!0},Ui.enableAnimations=function(){Ui._internal.config.animationsDisabled=!1},Ui._disableWarnings=function(){Ui._internal.config.warningsDisabled=!0},Ui._enableWarnings=function(){Ui._internal.config.warningsDisabled=!1},Ui.disableAutoStyling=Ui._autoStyle.disable,Ui.enableAutoStyling=Ui._autoStyle.enable,Ui.forcePlatformStyling=function(t){Ui.enableAutoStyling(),Ui.platform.select(t||"ios"),Ui._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(Ui._autoStyle.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},Ui._createPopoverOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Ui._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-popover/gi)?"<div>"+t+"</div>":"<ons-popover>"+t+"</ons-popover>";var i=Ui._util.createElement("<div>"+t+"</div>").querySelector("ons-popover");return document.body.appendChild(i),e.link instanceof Function&&e.link(i),i})},Ui.createPopover=Ui._createPopoverOriginal,Ui._createDialogOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Ui._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-dialog/gi)?"<div>"+t+"</div>":"<ons-dialog>"+t+"</ons-dialog>";var i=Ui._util.createElement("<div>"+t+"</div>").querySelector("ons-dialog");return document.body.appendChild(i),e.link instanceof Function&&e.link(i),i})},Ui.createDialog=Ui._createDialogOriginal,Ui._createAlertDialogOriginal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Page url must be defined.");return Ui._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-alert-dialog/gi)?"<div>"+t+"</div>":"<ons-alert-dialog>"+t+"</ons-alert-dialog>";var i=Ui._util.createElement("<div>"+t+"</div>").querySelector("ons-alert-dialog");return document.body.appendChild(i),e.link instanceof Function&&e.link(i),i})},Ui.createAlertDialog=Ui._createAlertDialogOriginal,Ui._resolveLoadingPlaceholderOriginal=function(t,e){var i=Ui._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));if(!(i.length>0))throw new Error("No ons-loading-placeholder exists.");i.filter(function(t){return!t.getAttribute("page")}).forEach(function(i){i.setAttribute("ons-loading-placeholder",t),Ui._resolveLoadingPlaceholder(i,t,e)})},Ui.resolveLoadingPlaceholder=Ui._resolveLoadingPlaceholderOriginal,Ui._setupLoadingPlaceHolders=function(){Ui.ready(function(){Ui._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"==typeof e&&Ui._resolveLoadingPlaceholder(t,e)})})},Ui._resolveLoadingPlaceholder=function(t,e,i){i=i||function(t,e){e()},Ui._internal.getPageHTMLAsync(e).then(function(e){for(;t.firstChild;)t.removeChild(t.firstChild);var n=Ui._util.createElement("<div>"+e+"</div>");n.style.display="none",t.appendChild(n),i(n,function(){n.style.display=""})}).catch(function(t){throw new Error("Unabled to resolve placeholder: "+t)})},window._superSecretOns=Ui;var Zi=function(t){function e(){r(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.init(),t}return l(e,t),o(e,[{key:"init",value:function(){}}]),e}(function(){if("function"!=typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}()),Wi=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){for(this.template=this.innerHTML;this.firstChild;)this.removeChild(this.firstChild)}},{key:"connectedCallback",value:function(){this.parentNode&&this.parentNode!==document.body&&De.warn("ons-template (id = "+this.getAttribute("id")+") must be located just under document.body"+(this.parentNode.outerHTML?":\n\n"+this.parentNode.outerHTML:"."));var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),e}();customElements.define("ons-template",Wi);var Gi=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){if(null!==ge._renderPlatform)t._platformUpdate();else if(!t._isAllowedPlatform()){for(;t.childNodes[0];)t.childNodes[0].remove();t._platformUpdate()}}),this._onOrientationChange()}},{key:"connectedCallback",value:function(){Ei.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){Ei.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(ge.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=Ei.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),e}();customElements.define("ons-if",Gi);var Yi=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,Hi),o(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),Xi=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,o=t.duration,s=void 0===o?.2:o,a=t.delay,u=void 0===a?0:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:s,timing:n,delay:u}))}return l(e,Yi),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(),$i=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,o=t.duration,s=void 0===o?.2:o,a=t.delay,u=void 0===a?0:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:s,timing:n,delay:u}))}return l(e,Yi),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(),Qi=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"_updateAnimatorFactory",value:function(){throw new Error("_updateAnimatorFactory method must be implemented.")}},{key:"_toggleStyle",value:function(t){this.style.display=t?"block":"none"}},{key:"init",value:function(){var t=this;this._visible=!1,this._doorLock=new Ni,this._boundCancel=function(){return t._cancel()},this._selfCamelName=De.camelize(this.tagName.slice(4)),this._defaultDBB=function(e){return t.cancelable?t._cancel():e.callParentHandler()},this._animatorFactory=this._updateAnimatorFactory()}},{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){t._running=!1,De.triggerElementEvent(t,"dialog-cancel")},function(){return t._running=!1}))}},{key:"show",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!0].concat(e))}},{key:"hide",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!1].concat(e))}},{key:"toggle",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!this.visible].concat(e))}},{key:"_setVisible",value:function(t){var e,i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?"show":"hide";(n=a({},n)).animationOptions=De.extend(n.animationOptions||{},be.parseAnimationOptionsString(this.getAttribute("animation-options")));var o=!1;return De.triggerElementEvent(this,"pre"+r,(s(e={},this._selfCamelName,this),s(e,"cancel",function(){return o=!0}),e)),o?Promise.reject("Canceled in pre"+r+" event."):new Promise(function(e){i._doorLock.waitUnlock(function(){var o=i._doorLock.lock(),a=i._animatorFactory.newAnimator(n);t&&i._toggleStyle(!0,n),wi(i,function(){a[r](i,function(){!t&&i._toggleStyle(!1,n),i._visible=t,o(),De.propagateAction(i,"_"+r),De.triggerElementEvent(i,"post"+r,s({},i._selfCamelName,i)),n.callback instanceof Function&&n.callback(i),e(i)})})})})}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._defaultDBB.bind(this),wi(this,function(){t._mask&&t._mask.addEventListener("click",t._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask&&this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?we.onModifierChanged(e,i,this,this._scheme):"animation"===t&&(this._animatorFactory=this._updateAnimatorFactory())}},{key:"_scheme",get:function(){throw new Error("_scheme getter must be implemented.")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Ii.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return De.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"events",get:function(){return["preshow","postshow","prehide","posthide","dialog-cancel"]}}]),e}(),Ki={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-button":"alert-dialog-button--*",".alert-dialog-footer--rowfooter":"alert-dialog-footer--rowfooter--*",".alert-dialog-button--rowfooter":"alert-dialog-button--rowfooter--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},Ji={none:Yi,default:function(){return ge.isAndroid()?Xi:$i},fade:function(){return ge.isAndroid()?Xi:$i}},tn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Qi),o(e,[{key:"init",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),wi(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new be({animators:Ji,baseClass:Yi,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){Se.prepare(this),this.style.display="none",this.style.zIndex=10001;var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var i=document.createElement("div");i.classList.add("alert-dialog"),this.insertBefore(i,null)}if(!De.findChild(this._dialog,".alert-dialog-container")){var n=document.createElement("div");n.classList.add("alert-dialog-container"),this._dialog.appendChild(n)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.getAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),we.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Ki}},{key:"_mask",get:function(){return De.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return De.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return De.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return De.findChild(this._dialog.children[0],".alert-dialog-content")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Yi))throw new Error('"Animator" param must inherit OnsAlertDialogElement.AlertDialogAnimator');Ji[t]=e}},{key:"animators",get:function(){return Ji}},{key:"AlertDialogAnimator",get:function(){return Yi}}]),e}();customElements.define("ons-alert-dialog",tn);var en="back-button",nn={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},rn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile()}),this._options={},this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){if(Se.prepare(this),this.classList.add(en),!De.findChild(this,".back-button__label")){for(var t=De.create("span.back-button__label");this.childNodes[0];)t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!De.findChild(this,".back-button__icon")){var e=De.create("span.back-button__icon");this.insertBefore(e,this.children[0])}we.initModifier(this,nn)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=De.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(en)||(this.className=en+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,nn)}}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-back-button",rn);var on="bottom-bar",sn={"":"bottom-bar--*"},an=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this.classList.add(on),we.initModifier(this,sn)}},{key:"connectedCallback",value:function(){De.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(on)||(this.className=on+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,sn)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-bottom-toolbar",an);var un={"":"button--*"},ln="button",cn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(ln)||(this.className=ln+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,un);break;case"ripple":this._updateRipple()}}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(ln),this._updateRipple(),we.initModifier(this,un)}},{key:"_updateRipple",value:function(){De.updateRipple(this)}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}();customElements.define("ons-button",cn);var hn={"":"carousel-item--*"},dn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this.style.width="100%",we.initModifier(this,hn)}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return we.onModifierChanged(e,i,this,hn)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),e}();customElements.define("ons-carousel-item",dn);var pn={_getScrollDelta:function(t){return t.gesture.deltaY},_getScrollVelocity:function(t){return t.gesture.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d(0px, "+-t+"px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.height||0)-parseInt(this._style.paddingTop,10)-parseInt(this._style.paddingBottom,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),i=this._decomposeSizeString(e),n=0;n<t.length;n++)t[n].style.position="absolute",t[n].style.height=e,t[n].style.visibility="visible",t[n].style.top=n*i.number+i.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},fn={_getScrollDelta:function(t){return t.gesture.deltaX},_getScrollVelocity:function(t){return t.gesture.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d("+-t+"px, 0px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.width||0)-parseInt(this._style.paddingLeft,10)-parseInt(this._style.paddingRight,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),i=this._decomposeSizeString(e),n=0;n<t.length;n++)t[n].style.position="absolute",t[n].style.width=e,t[n].style.visibility="visible",t[n].style.left=n*i.number+i.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},mn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._doorLock=new Ni,this._scroll=0,this._offset=0,this._lastActiveIndex=0,this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?pn:fn)}},{key:"_onResize",value:function(){var t=this._scroll/this._currentElementSize;delete this._currentElementSize,this.setActiveIndex(t)}},{key:"_onDirectionChange",value:function(){this._isVertical()?(this.style.overflowX="auto",this.style.overflowY=""):(this.style.overflowX="",this.style.overflowY="auto"),this.refresh()}},{key:"_saveLastState",value:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this.itemCount,width:this._getCarouselItemSize()*this.itemCount}}},{key:"_getCarouselItemSize",value:function(){var t=this._getCarouselItemSizeAttr(),e=this._decomposeSizeString(t),i=this._getElementSize();if("%"===e.unit)return Math.round(e.number/100*i);if("px"===e.unit)return e.number;throw new Error("Invalid state")}},{key:"_getInitialIndex",value:function(){var t=parseInt(this.getAttribute("initial-index"),10);return"number"!=typeof t||isNaN(t)?0:Math.max(Math.min(t,this.itemCount-1),0)}},{key:"_getCarouselItemSizeAttr",value:function(){var t="item-"+(this._isVertical()?"height":"width"),e=(""+this.getAttribute(t)).trim();return e.match(/^\d+(px|%)$/)?e:"100%"}},{key:"_decomposeSizeString",value:function(t){var e=t.match(/^(\d+)(px|%)/);return{number:parseInt(e[1],10),unit:e[2]}}},{key:"_setupInitialIndex",value:function(){this._scroll=(this._offset||0)+this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)}},{key:"setActiveIndex",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&"object"!=(void 0===i?"undefined":n(i)))throw new Error("options must be an object. You supplied "+i);i.animation=i.animation||this.getAttribute("animation"),i.animationOptions=De.extend({duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"},i.animationOptions||{},this.hasAttribute("animation-options")?De.animationOptionsParse(this.getAttribute("animation-options")):{}),t=Math.max(0,Math.min(t,this.itemCount-1));var r=(this._offset||0)+this._getCarouselItemSize()*t,o=this._calculateMaxScroll();return this._scroll=Math.max(0,Math.min(o,r)),this._scrollTo(this._scroll,i).then(function(){return e._tryFirePostChangeEvent(),e})}},{key:"getActiveIndex",value:function(){var t=this._scroll-(this._offset||0),e=this.itemCount,i=this._getCarouselItemSize();if(t<0)return 0;var n=void 0;for(n=0;n<e;n++)if(i*n<=t&&i*(n+1)>t)return n;return n}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"_isEnabledChangeEvent",value:function(){var t=this._getElementSize(),e=this._getCarouselItemSize();return this.autoScroll&&Math.abs(t-e)<.5}},{key:"_isVertical",value:function(){return"vertical"===this.getAttribute("direction")}},{key:"_show",value:function(){window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_prepareEventListeners",value:function(){var t=this;this._gestureDetector=new Xe(this,{dragMinDistance:1,dragLockToAxis:!0}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this._updateSwipeable(),this._updateAutoRefresh(),window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_hide",value:function(){window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_removeEventListeners",value:function(){this._gestureDetector.dispose(),this._gestureDetector=null,this._mutationObserver.disconnect(),this._mutationObserver=null,window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_updateSwipeable",value:function(){this._gestureDetector&&(this.swipeable?(this._gestureDetector.on("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.on("dragend",this._boundOnDragEnd)):(this._gestureDetector.off("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.off("dragend",this._boundOnDragEnd)))}},{key:"_updateAutoRefresh",value:function(){this._mutationObserver&&(this.hasAttribute("auto-refresh")?this._mutationObserver.observe(this,{childList:!0}):this._mutationObserver.disconnect())}},{key:"_tryFirePostChangeEvent",value:function(){var t=this.getActiveIndex();if(this._lastActiveIndex!==t){var e=this._lastActiveIndex;this._lastActiveIndex=t,De.triggerElementEvent(this,"postchange",{carousel:this,activeIndex:t,lastActiveIndex:e})}}},{key:"_isWrongDirection",value:function(t){return this._isVertical()?"left"===t||"right"===t:"up"===t||"down"===t}},{key:"_onDrag",value:function(t){if(!(this._isWrongDirection(t.gesture.direction)||t.target&&"input"===t.target.tagName.toLowerCase()&&"range"===t.target.type)){t.stopPropagation(),this._lastDragEvent=t;var e=this._scroll-this._getScrollDelta(t);this._scrollTo(e),t.gesture.preventDefault(),this._tryFirePostChangeEvent()}}},{key:"_onDragEnd",value:function(t){var e=this;if(this._lastDragEvent){if(this._currentElementSize=void 0,this._scroll=this._scroll-this._getScrollDelta(t),this._isOverScroll(this._scroll)){var i=!1;De.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(t){i=!0,t.then(function(){return e._scrollToKillOverScroll()})}}),i||this._scrollToKillOverScroll()}else this._startMomentumScroll();this._lastDragEvent=null,t.gesture.preventDefault()}}},{key:"_mixin",value:function(t){Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}},{key:"_startMomentumScroll",value:function(){if(this._lastDragEvent){var t=30*this._getScrollVelocity(this._lastDragEvent),e=this._normalizeScrollPosition(this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-t:t));this._scroll=e,Ye(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play()}}},{key:"_normalizeScrollPosition",value:function(t){var e=this._calculateMaxScroll();if(!this.autoScroll)return Math.max(0,Math.min(e,t));for(var i=[],n=this._getCarouselItemSize(),r=this.itemCount,o=0;o<r;o++)o*n+this._offset<e&&i.push(o*n+this._offset);i.push(e),i.sort(function(e,i){return(e=Math.abs(e-t))-(i=Math.abs(i-t))}),i=i.filter(function(t,e){return!e||t!=i[e-1]});var s=this._lastActiveIndex*n+this._offset,a=Math.abs(t-s)/n,u=i[0];return a<=this.autoScrollRatio?u=s:a<1&&i[0]===s&&i.length>1&&(u=i[1]),Math.max(0,Math.min(e,u))}},{key:"_getCarouselItemElements",value:function(){return De.arrayFrom(this.children).filter(function(t){return"ons-carousel-item"===t.nodeName.toLowerCase()})}},{key:"_scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.overscrollable;return new Promise(function(r){Ye(e._getCarouselItemElements()).queue({transform:e._generateScrollTransform(function(t){if(t<0)return n?Math.round(.35*t):0;var i=e._calculateMaxScroll();return i<t?n?i+Math.round(.35*(t-i)):i:t}(t))},"none"!==i.animation?i.animationOptions:{}).play(function(){i.callback instanceof Function&&i.callback(),r()})})}},{key:"_calculateMaxScroll",value:function(){var t=this.itemCount*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(t<0?0:t)}},{key:"_isOverScroll",value:function(t){return t<0||t>this._calculateMaxScroll()}},{key:"_getOverScrollDirection",value:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"}},{key:"_scrollToKillOverScroll",value:function(){if(this._scroll<0)return Ye(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=0);var t=this._calculateMaxScroll();return t<this._scroll?(Ye(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(t)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=t)):void 0}},{key:"refresh",value:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?pn:fn),this._setup(),this._lastState&&this._lastState.width>0){var t=this._scroll;this._isOverScroll(t)?this._scrollToKillOverScroll():(this.autoScroll&&(t=this._normalizeScrollPosition(t)),this._scrollTo(t))}this._saveLastState(),De.triggerElementEvent(this,"refresh",{carousel:this})}}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"connectedCallback",value:function(){var t=this;this._prepareEventListeners(),this._setup(),this._setupInitialIndex(),this._saveLastState(),0===this.offsetHeight&&setImmediate(function(){return t.refresh()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"swipeable":this._updateSwipeable();break;case"auto-refresh":this._updateAutoRefresh();break;case"direction":this._onDirectionChange()}}},{key:"disconnectedCallback",value:function(){this._removeEventListeners()}},{key:"itemCount",get:function(){return this._getCarouselItemElements().length}},{key:"autoScrollRatio",get:function(){var t=this.getAttribute("auto-scroll-ratio");if(!t)return.5;var e=parseFloat(t);if(e<0||e>1)throw new Error("Invalid ratio.");return isNaN(e)?.5:e},set:function(t){if(t<0||t>1)throw new Error("Invalid ratio.");this.setAttribute("auto-scroll-ratio",t)}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return De.toggleAttribute(this,"swipeable",t)}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return De.toggleAttribute(this,"auto-scroll",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return De.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return De.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return De.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction"]}},{key:"events",get:function(){return["postchange","refresh","overscroll"]}}]),e}();customElements.define("ons-carousel",mn);var vn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this.getAttribute("width")&&this._updateWidth()}},{key:"attributeChangedCallback",value:function(t,e,i){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");"string"==typeof t&&(t=(t=(""+t).trim()).match(/^\d+$/)?t+"%":t,this.style.webkitBoxFlex="0",this.style.webkitFlex="0 0 "+t,this.style.mozBoxFlex="0",this.style.mozFlex="0 0 "+t,this.style.msFlex="0 0 "+t,this.style.flex="0 0 "+t,this.style.maxWidth=t)}}],[{key:"observedAttributes",get:function(){return["width"]}}]),e}();customElements.define("ons-col",vn);var gn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,Hi),o(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),_n=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in-out":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.3:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,gn),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(),yn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in-out":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.bodyHeight=document.body.clientHeight,l}return l(e,gn),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(),bn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.bodyHeight=document.body.clientHeight,l}return l(e,gn),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},Ye.runAll(Ye(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),Ye(t._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),e}(),wn={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},kn={default:function(){return ge.isAndroid()?_n:yn},slide:bn,none:gn},xn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Qi),o(e,[{key:"init",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),wi(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new be({animators:kn,baseClass:gn,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(Se.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");for(e.classList.add("dialog-container");this.firstChild;)e.appendChild(this.firstChild);t.appendChild(e),this.appendChild(t)}if(!this._mask){var i=document.createElement("div");i.classList.add("dialog-mask"),this.insertBefore(i,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),we.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return wn}},{key:"_mask",get:function(){return De.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return De.findChild(this,".dialog")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof gn))throw new Error('"Animator" param must inherit OnsDialogElement.DialogAnimator');kn[t]=e}},{key:"animators",get:function(){return kn}},{key:"DialogAnimator",get:function(){return gn}}]),e}();customElements.define("ons-dialog",xn);var Cn={"":"fab--*",".fab__icon":"fab--*__icon"},En=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this.hide(),this.classList.add("fab"),wi(this,function(){t._compile()})}},{key:"_compile",value:function(){if(Se.prepare(this),!De.findChild(this,".fab__icon")){var t=document.createElement("span");t.classList.add("fab__icon"),De.arrayFrom(this.childNodes).forEach(function(e){e.tagName&&"ons-ripple"===e.tagName.toLowerCase()||t.appendChild(e)}),this.appendChild(t)}this._updateRipple(),we.initModifier(this,Cn),this._updatePosition()}},{key:"connectedCallback",value:function(){var t=this;setImmediate(function(){return t.show()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("fab")||(this.className="fab "+i);break;case"modifier":we.onModifierChanged(e,i,this,Cn);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){var t=this;setImmediate(function(){return t.hide()})}},{key:"_updateRipple",value:function(){De.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(1)",this.style.webkitTransform="scale(1)"}},{key:"hide",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(0)",this.style.webkitTransform="scale(0)"}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return"scale(1)"===this.style.transform&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position","class"]}}]),e}();customElements.define("ons-fab",En);var Ln=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._gestureDetector=new Xe(this)}}]),e}();customElements.define("ons-gesture-detector",Ln);var On=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,i){-1!==["icon","size","modifier"].indexOf(t)&&this._update()}},{key:"_compile",value:function(){var t=this;Se.prepare(this),this._update(),setImmediate(function(){return t._update()})}},{key:"_update",value:function(){var t=this;this._cleanClassAttribute();var e=this._buildClassAndStyle(this._getAttribute("icon"),this._getAttribute("size")),i=e.classList,n=e.style;De.extend(this.style,n),i.forEach(function(e){return t.classList.add(e)})}},{key:"_getAttribute",value:function(t){var e=(this.getAttribute(t)||"").split(/\s*,\s*/),i=e[0],n=e[1];return n=(n||"").split(/\s*:\s*/),(De.hasModifier(this,n[0])?n[1]:i)||""}},{key:"_cleanClassAttribute",value:function(){var t=this;De.arrayFrom(this.classList).filter(function(t){return/^(fa$|fa-|ion-|zmdi-)/.test(t)}).forEach(function(e){return t.classList.remove(e)}),this.classList.remove("zmdi"),this.classList.remove("ons-icon--ion")}},{key:"_buildClassAndStyle",value:function(t,e){var i=["ons-icon"],n={};return 0===t.indexOf("ion-")?(i.push(t),i.push("ons-icon--ion")):0===t.indexOf("fa-")?(i.push(t),i.push("fa")):0===t.indexOf("md-")?(i.push("zmdi"),i.push("zmdi-"+t.split(/\-(.+)?/)[1])):(i.push("fa"),i.push("fa-"+t)),e.match(/^[1-5]x|lg$/)?(i.push("fa-"+e),this.style.removeProperty("font-size")):n.fontSize=e,{classList:i,style:n}}}],[{key:"observedAttributes",get:function(){return["icon","size","modifier"]}}]),e}();customElements.define("ons-icon",On);var Sn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"connectedCallback",value:function(){this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new ke(t,this._templateElement||null);this._lazyRepeatProvider=new xe(this.parentElement,e)},get:function(){throw new Error("This property can only be used to set the delegate object.")}}]),e}();customElements.define("ons-lazy-repeat",Sn);var Pn="list-header",An={"":"list-header--*"},Mn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(Pn),we.initModifier(this,An)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(Pn)||(this.className=Pn+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,An)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-list-header",Mn);var Tn="list-title",jn={"":"list-title--*"},In=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(Tn),we.initModifier(this,jn)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(Tn)||(this.className=Tn+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,jn)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-list-title",In);var Rn="list-item",Nn={".list-item":"list-item--*",".list-item__left":"list-item--*__left",".list-item__center":"list-item--*__center",".list-item__right":"list-item--*__right",".list-item__label":"list-item--*__label",".list-item__title":"list-item--*__title",".list-item__subtitle":"list-item--*__subtitle",".list-item__thumbnail":"list-item--*__thumbnail",".list-item__icon":"list-item--*__icon"},Bn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile()})}},{key:"_compile",value:function(){this.classList.add(Rn);for(var t=void 0,e=void 0,i=void 0,n=0;n<this.children.length;n++){var r=this.children[n];r.classList.contains("left")?(r.classList.add("list-item__left"),t=r):r.classList.contains("center")?e=r:r.classList.contains("right")&&(r.classList.add("list-item__right"),i=r)}if(!e){if(e=document.createElement("div"),t||i)for(var o=this.childNodes.length-1;o>=0;o--){var s=this.childNodes[o];s!==t&&s!==i&&e.insertBefore(s,e.firstChild)}else for(;this.childNodes[0];)e.appendChild(this.childNodes[0]);this.insertBefore(e,i||null)}e.classList.add("center"),e.classList.add("list-item__center"),this._updateRipple(),we.initModifier(this,Nn),Se.prepare(this)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(Rn)||(this.className=Rn+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,Nn);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("drag",this._onDrag),this.addEventListener("touchstart",this._onTouch),this.addEventListener("mousedown",this._onTouch),this.addEventListener("touchend",this._onRelease),this.addEventListener("touchmove",this._onRelease),this.addEventListener("touchcancel",this._onRelease),this.addEventListener("mouseup",this._onRelease),this.addEventListener("mouseout",this._onRelease),this.addEventListener("touchleave",this._onRelease),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"disconnectedCallback",value:function(){this.removeEventListener("drag",this._onDrag),this.removeEventListener("touchstart",this._onTouch),this.removeEventListener("mousedown",this._onTouch),this.removeEventListener("touchend",this._onRelease),this.removeEventListener("touchmove",this._onRelease),this.removeEventListener("touchcancel",this._onRelease),this.removeEventListener("mouseup",this._onRelease),this.removeEventListener("mouseout",this._onRelease),this.removeEventListener("touchleave",this._onRelease)}},{key:"_updateRipple",value:function(){De.updateRipple(this)}},{key:"_onDrag",value:function(t){var e=t.gesture;this._shouldLockOnDrag()&&["left","right"].indexOf(e.direction)>-1&&e.preventDefault()}},{key:"_onTouch",value:function(){this.tapped||(this.tapped=!0,this.style.transition=this._transition,this.style.webkitTransition=this._transition,this.style.MozTransition=this._transition,this._tappable&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),this.style.backgroundColor=this._tapBackgroundColor,this.style.boxShadow="0px -1px 0px 0px "+this._tapBackgroundColor))}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.transition="",this.style.webkitTransition="",this.style.MozTransition="",this.style.backgroundColor=this._originalBackgroundColor||"",this.style.boxShadow=""}},{key:"_shouldLockOnDrag",value:function(){return this.hasAttribute("lock-on-drag")}},{key:"_transition",get:function(){return"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"}},{key:"_tappable",get:function(){return this.hasAttribute("tappable")}},{key:"_tapBackgroundColor",get:function(){return this.getAttribute("tap-background-color")||"#d9d9d9"}}],[{key:"observedAttributes",get:function(){return["modifier","class","ripple"]}}]),e}();customElements.define("ons-list-item",Bn);var Dn={"":"list--*"},zn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add("list"),we.initModifier(this,Dn)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains("list")||(this.className="list "+i);break;case"modifier":we.onModifierChanged(e,i,this,Dn)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-list",zn);var Fn="checkbox",Vn="radio-button",qn={".text-input":"text-input--*",".text-input__label":"text-input--*__label",".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark",".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},Hn=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","size","step","type","validator","value"],Un=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile(),t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),this._boundOnInput=this._onInput.bind(this),this._boundOnFocusin=this._onFocusin.bind(this),this._boundDelegateEvent=this._delegateEvent.bind(this)}},{key:"_compile",value:function(){if(Se.prepare(this),0===this.children.length){var t=document.createElement("span");t.classList.add("_helper");var e=document.createElement("label");e.appendChild(document.createElement("input")),e.appendChild(t);var i=document.createElement("span");switch(i.classList.add("input-label"),De.arrayFrom(this.childNodes).forEach(function(t){return i.appendChild(t)}),this.hasAttribute("content-left")?e.insertBefore(i,e.firstChild):e.appendChild(i),this.appendChild(e),this.getAttribute("type")){case"checkbox":this.classList.add(Fn),this._input.classList.add("checkbox__input"),this._helper.classList.add("checkbox__checkmark"),this._updateBoundAttributes();break;case"radio":this.classList.add(Vn),this._input.classList.add("radio-button__input"),this._helper.classList.add("radio-button__checkmark"),this._updateBoundAttributes();break;default:this._input.classList.add("text-input"),this._helper.classList.add("text-input__label"),this._input.parentElement.classList.add("text-input__container"),this._updateLabel(),this._updateBoundAttributes(),this._updateLabelClass()}this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id")),we.initModifier(this,qn)}}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"modifier":wi(this,function(){return we.onModifierChanged(e,i,n,qn)});break;case"placeholder":wi(this,function(){return n._updateLabel()});break;case"input-id":wi(this,function(){return n._input.id=i});break;case"checked":this.checked=null!==i;break;case"class":switch(this.getAttribute("type")){case"checkbox":this.classList.contains(Fn)||(this.className=Fn+" "+i);break;case"radio":this.classList.contains(Vn)||(this.className=Vn+" "+i)}}Hn.indexOf(t)>=0&&wi(this,function(){return n._updateBoundAttributes()})}},{key:"connectedCallback",value:function(){var t=this;wi(this,function(){"checkbox"!==t._input.type&&"radio"!==t._input.type&&(t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin),t._input.addEventListener("focusout",t._boundOnFocusout)),t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;wi(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin),t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"_setLabel",value:function(t){void 0!==this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabel",value:function(){this._setLabel(this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"")}},{key:"_updateBoundAttributes",value:function(){var t=this;Hn.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):-1===["checkbox","radio"].indexOf(this.getAttribute("type"))&&this._helper.classList.add("text-input--material__label--active")}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_onInput",value:function(t){this._updateLabelClass()}},{key:"_onFocusin",value:function(t){this._updateLabelClass()}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_helper",get:function(){return this.querySelector("._helper")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;wi(this,function(){t instanceof Date&&(t=t.toISOString().substring(0,10)),e._input.value=t,e._onInput()})}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;wi(this,function(){e._input.checked=t})}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_isTextInput",get:function(){return"radio"!==this.type&&"checkbox"!==this.type}},{key:"type",get:function(){return this.getAttribute("type")}}],[{key:"observedAttributes",get:function(){return["class","modifier","placeholder","input-id","checked"].concat(Hn)}},{key:"events",get:function(){return["change","input","focus","focusin","focusout","blur"]}}]),e}();customElements.define("ons-input",Un);var Zn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,Hi),o(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),Wn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.3:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,Zn),o(e,[{key:"show",value:function(t,e){e=e||function(){},Ye(t).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},Ye(t).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}}]),e}(),Gn={"":"modal--*",modal__content:"modal--*__content"},Yn={default:Zn,fade:Wn,none:Zn},Xn=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Qi),o(e,[{key:"init",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this._defaultDBB=function(){},wi(this,function(){return t._compile()})}},{key:"_updateAnimatorFactory",value:function(){return new be({animators:Yn,baseClass:Zn,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!De.findChild(this,".modal__content")){var t=document.createElement("div");for(t.classList.add("modal__content");this.childNodes[0];){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}we.initModifier(this,this._scheme)}},{key:"_toggleStyle",value:function(t){this.style.display=t?"table":"none"}},{key:"attributeChangedCallback",value:function(t,i,n){"class"===t?this.classList.contains("modal")||(this.className="modal "+n):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,i,n)}},{key:"_scheme",get:function(){return Gn}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Zn))throw new Error('"Animator" param must inherit OnsModalElement.ModalAnimator');Yn[t]=e}},{key:"observedAttributes",get:function(){return[].concat(h(u(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["class"])}},{key:"animators",get:function(){return Yn}},{key:"ModalAnimator",get:function(){return Zn}}]),e}();customElements.define("ons-modal",Xn);var $n=function(t){function e(t){return r(this,e),t=De.extend({timing:"linear",duration:"0.4",delay:"0"},t||{}),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return l(e,Hi),o(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}},{key:"block",value:function(t){var e=De.createElement('\n      <div style="position: absolute; background-color: transparent; width: 100%; height: 100%; z-index: 100000"></div>\n    ');return t.parentNode.appendChild(e),function(){return e.remove()}}}]),e}(),Qn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.4:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.backgroundMask=De.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black; opacity: 0; z-index: 2"></div>\n    '),l}return l(e,$n),o(e,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),i=e._getToolbarLeftItemsElement(),n=e._getToolbarRightItemsElement(),r=function(t){for(var e=[],i=0;i<t.length;i++)"ons-back-button"!==t[i].nodeName.toLowerCase()&&e.push(t[i]);return e},o=[].concat(0===i.children.length?i:r(i.children)).concat(0===n.children.length?n:r(n.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:o,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var i=t._canAnimateToolbar()&&e._canAnimateToolbar(),n=!t._getToolbarElement().classList.contains("toolbar--material")&&!e._getToolbarElement().classList.contains("toolbar--material");return i&&n}},{key:"_calculateDelta",value:function(t,e){var i=void 0,n=void 0,r=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var o=e.backButtonLabel.getBoundingClientRect();i=Math.round(r.width/2-o.width/2-o.left)}else i=Math.round(r.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(n=e.backButtonIcon.getBoundingClientRect().right-2),{title:i,label:n}}},{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i.nextSibling);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);wi(t,function(){var e=De.findToolbarPage(t)||t,s=De.findToolbarPage(i)||i,a=r._decompose(e),u=r._decompose(s),l=r._calculateDelta(i,a),c=Ye(r.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(r.delay).queue({opacity:.05},{duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()});if(r._shouldAnimateToolbar(e,s)){var h=a.toolbar.getBoundingClientRect().height+"px";r.backgroundMask.style.top=h,Ye.runAll(c,Ye([a.content,a.bottomToolbar,a.background]).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(a.toolbar).saveStyle().queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(a.background).queue({css:{top:h},duration:0}),Ye(a.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(125%, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(a.backButtonLabel).saveStyle().queue({css:{transform:"translate3d("+l.title+"px, 0, 0)",opacity:0},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(a.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(r.delay).queue({css:{opacity:1},duration:r.duration,timing:r.timing}).restoreStyle(),Ye([u.content,u.bottomToolbar,u.background]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){o(),n(),t()}),Ye(u.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(-"+l.title+"px, 0, 0)",opacity:0},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(u.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(r.delay).queue({css:{transform:"translate3d(-"+l.label+"px, 0, 0)",opacity:0},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(u.other).saveStyle().queue({css:{opacity:1},duration:0}).wait(r.delay).queue({css:{opacity:0},duration:r.duration,timing:r.timing}).restoreStyle())}else Ye.runAll(c,Ye(t).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle(),Ye(i).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(r.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:r.duration,timing:r.timing}).restoreStyle().queue(function(t){o(),n(),t()}))})}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=De.findToolbarPage(t)||t,a=De.findToolbarPage(i)||i,l=this._decompose(s),c=this._decompose(a),h=this._calculateDelta(i,c),d=Ye(this.backgroundMask).saveStyle().queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){t()});if(this._shouldAnimateToolbar(s,a)){var p=l.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=p,Ye.runAll(d,Ye([l.content,l.bottomToolbar,l.background]).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(l.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(-"+h.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(l.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(-"+h.label+"px, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(l.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(c.background).queue({css:{top:p},duration:0}),Ye([c.content,c.bottomToolbar,c.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(0).queue(function(t){r.backgroundMask.remove(),o(),n(),t()}),Ye(c.toolbar).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}),Ye(c.toolbarCenter).queue({css:{transform:"translate3d(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(125%, 0, 0)"},duration:this.duration,timing:this.timing}),Ye(c.backButtonLabel).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d("+h.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}else Ye.runAll(d,Ye(t).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(i).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).queue(function(t){r.backgroundMask.remove(),o(),n(),t()}))}}]),e}(),Kn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.4:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.backgroundMask=De.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background: linear-gradient(black, white);"></div>\n    '),l}return l(e,$n),o(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=Ye(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()});Ye.runAll(s,Ye(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){o(),n(),t()}),Ye(i).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()}),Ye(t).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){o(),n(),t()}),Ye(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),e}(),Jn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.4:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,$n),o(e,[{key:"push",value:function(t,i,n){var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye([t._getContentElement(),t._getBackgroundElement()]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),n(),t()}),Ye(t._getToolbarElement()).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle())}},{key:"pop",value:function(t,i,n){var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye([i._getContentElement(),i._getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).queue(function(t){r(),n(),t()}),Ye(i._getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}}]),e}(),tr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.3:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.backgroundMask=De.createElement('\n      <div style="position: absolute; width: 100%; height: 100%; z-index: 2;\n        background-color: black; opacity: 0;"></div>\n    '),l.blackMaskOpacity=.4,l}return l(e,$n),o(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentElement.insertBefore(this.backgroundMask,i.nextSibling);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()}),Ye(t).saveStyle().queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(i).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().wait(.2).queue(function(t){o(),n(),t()}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(this.backgroundMask).saveStyle().queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r.backgroundMask.remove(),t()}),Ye(t).saveStyle().queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),Ye(i).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(t){o(),n(),t()}))}}]),e}(),er=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,o=t.delay,s=void 0===o?.05:o,a=t.duration,u=void 0===a?.4:a;r(this,e);var l=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}));return l.backgroundMask=De.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black;"></div>\n    '),l}return l(e,$n),o(e,[{key:"push",value:function(t,i,n){var r=this;this.backgroundMask.remove(),i.parentNode.insertBefore(this.backgroundMask,i);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),s=Ye(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()});Ye.runAll(s,Ye(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){o(),n(),t()}),Ye(i).queue({css:{opacity:1},duration:0}).queue({css:{opacity:.4},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,i,n){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()}),Ye(t).queue({css:{transform:"translate3D(0, 0, 0)",opacity:.4},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){o(),n(),t()}),Ye(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),e}(),ir=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-out":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.25:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,$n),o(e,[{key:"push",value:function(t,i,n){var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(t).saveStyle().queue({css:{transform:"translate3D(0, 42px, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),n(),t()}))}},{key:"pop",value:function(t,i,n){var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);Ye.runAll(Ye(i).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(.15).queue({css:{transform:"translate3D(0, 38px, 0)"},duration:this.duration,timing:this.timing}).queue(function(t){r(),n(),t()}),Ye(i).queue({css:{opacity:1},duration:0}).wait(.04).queue({css:{opacity:0},duration:this.duration,timing:this.timing}))}}]),e}(),nr=function(t){function e(t){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return l(e,$n),o(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}}]),e}(),rr={default:function(){return ge.isAndroid()?ir:Qn},slide:function(){return ge.isAndroid()?tr:Qn},lift:function(){return ge.isAndroid()?er:Kn},fade:function(){return ge.isAndroid()?ir:Jn},"slide-ios":Qn,"slide-md":tr,"lift-ios":Kn,"lift-md":er,"fade-ios":Jn,"fade-md":ir,none:nr},or={ready:function(t,e){e()}},sr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._isRunning=!1,this._initialized=!1,this._pageLoader=Vi,this._pageMap=new WeakMap,this._updateAnimatorFactory()}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this._initialized||(this._initialized=!0,or.ready(this,function(){if(0===t.pages.length&&t._getPageTarget())t.pushPage(t._getPageTarget(),{animation:"none"});else if(t.pages.length>0){for(var e=0;e<t.pages.length;e++)if("ONS-PAGE"!==t.pages[e].nodeName)throw new Error("The children of <ons-navigator> need to be of type <ons-page>");t.topPage&&wi(t.topPage,function(){return setTimeout(function(){t.topPage._show(),t._updateLastPageBackButton()},0)})}else wi(t,function(){0===t.pages.length&&t._getPageTarget()&&t.pushPage(t._getPageTarget(),{animation:"none"})})}))}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new be({animators:rr,baseClass:$n,baseClassName:"NavigatorTransitionAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null}},{key:"attributeChangedCallback",value:function(t,e,i){"animation"===t&&this._updateAnimatorFactory()}},{key:"popPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=function(){return new Promise(function(e){t._pageLoader.unload(t.pages[t.pages.length-1]),e()})};return(e=this._preparePageAndOptions(null,e).options).refresh?this._popPageAndRefresh(e,i):this._popPage(e,i)}},{key:"_popPageAndRefresh",value:function(t,e){var i=this;De.warn("'refresh' option for pushPage has been deprecated and will be removed in the next release.");var n=this.pages.length-2,r=this.pages[n];if(!this._pageMap.has(r))throw new Error("Refresh option cannot be used with pages directly inside the Navigator. Use ons-template instead.");var o=this._pageMap.get(r);return new Promise(function(t){var e={page:o,parent:i,params:r.pushedOptions?r.pushedOptions.data:{}};i._pageLoader.load(e,function(e){i._pageMap.set(e,o),e=De.extend(e,{data:r.data,pushedOptions:r.pushedOptions||{}}),i.insertBefore(e,r||null),i._pageLoader.unload(r),t()})}).then(function(){return i._popPage(t,e)})}},{key:"_popPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var n=this.pages.length;return this._isRunning=!0,this.pages[n-2].updateBackButton(n-2>0),new Promise(function(r){var o=e.pages[n-1],s=e.pages[n-2];t.animation=t.animation||(o.pushedOptions?o.pushedOptions.animation:void 0),t.animationOptions=De.extend({},o.pushedOptions?o.pushedOptions.animationOptions:{},t.animationOptions||{}),t.data&&(s.data=De.extend({},s.data||{},t.data||{}));o._hide(),e._animatorFactory.newAnimator(t).pop(e.pages[n-2],e.pages[n-1],function(){i().then(function(){e._isRunning=!1,s._show(),De.triggerElementEvent(e,"postpop",{leavePage:o,enterPage:s,navigator:e}),"function"==typeof t.callback&&t.callback(),r(s)})})}).catch(function(){return e._isRunning=!1})}},{key:"pushPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);t=n.page,i=n.options;var r=function(n){e._verifyPageElement(n),e._pageMap.set(n,t),(n=De.extend(n,{data:i.data})).style.visibility="hidden"};return i.pageHTML?this._pushPage(i,function(){return new Promise(function(t){qi.load({page:i.pageHTML,parent:e,params:i.data},function(e){r(e),t()})})}):this._pushPage(i,function(){return new Promise(function(n){e._pageLoader.load({page:t,parent:e,params:i.data},function(t){r(t),n()})})})}},{key:"_pushPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var n=be.parseAnimationOptionsString(this.getAttribute("animation-options"));e=De.extend({},this.options||{},{animationOptions:n},e);var r=this._animatorFactory.newAnimator(e);return i().then(function(){var i=t.pages.length,n=t.pages[i-1],o=e.leavePage||t.pages[i-2];if("ONS-PAGE"!==n.nodeName)throw new Error("Only elements of type <ons-page> can be pushed to the navigator");return n.updateBackButton(i-1),n.pushedOptions=De.extend({},n.pushedOptions||{},e||{}),n.data=De.extend({},n.data||{},e.data||{}),n.unload=n.unload||e.unload,new Promise(function(i){var s=function(){t._isRunning=!1,setImmediate(function(){return n._show()}),De.triggerElementEvent(t,"postpush",{leavePage:o,enterPage:n,navigator:t}),"function"==typeof e.callback&&e.callback(),i(n)};n.style.visibility="",o?(o._hide(),r.push(n,o,s)):s()})}).catch(function(e){throw t._isRunning=!1,e})}},{key:"replacePage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(t,i).then(function(t){return e.pages.length>1&&e._pageLoader.unload(e.pages[e.pages.length-2]),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._preparePageAndOptions(e,n);if(e=r.page,n=r.options,(t=this._normalizeIndex(t))>=this.pages.length)return this.pushPage(e,n);e="string"==typeof n.pageHTML?n.pageHTML:e;var o="string"==typeof n.pageHTML?qi:this._pageLoader;return new Promise(function(r){o.load({page:e,parent:i},function(o){i._verifyPageElement(o),i._pageMap.set(o,e),o=De.extend(o,{data:n.data,pushedOptions:n}),n.animationOptions=De.extend({},be.parseAnimationOptionsString(i.getAttribute("animation-options")),n.animationOptions||{}),i.insertBefore(o,i.pages[t]),i.topPage.updateBackButton(!0),setTimeout(function(){o=null,r(i.pages[t])},1e3/60)})})}},{key:"resetToPage",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);t=n.page,(i=n.options).animator||i.animation||(i.animation="none");var r=i.callback;return i.callback=function(){for(;e.pages.length>1;)e._pageLoader.unload(e.pages[0]);e.pages[0].updateBackButton(!1),r&&r()},i.page||i.pageHTML||!this._getPageTarget()||(t=i.page=this._getPageTarget()),this.pushPage(t,i)}},{key:"bringPageTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1===["number","string"].indexOf(void 0===t?"undefined":n(t)))throw new Error("First argument must be a page name or the index of an existing page. You supplied "+t);var i="number"==typeof t?this._normalizeIndex(t):this._lastIndexOfPage(t),r=this.pages[i];if(i<0)return this.pushPage(t,e);if(e=this._preparePageAndOptions(r,e).options,i===this.pages.length-1)return Promise.resolve(r);if(!r)throw new Error("Failed to find item "+t);return this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(r.style.visibility="hidden",r.setAttribute("_skipinit",""),r.parentNode.appendChild(r),this._pushPage(e))}},{key:"_preparePageAndOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=(void 0===e?"undefined":n(e)))throw new Error("options must be an object. You supplied "+e);return null==t&&e.page&&(t=e.page),{page:t,options:e=De.extend({},this.options||{},e,{page:t})}}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;t>=0&&this.pages[t].updateBackButton(t>0)}},{key:"_normalizeIndex",value:function(t){return t>=0?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){this.pages.length>1?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;e>=0;e--){if(!this._pageMap.has(this.pages[e]))throw Error("This is bug.");if(t===this._pageMap.get(this.pages[e]))break}return e}},{key:"_emitPreEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1;return De.triggerElementEvent(this,"pre"+t,De.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return i=!0}},e)),i}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=De.createElement(ye.normalizePageHTML(t));return this._verifyPageElement(e),e}},{key:"_verifyPageElement",value:function(t){if("ons-page"!==t.nodeName.toLowerCase())throw new Error('You must supply an "ons-page" element to "ons-navigator".')}},{key:"_show",value:function(){this.topPage&&this.topPage._show()}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;t>=0;t--)this._pageLoader.unload(this.pages[t]);this.remove()}},{key:"animatorFactory",get:function(){return this._animatorFactory}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Fi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Ii.createHandler(this,t)}},{key:"topPage",get:function(){return this.pages[this.pages.length-1]||null}},{key:"pages",get:function(){return De.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof $n))throw new Error('"Animator" param must inherit NavigatorElement.NavigatorTransitionAnimator');rr[t]=e}},{key:"observedAttributes",get:function(){return["animation"]}},{key:"animators",get:function(){return rr}},{key:"NavigatorTransitionAnimator",get:function(){return $n}},{key:"events",get:function(){return["prepush","postpush","prepop","postpop"]}},{key:"rewritables",get:function(){return or}}]),e}();customElements.define("ons-navigator",sr);var ar="toolbar",ur={"":"toolbar--*",".toolbar__left":"toolbar--*__left",".toolbar__center":"toolbar--*__center",".toolbar__right":"toolbar--*__right"},lr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(ar)||(this.className=ar+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,ur)}}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||ye.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||ye.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||ye.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||ye.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||ye.nullElement}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(ar),this._ensureToolbarItemElements(),we.initModifier(this,ur)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("toolbar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var i=this._ensureToolbarElement("left"),n=this._ensureToolbarElement("right");this.children[0]===i&&this.children[1]===e&&this.children[2]===n||(this.appendChild(i),this.appendChild(e),this.appendChild(n))}}},{key:"_ensureToolbarElement",value:function(t){if(De.findChild(this,".toolbar__"+t)){var e=De.findChild(this,".toolbar__"+t);return e.classList.add(t),e}var i=De.findChild(this,"."+t)||De.create("."+t);return i.classList.add("toolbar__"+t),i}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-toolbar",lr);var cr={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},hr=document.createElement("ons-toolbar"),dr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this.classList.add("page"),this._initialized=!1,wi(this,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._isMuted=t.hasAttribute("_muted"),t._skipInit=t.hasAttribute("_skipinit")})}},{key:"connectedCallback",value:function(){var t=this;this._initialized||(this._initialized=!0,wi(this,function(){t._isMuted||(t._skipInit?t.removeAttribute("_skipinit"):setImmediate(function(){return De.triggerElementEvent(t,"init")})),De.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}),t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll"))}))}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_tryToFillStatusBar",value:function(){var t=this;ye.autoStatusBarFill(function(){var e=De.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});De.toggleAttribute(t,"status-bar-fill",!e&&(t._canAnimateToolbar()||!t._hasAPageControlChild()))})}},{key:"_hasAPageControlChild",value:function(){return De.findChild(this._contentElement,function(t){return t.nodeName.match(/ons-(splitter|sliding-menu|navigator|tabbar)/i)})}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,i=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&i&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=De.findChild(this,".page__content");if(t)return t;throw Error('fail to get ".page__content" element.')}},{key:"_canAnimateToolbar",value:function(){return!!De.findChild(this,"ons-toolbar")||!!De.findChild(this._contentElement,function(t){return De.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"_getBackgroundElement",value:function(){var t=De.findChild(this,".page__background");if(t)return t;throw Error('fail to get ".page__background" element.')}},{key:"_getBottomToolbarElement",value:function(){return De.findChild(this,"ons-bottom-toolbar")||ye.nullElement}},{key:"_getToolbarElement",value:function(){return De.findChild(this,"ons-toolbar")||hr}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains("page")||(this.className="page "+i);break;case"modifier":we.onModifierChanged(e,i,this,cr);break;case"_muted":this._isMuted=this.hasAttribute("_muted");break;case"_skipinit":this._skipInit=this.hasAttribute("_skipinit");break;case"on-infinite-scroll":this.onInfiniteScroll=null===i?null:function(t){var e=De.findFromPath(i);n.onInfiniteScroll=e,e(t)}}}},{key:"_compile",value:function(){var t=this;if(Se.prepare(this),De.findChild(this,".content")&&De.findChild(this,".content").classList.add("page__content"),De.findChild(this,".background")&&De.findChild(this,".background").classList.add("page__background"),!De.findChild(this,".page__content")){var e=De.create(".page__content");De.arrayFrom(this.childNodes).forEach(function(i){(1!==i.nodeType||t._elementShouldBeMoved(i))&&e.appendChild(i)});var i=De.findChild(this,".page__background")||De.findChild(this,"ons-toolbar");this.insertBefore(e,i&&i.nextSibling)}if(!De.findChild(this,".page__background")){var n=De.create(".page__background");this.insertBefore(n,De.findChild(this,".page__content"))}we.initModifier(this,cr)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();if("ons-fab"===e)return!t.hasAttribute("position");return t.hasAttribute("inline")||-1===["ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial","ons-dialog","ons-alert-dialog","ons-popover"].indexOf(e)}},{key:"_show",value:function(){!this._isShown&&De.isAttached(this)&&(this._isShown=!0,this._isMuted||De.triggerElementEvent(this,"show"),De.propagateAction(this,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this._isMuted||De.triggerElementEvent(this,"hide"),De.propagateAction(this,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this._isMuted||De.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),De.propagateAction(this,"_destroy"),this.remove()}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){var e=this;if(null===t)return this._onInfiniteScroll=null,void this._contentElement.removeEventListener("scroll",this._boundOnScroll);if(!(t instanceof Function))throw new Error("onInfiniteScroll must be a function or null");this._onInfiniteScroll||(this._infiniteScrollLimit=.9,this._boundOnScroll=this._onScroll.bind(this),setImmediate(function(){return e._contentElement.addEventListener("scroll",e._boundOnScroll)})),this._onInfiniteScroll=t},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Ii.createHandler(this,t)}}],[{key:"observedAttributes",get:function(){return["modifier","_muted","_skipinit","on-infinite-scroll","class"]}},{key:"events",get:function(){return["init","show","hide","destroy"]}}]),e}();customElements.define("ons-page",dr);var pr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,o=t.delay,s=void 0===o?0:o,a=t.duration,u=void 0===a?.2:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,delay:s,duration:u}))}return l(e,Hi),o(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var i=e.from,n=e.to,r=e.options,o=e.callback,s=e.restore,a=void 0!==s&&s,u=e.animation;return r=De.extend({},this.options,r),u&&(i=u.from,n=u.to),u=Ye(t),a&&(u=u.saveStyle()),u=u.queue(i).wait(this.delay).queue({css:n,duration:this.duration,timing:this.timing}),a&&(u=u.restoreStyle()),o&&(u=u.queue(function(t){o(),t()})),u}},{key:"_animateAll",value:function(t,e){var i=this;Object.keys(e).forEach(function(n){return i._animate(t[n],e[n]).play()})}}]),e}(),fr={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},mr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,pr),o(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:fr.in,_popover:{animation:fr.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:fr.out,_popover:{animation:fr.out,restore:!0,callback:e}})}}]),e}(),vr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,mr),o(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:fr.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),e}(),gr={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__content":"popover--*__content",".popover__arrow":"popover--*__arrow"},_r={default:function(){return ge.isAndroid()?mr:vr},none:pr,"fade-ios":vr,"fade-md":mr},yr=De.createFragment('\n  <div class="popover-mask"></div>\n  <div class="popover">\n    <div class="popover__content"></div>\n    <div class="popover__arrow"></div>\n  </div>\n'),br={up:"bottom",left:"right",down:"top",right:"left"},wr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Qi),o(e,[{key:"init",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this._boundOnChange=this._onChange.bind(this),wi(this,function(){t._compile(),t.style.display="none"})}},{key:"_updateAnimatorFactory",value:function(){return new be({animators:_r,baseClass:pr,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"_toggleStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(this.style.display="block",this._currentTarget=e.target,this._positionPopover(e.target)):(this.style.display="none",this._clearStyles())}},{key:"_positionPopover",value:function(t){var e=this._radius,i=this._content,n=this._margin,r=t.getBoundingClientRect(),o=De.hasModifier(this,"material"),s=o&&this.hasAttribute("cover-target"),a={top:r.top-n,left:r.left-n,right:window.innerWidth-r.right-n,bottom:window.innerHeight-r.bottom-n},u={top:r.top+Math.round(r.height/2),bottom:window.innerHeight-r.bottom+Math.round(r.height/2),left:r.left+Math.round(r.width/2),right:window.innerWidth-r.right+Math.round(r.width/2)},l=this._calculateDirections(a),c=l.vertical,h=l.primary,d=l.secondary;we.addModifier(this,h);var p,f=c?"width":"height",m=(p=window.getComputedStyle(i),{width:parseInt(p.getPropertyValue("width"),10),height:parseInt(p.getPropertyValue("height"),10)}),v=s?0:(c?r.height:r.width)+(o?0:14);this._popover.style[h]=Math.max(n,a[h]+v+n)+"px";var g=Math.max(n,n+a[d]-(m[f]-r[f])/2);this._popover.style[d]=g+"px",this._arrow.style[d]=Math.max(e,u[d]-g)+"px"}},{key:"_calculateDirections",value:function(t){var e=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return br[t]}).sort(function(e,i){return t[e]-t[i]})[0],i="top"==e||"bottom"==e;return{vertical:i,primary:e,secondary:i?t.left<t.right?"left":"right":t.top<t.bottom?"top":"bottom"}}},{key:"_clearStyles",value:function(){var t=this;["top","bottom","left","right"].forEach(function(e){t._arrow.style[e]=t._content.style[e]=t._popover.style[e]="",we.removeModifier(t,e)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(Se.prepare(this),!this._popover||!this._mask){if(this._popover&&this._content){if(!this._mask){var t=document.createElement("div");t.classList.add("popover-mask"),this.insertBefore(t,this.firstChild)}if(!this._arrow){var e=document.createElement("div");e.classList.add("popover__arrow"),this._popover.appendChild(e)}}else{for(var i=yr.cloneNode(!0),n=i.querySelector(".popover__content");this.childNodes[0];)n.appendChild(this.childNodes[0]);this.appendChild(i)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),this.hasAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),we.initModifier(this,this._scheme)}}},{key:"show",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof(i=!t||"object"!==(void 0===t?"undefined":n(t))||t instanceof Event||t instanceof HTMLElement?a({},i,{target:t}):a({},t)).target?i.target=document.querySelector(i.target):i.target instanceof Event&&(i.target=i.target.target),void 0===i.target)throw new Error("A target or options.target argument must be defined for the popover.");if(!(i.target instanceof HTMLElement))throw new Error("Invalid target for popover.");return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this,i)}},{key:"connectedCallback",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._boundOnChange,!1),this._margin=this._margin||parseInt(window.getComputedStyle(this).getPropertyValue("top")),this._margin=this._margin||6,wi(this,function(){t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius"))})}},{key:"disconnectedCallback",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._boundOnChange,!1)}},{key:"attributeChangedCallback",value:function(t,i,n){"direction"===t?this._boundOnChange():u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,i,n)}},{key:"_scheme",get:function(){return gr}},{key:"_mask",get:function(){return De.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return De.findChild(this,".popover")}},{key:"_content",get:function(){return De.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return De.findChild(this._popover,".popover__arrow")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof pr))throw new Error('"Animator" param must inherit PopoverAnimator');_r[t]=e}},{key:"observedAttributes",get:function(){return[].concat(h(u(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["direction"])}},{key:"animators",get:function(){return _r}},{key:"PopoverAnimator",get:function(){return pr}}]),e}();customElements.define("ons-popover",wr);var kr={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar--*__primary",".progress-bar__secondary":"progress-bar--*__secondary"},xr=De.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),Cr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){return t._compile()})}},{key:"_compile",value:function(){this._isCompiled()?this._template=De.findChild(this,".progress-bar"):this._template=xr.cloneNode(!0),this._primary=De.findChild(this._template,".progress-bar__primary"),this._secondary=De.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),we.initModifier(this,kr)}},{key:"_isCompiled",value:function(){if(!De.findChild(this,".progress-bar"))return!1;var t=De.findChild(this,".progress-bar");return!!De.findChild(t,".progress-bar__secondary")&&!!De.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return we.onModifierChanged(e,i,this,kr);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?wi(this,function(){t._template.classList.add("progress-bar--indeterminate"),t._template.classList.remove("progress-bar--determinate")}):wi(this,function(){t._template.classList.add("progress-bar--determinate"),t._template.classList.remove("progress-bar--indeterminate")})}},{key:"_updateValue",value:function(){var t=this;wi(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),e}();customElements.define("ons-progress-bar",Cr);var Er={".progress-circular":"progress-circular--*",".progress-circular__primary":"progress-circular--*__primary",".progress-circular__secondary":"progress-circular--*__secondary"},Lr=De.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__secondary" />\n    <circle class="progress-circular__primary" />\n  </svg>\n'),Or=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){return t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return we.onModifierChanged(e,i,this,Er);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?wi(this,function(){we.addModifier(t,"indeterminate")}):wi(this,function(){we.removeModifier(t,"indeterminate")})}},{key:"_updateValue",value:function(){var t=this;this.hasAttribute("value")&&wi(this,function(){var e=Math.ceil(251.32*t.getAttribute("value")*.01);t._primary.style["stroke-dasharray"]=e+"%, 251.32%"}),this.hasAttribute("secondary-value")?wi(this,function(){var e=Math.ceil(251.32*t.getAttribute("secondary-value")*.01);t._secondary.style.display=null,t._secondary.style["stroke-dasharray"]=e+"%, 251.32%"}):wi(this,function(){t._secondary.style.display="none"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=De.findChild(this,".progress-circular"):this._template=Lr.cloneNode(!0),this._primary=De.findChild(this._template,".progress-circular__primary"),this._secondary=De.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),we.initModifier(this,Er)}},{key:"_isCompiled",value:function(){if(!De.findChild(this,".progress-circular"))return!1;var t=De.findChild(this,".progress-circular");return!!De.findChild(t,".progress-circular__secondary")&&!!De.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),e}();customElements.define("ons-progress-circular",Or);var Sr="initial",Pr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._setState(Sr,!0),this._hide()}},{key:"_setStyle",value:function(){var t=this.height;this.style.height=t+"px",this.style.lineHeight=t+"px",this.style.marginTop="-1px",this._pageElement.style.marginTop="-"+t+"px"}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_generateTranslationTransform",value:function(t){return"translate3d(0px, "+t+"px, 0px)"}},{key:"_onDrag",value:function(t){var e=this;if(!this.disabled){if(ge.isAndroid()){var i=this._pageElement;i.scrollTop=this._startScroll-t.gesture.deltaY,i.scrollTop<window.innerHeight&&"up"!==t.gesture.direction&&t.gesture.preventDefault()}if(0===this._currentTranslation&&0===this._getCurrentScroll())this._transitionDragLength=t.gesture.deltaY,"down"===t.gesture.interimDirection?this._transitionDragLength-=1:this._transitionDragLength+=1;var n=Math.max(t.gesture.deltaY-this._startScroll,0);this._thresholdHeightEnabled()&&n>=this.thresholdHeight?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):n>=this.height?this._setState("preaction"):this._setState(Sr),"up"!==t.gesture.direction&&"down"!==t.gesture.direction||t.stopPropagation(),this._translateTo(n)}}},{key:"_onDragStart",value:function(t){this.disabled||(this._startScroll=this._getCurrentScroll())}},{key:"_onDragEnd",value:function(t){this.disabled||this._currentTranslation>0&&(this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0}))}},{key:"_finish",value:function(){var t=this;this._setState("action"),this._translateTo(this.height,{animate:!0}),(this.onAction||function(t){return t()})(function(){t._translateTo(0,{animate:!0}),t._setState(Sr)})}},{key:"_thresholdHeightEnabled",value:function(){var t=this.thresholdHeight;return t>0&&t>=this.height}},{key:"_setState",value:function(t,e){var i=this._getState();this.setAttribute("state",t),e||i===this._getState()||De.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:i})}},{key:"_getState",value:function(){return this.getAttribute("state")}},{key:"_getCurrentScroll",value:function(){return this._pageElement.scrollTop}},{key:"_isContentFixed",value:function(){return this.hasAttribute("fixed-content")}},{key:"_getScrollableElement",value:function(){return this._isContentFixed()?this:this._pageElement}},{key:"_show",value:function(){this.style.visibility=""}},{key:"_hide",value:function(){this.style.visibility="hidden"}},{key:"_translateTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=t){var n=function(){if(0===t){var n=e._getScrollableElement();(r=n).style.transform="",r.style.WebkitTransform="",r.style.transition="",r.style.WebkitTransition=""}var r;i.callback&&i.callback()};this._currentTranslation=t,i.animate?Ye(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(n):Ye(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)}).play(n)}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._destroyEventListeners(),this._createEventListeners()}},{key:"_createEventListeners",value:function(){this._gestureDetector=new Xe(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled}),this._gestureDetector.on("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.on("dragstart",this._boundOnDragStart),this._gestureDetector.on("dragend",this._boundOnDragEnd),this._pageElement.addEventListener("scroll",this._boundOnScroll,!1)}},{key:"_destroyEventListeners",value:function(){this._gestureDetector&&(this._gestureDetector.off("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.off("dragstart",this._boundOnDragStart),this._gestureDetector.off("dragend",this._boundOnDragEnd),this._gestureDetector.dispose(),this._gestureDetector=null),this._pageElement.removeEventListener("scroll",this._boundOnScroll,!1)}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._createEventListeners(),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._pageElement.style.marginTop="",this._destroyEventListeners()}},{key:"attributeChangedCallback",value:function(t,e,i){"height"===t&&this._pageElement&&this._setStyle()}},{key:"onAction",get:function(){return this._onAction},set:function(t){if(!(t instanceof Function)&&null!==t)throw new Error("onAction must be a function or null");this._onAction=t}},{key:"height",set:function(t){if(!De.isInteger(t))throw new Error("The height must be an integer");this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){if(!De.isInteger(t))throw new Error("The threshold height must be an integer");this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this._getState()}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"STATE_INITIAL",get:function(){return Sr}},{key:"STATE_PREACTION",get:function(){return"preaction"}},{key:"STATE_ACTION",get:function(){return"action"}},{key:"events",get:function(){return["changestate"]}}]),e}();customElements.define("ons-pull-hook",Pr);var Ar=function(){function t(){r(this,t),this._queue=[],this._index=0}return o(t,[{key:"animate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=(new Date).getTime(),r={},o=!1,s=!1,a=!1,u=Object.keys(e),l={stop:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a&&clearTimeout(a);var h=Math.min(1,((new Date).getTime()-n)/i);return u.forEach(function(i){t.style[i]=(1-h)*r[i]+h*e[i]+("opacity"==i?"":"px")}),t.style.transitionDuration="0s",c.stopNext?s=!1:o||(o=!0,s&&s()),l},then:function(t){return s=t,o&&s&&s(),l},speed:function(s){if(ye.config.animationsDisabled&&(s=0),!o){a&&clearTimeout(a);var c=((new Date).getTime()-n)/i,h=s*(1-c);u.forEach(function(i){t.style[i]=(1-c)*r[i]+c*e[i]+("opacity"==i?"":"px")}),d=window.getComputedStyle(t),u.forEach(d.getPropertyValue.bind(d)),d=t.offsetHeight,n=t.speedUpTime,i=h,t.style.transitionDuration=i/1e3+"s",u.forEach(function(i){t.style[i]=e[i]+("opacity"==i?"":"px")}),a=setTimeout(l.stop,h)}var d;return l},finish:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=((new Date).getTime()-n)/i;return l.speed(t/(1-e)),l}};if(t.hasAttribute("disabled")||o||ye.config.animationsDisabled)return l;var c=window.getComputedStyle(t);return u.forEach(function(t){var e=parseFloat(c.getPropertyValue(t));r[t]=isNaN(e)?0:e}),o||(t.style.transitionProperty=u.join(","),t.style.transitionDuration=i/1e3+"s",u.forEach(function(i){t.style[i]=e[i]+("opacity"==i?"":"px")})),a=setTimeout(l.stop,i),this._onStopAnimations(t,l.stop),l}}]),o(t,[{key:"_onStopAnimations",value:function(t,e){var i=this._queue,n=this._index++;i[t]=i[t]||[],i[t][n]=function(r){return delete i[t][n],i[t]&&0==i[t].length&&delete i[t],e(r)}}},{key:"stopAnimations",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,i)});(this._queue[t]||[]).forEach(function(t){t(i||{})})}},{key:"stopAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.animate(t,{opacity:0},e)}}]),t}(),Mr="ripple",Tr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){return t._compile()}),this._animator=new Ar,["color","center","start-radius","background"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})}},{key:"_compile",value:function(){this.classList.add(Mr),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=De.create(".ripple__wave"),this._background=De.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background))}},{key:"_calculateCoords",value:function(t){var e,i,n,r,o,s=this.getBoundingClientRect();return this._center?(e=s.width/2,i=s.height/2,o=Math.sqrt(e*e+i*i)):(e=(t.clientX||t.changedTouches[0].clientX)-s.left,i=(t.clientY||t.changedTouches[0].clientY)-s.top,n=Math.max(i,s.height-i),r=Math.max(e,s.width-e),o=Math.sqrt(n*n+r*r)),{x:e,y:i,r:o}}},{key:"_rippleAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=this._animator,n=this._wave,r=this._background,o=this._minR,s=this._calculateCoords(t),a=s.x,u=s.y,l=s.r;return i.stopAll({stopNext:1}),i.animate(r,{opacity:1},e),De.extend(n.style,{opacity:1,top:u-o+"px",left:a-o+"px",width:2*o+"px",height:2*o+"px"}),i.animate(n,{top:u-l,left:a-l,height:2*l,width:2*l},e)}},{key:"_updateParent",value:function(){!this._parentUpdated&&this.parentNode&&("static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0)}},{key:"_onTap",value:function(t){var e=this;this.disabled||(this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||(this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._boundOnRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&(this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._boundOnRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,this._boundOnTap=this._onTap.bind(this),this._boundOnHold=this._onHold.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnRelease=this._onRelease.bind(this),ye.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._boundOnTap),this._parentNode.addEventListener("hold",this._boundOnHold),this._parentNode.addEventListener("dragstart",this._boundOnDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._boundOnTap),t.removeEventListener("hold",this._boundOnHold),t.removeEventListener("dragstart",this._boundOnDragStart)}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains(Mr)||(this.className=Mr+" "+i);break;case"start-radius":this._minR=Math.max(0,parseFloat(i)||0);break;case"color":i&&wi(this,function(){n._wave.style.background=i,n.hasAttribute("background")||(n._background.style.background=i)});break;case"background":(i||e)&&wi(this,"none"===i?function(){n._background.setAttribute("disabled","disabled"),n._background.style.background="transparent"}:function(){n._background.hasAttribute("disabled")&&n._background.removeAttribute("disabled"),n._background.style.background=i});break;case"center":"center"===t&&(this._center=null!=i&&"false"!=i)}}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center","class"]}}]),e}();customElements.define("ons-ripple",Tr);var jr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),e}();customElements.define("ons-row",jr);var Ir={"":"select-*",".select-input":"select-input--*"},Rr="select",Nr=["autofocus","disabled","form","multiple","name","required","size"],Br=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains(Rr)||(this.className=Rr+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,Ir)}Nr.indexOf(t)>=0&&wi(this,function(){return n._updateBoundAttributes()})}},{key:"_updateBoundAttributes",value:function(){var t=this;Nr.forEach(function(e){t.hasAttribute(e)?t._select.setAttribute(e,t.getAttribute(e)):t._select.removeAttribute(e)})}},{key:"_compile",value:function(){var t=this;Se.prepare(this),this.classList.add(Rr);var e=this._select||document.createElement("select");!e.id&&this.hasAttribute("select-id")&&(e.id=this.getAttribute("select-id")),e.classList.add("select-input"),this._select||(De.arrayFrom(this.childNodes).forEach(function(t){return e.appendChild(t)}),this.appendChild(e)),we.initModifier(this,Ir);for(var i=["disabled","length","multiple","name","options","selectedIndex","size","value"],n=function(){var e=i[r];t.__defineGetter__(e,function(){return t._select[e]}),t.__defineSetter__(e,function(i){t._select[e]=i})},r=0;r<i.length;r++)n();this.__defineGetter__("form",function(){return t._select.form}),this.__defineGetter__("type",function(){return t._select.type}),this.add=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t._select.add(e,i)},this.remove=function(e){t._select.remove(e)}}},{key:"_select",get:function(){return this.querySelector("select")}}],[{key:"observedAttributes",get:function(){return["modifier","class"].concat(Nr)}},{key:"events",get:function(){return["change"]}}]),e}();customElements.define("ons-select",Br);var Dr="fab fab--mini speed-dial__item",zr={"":"speed-dial__item--*"},Fr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile(),this._boundOnClick=this._onClick.bind(this)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this._updateClassName(i);break;case"modifier":we.onModifierChanged(e,i,this,zr);break;case"ripple":this._updateRipple()}}},{key:"_updateClassName",value:function(t){var e=this;Dr.split(/\s+/).every(function(t){return e.classList.contains(t)})||(this.className=Dr+" "+t)}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){De.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){var t=this;Se.prepare(this),Dr.split(/\s+/).forEach(function(e){t.classList.add(e)}),this._updateRipple(),we.initModifier(this,zr)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}();customElements.define("ons-speed-dial-item",Fr);var Vr,qr,Hr=function t(e,i){return t.css.apply(t,arguments)};Hr.css=function(t,e){return Object.keys(e).forEach(function(i){i in t.style?t.style[i]=e[i]:Hr._prefix(i)in t.style?t.style[Hr._prefix(i)]=e[i]:De.warn("No such style property: "+i)}),t},Hr._prefix=(Vr=window.getComputedStyle(document.documentElement,""),qr=(Array.prototype.slice.call(Vr).join("").match(/-(moz|webkit|ms)-/)||""===Vr.OLink&&["","o"])[1],function(t){return qr+t.substr(0,1).toUpperCase()+t.substr(1)}),Hr.clear=function(t){Hr._clear(t)},Hr._clear=function(t){for(var e=t.style.length,i=t.style,n=[],r=0;r<e;r++)n.push(i[r]);n.forEach(function(t){i[t]=""})};var Ur="speed-dial",Zr={"":"speed-dial--*"},Wr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile()}),this._itemShown=!1,this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){this.classList.add(Ur),Se.prepare(this),this._updateRipple(),we.initModifier(this,Zr),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains(Ur)||(this.className=Ur+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,Zr);break;case"ripple":wi(this,function(){return n._updateRipple()});break;case"direction":wi(this,function(){return n._updateDirection(i)});break;case"position":wi(this,function(){return n._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){return this.onClick?(this.onClick.apply(this),Promise.resolve()):!this.disabled&&this.visible?this.toggleItems():void 0}},{key:"_show",value:function(){return this.inline?Promise.resolve():this.show()}},{key:"_hide",value:function(){var t=this;return new Promise(function(e){t.inline?e():setImmediate(function(){return t.hide().then(e)})})}},{key:"_updateRipple",value:function(){this._fab&&(this.hasAttribute("ripple")?this._fab.setAttribute("ripple",""):this._fab.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,i=0;i<e.length;i++)Hr(e[i],{transitionDelay:25*i+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var n=0;n<e.length;n++)e[n].style.bottom=72+56*n+"px",e[n].style.right="8px";break;case"down":for(var r=0;r<e.length;r++)e[r].style.top=72+56*r+"px",e[r].style.left="8px";break;case"left":for(var o=0;o<e.length;o++)e[o].style.top="8px",e[o].style.right=72+56*o+"px";break;case"right":for(var s=0;s<e.length;s++)e[s].style.top="8px",e[s].style.left=72+56*s+"px";break;default:throw new Error("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){return this._fab.show(),Promise.resolve()}},{key:"hide",value:function(){var t=this;return this.hideItems().then(function(){return t._fab.hide()})}},{key:"showItems",value:function(){this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up");var t=0;if(!this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*i;t+=n,Hr(e[i],{transform:"scale(1)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!0,De.triggerElementEvent(this,"open")}var r=De.defer();return setTimeout(r.resolve,t),r.promise}},{key:"hideItems",value:function(){var t=0;if(this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*(e.length-i);t+=n,Hr(e[i],{transform:"scale(0)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!1,De.triggerElementEvent(this,"close")}var r=De.defer();return setTimeout(r.resolve,t),r.promise}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){return this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return De.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"_fab",get:function(){return De.findChild(this,"ons-fab")}},{key:"disabled",set:function(t){return t&&this.hideItems(),De.arrayFrom(this.children).forEach(function(e){De.match(e,".fab")&&De.toggleAttribute(e,"disabled",t)}),De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._fab.visible&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["class","modifier","ripple","direction","position"]}},{key:"events",get:function(){return["open","close"]}}]),e}();customElements.define("ons-speed-dial",Wr);var Gr={ready:function(t,e){setImmediate(e)}},Yr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=Vi,wi(this,function(){Gr.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})})}},{key:"connectedCallback",value:function(){if(!De.match(this.parentNode,"ons-splitter"))throw new Error('"ons-splitter-content" must have "ons-splitter" as parentNode.')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"load",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var n=i.callback||function(){};return new Promise(function(i){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),n(t),i(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Fi))throw Error("First parameter must be an instance of PageLoader");this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return Gr}}]),e}();customElements.define("ons-splitter-content",Yr);var Xr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._boundOnClick=this._onClick.bind(this),wi(this,function(){t.parentNode._sides.every(function(t){return"split"===t.mode})&&t.setAttribute("style","display: none !important")})}},{key:"_onClick",value:function(t){this.onClick instanceof Function?this.onClick():De.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick)}}],[{key:"observedAttributes",get:function(){return[]}}]),e}();customElements.define("ons-splitter-mask",Xr);var $r=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"cubic-bezier(.1, .7, .1, 1)":i,o=t.duration,s=void 0===o?.3:o,a=t.delay,u=void 0===a?0:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:s,delay:u}))}return l(e,Hi),o(e,[{key:"updateOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};De.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},t)}},{key:"activate",value:function(t){var e=this,i=t.parentNode;wi(i,function(){e._side=t,e._oppositeSide=i.right!==t&&i.right||i.left!==t&&i.left,e._content=i.content,e._mask=i.mask})}},{key:"deactivate",value:function(){this.clearTransition(),this.clearMask(),this._content=this._side=this._oppositeSide=this._mask=null}},{key:"clearTransition",value:function(){this._side&&(this._side.style.transform=this._side.style.transition=this._side.style.webkitTransition=""),this._mask&&(this._mask.style.transform=this._mask.style.transition=this._mask.style.webkitTransition=""),this._content&&(this._content.style.transform=this._content.style.transition=this._content.style.webkitTransition="")}},{key:"clearMask",value:function(){this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(this._mask.style.opacity="",this._mask.style.display="none")}},{key:"translate",value:function(t){}},{key:"open",value:function(t){t()}},{key:"close",value:function(t){t()}},{key:"minus",get:function(){return"right"===this._side._side?"-":""}}]),e}(),Qr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,$r),o(e,[{key:"translate",value:function(t){Ye(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(t){Ye.runAll(Ye(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(e){e(),t&&t()}),Ye(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(t){Ye.runAll(Ye(this._side).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(e){t&&t(),e()}),Ye(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}}]),e}(),Kr={default:Qr,overlay:Qr,push:function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,$r),o(e,[{key:"_getSlidingElements",value:function(){var t=[this._side,this._content];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"translate",value:function(t){this._slidingElements||(this._slidingElements=this._getSlidingElements()),Ye(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(t){var e=this,i=this._side.offsetWidth;this._slidingElements=this._getSlidingElements(),Ye.runAll(Ye(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+i)+"px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(i){e._slidingElements=null,i(),t&&t()}),Ye(this._mask).wait(this.delay).queue({display:"block"}))}},{key:"close",value:function(t){var i=this;this._slidingElements=this._getSlidingElements(),Ye.runAll(Ye(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(n){i._slidingElements=null,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clearTransition",i).call(i),t&&t(),n()}),Ye(this._mask).wait(this.delay).queue({display:"none"}))}}]),e}(),reveal:function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,$r),o(e,[{key:"_getSlidingElements",value:function(){var t=[this._content,this._mask];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"activate",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this,t),this.maxWidth=this._getMaxWidth(),"collapse"===t.mode&&this._setStyles(t)}},{key:"deactivate",value:function(){this._unsetStyles(this._side),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}},{key:"_setStyles",value:function(t){t.style.left="right"===t.side?"auto":0,t.style.right="right"===t.side?0:"auto",t.style.zIndex=0,t.style.opacity=.9,t.style.visibility="hidden";var e=t.parentElement;e.style.backgroundColor="black",wi(e,function(){e.content&&(e.content.style.boxShadow="0 0 12px 0 rgba(0, 0, 0, 0.2)")})}},{key:"_unsetStyles",value:function(t){t.style.left=t.style.right=t.style.zIndex=t.style.opacity=t.style.visibility="",this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(t.parentElement.style.backgroundColor="",t.parentElement.content&&(t.parentElement.content.style.boxShadow=""))}},{key:"_generateBehindPageStyle",value:function(t){var e=this.maxWidth,i=(t-e)/e*10;return i=isNaN(i)?0:Math.max(Math.min(i,0),-10),{transform:"translate3d("+(this.minus?-1:1)*i+"%, 0, 0)",opacity:1+i/100}}},{key:"translate",value:function(t){this.maxWidth=this.maxWidth||this._getMaxWidth();var e=this._generateBehindPageStyle(Math.min(t,this.maxWidth));this._side.style.visibility="visible",this._slidingElements||(this._slidingElements=this._getSlidingElements()),Ye.runAll(Ye(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}),Ye(this._side).queue(e))}},{key:"open",value:function(t){var e=this;this.maxWidth=this.maxWidth||this._getMaxWidth();var i=this._generateBehindPageStyle(this.maxWidth);this._slidingElements=this._getSlidingElements(),this._side.style.visibility="visible",Ye.runAll(Ye(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+this.maxWidth)+"px, 0px, 0px)"},{duration:this.duration,timing:this.timing}),Ye(this._mask).wait(this.delay).queue({display:"block"}),Ye(this._side).wait(this.delay).queue(i,{duration:this.duration,timing:this.timing}).queue(function(i){e._slidingElements=null,i(),t&&t()}))}},{key:"close",value:function(t){var i=this,n=this._generateBehindPageStyle(0);this._slidingElements=this._getSlidingElements(),this._side.style.visibility="visible",Ye.runAll(Ye(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}),Ye(this._mask).wait(this.delay).queue({display:"none"}),Ye(this._side).wait(this.delay).queue(n,{duration:this.duration,timing:this.timing}).queue(function(n){i._slidingElements=null,i._side.style.visibility="hidden",u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clearTransition",i).call(i),t&&t(),n()}))}},{key:"_getMaxWidth",value:function(){return this._side.offsetWidth}}]),e}()},Jr=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"_getSide",value:function(t){return De.findChild(this,function(e){return De.match(e,"ons-splitter-side")&&e.getAttribute("side")===t})}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&wi(this,function(){e._layout()})}},{key:"_layout",value:function(){var t=this;this._sides.forEach(function(e){t.content.style[e.side]="split"===e.mode?e._width:0})}},{key:"init",value:function(){var t=this;this._boundOnModeChange=this._onModeChange.bind(this),wi(this,function(){t._compile(),t._layout()})}},{key:"_compile",value:function(){this.mask||this.appendChild(document.createElement("ons-splitter-mask"))}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._boundOnModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._boundOnModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"_show",value:function(){De.propagateAction(this,"_show")}},{key:"_hide",value:function(){De.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){De.propagateAction(this,"_destroy"),this.remove()}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"side",get:function(){return De.findChild(this,"ons-splitter-side")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return De.findChild(this,"ons-splitter-content")}},{key:"topPage",get:function(){return this.content._content}},{key:"mask",get:function(){return De.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=Ii.createHandler(this,t)}}],[{key:"registerAnimator",value:function(t,e){if(!(e instanceof SplitterAnimator))throw new Error("Animator parameter must be an instance of SplitterAnimator.");Kr[t]=e}},{key:"SplitterAnimator",get:function(){return SplitterAnimator}},{key:"animators",get:function(){return Kr}}]),e}();customElements.define("ons-splitter",Jr);var to="collapse",eo="closed",io=["animation","width","side","collapse","swipeable","swipe-target-width","animation-options","open-threshold"],no={ready:function(t,e){setImmediate(e)}},ro=function(){function t(e,i){r(this,t),this._element=e,this._boundOnChange=this._onChange.bind(this),i&&this.changeTarget(i)}return o(t,[{key:"changeTarget",value:function(t){this.disable(),this._target=t,t&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?to:"split")}},{key:"activate",value:function(){this._orientation?(Ei.on("change",this._boundOnChange),this._onChange({isPortrait:Ei.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._boundOnChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?Ei.off("change",this._boundOnChange):this._queryResult&&(this._queryResult.removeListener(this._boundOnChange),this._queryResult=null)}}]),t}(),oo=function(){function t(e){r(this,t),this._active=!1,this._state=eo,this._element=e,this._lock=new Ni}return o(t,[{key:"_animator",get:function(){return this._element._animator}}]),o(t,[{key:"isOpen",value:function(){return this._active&&this._state!==eo}},{key:"handleGesture",value:function(t){!this._active||this._lock.isLocked()||this._isOpenOtherSideMenu()||("dragstart"===t.type?this._onDragStart(t):this._ignoreDrag||("dragend"===t.type?this._onDragEnd(t):this._onDrag(t)))}},{key:"_onDragStart",value:function(t){var e,i,n,r,o=!/left|right/.test(t.gesture.direction),s="left"===this._element._side?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX,a=this._element._swipeTargetWidth,u=this.isOpen();this._ignoreDrag=o||a&&s>a&&!u,this._width=(e=this._element._width,i=this._element.parentNode,n=[parseInt(e,10),/px/.test(e)],r=n[0],n[1]?r:Math.round(i.offsetWidth*r/100)),this._startDistance=this._distance=u?this._width:0}},{key:"_onDrag",value:function(t){t.gesture.preventDefault();var e="left"===this._element._side?t.gesture.deltaX:-t.gesture.deltaX,i=Math.max(0,Math.min(this._width,this._startDistance+e));i!==this._distance&&(this._animator.translate(i),this._distance=i,this._state="changing")}},{key:"_onDragEnd",value:function(t){var e=this._distance,i=this._width,n=this._element,r=t.gesture.interimDirection,o=n._side!==r&&e>i*n._threshold;this.executeAction(o?"open":"close"),this._ignoreDrag=!0}},{key:"layout",value:function(){this._active&&"open"===this._state&&this._animator.open()}},{key:"enterMode",value:function(){this._active||(this._active=!0,this._animator&&this._animator.activate(this._element),this.layout())}},{key:"exitMode",value:function(){this._animator&&this._animator.deactivate(),this._state=eo,this._active=!1}},{key:"_isOpenOtherSideMenu",value:function(){var t=this;return De.arrayFrom(this._element.parentElement.children).some(function(e){return De.match(e,"ons-splitter-side")&&e!==t._element&&e.isOpen})}},{key:"executeAction",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="open"===t?"open":eo;if(!this._active)return Promise.resolve(!1);if(this._state===n)return Promise.resolve(this._element);if(this._lock.isLocked())return Promise.reject("Splitter side is locked.");if("open"===t&&this._isOpenOtherSideMenu())return Promise.reject("Another menu is already open.");if(this._element._emitEvent("pre"+t))return Promise.reject("Canceled in pre"+t+" event.");var r=i.callback,o=this._lock.lock(),s=function(){e._state=n,e.layout(),o(),e._element._emitEvent("post"+t),r&&r()};return i.withoutAnimation?(s(),Promise.resolve(this._element)):(this._state="changing",new Promise(function(i){e._animator[t](function(){s(),i(e._element)})}))}}]),t}(),so=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=Vi,this._collapseMode=new oo(this),this._collapseDetection=new ro(this),this._animatorFactory=new be({animators:Jr.animators,baseClass:$r,baseClassName:"SplitterAnimator",defaultAnimation:this.getAttribute("animation")}),this._boundHandleGesture=function(e){return t._collapseMode.handleGesture(e)},this._watchedAttributes=io,wi(this,function(){no.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})})}},{key:"connectedCallback",value:function(){var t=this;if(!De.match(this.parentNode,"ons-splitter"))throw new Error("Parent must be an ons-splitter element.");this._gestureDetector=new Xe(this.parentElement,{dragMinDistance:1}),wi(this,function(){t._watchedAttributes.forEach(function(e){return t._update(e)})}),this.hasAttribute("side")||this.setAttribute("side","left")}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){this._collapseDetection.disable(),this._gestureDetector.dispose(),this._gestureDetector=null}},{key:"attributeChangedCallback",value:function(t,e,i){this._update(t,i)}},{key:"_update",value:function(t,e){return this[t="_update"+t.split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")](e)}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return De.triggerElementEvent(this,t,{side:this});var e=!1;return De.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_updateCollapse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode("split")):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode(to)):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this._collapseMode[t===to?"enterMode":"exitMode"](),this.setAttribute("mode",t),De.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateOpenThreshold",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("open-threshold");this._threshold=Math.max(0,Math.min(1,parseFloat(t)||.3))}},{key:"_updateSwipeable",value:function(){var t=null===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipeable"))?"off":"on";this._gestureDetector&&this._gestureDetector[t]("dragstart dragleft dragright dragend",this._boundHandleGesture)}},{key:"_updateSwipeTargetWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipe-target-width");this._swipeTargetWidth=Math.max(0,parseInt(t)||0)}},{key:"_updateWidth",value:function(){this.style.width=this._width}},{key:"_updateSide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("side");this._side="right"===t?t:"left"}},{key:"_updateAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this._animator&&this._animator.deactivate(),this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this)}},{key:"_updateAnimationOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(be.parseAnimationOptionsString(t))}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("open",t)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("close",t)}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isOpen?this.close(t):this.open(t)}},{key:"load",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var n=i.callback||function(){};return new Promise(function(i){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),n(t),i(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"_width",get:function(){var t=this.getAttribute("width");return/^\d+(px|%)$/.test(t)?t:"80%"},set:function(t){this.setAttribute("width",t)}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof Fi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"isOpen",get:function(){return this._collapseMode.isOpen()}}],[{key:"observedAttributes",get:function(){return io}},{key:"events",get:function(){return["preopen","postopen","preclose","postclose","modechange"]}},{key:"rewritables",get:function(){return no}}]),e}();customElements.define("ons-splitter-side",so);var ao="switch",uo={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},lo=De.createFragment('\n  <input type="checkbox" class="switch__input">\n  <div class="switch__toggle">\n    <div class="switch__handle">\n      <div class="switch__touch"></div>\n    </div>\n  </div>\n'),co={ios:[1,21],material:[0,16]},ho=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._checked=!1,this._disabled=!1,this._boundOnChange=this._onChange.bind(this),wi(this,function(){t._compile(),["checked","disabled","modifier","name","value","input-id"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})})}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(ao),De.findChild(this,".switch__input")&&De.findChild(this,".switch__toggle")||this.appendChild(lo.cloneNode(!0)),we.initModifier(this,uo),this._checkbox=this.querySelector(".switch__input"),this._handle=this.querySelector(".switch__handle"),this._checkbox.checked=this._checked,this._checkbox.disabled=this._disabled}},{key:"disconnectedCallback",value:function(){var t=this;wi(this,function(){t._checkbox.removeEventListener("change",t._boundOnChange),t.removeEventListener("dragstart",t._onDragStart),t.removeEventListener("hold",t._onHold),t.removeEventListener("tap",t.click),t.removeEventListener("click",t._onClick),t._gestureDetector&&t._gestureDetector.dispose()})}},{key:"connectedCallback",value:function(){var t=this;wi(this,function(){t._checkbox.addEventListener("change",t._boundOnChange),t.addEventListener("dragstart",t._onDragStart),t.addEventListener("hold",t._onHold),t.addEventListener("tap",t.click),t.addEventListener("click",t._onClick),t._gestureDetector=new Xe(t,{dragMinDistance:1,holdTimeout:251}),t._boundOnRelease=t._onRelease.bind(t)})}},{key:"_onChange",value:function(t){t&&t.stopPropagation&&t.stopPropagation(),this.click()}},{key:"_onClick",value:function(t){t.target.classList.contains("switch__touch")&&t.preventDefault()}},{key:"click",value:function(){this._disabled||(this.checked=!this.checked,De.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}))}},{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_onHold",value:function(t){this.disabled||(we.addModifier(this,"active"),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDragStart",value:function(t){this.disabled||-1===["left","right"].indexOf(t.gesture.direction)?we.removeModifier(this,"active"):(t.stopPropagation(),we.addModifier(this,"active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDrag",value:function(t){t.gesture.srcEvent.preventDefault(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,i=this._getPosition(t),n=this.checked;this.checked=i>=(e[0]+e[1])/2,this.checked!==n&&De.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._boundOnRelease),this._handle.style.left="",we.removeModifier(this,"active")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;wi(this,function(){switch(t){case"class":n.classList.contains(ao)||(n.className=ao+" "+i);break;case"modifier":n._isMaterial=-1!==(i||"").indexOf("material"),n._locations=co[n._isMaterial?"material":"ios"],we.onModifierChanged(e,i,n,uo);break;case"input-id":n._checkbox.id=i;break;case"checked":n._checked=null!==i,n._checkbox.checked=null!==i,De.toggleAttribute(n._checkbox,t,null!==i);break;case"disabled":n._disabled=null!==i,n._checkbox.disabled=null!==i,De.toggleAttribute(n._checkbox,t,null!==i);break;default:null!==i?n._checkbox.setAttribute(t,i):n._checkbox.removeAttribute(t)}})}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=!!t,De.toggleAttribute(this,"checked",this._checked)}},{key:"disabled",get:function(){return this._disabled},set:function(t){var e=this;wi(this,function(){e._disabled=!!t,De.toggleAttribute(e,"disabled",e._disabled),e._checkbox.disabled=e._disabled})}},{key:"checkbox",get:function(){return this._checkbox}},{key:"value",get:function(){return this.hasOwnProperty("_checkbox")?this._checkbox.value:this.getAttribute("value")},set:function(t){var e=this;wi(this,function(){e._checkbox.value=t})}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","checked","value","disabled","class"]}},{key:"events",get:function(){return["change"]}}]),e}();customElements.define("ons-switch",ho);var po,fo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"linear":i,o=t.duration,s=void 0===o?.4:o,a=t.delay,u=void 0===a?0:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:s,delay:u}))}return l(e,Hi),o(e,[{key:"apply",value:function(t,e,i,n,r){throw new Error("This method must be implemented.")}}]),e}(),mo=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,fo),o(e,[{key:"apply",value:function(t,e,i,n,r){setTimeout(r,1e3/60)}}]),e}(),vo=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,fo),o(e,[{key:"apply",value:function(t,e,i,n,r){Ye.runAll(Ye(t).saveStyle().queue({transform:"translate3D(0, 0, 0)",opacity:0}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),Ye(e).queue({transform:"translate3D(0, 0, 0)",opacity:1}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:this.duration,timing:this.timing}))}}]),e}(),go=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.timing,n=void 0===i?"ease-in":i,o=t.duration,s=void 0===o?.15:o,a=t.delay,u=void 0===a?0:a;return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:n,duration:s,delay:u}))}return l(e,fo),o(e,[{key:"apply",value:function(t,e,i,n,r){var o=i>n;Ye.runAll(Ye(t).saveStyle().queue({transform:"translate3D("+(o?"":"-")+"100%, 0, 0)"}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)"},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),Ye(e).queue({transform:"translate3D(0, 0, 0)"}).wait(this.delay).queue({transform:"translate3D("+(o?"-":"")+"100%, 0, 0)"},{duration:this.duration,timing:this.timing}))}}]),e}(),_o={".tabbar__content":"tabbar--*__content",".tabbar":"tabbar--*"},yo={default:mo,fade:vo,slide:go,none:mo},bo={ready:function(t,e){e()}},wo=(po=0,function(){return"ons-tabbar-gen-"+po++}),ko=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._tabbarId=wo(),wi(this,function(){t._compile();for(var e=t._contentElement,i=0;i<e.children.length;i++)e.children[i].style.display="none";var n=t.getAttribute("activeIndex"),r=t._tabbarElement;n&&r.children.length>n&&r.children[n].setAttribute("active","true"),Se.prepare(t),we.initModifier(t,_o),t._animatorFactory=new be({animators:yo,baseClass:fo,baseClassName:"TabbarAnimator",defaultAnimation:t.getAttribute("animation")})})}},{key:"connectedCallback",value:function(){var t=this;wi(this,function(){return t._updatePosition()})}},{key:"_compile",value:function(){if(this._contentElement&&this._tabbarElement){var t=De.findChild(this,".tabbar__content"),e=De.findChild(this,".tabbar");t.classList.add("ons-tabbar__content"),e.classList.add("ons-tabbar__footer")}else{for(var i=De.create(".ons-tabbar__content.tabbar__content"),n=De.create(".tabbar.ons-tabbar__footer");this.firstChild;)n.appendChild(this.firstChild);this.appendChild(i),this.appendChild(n)}}},{key:"_updatePosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),i=this._top="top"===e||"auto"===e&&ge.isAndroid(),n=i?De.addModifier:De.removeModifier;n(this,"top");var r=De.findParent(this,"ons-page");r&&wi(r,function(){t.style.top=i?window.getComputedStyle(r._getContentElement(),null).getPropertyValue("padding-top"):"",r.children[0]&&De.match(r.children[0],"ons-toolbar")&&n(r.children[0],"noshadow")}),ye.autoStatusBarFill(function(){var e=De.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});De.toggleAttribute(t,"status-bar-fill",i&&!e)})}},{key:"_getTabbarElement",value:function(){return De.findChild(this,".tabbar")}},{key:"getTabbarId",value:function(){return this._tabbarId}},{key:"_getCurrentPageElement",value:function(){for(var t=this._contentElement.children,e=null,i=0;i<t.length;i++)if("none"!==t[i].style.display){e=t[i];break}if(e&&"ons-page"!==e.nodeName.toLowerCase())throw new Error('Invalid state: page element must be a "ons-page" element.');return e}},{key:"_switchPage",value:function(t,e){var i=this._oldPageElement||ye.nullElement;this._oldPageElement=t;var n=this._animatorFactory.newAnimator(e);return new Promise(function(r){i!==ye.nullElement&&i._hide(),n.apply(t,i,e.selectedTabIndex,e.previousTabIndex,function(){i!==ye.nullElement&&(i.style.display="none"),t.style.display="block",t._show(),e.callback instanceof Function&&e.callback(),r(t)})})}},{key:"setActiveTab",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&"object"!=(void 0===i?"undefined":n(i)))throw new Error("options must be an object. You supplied "+i);i.animationOptions=De.extend(i.animationOptions||{},be.parseAnimationOptionsString(this.getAttribute("animation-options"))),!i.animation&&this.hasAttribute("animation")&&(i.animation=this.getAttribute("animation"));var r=this._getActiveTabElement(),o=this._getTabElement(t),s=this.getActiveTabIndex(),u=t,l=this._getCurrentPageElement();if(!o)return Promise.reject("Specified index does not match any tab.");if(u===s)return De.triggerElementEvent(this,"reactive",{index:u,tabItem:o}),Promise.resolve(l);var c=!1;if(De.triggerElementEvent(this,"prechange",{index:u,tabItem:o,cancel:function(){return c=!0}}),c)return o.setInactive(),r&&r.setActive(),Promise.reject("Canceled in prechange event.");o.setActive();var h=a({},i,{previousTabIndex:s,selectedTabIndex:u});return r?r.setInactive():h.animation="none",new Promise(function(t){o._loadPageElement(e._contentElement,function(i){i.removeAttribute("style"),e._switchPage(i,h).then(function(i){return De.triggerElementEvent(e,"postchange",{index:u,tabItem:o}),t(i)})})})}},{key:"setTabbarVisibility",value:function(t){this._contentElement.style[this._top?"top":"bottom"]=t?"":"0px",this._getTabbarElement().style.display=t?"":"none"}},{key:"show",value:function(){this.setTabbarVisibility(!0)}},{key:"hide",value:function(){this.setTabbarVisibility(!1)}},{key:"getActiveTabIndex",value:function(){for(var t=this._getTabbarElement().children,e=0;e<t.length;e++)if(t[e]instanceof Oo&&t[e].isActive&&t[e].isActive())return e;return-1}},{key:"_getActiveTabElement",value:function(){return this._getTabElement(this.getActiveTabIndex())}},{key:"_getTabElement",value:function(t){return this._getTabbarElement().children[t]}},{key:"disconnectedCallback",value:function(){}},{key:"_show",value:function(){var t=this._getCurrentPageElement();t&&t._show()}},{key:"_hide",value:function(){var t=this._getCurrentPageElement();t&&t._hide()}},{key:"_destroy",value:function(){for(var t=this._getTabbarElement().children,e=t.length-1;e>=0;e--)t[e].remove();this.remove()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return we.onModifierChanged(e,i,this,_o)}},{key:"_contentElement",get:function(){return De.findChild(this,".tabbar__content")}},{key:"_tabbarElement",get:function(){return De.findChild(this,".tabbar")}},{key:"topPage",get:function(){return this._getCurrentPageElement()}},{key:"pages",get:function(){return De.arrayFrom(this._contentElement.children)}},{key:"visible",get:function(){return"none"!==this._getTabbarElement().style.display}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof fo))throw new Error('"Animator" param must inherit TabbarElement.TabbarAnimator');yo[t]=e}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"rewritables",get:function(){return bo}},{key:"TabbarAnimator",get:function(){return fo}},{key:"events",get:function(){return["prechange","postchange","reactive"]}},{key:"animators",get:function(){return yo}}]),e}();customElements.define("ons-tabbar",ko);var xo="tabbar__item",Co={"":"tabbar--*__item",".tabbar__button":"tabbar--*__button"},Eo=De.createElement('\n  <div>\n    <input type="radio" style="display: none">\n    <button class="tabbar__button"></button>\n  </div>\n'),Lo=De.createElement('\n  <div>\n    <div class="tabbar__icon">\n      <ons-icon icon="ion-cloud"></ons-icon>\n    </div>\n    <div class="tabbar__label">label</div>\n    <div class="tabbar__badge notification">1</div>\n  </div>\n'),Oo=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;this._pageLoader=Vi,this._page=null,this.hasAttribute("label")||this.hasAttribute("icon")||this.hasAttribute("badge")?this._compile():wi(this,function(){t._compile()}),this._boundOnClick=this._onClick.bind(this)}},{key:"_getPageTarget",value:function(){return this.page||this.getAttribute("page")}},{key:"_templateLoaded",value:function(){if(0==this.children.length)return!1;var t="radio"===this._input.getAttribute("type"),e=this._button;return!(!t||!e)}},{key:"_compile",value:function(){if(Se.prepare(this),this.classList.add(xo),!this._templateLoaded()){for(var t=document.createDocumentFragment(),e=!1;this.childNodes[0];){var i=this.childNodes[0];this.removeChild(i),t.appendChild(i),i.nodeType==Node.ELEMENT_NODE&&(e=!0)}for(var n=Eo.cloneNode(!0);n.children[0];)this.appendChild(n.children[0]);e?(this._button.appendChild(t),this._hasDefaultTemplate=!1):(this._hasDefaultTemplate=!0,this._updateDefaultTemplate())}we.initModifier(this,Co),this._updateRipple()}},{key:"_updateRipple",value:function(){De.updateRipple(this.querySelector(".tabbar__button"),this.hasAttribute("ripple"))}},{key:"_updateDefaultTemplate",value:function(){if(this._hasDefaultTemplate){var t=this._button,e=Lo.cloneNode(!0);if(0===t.children.length)for(;e.children[0];)t.appendChild(e.children[0]);t.querySelector(".tabbar__icon")||t.insertBefore(e.querySelector(".tabbar__icon"),t.firstChild),t.querySelector(".tabbar__label")||t.appendChild(e.querySelector(".tabbar__label")),t.querySelector(".tabbar__badge")||t.appendChild(e.querySelector(".tabbar__badge"));var i=this.getAttribute("icon"),n=this.getAttribute("label"),r=this.getAttribute("badge"),o=t.querySelector(".tabbar__icon").children[0],s=t.querySelector(".tabbar__label"),a=t.querySelector(".tabbar__badge");if(o)if("string"==typeof i){var u=o.getAttribute("icon");o.setAttribute("icon",i),o.attributeChangedCallback("icon",u,i)}else o.parentElement.remove();s&&("string"==typeof n?s.textContent=n:s.remove()),a&&("string"==typeof r?a.textContent=r:a.remove())}}},{key:"_onClick",value:function(){if(this.onClick instanceof Function)this.onClick();else{var t=this._findTabbarElement();t&&t.setActiveTab(this._findTabIndex())}}},{key:"setActive",value:function(){if(this._input.checked=!0,this.classList.add("active"),this.setAttribute("active",""),this.hasAttribute("icon")&&this.hasAttribute("active-icon")){var t=this.getAttribute("active-icon");this._button.querySelector(".tabbar__icon").children[0].setAttribute("icon",t)}De.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="none"}),De.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="inherit"})}},{key:"setInactive",value:function(){if(this._input.checked=!1,this.classList.remove("active"),this.removeAttribute("active"),this.hasAttribute("icon")){var t=this.getAttribute("icon");this._button.querySelector(".tabbar__icon").children[0].setAttribute("icon",t)}De.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="inherit"}),De.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="none"})}},{key:"_loadPageElement",value:function(t,e){var i=this;if(this._loadedPage||this._getPageTarget())if(this._loadingPage)this._loadingPage.then(function(t){e(t)});else if(this._loadedPage)e(this._loadedPage);else{var n=De.defer();this._loadingPage=n.promise,this._pageLoader.load({page:this._getPageTarget(),parent:t},function(t){i._loadedPage=t,n.resolve(t),delete i._loadingPage,e(t)})}else{var r=this._findTabbarElement().pages,o=this._findTabIndex();if(!r[o])throw Error("Page was not provided to <ons-tab> index "+o);e(r[o])}}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null)}},{key:"connectedCallback",value:function(){var t=this;wi(this,function(){t._ensureElementPosition();var e=t._findTabbarElement();if(e.hasAttribute("modifier")){var i=t.hasAttribute("modifier")?t.getAttribute("modifier")+" ":"";t.setAttribute("modifier",i+e.getAttribute("modifier"))}ko.rewritables.ready(e,function(){t._getPageTarget()&&!t.hasLoaded&&(t.hasLoaded=!0,t._loadPageElement(e._contentElement,function(t){t.style.display="none",e._contentElement.appendChild(t)})),t.hasAttribute("active")&&e.setActiveTab(t._findTabIndex())}),t.addEventListener("click",t._boundOnClick,!1)})}},{key:"_findTabbarElement",value:function(){return this.parentNode&&"ons-tabbar"===this.parentNode.nodeName.toLowerCase()?this.parentNode:this.parentNode.parentNode&&"ons-tabbar"===this.parentNode.parentNode.nodeName.toLowerCase()?this.parentNode.parentNode:null}},{key:"_findTabIndex",value:function(){for(var t=this.parentNode.children,e=0;e<t.length;e++)if(this===t[e])return e}},{key:"_ensureElementPosition",value:function(){if(!this._findTabbarElement())throw new Error("This ons-tab element is must be child of ons-tabbar element.")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":this.classList.contains(xo)||(this.className=xo+" "+i);break;case"modifier":wi(this,function(){return we.onModifierChanged(e,i,n,Co)});break;case"ripple":this._templateLoaded()&&wi(this,function(){return n._updateRipple()});break;case"icon":case"label":case"badge":wi(this,function(){return n._updateDefaultTemplate()});break;case"page":"string"==typeof i&&(this._page=i)}}},{key:"page",set:function(t){this._page=t},get:function(){return this._page}},{key:"pageLoader",set:function(t){if(!(t instanceof Fi))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t},get:function(){return this._pageLoader}},{key:"_input",get:function(){return this.children[0]}},{key:"_button",get:function(){return De.findChild(this,".tabbar__button")}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var t=this._findTabbarElement(),e=this._findTabIndex();return t._contentElement.children[e]}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge","class"]}}]),e}();customElements.define("ons-tab",Oo);var So="toolbar-button",Po={"":"toolbar-button--*"},Ao=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){Se.prepare(this),this.classList.add(So),we.initModifier(this,Po)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":this.classList.contains(So)||(this.className=So+" "+i);break;case"modifier":we.onModifierChanged(e,i,this,Po)}}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();customElements.define("ons-toolbar-button",Ao);var Mo={"":"range--*",".range__input":"range--*__input"},To=["autofocus","disabled","inputmode","max","min","name","placeholder","readonly","size","step","validator","value"],jo=function(t){function e(){return r(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,Zi),o(e,[{key:"init",value:function(){var t=this;wi(this,function(){t._compile(),t._updateBoundAttributes(),t._onChange()})}},{key:"_compile",value:function(){if(this.classList.add("range"),Se.prepare(this),!De.findChild(this,".range__input")){var t=document.createElement("input");t.setAttribute("type","range"),t.classList.add("range__input"),this.appendChild(t)}we.initModifier(this,Mo),this._updateDisabled()}},{key:"_onChange",value:function(){this._input.style.backgroundSize=100*this._ratio+"% 2px"}},{key:"_onDragstart",value:function(t){t.stopPropagation(),t.gesture.stopPropagation()}},{key:"_updateDisabled",value:function(){this.hasAttribute("disabled")?we.addModifier(this,"disabled"):we.removeModifier(this,"disabled")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;"modifier"===t?we.onModifierChanged(e,i,this,Mo):"class"===t?this.classList.contains("range")||(this.className="range "+i):"disabled"===t&&this._updateDisabled(),To.indexOf(t)>=0&&wi(this,function(){n._updateBoundAttributes(),"min"!==t&&"max"!==t||n._onChange()})}},{key:"connectedCallback",value:function(){this.addEventListener("dragstart",this._onDragstart),this.addEventListener("input",this._onChange)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("dragstart",this._onDragstart),this.removeEventListener("input",this._onChange)}},{key:"_updateBoundAttributes",value:function(){var t=this;To.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}},{key:"_input",get:function(){return this.querySelector("input.range__input")}},{key:"disabled",set:function(t){return De.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;wi(this,function(){e._input.value=t,e._onChange()})}}],[{key:"observedAttributes",get:function(){return["class","modifier"].concat(To)}},{key:"events",get:function(){return["input","change"]}}]),e}();return customElements.define("ons-range",jo),Ui.TemplateElement=Wi,Ui.IfElement=Gi,Ui.AlertDialogElement=tn,Ui.BackButtonElement=rn,Ui.BottomToolbarElement=an,Ui.ButtonElement=cn,Ui.CarouselItemElement=dn,Ui.CarouselElement=mn,Ui.ColElement=vn,Ui.DialogElement=xn,Ui.FabElement=En,Ui.GestureDetectorElement=Ln,Ui.IconElement=On,Ui.LazyRepeatElement=Sn,Ui.ListHeaderElement=Mn,Ui.ListTitleElement=In,Ui.ListItemElement=Bn,Ui.ListElement=zn,Ui.InputElement=Un,Ui.ModalElement=Xn,Ui.NavigatorElement=sr,Ui.PageElement=dr,Ui.PopoverElement=wr,Ui.ProgressBarElement=Cr,Ui.ProgressCircularElement=Or,Ui.PullHookElement=Pr,Ui.RippleElement=Tr,Ui.RowElement=jr,Ui.SelectElement=Br,Ui.SpeedDialItemElement=Fr,Ui.SpeedDialElement=Wr,Ui.SplitterContentElement=Yr,Ui.SplitterMaskElement=Xr,Ui.SplitterSideElement=so,Ui.SplitterElement=Jr,Ui.SwitchElement=ho,Ui.TabElement=Oo,Ui.TabbarElement=ko,Ui.ToolbarButtonElement=Ao,Ui.ToolbarElement=lr,Ui.RangeElement=jo,window.addEventListener("load",function(){Ui.fastClick=FastClick.attach(document.body)},!1),window.addEventListener("DOMContentLoaded",function(){Ui._deviceBackButtonDispatcher.enable(),Ui._defaultDeviceBackButtonHandler=Ui._deviceBackButtonDispatcher.createHandler(window.document.body,function(){navigator.app.exitApp()}),document.body._gestureDetector=new Ui.GestureDetector(document.body)},!1),Ui.ready(function(){Ui._setupLoadingPlaceHolders()}),(new Viewport).setup(),Ui},"object"==typeof t&&void 0!==i?i.exports=h():"function"==typeof define&&define.amd?define(h):c.ons=h()}),t.entry="js/onsenui.js"}),t.pkg("aurelia-templating-router",{},function(t){return t.file("dist/commonjs/aurelia-templating-router.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=t.RouteHref=t.RouterView=t.TemplatingRouteLoader=void 0;var o=e("aurelia-pal"),s=e("aurelia-router"),a=e("./route-loader"),u=e("./router-view"),l=e("./route-href");t.TemplatingRouteLoader=a.TemplatingRouteLoader,t.RouterView=u.RouterView,t.RouteHref=l.RouteHref,t.configure=function(t){t.singleton(s.RouteLoader,a.TemplatingRouteLoader).singleton(s.Router,s.AppRouter).globalResources(o.PLATFORM.moduleName("./router-view"),o.PLATFORM.moduleName("./route-href")),t.container.registerAlias(s.Router,s.AppRouter)}}),t.file("dist/commonjs/route-loader.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingRouteLoader=void 0;var s=e("aurelia-dependency-injection"),a=e("aurelia-templating"),u=e("aurelia-router"),l=e("aurelia-path"),c=e("aurelia-metadata"),h=e("./router-view");t.TemplatingRouteLoader=(0,s.inject)(a.CompositionEngine)(o=function(t){function e(e){var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.compositionEngine=e,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.loadRoute=function(t,e){var i,n,r,o,s,d=t.container.createChild(),p={viewModel:/\.html/.test(e.moduleId)?(i=e.moduleId,s=/([^\/^\?]+)\.html/i.exec(i)[1],n=(0,a.customElement)(s),r=(0,a.useView)(i),n(o=r(o=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||o)||o):(0,l.relativeToFile)(e.moduleId,c.Origin.get(t.container.viewModel.constructor).moduleId),childContainer:d,view:e.view||e.viewStrategy,router:t};return d.registerSingleton(h.RouterViewLocator),d.getChildRouter=function(){var e=void 0;return d.registerHandler(u.Router,function(i){return e||(e=t.createChild(d))}),d.get(u.Router)},this.compositionEngine.ensureViewModel(p)},e}(u.RouteLoader))||o}),t.file("dist/commonjs/router-view.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.RouterViewLocator=t.RouterView=void 0;var p=e("aurelia-dependency-injection"),f=e("aurelia-binding"),m=e("aurelia-templating"),v=e("aurelia-router"),g=e("aurelia-metadata"),_=e("aurelia-pal");function y(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t.RouterView=(o=(0,m.customElement)("router-view"),s=(0,p.inject)(_.DOM.Element,p.Container,m.ViewSlot,v.Router,m.ViewLocator,m.CompositionTransaction,m.CompositionEngine),o(a=(0,m.noView)(a=s((u=function(){function t(t,e,i,n,r,o,s){y(this,"swapOrder",l,this),y(this,"layoutView",c,this),y(this,"layoutViewModel",h,this),y(this,"layoutModel",d,this),this.element=t,this.container=e,this.viewSlot=i,this.router=n,this.viewLocator=r,this.compositionTransaction=o,this.compositionEngine=s,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in o||(o.initialComposition=!0,this.compositionTransactionNotifier=o.enlist())}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.container.viewModel=t,this.overrideContext=e},t.prototype.process=function(t,e){var i=this,n=t.component,r=n.childContainer,o=n.viewModel,s=n.viewModelResource,a=s.metadata,u=n.router.currentInstruction.config,l=u.viewPorts?u.viewPorts[t.name]:{};r.get(w)._notify(this);var c={viewModel:l.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:l.layoutView||u.layoutView||this.layoutView,model:l.layoutModel||u.layoutModel||this.layoutModel,router:t.component.router,childContainer:r,viewSlot:this.viewSlot},h=this.viewLocator.getViewStrategy(n.view||o);return h&&n.view&&h.makeRelativeTo(g.Origin.get(n.router.container.viewModel.constructor).moduleId),a.load(r,s.value,null,h,!0).then(function(n){i.compositionTransactionNotifier||(i.compositionTransactionOwnershipToken=i.compositionTransaction.tryCapture()),(c.viewModel||c.view)&&(t.layoutInstruction=c),t.controller=a.create(r,m.BehaviorInstruction.dynamic(i.element,o,n)),e||i.swap(t)})},t.prototype.swap=function(t){var e=this,i=t.layoutInstruction,n=this.view,r=function(){var t=m.SwapStrategies[e.swapOrder]||m.SwapStrategies.after,i=e.viewSlot;t(i,n,function(){return Promise.resolve(i.add(e.view))}).then(function(){e._notify()})},o=function(i){return t.controller.automate(e.overrideContext,i),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e.compositionTransactionOwnershipToken=null,r()}):r()};return i?(i.viewModel||(i.viewModel={}),this.compositionEngine.createController(i).then(function(n){return m.ShadowDOM.distributeView(t.controller.view,n.slots||n.view.slots),n.automate((0,f.createOverrideContext)(i.viewModel),e.owningView),n.view.children.push(t.controller.view),n.view||n}).then(function(t){return e.view=t,o(t)})):(this.view=t.controller.view,o(this.owningView))},t.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},t}(),l=b(u.prototype,"swapOrder",[m.bindable],{enumerable:!0,initializer:null}),c=b(u.prototype,"layoutView",[m.bindable],{enumerable:!0,initializer:null}),h=b(u.prototype,"layoutViewModel",[m.bindable],{enumerable:!0,initializer:null}),d=b(u.prototype,"layoutModel",[m.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a);var w=t.RouterViewLocator=function(){function t(){var t=this;this.promise=new Promise(function(e){return t.resolve=e})}return t.prototype.findNearest=function(){return this.promise},t.prototype._notify=function(t){this.resolve(t)},t}()}),t.file("dist/commonjs/route-href.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.RouteHref=void 0;var s=e("aurelia-templating"),a=e("aurelia-dependency-injection"),u=e("aurelia-router"),l=e("aurelia-pal");var c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")).getLogger("route-href");t.RouteHref=(0,s.customAttribute)("route-href")(o=(0,s.bindable)({name:"route",changeHandler:"processChange"})(o=(0,s.bindable)({name:"params",changeHandler:"processChange"})(o=(0,s.bindable)({name:"attribute",defaultValue:"href"})(o=(0,a.inject)(u.Router,l.DOM.Element)(o=function(){function t(t,e){this.router=t,this.element=e}return t.prototype.bind=function(){this.isActive=!0,this.processChange()},t.prototype.unbind=function(){this.isActive=!1},t.prototype.attributeChanged=function(t,e){e&&this.element.removeAttribute(e),this.processChange()},t.prototype.processChange=function(){var t=this;return this.router.ensureConfigured().then(function(){if(!t.isActive)return null;var e=t.router.generate(t.route,t.params);return t.element.au.controller?t.element.au.controller.viewModel[t.attribute]=e:t.element.setAttribute(t.attribute,e),null}).catch(function(t){c.error(t)})},t}())||o)||o)||o)||o)||o}),t.entry="dist/commonjs/aurelia-templating-router.js"}),t.pkg("aurelia-pal-browser",{},function(t){return t.file("dist/commonjs/aurelia-pal-browser.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._DOM=t._FEATURE=t._PLATFORM=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.initialize=function(){if(_.isInitialized)return;(0,_.initializePAL)(function(t,e,i){Object.assign(t,y),Object.assign(e,L),Object.assign(i,S),Object.defineProperty(i,"title",{get:function(){return document.title},set:function(t){document.title=t}}),Object.defineProperty(i,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(t,"XMLHttpRequest",{get:function(){return t.global.XMLHttpRequest}})})};var s,a,u,l,c,h,d,p,f,m,v,g,_=e("aurelia-pal"),y=t._PLATFORM={location:window.location,history:window.history,addEventListener:function(t,e,i){this.global.addEventListener(t,e,i)},removeEventListener:function(t,e,i){this.global.removeEventListener(t,e,i)},performance:window.performance,requestAnimationFrame:function(t){return this.global.requestAnimationFrame(t)}};if("undefined"==typeof FEATURE_NO_IE){void 0===function(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})}if("undefined"==typeof FEATURE_NO_IE)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var b=document.createElement("_");if(b.classList.add("c1","c2"),!b.classList.contains("c2")){var w=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var i=0,n=arguments.length;i<n;++i)t=arguments[i],e.call(this,t)}};w("add"),w("remove")}b.classList.toggle("c3",!1),b.classList.contains("c3")&&(s=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:s.call(this,t)}),b=null}else a="prototype",u=String.prototype.trim,l=Array.prototype.indexOf,c=[],h=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},d=function(t,e){if(""===e)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return l.call(t,e)},f=(p=function(t){for(var e=u.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):c,n=0,r=i.length;n<r;++n)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}})[a]=[],h[a]=Error[a],f.item=function(t){return this[t]||null},f.contains=function(t){return-1!==d(this,t+="")},f.add=function(){for(var t=arguments,e=0,i=t.length,n=void 0,r=!1;n=t[e]+"",-1===d(this,n)&&(this.push(n),r=!0),++e<i;);r&&this._updateClassName()},f.remove=function(){var t=arguments,e=0,i=t.length,n=void 0,r=!1,o=void 0;do{for(n=t[e]+"",o=d(this,n);-1!==o;)this.splice(o,1),r=!0,o=d(this,n)}while(++e<i);r&&this._updateClassName()},f.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},f.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new p(this)},enumerable:!0,configurable:!0});if("undefined"==typeof FEATURE_NO_IE&&("performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&(m=Date.now(),performance.timing&&performance.timing.navigationStart&&(m=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-m}),y.performance=window.performance),"undefined"==typeof FEATURE_NO_IE&&(v=window.console=window.console||{},g=function(){},v.memory||(v.memory={}),"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",").forEach(function(t){v[t]||(v[t]=g)}),"object"===o(v.log)&&"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach(function(t){console[t]=this.bind(console[t],console)},Function.prototype.call)),"undefined"==typeof FEATURE_NO_IE&&(!window.CustomEvent||"function"!=typeof window.CustomEvent)){var k=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};k.prototype=window.Event.prototype,window.CustomEvent=k}if(Element&&!Element.prototype.matches){var x=Element.prototype;x.matches=x.matchesSelector||x.mozMatchesSelector||x.msMatchesSelector||x.oMatchesSelector||x.webkitMatchesSelector}var C,E,L=t._FEATURE={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:"content"in document.createElement("template"),mutationObserver:!(!window.MutationObserver&&!window.WebKitMutationObserver),ensureHTMLTemplateElement:function(t){return t}};"undefined"==typeof FEATURE_NO_IE&&(C=function(t){var e=t.ownerDocument.createElement("template"),i=t.attributes,n=i.length,r=void 0;for(t.parentNode.insertBefore(e,t);n-- >0;)r=i[n],e.setAttribute(r.name,r.value),t.removeAttribute(r.name);return t.parentNode.removeChild(t),E(e)},E=function(t){for(var e=t.content=document.createDocumentFragment(),i=void 0;i=t.firstChild;)e.appendChild(i);return t},L.htmlTemplateElement||(L.ensureHTMLTemplateElement=function(t){for(var e,i=E(t).content.querySelectorAll("template"),n=0,r=i.length;n<r;++n){var o=i[n];"template"===(e=o).tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI?C(o):E(o)}return t}));var O=window.ShadowDOMPolyfill||null,S=t._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(t,e,i){document.addEventListener(t,e,i)},removeEventListener:function(t,e,i){document.removeEventListener(t,e,i)},adoptNode:function(t){return document.adoptNode(t,!0)},createElement:function(t){return document.createElement(t)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},createDocumentFragment:function(){return document.createDocumentFragment()},createMutationObserver:function(t){return new(window.MutationObserver||window.WebKitMutationObserver)(t)},createCustomEvent:function(t,e){return new window.CustomEvent(t,e)},dispatchEvent:function(t){document.dispatchEvent(t)},getComputedStyle:function(t){return window.getComputedStyle(t)},getElementById:function(t){return document.getElementById(t)},querySelectorAll:function(t){return document.querySelectorAll(t)},nextElementSibling:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(;(t=t.nextSibling)&&1!==t.nodeType;);return t},createTemplateFromMarkup:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.firstElementChild;if(!i||"TEMPLATE"!==i.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return L.ensureHTMLTemplateElement(i)},appendNode:function(t,e){(e||document.body).appendChild(t)},replaceNode:function(t,e,i){e.parentNode?e.parentNode.replaceChild(t,e):null!==O?O.unwrap(i).replaceChild(O.unwrap(t),O.unwrap(e)):i.replaceChild(t,e)},removeNode:function(t,e){t.parentNode?t.parentNode.removeChild(t):e&&(null!==O?O.unwrap(e).removeChild(O.unwrap(t)):e.removeChild(t))},injectStyles:function(t,e,i){var n=document.createElement("style");return n.innerHTML=t,n.type="text/css",e=e||document.head,i&&e.childNodes.length>0?e.insertBefore(n,e.childNodes[0]):e.appendChild(n),n}}}),t.entry="dist/commonjs/aurelia-pal-browser.js"}),t.pkg("aurelia-templating-binding",{},function(t){return t.file("dist/commonjs/aurelia-templating-binding.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h;Object.defineProperty(t,"__esModule",{value:!0}),t.TemplatingBindingLanguage=t.SyntaxInterpreter=t.ChildInterpolationBinding=t.InterpolationBinding=t.InterpolationBindingExpression=t.AttributeMap=void 0,t.configure=function(t){t.container.registerSingleton(f.BindingLanguage,k),t.container.registerAlias(f.BindingLanguage,k)};var d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(e("aurelia-logging")),p=e("aurelia-binding"),f=e("aurelia-templating");var m=t.AttributeMap=(s=o=function(){function t(t){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=t,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return t.prototype.register=function(t,e,i){t=t.toLowerCase(),e=e.toLowerCase(),(this.elements[t]=this.elements[t]||Object.create(null))[e]=i},t.prototype.registerUniversal=function(t,e){t=t.toLowerCase(),this.allElements[t]=e},t.prototype.map=function(t,e){if(this.svg.isStandardSvgAttribute(t,e))return e;t=t.toLowerCase(),e=e.toLowerCase();var i=this.elements[t];return void 0!==i&&e in i?i[e]:e in this.allElements?this.allElements[e]:/(?:^data-)|(?:^aria-)|:/.test(e)?e:(0,p.camelCase)(e)},t}(),o.inject=[p.SVGAnalyzer],s),v=t.InterpolationBindingExpression=function(){function t(t,e,i,n,r,o){this.observerLocator=t,this.targetProperty=e,this.parts=i,this.mode=n,this.lookupFunctions=r,this.attribute=this.attrToRemove=o,this.discrete=!1}return t.prototype.createBinding=function(t){return 3===this.parts.length?new y(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new _(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)},t}();function g(t,e){if("style"===e)d.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(t.parentElement&&"TEXTAREA"===t.parentElement.nodeName&&"textContent"===e)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var _=t.InterpolationBinding=function(){function t(t,e,i,n,r,o){g(i,n),this.observerLocator=t,this.parts=e,this.target=i,this.targetProperty=n,this.targetAccessor=t.getAccessor(i,n),this.mode=r,this.lookupFunctions=o}return t.prototype.interpolate=function(){if(this.isBound){for(var t="",e=this.parts,i=0,n=e.length;i<n;i++)t+=i%2==0?e[i]:this["childBinding"+i].value;this.targetAccessor.setValue(t,this.target,this.targetProperty)}},t.prototype.updateOneTimeBindings=function(){for(var t=1,e=this.parts.length;t<e;t+=2){var i=this["childBinding"+t];i.mode===p.bindingMode.oneTime&&i.call()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.source=t;for(var e=this.parts,i=1,n=e.length;i<n;i+=2){var r=new y(this,this.observerLocator,e[i],this.mode,this.lookupFunctions);r.bind(t),this["childBinding"+i]=r}this.isBound=!0,this.interpolate()},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var t=1,e=this.parts.length;t<e;t+=2){this["childBinding"+t].unbind()}}},t}(),y=t.ChildInterpolationBinding=(0,p.connectable)()(a=function(){function t(t,e,i,n,r,o,s,a){t instanceof _?this.parent=t:(g(t,o),this.target=t,this.targetProperty=o,this.targetAccessor=e.getAccessor(t,o)),this.observerLocator=e,this.sourceExpression=i,this.mode=n,this.lookupFunctions=r,this.left=s,this.right=a}return t.prototype.updateTarget=function(t){(t=null==t?"":t.toString())!==this.value&&(this.value=t,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty))},t.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==p.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t;var e=this.sourceExpression;e.bind&&e.bind(this,t,this.lookupFunctions),this.rawValue=e.evaluate(t,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===p.bindingMode.oneWay&&(0,p.enqueueBindingConnect)(this)},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var t=this.sourceExpression;t.unbind&&t.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},t.prototype.connect=function(t){this.isBound&&(t&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},t}())||a,b=t.SyntaxInterpreter=(l=u=function(){function t(t,e,i,n){this.parser=t,this.observerLocator=e,this.eventManager=i,this.attributeMap=n}return t.prototype.interpret=function(t,e,i,n,r){return i.command in this?this[i.command](t,e,i,n,r):this.handleUnknownCommand(t,e,i,n,r)},t.prototype.handleUnknownCommand=function(t,e,i,n,r){return d.getLogger("templating-binding").warn("Unknown binding command.",i),n},t.prototype.determineDefaultBindingMode=function(t,e,i){var n=t.tagName.toLowerCase();return"input"===n&&("value"===e||"files"===e)&&"checkbox"!==t.type&&"radio"!==t.type||"input"===n&&"checked"===e&&("checkbox"===t.type||"radio"===t.type)||("textarea"===n||"select"===n)&&"value"===e||("textcontent"===e||"innerhtml"===e)&&"true"===t.contentEditable||"scrolltop"===e||"scrollleft"===e?p.bindingMode.twoWay:i&&e in i.attributes&&i.attributes[e]&&i.attributes[e].defaultBindingMode>=p.bindingMode.oneTime?i.attributes[e].defaultBindingMode:p.bindingMode.oneWay},t.prototype.bind=function(t,e,i,n,r){var o=n||f.BehaviorInstruction.attribute(i.attrName);return o.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),i.defaultBindingMode||this.determineDefaultBindingMode(e,i.attrName,r),t.lookupFunctions),o},t.prototype.trigger=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.none,!0,t.lookupFunctions)},t.prototype.capture=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.capturing,!0,t.lookupFunctions)},t.prototype.delegate=function(t,e,i){return new p.ListenerExpression(this.eventManager,i.attrName,this.parser.parse(i.attrValue),p.delegationStrategy.bubbling,!0,t.lookupFunctions)},t.prototype.call=function(t,e,i,n){var r=n||f.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new p.CallExpression(this.observerLocator,i.attrName,this.parser.parse(i.attrValue),t.lookupFunctions),r},t.prototype.options=function(t,e,i,n,r){var o,s=n||f.BehaviorInstruction.attribute(i.attrName),a=i.attrValue,u=this.language,l=null,c="",h=void 0,d=void 0,p=!1,m=!1,v=!1;for(d=0,o=a.length;d<o;++d){if(";"!==(h=a[d])||p)if(":"===h&&null===l)v=!0,l=c.trim(),c="";else{if("\\"===h){c+=h,m=!0;continue}c+=h,null!==l&&!1===m&&"'"===h&&(p=!p)}else v||(l=this._getPrimaryPropertyName(t,r)),i=u.inspectAttribute(t,"?",l,c.trim()),u.createAttributeInstruction(t,e,i,s,r),s.attributes[i.attrName]||(s.attributes[i.attrName]=i.attrValue),c="",l=null;m=!1}return v||(l=this._getPrimaryPropertyName(t,r)),null!==l&&(i=u.inspectAttribute(t,"?",l,c.trim()),u.createAttributeInstruction(t,e,i,s,r),s.attributes[i.attrName]||(s.attributes[i.attrName]=i.attrValue)),s},t.prototype._getPrimaryPropertyName=function(t,e){var i=t.getAttribute(e.attributeName);return i&&i.primaryProperty?i.primaryProperty.name:null},t.prototype.for=function(t,e,i,n){var r,o=void 0,s=void 0,a=void 0,u=void 0;if(2!==(o=(r=(u=i.attrValue).match(/^ *[[].+[\]]/))?u.split("of "):u.split(" of ")).length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return a=n||f.BehaviorInstruction.attribute(i.attrName),r?(s=o[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),a.attributes.key=s[0],a.attributes.value=s[1]):a.attributes.local=o[0],a.attributes.items=new p.BindingExpression(this.observerLocator,"items",this.parser.parse(o[1]),p.bindingMode.oneWay,t.lookupFunctions),a},t.prototype["two-way"]=function(t,e,i,n){var r=n||f.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.twoWay,t.lookupFunctions),r},t.prototype["one-way"]=function(t,e,i,n){var r=n||f.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.oneWay,t.lookupFunctions),r},t.prototype["one-time"]=function(t,e,i,n){var r=n||f.BehaviorInstruction.attribute(i.attrName);return r.attributes[i.attrName]=new p.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,i.attrName),this.parser.parse(i.attrValue),p.bindingMode.oneTime,t.lookupFunctions),r},t}(),u.inject=[p.Parser,p.ObserverLocator,p.EventManager,m],l),w={},k=t.TemplatingBindingLanguage=(h=c=function(t){function e(e,i,n,r){var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.parser=e,o.observerLocator=i,o.syntaxInterpreter=n,o.emptyStringExpression=o.parser.parse("''"),n.language=o,o.attributeMap=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.inspectAttribute=function(t,e,i,n){var r=i.split(".");if(w.defaultBindingMode=null,2===r.length)w.attrName=r[0].trim(),w.attrValue=n,w.command=r[1].trim(),"ref"===w.command?(w.expression=new p.NameExpression(this.parser.parse(n),w.attrName,t.lookupFunctions),w.command=null,w.attrName="ref"):w.expression=null;else if("ref"===i)w.attrName=i,w.attrValue=n,w.command=null,w.expression=new p.NameExpression(this.parser.parse(n),"element",t.lookupFunctions);else{w.attrName=i,w.attrValue=n,w.command=null;var o=this.parseInterpolation(t,n);w.expression=null===o?null:new v(this.observerLocator,this.attributeMap.map(e,i),o,p.bindingMode.oneWay,t.lookupFunctions,i)}return w},e.prototype.createAttributeInstruction=function(t,e,i,n,r){var o=void 0;if(i.expression){if("ref"===i.attrName)return i.expression;(o=n||f.BehaviorInstruction.attribute(i.attrName)).attributes[i.attrName]=i.expression}else i.command&&(o=this.syntaxInterpreter.interpret(t,e,i,n,r));return o},e.prototype.inspectTextContent=function(t,e){var i=this.parseInterpolation(t,e);return null===i?null:new v(this.observerLocator,"textContent",i,p.bindingMode.oneWay,t.lookupFunctions,"textContent")},e.prototype.parseInterpolation=function(t,e){for(var i=e.indexOf("${",0),n=e.length,r=void 0,o=0,s=0,a=null,u=void 0,l=void 0,c=0;i>=0&&i<n-2;){for(s=1,u=i,i+=2;r=e[i],i++,"'"!==r&&'"'!==r?"\\"!==r?null===a&&("{"===r?s++:"}"===r&&s--):i++:null===a?a=r:a===r&&(a=null),s>0&&i<n;);if(0!==s)break;l=l||[],"\\"===e[u-1]&&"\\"!==e[u-2]?(l[c]=e.substring(o,u-1)+e.substring(u,i),l[++c]=this.emptyStringExpression,c++):(l[c]=e.substring(o,u),l[++c]=this.parser.parse(e.substring(u+2,i-1)),c++),o=i,i=e.indexOf("${",i)}return 0===c?null:(l[c]=e.substr(o),l)},e}(f.BindingLanguage),c.inject=[p.Parser,p.ObserverLocator,b,m],h)}),t.entry="dist/commonjs/aurelia-templating-binding.js"}),t.pkg("aurelia-templating-resources",{},function(t){return t.file("dist/commonjs/aurelia-templating-resources.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=t.unwrapExpression=t.updateOneTimeBinding=t.isOneTime=t.getItemsSourceExpression=t.updateOverrideContext=t.createFullOverrideContext=t.NumberRepeatStrategy=t.SetRepeatStrategy=t.MapRepeatStrategy=t.ArrayRepeatStrategy=t.NullRepeatStrategy=t.RepeatStrategyLocator=t.AbstractRepeater=t.UpdateTriggerBindingBehavior=t.BindingSignaler=t.SignalBindingBehavior=t.SelfBindingBehavior=t.DebounceBindingBehavior=t.ThrottleBindingBehavior=t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=t.AttrBindingBehavior=t.configure=t.Focus=t.Replaceable=t.SanitizeHTMLValueConverter=t.HTMLSanitizer=t.Hide=t.Show=t.Repeat=t.With=t.If=t.Compose=void 0;var o=e("aurelia-pal"),s=e("./compose"),a=e("./if"),u=e("./with"),l=e("./repeat"),c=e("./show"),h=e("./hide"),d=e("./sanitize-html"),p=e("./replaceable"),f=e("./focus"),m=e("aurelia-templating"),v=e("./css-resource"),g=e("./html-sanitizer"),_=e("./attr-binding-behavior"),y=e("./binding-mode-behaviors"),b=e("./throttle-binding-behavior"),w=e("./debounce-binding-behavior"),k=e("./self-binding-behavior"),x=e("./signal-binding-behavior"),C=e("./binding-signaler"),E=e("./update-trigger-binding-behavior"),L=e("./abstract-repeater"),O=e("./repeat-strategy-locator"),S=e("./html-resource-plugin"),P=e("./null-repeat-strategy"),A=e("./array-repeat-strategy"),M=e("./map-repeat-strategy"),T=e("./set-repeat-strategy"),j=e("./number-repeat-strategy"),I=e("./repeat-utilities"),R=e("./analyze-view-factory"),N=e("./aurelia-hide-style");t.Compose=s.Compose,t.If=a.If,t.With=u.With,t.Repeat=l.Repeat,t.Show=c.Show,t.Hide=h.Hide,t.HTMLSanitizer=g.HTMLSanitizer,t.SanitizeHTMLValueConverter=d.SanitizeHTMLValueConverter,t.Replaceable=p.Replaceable,t.Focus=f.Focus,t.configure=function(t){(0,N.injectAureliaHideStyleAtHead)(),t.globalResources(o.PLATFORM.moduleName("./compose"),o.PLATFORM.moduleName("./if"),o.PLATFORM.moduleName("./with"),o.PLATFORM.moduleName("./repeat"),o.PLATFORM.moduleName("./show"),o.PLATFORM.moduleName("./hide"),o.PLATFORM.moduleName("./replaceable"),o.PLATFORM.moduleName("./sanitize-html"),o.PLATFORM.moduleName("./focus"),o.PLATFORM.moduleName("./binding-mode-behaviors"),o.PLATFORM.moduleName("./self-binding-behavior"),o.PLATFORM.moduleName("./throttle-binding-behavior"),o.PLATFORM.moduleName("./debounce-binding-behavior"),o.PLATFORM.moduleName("./signal-binding-behavior"),o.PLATFORM.moduleName("./update-trigger-binding-behavior"),o.PLATFORM.moduleName("./attr-binding-behavior")),(0,S.configure)(t);var e=t.container.get(m.ViewEngine),i={fetch:function(t){var e;return(e={})[t]=(0,v._createCSSResource)(t),e}};[".css",".less",".sass",".scss",".styl"].forEach(function(t){return e.addResourcePlugin(t,i)})},t.AttrBindingBehavior=_.AttrBindingBehavior,t.OneTimeBindingBehavior=y.OneTimeBindingBehavior,t.OneWayBindingBehavior=y.OneWayBindingBehavior,t.TwoWayBindingBehavior=y.TwoWayBindingBehavior,t.ThrottleBindingBehavior=b.ThrottleBindingBehavior,t.DebounceBindingBehavior=w.DebounceBindingBehavior,t.SelfBindingBehavior=k.SelfBindingBehavior,t.SignalBindingBehavior=x.SignalBindingBehavior,t.BindingSignaler=C.BindingSignaler,t.UpdateTriggerBindingBehavior=E.UpdateTriggerBindingBehavior,t.AbstractRepeater=L.AbstractRepeater,t.RepeatStrategyLocator=O.RepeatStrategyLocator,t.NullRepeatStrategy=P.NullRepeatStrategy,t.ArrayRepeatStrategy=A.ArrayRepeatStrategy,t.MapRepeatStrategy=M.MapRepeatStrategy,t.SetRepeatStrategy=T.SetRepeatStrategy,t.NumberRepeatStrategy=j.NumberRepeatStrategy,t.createFullOverrideContext=I.createFullOverrideContext,t.updateOverrideContext=I.updateOverrideContext,t.getItemsSourceExpression=I.getItemsSourceExpression,t.isOneTime=I.isOneTime,t.updateOneTimeBinding=I.updateOneTimeBinding,t.unwrapExpression=I.unwrapExpression,t.viewsRequireLifecycle=R.viewsRequireLifecycle}),t.file("dist/commonjs/compose.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Compose=void 0;var p=e("aurelia-dependency-injection"),f=e("aurelia-task-queue"),m=e("aurelia-templating"),v=e("aurelia-pal");function g(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t.Compose=(o=(0,m.customElement)("compose"),s=(0,p.inject)(v.DOM.Element,p.Container,m.CompositionEngine,m.ViewSlot,m.ViewResources,f.TaskQueue),o(a=(0,m.noView)(a=s((u=function(){function t(t,e,i,n,r,o){g(this,"model",l,this),g(this,"view",c,this),g(this,"viewModel",h,this),g(this,"swapOrder",d,this),this.element=t,this.container=e,this.compositionEngine=i,this.viewSlot=n,this.viewResources=r,this.taskQueue=o,this.currentController=null,this.currentViewModel=null}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,b(this,y(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},t.prototype.unbind=function(t,e){this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},t.prototype.modelChanged=function(t,e){var i=this;this.currentInstruction?this.currentInstruction.model=t:this.taskQueue.queueMicroTask(function(){if(i.currentInstruction)i.currentInstruction.model=t;else{var e=i.currentViewModel;e&&"function"==typeof e.activate&&e.activate(t)}})},t.prototype.viewChanged=function(t,e){var i=this,n=y(this,{view:t,viewModel:this.currentViewModel||this.viewModel,model:this.model});this.currentInstruction?this.currentInstruction=n:(this.currentInstruction=n,this.taskQueue.queueMicroTask(function(){return b(i,i.currentInstruction)}))},t.prototype.viewModelChanged=function(t,e){var i=this,n=y(this,{viewModel:t,view:this.view,model:this.model});this.currentInstruction?this.currentInstruction=n:(this.currentInstruction=n,this.taskQueue.queueMicroTask(function(){return b(i,i.currentInstruction)}))},t}(),l=_(u.prototype,"model",[m.bindable],{enumerable:!0,initializer:null}),c=_(u.prototype,"view",[m.bindable],{enumerable:!0,initializer:null}),h=_(u.prototype,"viewModel",[m.bindable],{enumerable:!0,initializer:null}),d=_(u.prototype,"swapOrder",[m.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a);function y(t,e){return Object.assign(e,{bindingContext:t.bindingContext,overrideContext:t.overrideContext,owningView:t.owningView,container:t.container,viewSlot:t.viewSlot,viewResources:t.viewResources,currentController:t.currentController,host:t.element,swapOrder:t.swapOrder})}function b(t,e){t.currentInstruction=null,t.compositionEngine.compose(e).then(function(e){t.currentController=e,t.currentViewModel=e?e.viewModel:null})}}),t.file("dist/commonjs/if.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.If=void 0;var u=e("aurelia-templating"),l=e("aurelia-dependency-injection");t.If=(o=(0,u.customAttribute)("if"),s=(0,l.inject)(u.BoundViewFactory,u.ViewSlot),o(a=(0,u.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=this;if(this.__queuedChanges)this.__queuedChanges.push(t);else{var i,n=this._runValueChanged(t);n instanceof Promise&&(i=e.__queuedChanges=[],n.then(function t(){i.length?(e._runValueChanged(i.shift())||Promise.resolve()).then(t):e.__queuedChanges=void 0}))}},t.prototype._runValueChanged=function(t){var e=this;if(!t){var i=void 0;return null!==this.view&&this.showing&&((i=this.viewSlot.remove(this.view))instanceof Promise?i.then(function(){return e.view.unbind()}):this.view.unbind()),this.showing=!1,i}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)},t.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},t}())||a)||a)||a)}),t.file("dist/commonjs/with.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-templating"),c=e("aurelia-binding");t.With=(o=(0,l.customAttribute)("with"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),o(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.parentOverrideContext=null,this.view=null}return t.prototype.bind=function(t,e){this.parentOverrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=(0,c.createOverrideContext)(t,this.parentOverrideContext);this.view?this.view.bind(t,e):(this.view=this.viewFactory.create(),this.view.bind(t,e),this.viewSlot.add(this.view))},t.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/repeat.js",function(t,e,i,n,r){"use strict";var o,s,a,u,l,c,h,d;Object.defineProperty(t,"__esModule",{value:!0}),t.Repeat=void 0;var p=e("aurelia-dependency-injection"),f=e("aurelia-binding"),m=e("aurelia-templating"),v=e("./repeat-strategy-locator"),g=e("./repeat-utilities"),_=e("./analyze-view-factory"),y=e("./abstract-repeater");function b(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}t.Repeat=(o=(0,m.customAttribute)("repeat"),s=(0,p.inject)(m.BoundViewFactory,m.TargetInstruction,m.ViewSlot,m.ViewResources,f.ObserverLocator,v.RepeatStrategyLocator),o(a=(0,m.templateController)(a=s((u=function(t){function e(e,i,n,r,o,s){var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,{local:"item",viewsRequireLifecycle:(0,_.viewsRequireLifecycle)(e)}));return b(a,"items",l,a),b(a,"local",c,a),b(a,"key",h,a),b(a,"value",d,a),a.viewFactory=e,a.instruction=i,a.viewSlot=n,a.lookupFunctions=r.lookupFunctions,a.observerLocator=o,a.key="key",a.value="value",a.strategyLocator=s,a.ignoreMutation=!1,a.sourceExpression=(0,g.getItemsSourceExpression)(a.instruction,"repeat.for"),a.isOneTime=(0,g.isOneTime)(a.sourceExpression),a.viewsRequireLifecycle=(0,_.viewsRequireLifecycle)(e),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.call=function(t,e){this[t](this.items,e)},e.prototype.bind=function(t,e){this.scope={bindingContext:t,overrideContext:e},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},e.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},e.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},e.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,t)}},e.prototype._getInnerCollection=function(){var t=(0,g.unwrapExpression)(this.sourceExpression);return t?t.evaluate(this.scope,null):null},e.prototype.handleCollectionMutated=function(t,e){this.collectionObserver&&this.strategy.instanceMutated(this,t,e)},e.prototype.handleInnerCollectionMutated=function(t,e){var i=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var n=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return i.ignoreMutation=!1}),n===this.items?this.itemsChanged():this.items=n}},e.prototype._observeInnerCollection=function(){var t=this._getInnerCollection(),e=this.strategyLocator.getStrategy(t);return!!e&&(this.collectionObserver=e.getCollectionObserver(this.observerLocator,t),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},e.prototype._observeCollection=function(){var t=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,t),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},e.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var t=this.viewFactory.viewFactory.instructions,e=Object.keys(t),i=0;i<e.length;i++){var n=t[e[i]].expressions;if(n)for(;i<n.length;i++)if("matcher"===n[0].targetProperty){var r=n[0];return n.splice(0,1),r}}},e.prototype.viewCount=function(){return this.viewSlot.children.length},e.prototype.views=function(){return this.viewSlot.children},e.prototype.view=function(t){return this.viewSlot.children[t]},e.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},e.prototype.addView=function(t,e){var i=this.viewFactory.create();i.bind(t,e),this.viewSlot.add(i)},e.prototype.insertView=function(t,e,i){var n=this.viewFactory.create();n.bind(e,i),this.viewSlot.insert(t,n)},e.prototype.moveView=function(t,e){this.viewSlot.move(t,e)},e.prototype.removeAllViews=function(t,e){return this.viewSlot.removeAll(t,e)},e.prototype.removeViews=function(t,e,i){return this.viewSlot.removeMany(t,e,i)},e.prototype.removeView=function(t,e,i){return this.viewSlot.removeAt(t,e,i)},e.prototype.updateBindings=function(t){for(var e=t.bindings.length;e--;)(0,g.updateOneTimeBinding)(t.bindings[e]);for(e=t.controllers.length;e--;)for(var i=t.controllers[e].boundProperties.length;i--;){var n=t.controllers[e].boundProperties[i].binding;(0,g.updateOneTimeBinding)(n)}},e}(y.AbstractRepeater),l=w(u.prototype,"items",[m.bindable],{enumerable:!0,initializer:null}),c=w(u.prototype,"local",[m.bindable],{enumerable:!0,initializer:null}),h=w(u.prototype,"key",[m.bindable],{enumerable:!0,initializer:null}),d=w(u.prototype,"value",[m.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a)}),t.file("dist/commonjs/repeat-strategy-locator.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RepeatStrategyLocator=void 0;var o=e("./null-repeat-strategy"),s=e("./array-repeat-strategy"),a=e("./map-repeat-strategy"),u=e("./set-repeat-strategy"),l=e("./number-repeat-strategy");t.RepeatStrategyLocator=function(){function t(){this.matchers=[],this.strategies=[],this.addStrategy(function(t){return null==t},new o.NullRepeatStrategy),this.addStrategy(function(t){return t instanceof Array},new s.ArrayRepeatStrategy),this.addStrategy(function(t){return t instanceof Map},new a.MapRepeatStrategy),this.addStrategy(function(t){return t instanceof Set},new u.SetRepeatStrategy),this.addStrategy(function(t){return"number"==typeof t},new l.NumberRepeatStrategy)}return t.prototype.addStrategy=function(t,e){this.matchers.push(t),this.strategies.push(e)},t.prototype.getStrategy=function(t){for(var e=this.matchers,i=0,n=e.length;i<n;++i)if(e[i](t))return this.strategies[i];return null},t}()}),t.file("dist/commonjs/null-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NullRepeatStrategy=function(){function t(){}return t.prototype.instanceChanged=function(t,e){t.removeAllViews(!0)},t.prototype.getCollectionObserver=function(t,e){},t}()}),t.file("dist/commonjs/array-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayRepeatStrategy=void 0;var o=e("./repeat-utilities"),s=e("aurelia-binding");t.ArrayRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getArrayObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=e.length;if(e&&0!==n){var r=t.views(),s=r.length;0!==s?t.viewsRequireLifecycle?function(){for(var a=r.slice(0),u=t.local,l=t.matcher(),c=[],h=[],d=0;d<s;d++){var p=a[d],f=p.bindingContext[u];-1===(0,o.indexOf)(e,f,l)?h.push(p):c.push(f)}var m=void 0,v=void 0;c.length>0?(v=t.removeViews(h,!0,!t.viewsRequireLifecycle),m=function(){for(var s=0;s<n;s++){var a=e[s],u=(0,o.indexOf)(c,a,l,s),h=void 0;if(-1===u){var d=(0,o.createFullOverrideContext)(t,e[s],s,n);t.insertView(s,d.bindingContext,d),c.splice(s,0,void 0)}else u===s?(h=r[u],c[u]=void 0):(h=r[u],t.moveView(u,s),c.splice(u,1),c.splice(s,0,void 0));h&&(0,o.updateOverrideContext)(h.overrideContext,s,n)}i._inPlaceProcessItems(t,e)}):(v=t.removeAllViews(!0,!t.viewsRequireLifecycle),m=function(){return i._standardProcessInstanceChanged(t,e)}),v instanceof Promise?v.then(m):m()}():this._inPlaceProcessItems(t,e):this._standardProcessInstanceChanged(t,e)}else t.removeAllViews(!0,!t.viewsRequireLifecycle)},t.prototype._standardProcessInstanceChanged=function(t,e){for(var i=0,n=e.length;i<n;i++){var r=(0,o.createFullOverrideContext)(t,e[i],i,n);t.addView(r.bindingContext,r)}},t.prototype._inPlaceProcessItems=function(t,e){for(var i=e.length,n=t.viewCount();n>i;)n--,t.removeView(n,!0,!t.viewsRequireLifecycle);for(var r=t.local,s=0;s<n;s++){var a=t.view(s),u=s===i-1,l=0!==s&&!u;a.bindingContext[r]===e[s]&&a.overrideContext.$middle===l&&a.overrideContext.$last===u||(a.bindingContext[r]=e[s],a.overrideContext.$middle=l,a.overrideContext.$last=u,t.updateBindings(a))}for(var c=n;c<i;c++){var h=(0,o.createFullOverrideContext)(t,e[c],c,i);t.addView(h.bindingContext,h)}},t.prototype.instanceMutated=function(t,e,i){var n=this;if(t.__queuedSplices){for(var r=0,o=i.length;r<o;++r){var a=i[r],u=a.index,l=a.removed,c=a.addedCount;(0,s.mergeSplice)(t.__queuedSplices,u,l,c)}t.__array=e.slice(0)}else{var h,d=this._runSplices(t,e.slice(0),i);d instanceof Promise&&(h=t.__queuedSplices=[],d.then(function e(){if(!h.length)return t.__queuedSplices=void 0,void(t.__array=void 0);var i=n._runSplices(t,t.__array,h)||Promise.resolve();h=t.__queuedSplices=[],i.then(e)}))}},t.prototype._runSplices=function(t,e,i){for(var n=this,r=0,s=[],a=0,u=i.length;a<u;++a){for(var l=i[a],c=0,h=l.removed.length;c<h;++c){var d=t.removeView(l.index+r+s.length,!0);d instanceof Promise&&s.push(d)}r-=l.addedCount}if(s.length>0)return Promise.all(s).then(function(){var r=n._handleAddedSplices(t,e,i);(0,o.updateOverrideContexts)(t.views(),r)});var p=this._handleAddedSplices(t,e,i);(0,o.updateOverrideContexts)(t.views(),p)},t.prototype._handleAddedSplices=function(t,e,i){for(var n=void 0,r=void 0,s=e.length,a=0,u=i.length;a<u;++a){var l=i[a],c=n=l.index,h=l.index+l.addedCount;for((null==r||r>l.index)&&(r=n);c<h;++c){var d=(0,o.createFullOverrideContext)(t,e[c],c,s);t.insertView(c,d.bindingContext,d)}}return r},t}()}),t.file("dist/commonjs/repeat-utilities.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOverrideContexts=function(t,e){var i=t.length;e>0&&(e-=1);for(;e<i;++e)a(t[e].overrideContext,e,i)},t.createFullOverrideContext=function(t,e,i,n,r){var s={},u=(0,o.createOverrideContext)(s,t.scope.overrideContext);void 0!==r?(s[t.key]=r,s[t.value]=e):s[t.local]=e;return a(u,i,n),u},t.updateOverrideContext=a,t.getItemsSourceExpression=function(t,e){return t.behaviorInstructions.filter(function(t){return t.originalAttrName===e})[0].attributes.items.sourceExpression},t.unwrapExpression=function(t){var e=!1;for(;t instanceof o.BindingBehavior;)t=t.expression;for(;t instanceof o.ValueConverter;)t=t.expression,e=!0;return e?t:null},t.isOneTime=function(t){for(;t instanceof o.BindingBehavior;){if("oneTime"===t.name)return!0;t=t.expression}return!1},t.updateOneTimeBinding=function(t){t.call&&t.mode===s?t.call(o.sourceContext):t.updateOneTimeBindings&&t.updateOneTimeBindings()},t.indexOf=function(t,e,i,n){if(!i)return t.indexOf(e);for(var r=t.length,o=n||0;o<r;o++)if(i(t[o],e))return o;return-1};var o=e("aurelia-binding"),s=o.bindingMode.oneTime;function a(t,e,i){var n=0===e,r=e===i-1,o=e%2==0;t.$index=e,t.$first=n,t.$last=r,t.$middle=!(n||r),t.$odd=!o,t.$even=o}}),t.file("dist/commonjs/map-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapRepeatStrategy=void 0;var o=e("./repeat-utilities");t.MapRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getMapObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=0,n=void 0;e.forEach(function(r,s){n=(0,o.createFullOverrideContext)(t,r,i,e.size,s),t.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,e,i){var n,r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0;for(s=0,n=i.length;s<n;++s)switch(r=(l=i[s]).key,l.type){case"update":u=this._getViewIndexByKey(t,r),(h=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof Promise&&c.push(h),a=(0,o.createFullOverrideContext)(t,e.get(r),u,e.size,r),t.insertView(u,a.bindingContext,a);break;case"add":a=(0,o.createFullOverrideContext)(t,e.get(r),e.size-1,e.size,r),t.insertView(e.size-1,a.bindingContext,a);break;case"delete":if(void 0===l.oldValue)return;u=this._getViewIndexByKey(t,r),(h=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof Promise&&c.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}c.length>0?Promise.all(c).then(function(){(0,o.updateOverrideContexts)(t.views(),0)}):(0,o.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByKey=function(t,e){var i,n=void 0;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.key]===e)return n},t}()}),t.file("dist/commonjs/set-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetRepeatStrategy=void 0;var o=e("./repeat-utilities");t.SetRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getSetObserver(e)},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=0,n=void 0;e.forEach(function(r){n=(0,o.createFullOverrideContext)(t,r,i,e.size),t.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,e,i){var n,r=void 0,s=void 0,a=void 0,u=void 0,l=void 0,c=[],h=void 0;for(s=0,n=i.length;s<n;++s)switch(r=(l=i[s]).value,l.type){case"add":a=(0,o.createFullOverrideContext)(t,r,e.size-1,e.size),t.insertView(e.size-1,a.bindingContext,a);break;case"delete":u=this._getViewIndexByValue(t,r),(h=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof Promise&&c.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}c.length>0?Promise.all(c).then(function(){(0,o.updateOverrideContexts)(t.views(),0)}):(0,o.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByValue=function(t,e){var i,n=void 0;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.local]===e)return n},t}()}),t.file("dist/commonjs/number-repeat-strategy.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRepeatStrategy=void 0;var o=e("./repeat-utilities");t.NumberRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(){return null},t.prototype.instanceChanged=function(t,e){var i=this,n=t.removeAllViews(!0,!t.viewsRequireLifecycle);n instanceof Promise?n.then(function(){return i._standardProcessItems(t,e)}):this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var i=t.viewCount(),n=void 0,r=void 0,s=void 0,a=void 0;if((a=i-(e=Math.floor(e)))>0)for(a>i&&(a=i),n=0,r=a;n<r;++n)t.removeView(i-(n+1),!0,!t.viewsRequireLifecycle);else{for(n=i,r=e;n<r;++n)s=(0,o.createFullOverrideContext)(t,n,n,r),t.addView(s.bindingContext,s);(0,o.updateOverrideContexts)(t.views(),0)}},t}()}),t.file("dist/commonjs/analyze-view-factory.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewsRequireLifecycle=a;var o=t.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"];function s(t){var e,i,n,r=t.behaviorInstructions;if(r)for(var s=r.length;s--;)if(e=r[s],void 0,void 0,i=e.type,n=null!==i.elementName?i.elementName:i.attributeName,-1===o.indexOf(n)&&(i.handlesAttached||i.handlesBind||i.handlesCreated||i.handlesDetached||i.handlesUnbind)||i.viewFactory&&a(i.viewFactory)||e.viewFactory&&a(e.viewFactory))return!0;return t.viewFactory&&a(t.viewFactory)}function a(t){if("_viewsRequireLifecycle"in t)return t._viewsRequireLifecycle;if(t._viewsRequireLifecycle=!1,t.viewFactory)return t._viewsRequireLifecycle=a(t.viewFactory),t._viewsRequireLifecycle;if(t.template.querySelector(".au-animate"))return t._viewsRequireLifecycle=!0,!0;for(var e in t.instructions)if(s(t.instructions[e]))return t._viewsRequireLifecycle=!0,!0;return t._viewsRequireLifecycle=!1,!1}}),t.file("dist/commonjs/abstract-repeater.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractRepeater=function(){function t(t){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return t.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},t.prototype.views=function(){throw new Error("subclass must implement `views`")},t.prototype.view=function(t){throw new Error("subclass must implement `view`")},t.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},t.prototype.addView=function(t,e){throw new Error("subclass must implement `addView`")},t.prototype.insertView=function(t,e,i){throw new Error("subclass must implement `insertView`")},t.prototype.moveView=function(t,e){throw new Error("subclass must implement `moveView`")},t.prototype.removeAllViews=function(t,e){throw new Error("subclass must implement `removeAllViews`")},t.prototype.removeViews=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.removeView=function(t,e,i){throw new Error("subclass must implement `removeView`")},t.prototype.updateBindings=function(t){throw new Error("subclass must implement `updateBindings`")},t}()}),t.file("dist/commonjs/show.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Show=void 0;var s=e("aurelia-dependency-injection"),a=e("aurelia-templating"),u=e("aurelia-pal"),l=e("./aurelia-hide-style");t.Show=(0,a.customAttribute)("show")(o=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0))(o=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,l.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.removeClass(this.element,l.aureliaHideClassName):this.animator.addClass(this.element,l.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||o)||o}),t.file("dist/commonjs/aurelia-hide-style.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aureliaHideClassName=void 0,t.injectAureliaHideStyleAtHead=function(){o.DOM.injectStyles(s)},t.injectAureliaHideStyleAtBoundary=function(t){o.FEATURE.shadowDOM&&t&&!t.hasAureliaHideStyle&&(t.hasAureliaHideStyle=!0,o.DOM.injectStyles(s,t))};var o=e("aurelia-pal"),s="."+(t.aureliaHideClassName="aurelia-hide")+" { display:none !important; }"}),t.file("dist/commonjs/hide.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Hide=void 0;var s=e("aurelia-dependency-injection"),a=e("aurelia-templating"),u=e("aurelia-pal"),l=e("./aurelia-hide-style");t.Hide=(0,a.customAttribute)("hide")(o=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0))(o=function(){function t(t,e,i){this.element=t,this.animator=e,this.domBoundary=i}return t.prototype.created=function(){(0,l.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.addClass(this.element,l.aureliaHideClassName):this.animator.removeClass(this.element,l.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||o)||o}),t.file("dist/commonjs/sanitize-html.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.SanitizeHTMLValueConverter=void 0;var s=e("aurelia-binding"),a=e("aurelia-dependency-injection"),u=e("./html-sanitizer");t.SanitizeHTMLValueConverter=(0,s.valueConverter)("sanitizeHTML")(o=(0,a.inject)(u.HTMLSanitizer)(o=function(){function t(t){this.sanitizer=t}return t.prototype.toView=function(t){return null==t?null:this.sanitizer.sanitize(t)},t}())||o)||o}),t.file("dist/commonjs/html-sanitizer.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;t.HTMLSanitizer=function(){function t(){}return t.prototype.sanitize=function(t){return t.replace(o,"")},t}()}),t.file("dist/commonjs/replaceable.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Replaceable=void 0;var u=e("aurelia-dependency-injection"),l=e("aurelia-templating");t.Replaceable=(o=(0,l.customAttribute)("replaceable"),s=(0,u.inject)(l.BoundViewFactory,l.ViewSlot),o(a=(0,l.templateController)(a=s(a=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null}return t.prototype.bind=function(t,e){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(t,e)},t.prototype.unbind=function(){this.view.unbind()},t}())||a)||a)||a)}),t.file("dist/commonjs/focus.js",function(t,e,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Focus=void 0;var s=e("aurelia-templating"),a=e("aurelia-binding"),u=e("aurelia-dependency-injection"),l=e("aurelia-task-queue"),c=e("aurelia-pal");t.Focus=(0,s.customAttribute)("focus",a.bindingMode.twoWay)(o=(0,u.inject)(c.DOM.Element,l.TaskQueue)(o=function(){function t(t,e){var i=this;this.element=t,this.taskQueue=e,this.isAttached=!1,this.needsApply=!1,this.focusListener=function(t){i.value=!0},this.blurListener=function(t){c.DOM.activeElement!==i.element&&(i.value=!1)}}return t.prototype.valueChanged=function(t){this.isAttached?this._apply():this.needsApply=!0},t.prototype._apply=function(){var t=this;this.value?this.taskQueue.queueMicroTask(function(){t.value&&t.element.focus()}):this.element.blur()},t.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},t.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},t}())||o)||o}),t.file("dist/commonjs/css-resource.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createCSSResource=function(t){var e;return(0,o.resource)(new c(t))(e=function(t){function e(){return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(h))||e};var o=e("aurelia-templating"),s=e("aurelia-loader"),a=(e("aurelia-dependency-injection"),e("aurelia-path")),u=e("aurelia-pal");var l=/url\((?!['"]data)([^)]+)\)/gi;var c=function(){function t(t){this.address=t,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return t.prototype.initialize=function(t,e){this._scoped=new e(this)},t.prototype.register=function(t,e){"scoped"===e?t.registerViewEngineHooks(this._scoped):this._global=!0},t.prototype.load=function(t){var e=this;return t.get(s.Loader).loadText(this.address).catch(function(t){return null}).then(function(t){t=function(t,e){if("string"!=typeof e)throw new Error("Failed loading required CSS file: "+t);return e.replace(l,function(e,i){var n=i.charAt(0);return"'"!==n&&'"'!==n||(i=i.substr(1,i.length-2)),"url('"+(0,a.relativeToFile)(i,t)+"')"})}(e.address,t),e._scoped.css=t,e._global&&(e._alreadyGloballyInjected=!0,u.DOM.injectStyles(t))})},t}(),h=function(){function t(t){this.owner=t,this.css=null}return t.prototype.beforeCompile=function(t,e,i){if(i.targetShadowDOM)u.DOM.injectStyles(this.css,t,!0);else if(u.FEATURE.scopedCSS){u.DOM.injectStyles(this.css,t,!0).setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(u.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},t}()}),t.file("dist/commonjs/attr-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrBindingBehavior=void 0;var o=e("aurelia-binding");t.AttrBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){t.targetObserver=new o.DataAttributeObserver(t.target,t.targetProperty)},t.prototype.unbind=function(t,e){},t}()}),t.file("dist/commonjs/binding-mode-behaviors.js",function(t,e,i,n,r){"use strict";var o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.TwoWayBindingBehavior=t.OneWayBindingBehavior=t.OneTimeBindingBehavior=void 0;var u=e("aurelia-binding"),l=e("aurelia-metadata"),c={bind:function(t,e,i){t.originalMode=t.mode,t.mode=this.mode},unbind:function(t,e){t.mode=t.originalMode,t.originalMode=null}};t.OneTimeBindingBehavior=(0,l.mixin)(c)(o=function(){this.mode=u.bindingMode.oneTime})||o,t.OneWayBindingBehavior=(0,l.mixin)(c)(s=function(){this.mode=u.bindingMode.oneWay})||s,t.TwoWayBindingBehavior=(0,l.mixin)(c)(a=function(){this.mode=u.bindingMode.twoWay})||a}),t.file("dist/commonjs/throttle-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThrottleBindingBehavior=void 0;var o=e("aurelia-binding");function s(t){var e=this,i=this.throttleState,n=+new Date-i.last;if(n>=i.delay)return clearTimeout(i.timeoutId),i.timeoutId=null,i.last=+new Date,void this.throttledMethod(t);i.newValue=t,null===i.timeoutId&&(i.timeoutId=setTimeout(function(){i.timeoutId=null,i.last=+new Date,e.throttledMethod(i.newValue)},i.delay-n))}t.ThrottleBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n="updateTarget";t.callSource?n="callSource":t.updateSource&&t.mode===o.bindingMode.twoWay&&(n="updateSource"),t.throttledMethod=t[n],t.throttledMethod.originalName=n,t[n]=s,t.throttleState={delay:i,last:0,timeoutId:null}},t.prototype.unbind=function(t,e){t[t.throttledMethod.originalName]=t.throttledMethod,t.throttledMethod=null,clearTimeout(t.throttleState.timeoutId),t.throttleState=null},t}()}),t.file("dist/commonjs/debounce-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceBindingBehavior=void 0;var o=e("aurelia-binding");function s(t){var e=this,i=this.debounceState;if(i.immediate)return i.immediate=!1,void this.debouncedMethod(t);clearTimeout(i.timeoutId),i.timeoutId=setTimeout(function(){return e.debouncedMethod(t)},i.delay)}t.DebounceBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n="updateTarget";t.callSource?n="callSource":t.updateSource&&t.mode===o.bindingMode.twoWay&&(n="updateSource"),t.debouncedMethod=t[n],t.debouncedMethod.originalName=n,t[n]=s,t.debounceState={delay:i,timeoutId:null,immediate:"updateTarget"===n}},t.prototype.unbind=function(t,e){t[t.debouncedMethod.originalName]=t.debouncedMethod,t.debouncedMethod=null,clearTimeout(t.debounceState.timeoutId),t.debounceState=null},t}()}),t.file("dist/commonjs/self-binding-behavior.js",function(t,e,i,n,r){"use strict";function o(t){var e,i=(e=t).path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target;this.target===i&&this.selfEventCallSource(t)}Object.defineProperty(t,"__esModule",{value:!0});t.SelfBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){if(!t.callSource||!t.targetEvent)throw new Error("Self binding behavior only supports event.");t.selfEventCallSource=t.callSource,t.callSource=o},t.prototype.unbind=function(t,e){t.callSource=t.selfEventCallSource,t.selfEventCallSource=null},t}()}),t.file("dist/commonjs/signal-binding-behavior.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalBindingBehavior=void 0;var o=e("./binding-signaler");t.SignalBindingBehavior=function(){function t(t){this.signals=t.signals}return t.inject=function(){return[o.BindingSignaler]},t.prototype.bind=function(t,e){if(!t.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var i=arguments[2];(this.signals[i]||(this.signals[i]=[])).push(t),t.signalName=i}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var n=Array.prototype.slice.call(arguments,2),r=n.length;r--;){var o=n[r];(this.signals[o]||(this.signals[o]=[])).push(t)}t.signalName=n}},t.prototype.unbind=function(t,e){var i=t.signalName;if(t.signalName=null,Array.isArray(i))for(var n=i,r=n.length;r--;){var o=n[r],s=this.signals[o];s.splice(s.indexOf(t),1)}else{var a=this.signals[i];a.splice(a.indexOf(t),1)}},t}()}),t.file("dist/commonjs/binding-signaler.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingSignaler=void 0;var o=e("aurelia-binding");t.BindingSignaler=function(){function t(){this.signals={}}return t.prototype.signal=function(t){var e=this.signals[t];if(e)for(var i=e.length;i--;)e[i].call(o.sourceContext)},t}()}),t.file("dist/commonjs/update-trigger-binding-behavior.js",function(t,e,i,n,r){"use strict";var o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTriggerBindingBehavior=void 0;var a=e("aurelia-binding"),u="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";t.UpdateTriggerBindingBehavior=(s=o=function(){function t(t){this.eventManager=t}return t.prototype.bind=function(t,e){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(0===n.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(t.mode!==a.bindingMode.twoWay)throw new Error(u);var o=t.observerLocator.getObserver(t.target,t.targetProperty);if(!o.handler)throw new Error(u);t.targetObserver=o,o.originalHandler=t.targetObserver.handler;var s=this.eventManager.createElementHandler(n);o.handler=s},t.prototype.unbind=function(t,e){t.targetObserver.handler=t.targetObserver.originalHandler,t.targetObserver.originalHandler=null},t}(),o.inject=[a.EventManager],s)}),t.file("dist/commonjs/html-resource-plugin.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementName=a,t.configure=function(t){var e=t.container.get(o.ViewEngine),i=t.aurelia.loader;e.addResourcePlugin(".html",{fetch:function(t){return i.loadTemplate(t).then(function(e){var i,n=e.template.getAttribute("bindable"),r=a(t);return n?(n=n.split(",").map(function(t){return t.trim()}),e.template.removeAttribute("bindable")):n=[],(i={})[r]=(0,s._createDynamicElement)(r,t,n),i})}})};var o=e("aurelia-templating"),s=e("./dynamic-element");function a(t){return/([^\/^\?]+)\.html/i.exec(t)[1].toLowerCase()}}),t.file("dist/commonjs/dynamic-element.js",function(t,e,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createDynamicElement=function(t,e,i){for(var n,r,s,a=(n=(0,o.customElement)(t),r=(0,o.useView)(e),n(s=r(s=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||s)||s),u=0,l=i.length;u<l;++u)(0,o.bindable)(i[u])(a);return a};var o=e("aurelia-templating")}),t.entry="dist/commonjs/aurelia-templating-resources.js"}),t.pkg("fuse-box-aurelia-loader",{},function(e){return e.file("dist/commonjs/fuse-box-aurelia-loader.js",function(e,i,n,r,o){var s,a=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var c,h=i("aurelia-metadata"),d=i("aurelia-loader"),p=i("aurelia-pal"),f=i("aurelia-logging").getLogger("fuse-box-aurelia-loader"),m=function(){function t(){}return t.prototype.loadTemplate=function(t,e){return u(this,void 0,void 0,function(){var i;return l(this,function(n){switch(n.label){case 0:return[4,t.loadText(e.address)];case 1:return i=n.sent(),e.template=p.DOM.createTemplateFromMarkup(i),[2]}})})},t}();function v(t,e){var i,n,r=t;if(r.__useDefault&&(r=r.default),h.Origin.set(r,new h.Origin(e,"default")),"object"==typeof r)for(i in r)"function"==typeof(n=r[i])&&h.Origin.set(n,new h.Origin(e,i));return t}e.TextTemplateLoader=m,e.ensureOriginOnExports=v;try{c=t.import("process").env}catch(t){c={},console.log(t)}var g=c.FB_AU_LOG||window.FUSEBOX_AURELIA_LOADER_LOGGING;function _(t,e,i){g&&("error"===t&&f.error(e,i),"info"===t&&f.debug(e,i))}var y=function(e){function i(){var t=e.call(this)||this;return t.loaderPlugins=Object.create(null),t.moduleRegistry=Object.create(null),t.modulesBeingLoaded=new Map,t.useTemplateLoader(new m),t.addPlugin("template-registry-entry",{fetch:function(e){return u(t,void 0,void 0,function(){var t;return l(this,function(i){switch(i.label){case 0:return _("info","template-registry-entry- fetch =>",e),(t=this.getOrCreateTemplateRegistryEntry(e)).templateIsLoaded?[3,2]:[4,this.templateLoader.loadTemplate(this,t)];case 1:i.sent(),i.label=2;case 2:return[2,t]}})})}}),t}return a(i,e),i.prototype.useTemplateLoader=function(t){this.templateLoader=t},i.prototype.loadAllModules=function(t){var e=this;return _("info","loadAllModules => ",arguments),Promise.all(t.map(function(t){return e.loadModule(t)}))},i.prototype.loadTemplate=function(t){return _("info","loadTemplate => ",arguments),this.loadModule(this.applyPluginToUrl(t,"template-registry-entry"))},i.prototype.loadText=function(t){return _("info","loadText => ",arguments),Promise.resolve(this.loadWithFusebox(this.findFuseBoxPath(t))).then(function(t){return"string"==typeof t?t:t.default?t.default:""})},i.prototype.loadModule=function(t){return u(this,void 0,void 0,function(){var e,i,n;return l(this,function(r){switch(r.label){case 0:return _("info","loadModule => ",t),(e=this.moduleRegistry[t])?[2,e]:(i=this.modulesBeingLoaded.get(t))?[2,i]:(i=this._import(t),this.modulesBeingLoaded.set(t,i),[4,i]);case 1:return n=r.sent(),this.moduleRegistry[t]=v(n,t),this.modulesBeingLoaded.delete(t),[2,n]}})})},i.prototype.addPlugin=function(t,e){this.loaderPlugins[t]=e},i.prototype.normalize=function(t,e){return _("info","normalize =>",[t,e]),Promise.resolve(t)},i.prototype.map=function(){},i.prototype._import=function(t){return u(this,void 0,void 0,function(){var e,i,n,r,o,s,a;return l(this,function(u){switch(u.label){case 0:e=t.split("!"),i=e.splice(e.length-1,1)[0],n=1===e.length?e[0]:null,u.label=1;case 1:if(u.trys.push([1,4,,5]),!n)return[3,3];if(!(r=this.loaderPlugins[n]))throw new Error("Plugin "+n+" is not registered in the loader.");return[4,r.fetch(i)];case 2:return[2,u.sent()];case 3:return[3,5];case 4:throw o=u.sent(),new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+t+", module id was: "+i+"\n        Did you forget to add it to bundle?\n\n        "+o+"\n      ");case 5:s=this.findFuseBoxPath(i);try{return a=v(a=this.loadWithFusebox(s),i),this.moduleRegistry[i]=a,[2,Promise.resolve(a)]}catch(e){throw new Error("\n        Fusebox-loader _import() telling this not registered in the loader:"+t+", module path returned: "+s+"\n        Did you forget to add it to bundle?\n\n        "+e+"\n      ")}return[2]}})})},i.prototype.applyPluginToUrl=function(t,e){return _("info","applyPluginToUrl =>",arguments),e+"!"+t},i.prototype.loadWithFusebox=function(e){return t.import(e)},i.prototype.fuseBoxExist=function(e){var i=!1;try{i=t.exists(e)}catch(t){i=!1}return i},i.prototype.findFuseBoxPath=function(e){var i;switch(!0){case-1!==e.indexOf("/"):switch(!0){case this.fuseBoxExist(e):i=e;break;case this.fuseBoxExist("~/"+e):i="~/"+e;break;default:var n=Object.keys(t.packages).find(function(t){return e.startsWith(t+"/")});if(n){var r=t.packages[n].s.entry,o=e.replace(n,"");i=n+"/"+r.replace(/\/([^\/]+)\/?$/,o)}if(!this.fuseBoxExist(i))throw _("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}break;default:switch(!0){case this.fuseBoxExist(e):i=e;break;case this.fuseBoxExist("~/"+e):i="~/"+e;break;default:throw _("error","findFuseBoxPath() failed to find",e),new Error("\n                fusebox-loader - findFuseBoxPath() failed to find:"+e+"\n                Did you forget to add it to bundle??\n\n                ")}}return i},i}(d.Loader);e.FuseBoxAureliaLoader=y,p.PLATFORM.Loader=y}),e.entry="dist/commonjs/fuse-box-aurelia-loader.js"}),t.pkg("resize-observer-polyfill",{},function(t){return t.file("dist/ResizeObserver.js",function(t,e,i,n,r){var o,s;o=this,s=function(){"use strict";var t=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,n){return t[0]===e&&(i=n,!0)}),i}return function(){function e(){this.__entries__=[]}var i={size:{}};return i.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i+=1){var r=n[i];t.call(e,r[1],r[0])}},Object.defineProperties(e.prototype,i),e}()}(),e="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},n=2,r=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),s="undefined"!=typeof MutationObserver&&!o,a=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,o=!1,s=0;function a(){r&&(r=!1,t()),o&&l()}function u(){i(a)}function l(){var t=Date.now();if(r){if(t-s<n)return;o=!0}else r=!0,o=!1,setTimeout(u,e);s=t}return l}(this.refresh.bind(this),20)};a.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},a.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},a.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},a.prototype.connect_=function(){e&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){e&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(t){var e=t.propertyName;r.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null;var u=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i+=1){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},l=m(0,0,0,0);function c(t){return parseFloat(t)||0}function h(t){return Array.prototype.slice.call(arguments,1).reduce(function(e,i){return e+c(t["border-"+i+"-width"])},0)}function d(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return l;var n=getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i+=1){var r=n[i],o=t["padding-"+r];e[r]=c(o)}return e}(n),o=r.left+r.right,s=r.top+r.bottom,a=c(n.width),u=c(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==e&&(a-=h(n,"left","right")+o),Math.round(u+s)!==i&&(u-=h(n,"top","bottom")+s)),t!==document.documentElement){var d=Math.round(a+o)-e,p=Math.round(u+s)-i;1!==Math.abs(d)&&(a-=d),1!==Math.abs(p)&&(u-=p)}return m(r.left,r.top,a,u)}var p="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof SVGGraphicsElement}:function(t){return t instanceof SVGElement&&"function"==typeof t.getBBox};function f(t){return e?p(t)?m(0,0,(i=t.getBBox()).width,i.height):d(t):l;var i}function m(t,e,i,n){return{x:t,y:e,width:i,height:n}}var v=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t};v.prototype.isActive=function(){var t=f(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},v.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var g=function(t,e){var i,n,r,o,s,a,l,c=(n=(i=e).x,r=i.y,o=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:n,y:r,width:o,height:s,top:r,right:n+o,bottom:s+r,left:n}),l);u(this,{target:t,contentRect:c})},_=function(e,i,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new t,this.callback_=e,this.controller_=i,this.callbackCtx_=n};_.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},_.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},_.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},_.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},_.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new g(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},_.prototype.clearActive=function(){this.activeObservations_.splice(0)},_.prototype.hasActive=function(){return this.activeObservations_.length>0};var y="undefined"!=typeof WeakMap?new WeakMap:new t,b=function(t){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),i=new _(t,e,this);y.set(this,i)};return["observe","unobserve","disconnect"].forEach(function(t){b.prototype[t]=function(){return(e=y.get(this))[t].apply(e,arguments);var e}}),"undefined"!=typeof ResizeObserver?ResizeObserver:b},"object"==typeof t&&void 0!==i?i.exports=s():"function"==typeof define&&define.amd?define(s):o.ResizeObserver=s()}),t.entry="dist/ResizeObserver.js"}),t.pkg("whatwg-fetch",{},function(t){return t.file("fetch.js",function(t,e,i,n,r){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};c.prototype.append=function(t,e){t=a(t),e=u(e);var i=this.map[t];this.map[t]=i?i+","+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=u(e)},c.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),l(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),l(t)},e.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];_.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.Headers=c,t.Request=v,t.Response=_,t.fetch=function(t,i){return new Promise(function(n,r){var o=new v(t,i),s=new XMLHttpRequest;s.onload=function(){var t,e,i={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new c,t.split(/\r?\n/).forEach(function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}}),e)};i.url="responseURL"in s?s.responseURL:i.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;n(new _(r,i))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&e.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var i={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(i[Symbol.iterator]=function(){return i}),i}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function p(t){var e=new FileReader,i=d(e);return e.readAsArrayBuffer(t),i}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&n(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,i,n=h(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=d(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var i,n,r=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),o.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function _(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)}),t.entry="fetch.js"}),t.import("fuse-box-aurelia-loader"),t.import("aurelia-bootstrapper"),t.target="browser"}(function(t){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],n=0,r=arguments.length;n<r;n++)i=i.concat(arguments[n].split("/"));var o=[];for(n=0,r=i.length;n<r;n++){var s=i[n];s&&"."!==s&&(".."===s?o.pop():o.push(s))}return""===i[0]&&o.unshift(""),o.join("/")||(o.length?"/":".")}function i(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function n(t){return{server:require(t)}}function r(t,i){var r=i.path||"./",o=i.pkg||"default",s=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1);if((u||58!==i)&&(e>=97&&e<=122||64===e)){if(64===e){var n=t.split("/"),r=n.splice(2,n.length).join("/");return[n[0]+"/"+n[1],r||void 0]}var o=t.indexOf("/");return-1===o?[t]:[t.substring(0,o),t.substring(o+1)]}}(t);if(s&&(r="./",o=s[0],i.v&&i.v[o]&&(o=o+"@"+i.v[o]),t=s[1]),t)if(126===t.charCodeAt(0))t=t.slice(2,t.length),r="./";else if(!u&&(47===t.charCodeAt(0)||58===t.charCodeAt(1)))return n(t);var a=h[o];if(!a){if(u&&"electron"!==p.target)throw"Package not found "+o;return n(o+(t?"/"+t:""))}var l,c,d,f=e(r,t=t||"./"+a.s.entry),m=(d=(c=f).match(/\.(\w{1,})$/))&&d[1]?c:c+".js",v=a.f[m];return!v&&m.indexOf("*")>-1&&(l=m),v||l||(m=e(f,"/","index.js"),(v=a.f[m])||"."!==f||(m=a.s&&a.s.entry||"index.js",v=a.f[m]),v||(m=f+".js",v=a.f[m]),v||(v=a.f[f+".jsx"]),v||(m=f+"/index.jsx",v=a.f[m])),{file:v,wildcard:l,pkgName:o,versions:a.v,filePath:f,validPath:m}}function o(t,e){var i=d[t];if(i)for(var n in i){if(!1===i[n].apply(null,e))return!1}}function s(t,i){if(void 0===i&&(i={}),58===t.charCodeAt(4)||58===t.charCodeAt(5))return function(t){if(u){var e,i=document,n=i.getElementsByTagName("head")[0];/\.css$/.test(t)?((e=i.createElement("link")).rel="stylesheet",e.type="text/css",e.href=t):((e=i.createElement("script")).type="text/javascript",e.src=t,e.async=!0),n.insertBefore(e,n.firstChild)}}(t);var n=r(t,i);if(n.server)return n.server;var a=n.file;if(n.wildcard){var c=new RegExp(n.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@@/g,".*").replace(/@/g,"[a-z0-9$_-]+"),"i"),d=h[n.pkgName];if(d){var f={};for(var m in d.f)c.test(m)&&(f[m]=s(n.pkgName+"/"+m));return f}}if(!a){var v="function"==typeof i;if(!1===o("async",[t,i]))return;return function(t,i,n){if(void 0===n&&(n={}),!u)return i(/\.(js|json)$/.test(t)?l.require(t):"");if(n&&n.ajaxed===t)return console.error(t,"does not provide a module");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var n=r.getResponseHeader("Content-Type"),o=r.responseText;/json/.test(n)?o="module.exports = "+o:/javascript/.test(n)||(o="module.exports = "+JSON.stringify(o));var s=e("./",t);p.dynamic(s,o),i(p.import(t,{ajaxed:t}))}else console.error(t,"not found on request"),i(void 0)},r.open("GET",t,!0),r.send()}(t,function(t){return v?i(t):null},i)}var g=n.pkgName;if(a.locals&&a.locals.module)return a.locals.module.exports;var _,y=a.locals={},b=(_=n.validPath).substring(0,_.lastIndexOf("/"))||"./";y.exports={},y.module={exports:y.exports},y.require=function(t,e){var i,r=s(t,{pkg:g,path:b,v:n.versions});return p.sdep&&(null!==(i=r)&&["function","object","array"].indexOf(typeof i)>-1&&void 0===i.default&&(Object.isFrozen(i)?i.default=i:Object.defineProperty(i,"default",{value:i,writable:!0,enumerable:!1}))),r},u||!l.require.main?y.require.main={filename:"./",paths:[]}:y.require.main=l.require.main;var w=[y.module.exports,y.require,y.module,n.validPath,b,g];return o("before-import",w),a.fn.apply(w[0],w),o("after-import",w),y.module.exports}if(t.FuseBox)return t.FuseBox;var a="undefined"!=typeof WorkerGlobalScope,u="undefined"!=typeof window&&window.navigator||a,l=u?a?{}:window:global;u&&(l.global=a?{}:window),t=u&&"undefined"==typeof __fbx__dnm__?t:module.exports;var c=u?a?{}:window.__fsbx__=window.__fsbx__||{}:l.$fsbx=l.$fsbx||{};u||(l.require=require);var h=c.p=c.p||{},d=c.e=c.e||{},p=function(){function e(){}return e.global=function(t,e){return void 0===e?l[t]:void(l[t]=e)},e.import=function(t,e){return s(t,e)},e.on=function(t,e){d[t]=d[t]||[],d[t].push(e)},e.exists=function(t){try{return void 0!==r(t,{}).file}catch(t){return!1}},e.remove=function(t){var e=r(t,{}),i=h[e.pkgName];i&&i.f[e.validPath]&&delete i.f[e.validPath]},e.main=function(t){return this.mainFile=t,e.import(t,{})},e.expose=function(e){var n=function(n){var r=e[n].alias,o=s(e[n].pkg);"*"===r?i(o,function(e,i){return t[e]=i}):"object"==typeof r?i(r,function(e,i){return t[i]=o[e]}):t[r]=o};for(var r in e)n(r)},e.dynamic=function(e,i,n){this.pkg(n&&n.pkg||"default",{},function(n){n.file(e,function(e,n,r,o,s){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",i)(!0,e,n,r,o,s,t)})})},e.flush=function(t){var e=h.default;for(var i in e.f)t&&!t(i)||delete e.f[i].locals},e.pkg=function(t,e,i){if(h[t])return i(h[t].s);var n=h[t]={};return n.f={},n.v=e,n.s={file:function(t,e){return n.f[t]={fn:e}}},i(n.s)},e.addPlugin=function(t){this.plugins.push(t)},e.packages=h,e.isBrowser=u,e.isServer=!u,e.plugins=[],e}();return u||(l.FuseBox=p),t.FuseBox=p}(this));